"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/posthog-js";
exports.ids = ["vendor-chunks/posthog-js"];
exports.modules = {

/***/ "(ssr)/./node_modules/posthog-js/dist/module.js":
/*!************************************************!*\
  !*** ./node_modules/posthog-js/dist/module.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   COPY_AUTOCAPTURE_EVENT: () => (/* binding */ ee),\n/* harmony export */   Compression: () => (/* binding */ re),\n/* harmony export */   DisplaySurveyType: () => (/* binding */ Dn),\n/* harmony export */   PostHog: () => (/* binding */ Io),\n/* harmony export */   SurveyEventName: () => (/* binding */ Mn),\n/* harmony export */   SurveyEventProperties: () => (/* binding */ An),\n/* harmony export */   SurveyPosition: () => (/* binding */ In),\n/* harmony export */   SurveyQuestionBranchingType: () => (/* binding */ On),\n/* harmony export */   SurveyQuestionType: () => (/* binding */ Cn),\n/* harmony export */   SurveySchedule: () => (/* binding */ Fn),\n/* harmony export */   SurveyType: () => (/* binding */ Rn),\n/* harmony export */   SurveyWidgetType: () => (/* binding */ Tn),\n/* harmony export */   \"default\": () => (/* binding */ Co),\n/* harmony export */   posthog: () => (/* binding */ Co),\n/* harmony export */   severityLevels: () => (/* binding */ se)\n/* harmony export */ });\nvar t=\"undefined\"!=typeof window?window:void 0,i=\"undefined\"!=typeof globalThis?globalThis:t,e=Array.prototype,r=e.forEach,s=e.indexOf,n=null==i?void 0:i.navigator,o=null==i?void 0:i.document,a=null==i?void 0:i.location,l=null==i?void 0:i.fetch,u=null!=i&&i.XMLHttpRequest&&\"withCredentials\"in new i.XMLHttpRequest?i.XMLHttpRequest:void 0,h=null==i?void 0:i.AbortController,d=null==n?void 0:n.userAgent,v=null!=t?t:{},c={DEBUG:!1,LIB_VERSION:\"1.290.0\"};function f(t,i,e,r,s,n,o){try{var a=t[n](o),l=a.value}catch(t){return void e(t)}a.done?i(l):Promise.resolve(l).then(r,s)}function p(t){return function(){var i=this,e=arguments;return new Promise((function(r,s){var n=t.apply(i,e);function o(t){f(n,r,s,o,a,\"next\",t)}function a(t){f(n,r,s,o,a,\"throw\",t)}o(void 0)}))}}function g(){return g=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var e=arguments[i];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},g.apply(null,arguments)}function _(t,i){if(null==t)return{};var e={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(-1!==i.indexOf(r))continue;e[r]=t[r]}return e}var m=[\"amazonbot\",\"amazonproductbot\",\"app.hypefactors.com\",\"applebot\",\"archive.org_bot\",\"awariobot\",\"backlinksextendedbot\",\"baiduspider\",\"bingbot\",\"bingpreview\",\"chrome-lighthouse\",\"dataforseobot\",\"deepscan\",\"duckduckbot\",\"facebookexternal\",\"facebookcatalog\",\"http://yandex.com/bots\",\"hubspot\",\"ia_archiver\",\"leikibot\",\"linkedinbot\",\"meta-externalagent\",\"mj12bot\",\"msnbot\",\"nessus\",\"petalbot\",\"pinterest\",\"prerender\",\"rogerbot\",\"screaming frog\",\"sebot-wa\",\"sitebulb\",\"slackbot\",\"slurp\",\"trendictionbot\",\"turnitin\",\"twitterbot\",\"vercel-screenshot\",\"vercelbot\",\"yahoo! slurp\",\"yandexbot\",\"zoombot\",\"bot.htm\",\"bot.php\",\"(bot;\",\"bot/\",\"crawler\",\"ahrefsbot\",\"ahrefssiteaudit\",\"semrushbot\",\"siteauditbot\",\"splitsignalbot\",\"gptbot\",\"oai-searchbot\",\"chatgpt-user\",\"perplexitybot\",\"better uptime bot\",\"sentryuptimebot\",\"uptimerobot\",\"headlesschrome\",\"cypress\",\"google-hoteladsverifier\",\"adsbot-google\",\"apis-google\",\"duplexweb-google\",\"feedfetcher-google\",\"google favicon\",\"google web preview\",\"google-read-aloud\",\"googlebot\",\"googleother\",\"google-cloudvertexbot\",\"googleweblight\",\"mediapartners-google\",\"storebot-google\",\"google-inspectiontool\",\"bytespider\"],y=function(t,i){if(void 0===i&&(i=[]),!t)return!1;var e=t.toLowerCase();return m.concat(i).some((t=>{var i=t.toLowerCase();return-1!==e.indexOf(i)}))},b=[\"$snapshot\",\"$pageview\",\"$pageleave\",\"$set\",\"survey dismissed\",\"survey sent\",\"survey shown\",\"$identify\",\"$groupidentify\",\"$create_alias\",\"$$client_ingestion_warning\",\"$web_experiment_applied\",\"$feature_enrollment_update\",\"$feature_flag_called\"];function w(t,i){return-1!==t.indexOf(i)}var x=function(t){return t.trim()},S=function(t){return t.replace(/^\\$/,\"\")};var E=Array.isArray,k=Object.prototype,P=k.hasOwnProperty,T=k.toString,I=E||function(t){return\"[object Array]\"===T.call(t)},R=t=>\"function\"==typeof t,C=t=>t===Object(t)&&!I(t),O=t=>{if(C(t)){for(var i in t)if(P.call(t,i))return!1;return!0}return!1},F=t=>void 0===t,M=t=>\"[object String]\"==T.call(t),A=t=>M(t)&&0===t.trim().length,D=t=>null===t,j=t=>F(t)||D(t),L=t=>\"[object Number]\"==T.call(t),N=t=>\"[object Boolean]\"===T.call(t),U=t=>t instanceof FormData,z=t=>w(b,t);function H(t){return null===t||\"object\"!=typeof t}function B(t,i){return Object.prototype.toString.call(t)===\"[object \"+i+\"]\"}function q(t){return!F(Event)&&function(t,i){try{return t instanceof i}catch(t){return!1}}(t,Event)}var W=[!0,\"true\",1,\"1\",\"yes\"],G=t=>w(W,t),V=[!1,\"false\",0,\"0\",\"no\"];function J(t,i,e,r,s){return i>e&&(r.warn(\"min cannot be greater than max.\"),i=e),L(t)?t>e?(r.warn(\" cannot be  greater than max: \"+e+\". Using max value instead.\"),e):t<i?(r.warn(\" cannot be less than min: \"+i+\". Using min value instead.\"),i):t:(r.warn(\" must be a number. using max or fallback. max: \"+e+\", fallback: \"+s),J(s||e,i,e,r))}class K{constructor(t){this.t={},this.i=t.i,this.o=J(t.bucketSize,0,100,t.h),this.m=J(t.refillRate,0,this.o,t.h),this.$=J(t.refillInterval,0,864e5,t.h)}S(t,i){var e=i-t.lastAccess,r=Math.floor(e/this.$);if(r>0){var s=r*this.m;t.tokens=Math.min(t.tokens+s,this.o),t.lastAccess=t.lastAccess+r*this.$}}consumeRateLimit(t){var i,e=Date.now(),r=String(t),s=this.t[r];return s?this.S(s,e):(s={tokens:this.o,lastAccess:e},this.t[r]=s),0===s.tokens||(s.tokens--,0===s.tokens&&(null==(i=this.i)||i.call(this,t)),0===s.tokens)}stop(){this.t={}}}var Y,X,Q,Z=t=>t instanceof Error;function tt(t){var i=globalThis._posthogChunkIds;if(i){var e=Object.keys(i);return Q&&e.length===X||(X=e.length,Q=e.reduce(((e,r)=>{Y||(Y={});var s=Y[r];if(s)e[s[0]]=s[1];else for(var n=t(r),o=n.length-1;o>=0;o--){var a=n[o],l=null==a?void 0:a.filename,u=i[r];if(l&&u){e[l]=u,Y[r]=[l,u];break}}return e}),{})),Q}}var it=\"?\";function et(t,i,e,r){var s={platform:\"web:javascript\",filename:t,function:\"<anonymous>\"===i?it:i,in_app:!0};return F(e)||(s.lineno=e),F(r)||(s.colno=r),s}var rt=(t,i)=>{var e=-1!==t.indexOf(\"safari-extension\"),r=-1!==t.indexOf(\"safari-web-extension\");return e||r?[-1!==t.indexOf(\"@\")?t.split(\"@\")[0]:it,e?\"safari-extension:\"+i:\"safari-web-extension:\"+i]:[t,i]},st=/^\\s*at (\\S+?)(?::(\\d+))(?::(\\d+))\\s*$/i,nt=/^\\s*at (?:(.+?\\)(?: \\[.+\\])?|.*?) ?\\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\\/)?.*?)(?::(\\d+))?(?::(\\d+))?\\)?\\s*$/i,ot=/\\((\\S*)(?::(\\d+))(?::(\\d+))\\)/,at=t=>{var i=st.exec(t);if(i){var[,e,r,s]=i;return et(e,it,+r,+s)}var n=nt.exec(t);if(n){if(n[2]&&0===n[2].indexOf(\"eval\")){var o=ot.exec(n[2]);o&&(n[2]=o[1],n[3]=o[2],n[4]=o[3])}var[a,l]=rt(n[1]||it,n[2]);return et(l,a,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},lt=/^\\s*(.*?)(?:\\((.*?)\\))?(?:^|@)?((?:[-a-z]+)?:\\/.*?|\\[native code\\]|[^@]*(?:bundle|\\d+\\.js)|\\/[\\w\\-. /=]+)(?::(\\d+))?(?::(\\d+))?\\s*$/i,ut=/(\\S+) line (\\d+)(?: > eval line \\d+)* > eval/i,ht=t=>{var i=lt.exec(t);if(i){if(i[3]&&i[3].indexOf(\" > eval\")>-1){var e=ut.exec(i[3]);e&&(i[1]=i[1]||\"eval\",i[3]=e[1],i[4]=e[2],i[5]=\"\")}var r=i[3],s=i[1]||it;return[s,r]=rt(s,r),et(r,s,i[4]?+i[4]:void 0,i[5]?+i[5]:void 0)}},dt=/\\(error: (.*)\\)/,vt=50;function ct(){for(var t=arguments.length,i=new Array(t),e=0;e<t;e++)i[e]=arguments[e];return function(t,e){void 0===e&&(e=0);for(var r=[],s=t.split(\"\\n\"),n=e;n<s.length;n++){var o=s[n];if(!(o.length>1024)){var a=dt.test(o)?o.replace(dt,\"$1\"):o;if(!a.match(/\\S*Error: /)){for(var l of i){var u=l(a);if(u){r.push(u);break}}if(r.length>=vt)break}}}return function(t){if(!t.length)return[];var i=Array.from(t);return i.reverse(),i.slice(0,vt).map((t=>{return g({},t,{filename:t.filename||(e=i,e[e.length-1]||{}).filename,function:t.function||it});var e}))}(r)}}class ft{constructor(t,i,e){void 0===t&&(t=[]),void 0===i&&(i=[]),void 0===e&&(e=[]),this.coercers=t,this.modifiers=e,this.stackParser=ct(...i)}buildFromUnknown(t,i){void 0===i&&(i={});var e=i&&i.mechanism||{handled:!0,type:\"generic\"},r=this.buildCoercingContext(e,i,0).apply(t),s=this.buildParsingContext(),n=this.parseStacktrace(r,s);return{$exception_list:this.convertToExceptionList(n,e),$exception_level:\"error\"}}modifyFrames(t){var i=this;return p((function*(){for(var e of t)e.stacktrace&&e.stacktrace.frames&&I(e.stacktrace.frames)&&(e.stacktrace.frames=yield i.applyModifiers(e.stacktrace.frames));return t}))()}coerceFallback(t){var i;return{type:\"Error\",value:\"Unknown error\",stack:null==(i=t.syntheticException)?void 0:i.stack,synthetic:!0}}parseStacktrace(t,i){var e,r;return null!=t.cause&&(e=this.parseStacktrace(t.cause,i)),\"\"!=t.stack&&null!=t.stack&&(r=this.applyChunkIds(this.stackParser(t.stack,t.synthetic?1:0),i.chunkIdMap)),g({},t,{cause:e,stack:r})}applyChunkIds(t,i){return t.map((t=>(t.filename&&i&&(t.chunk_id=i[t.filename]),t)))}applyCoercers(t,i){for(var e of this.coercers)if(e.match(t))return e.coerce(t,i);return this.coerceFallback(i)}applyModifiers(t){var i=this;return p((function*(){var e=t;for(var r of i.modifiers)e=yield r(e);return e}))()}convertToExceptionList(t,i){var e,r,s,n={type:t.type,value:t.value,mechanism:{type:null!==(e=i.type)&&void 0!==e?e:\"generic\",handled:null===(r=i.handled)||void 0===r||r,synthetic:null!==(s=t.synthetic)&&void 0!==s&&s}};t.stack&&(n.stacktrace={type:\"raw\",frames:t.stack});var o=[n];return null!=t.cause&&o.push(...this.convertToExceptionList(t.cause,g({},i,{handled:!0}))),o}buildParsingContext(){return{chunkIdMap:tt(this.stackParser)}}buildCoercingContext(t,i,e){void 0===e&&(e=0);var r=(e,r)=>{if(r<=4){var s=this.buildCoercingContext(t,i,r);return this.applyCoercers(e,s)}};return g({},i,{syntheticException:0==e?i.syntheticException:void 0,mechanism:t,apply:t=>r(t,e),next:t=>r(t,e+1)})}}class pt{match(t){return this.isDOMException(t)||this.isDOMError(t)}coerce(t,i){var e=M(t.stack);return{type:this.getType(t),value:this.getValue(t),stack:e?t.stack:void 0,cause:t.cause?i.next(t.cause):void 0,synthetic:!1}}getType(t){return this.isDOMError(t)?\"DOMError\":\"DOMException\"}getValue(t){var i=t.name||(this.isDOMError(t)?\"DOMError\":\"DOMException\");return t.message?i+\": \"+t.message:i}isDOMException(t){return B(t,\"DOMException\")}isDOMError(t){return B(t,\"DOMError\")}}class gt{match(t){return(t=>t instanceof Error)(t)}coerce(t,i){return{type:this.getType(t),value:this.getMessage(t,i),stack:this.getStack(t),cause:t.cause?i.next(t.cause):void 0,synthetic:!1}}getType(t){return t.name||t.constructor.name}getMessage(t,i){var e=t.message;return e.error&&\"string\"==typeof e.error.message?String(e.error.message):String(e)}getStack(t){return t.stacktrace||t.stack||void 0}}class _t{constructor(){}match(t){return B(t,\"ErrorEvent\")&&null!=t.error}coerce(t,i){var e,r=i.apply(t.error);return r||{type:\"ErrorEvent\",value:t.message,stack:null==(e=i.syntheticException)?void 0:e.stack,synthetic:!0}}}var mt=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;class yt{match(t){return\"string\"==typeof t}coerce(t,i){var e,[r,s]=this.getInfos(t);return{type:null!=r?r:\"Error\",value:null!=s?s:t,stack:null==(e=i.syntheticException)?void 0:e.stack,synthetic:!0}}getInfos(t){var i=\"Error\",e=t,r=t.match(mt);return r&&(i=r[1],e=r[2]),[i,e]}}var bt=[\"fatal\",\"error\",\"warning\",\"log\",\"info\",\"debug\"];function wt(t,i){void 0===i&&(i=40);var e=Object.keys(t);if(e.sort(),!e.length)return\"[object has no keys]\";for(var r=e.length;r>0;r--){var s=e.slice(0,r).join(\", \");if(!(s.length>i))return r===e.length||s.length<=i?s:s.slice(0,i)+\"...\"}return\"\"}class xt{match(t){return\"object\"==typeof t&&null!==t}coerce(t,i){var e,r=this.getErrorPropertyFromObject(t);return r?i.apply(r):{type:this.getType(t),value:this.getValue(t),stack:null==(e=i.syntheticException)?void 0:e.stack,level:this.isSeverityLevel(t.level)?t.level:\"error\",synthetic:!0}}getType(t){return q(t)?t.constructor.name:\"Error\"}getValue(t){if(\"name\"in t&&\"string\"==typeof t.name){var i=\"'\"+t.name+\"' captured as exception\";return\"message\"in t&&\"string\"==typeof t.message&&(i+=\" with message: '\"+t.message+\"'\"),i}if(\"message\"in t&&\"string\"==typeof t.message)return t.message;var e=this.getObjectClassName(t);return(e&&\"Object\"!==e?\"'\"+e+\"'\":\"Object\")+\" captured as exception with keys: \"+wt(t)}isSeverityLevel(t){return M(t)&&!A(t)&&bt.indexOf(t)>=0}getErrorPropertyFromObject(t){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var e=t[i];if(Z(e))return e}}getObjectClassName(t){try{var i=Object.getPrototypeOf(t);return i?i.constructor.name:void 0}catch(t){return}}}class $t{match(t){return q(t)}coerce(t,i){var e,r=t.constructor.name;return{type:r,value:r+\" captured as exception with keys: \"+wt(t),stack:null==(e=i.syntheticException)?void 0:e.stack,synthetic:!0}}}class St{match(t){return H(t)}coerce(t,i){var e;return{type:\"Error\",value:\"Primitive value captured as exception: \"+String(t),stack:null==(e=i.syntheticException)?void 0:e.stack,synthetic:!0}}}class Et{match(t){return B(t,\"PromiseRejectionEvent\")}coerce(t,i){var e,r=this.getUnhandledRejectionReason(t);return H(r)?{type:\"UnhandledRejection\",value:\"Non-Error promise rejection captured with value: \"+String(r),stack:null==(e=i.syntheticException)?void 0:e.stack,synthetic:!0}:i.apply(r)}getUnhandledRejectionReason(t){if(H(t))return t;try{if(\"reason\"in t)return t.reason;if(\"detail\"in t&&\"reason\"in t.detail)return t.detail.reason}catch(t){}return t}}var kt=i=>{var e={k:function(e){if(t&&(c.DEBUG||v.POSTHOG_DEBUG)&&!F(t.console)&&t.console){for(var r=(\"__rrweb_original__\"in t.console[e]?t.console[e].__rrweb_original__:t.console[e]),s=arguments.length,n=new Array(s>1?s-1:0),o=1;o<s;o++)n[o-1]=arguments[o];r(i,...n)}},info:function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];e.k(\"log\",...i)},warn:function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];e.k(\"warn\",...i)},error:function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];e.k(\"error\",...i)},critical:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];console.error(i,...e)},uninitializedWarning:t=>{e.error(\"You must initialize PostHog before calling \"+t)},createLogger:t=>kt(i+\" \"+t)};return e},Pt=kt(\"[PostHog.js]\"),Tt=Pt.createLogger,It=Tt(\"[ExternalScriptsLoader]\"),Rt=(t,i,e)=>{if(t.config.disable_external_dependency_loading)return It.warn(i+\" was requested but loading of external scripts is disabled.\"),e(\"Loading of external scripts is disabled\");var r=null==o?void 0:o.querySelectorAll(\"script\");if(r)for(var s,n=function(){if(r[a].src===i){var t=r[a];return t.__posthog_loading_callback_fired?{v:e()}:(t.addEventListener(\"load\",(i=>{t.__posthog_loading_callback_fired=!0,e(void 0,i)})),t.onerror=t=>e(t),{v:void 0})}},a=0;a<r.length;a++)if(s=n())return s.v;var l=()=>{if(!o)return e(\"document not found\");var r=o.createElement(\"script\");if(r.type=\"text/javascript\",r.crossOrigin=\"anonymous\",r.src=i,r.onload=t=>{r.__posthog_loading_callback_fired=!0,e(void 0,t)},r.onerror=t=>e(t),t.config.prepare_external_dependency_script&&(r=t.config.prepare_external_dependency_script(r)),!r)return e(\"prepare_external_dependency_script returned null\");var s,n=o.querySelectorAll(\"body > script\");n.length>0?null==(s=n[0].parentNode)||s.insertBefore(r,n[0]):o.body.appendChild(r)};null!=o&&o.body?l():null==o||o.addEventListener(\"DOMContentLoaded\",l)};v.__PosthogExtensions__=v.__PosthogExtensions__||{},v.__PosthogExtensions__.loadExternalDependency=(t,i,e)=>{var r=\"/static/\"+i+\".js?v=\"+t.version;if(\"remote-config\"===i&&(r=\"/array/\"+t.config.token+\"/config.js\"),\"toolbar\"===i){var s=3e5;r=r+\"&t=\"+Math.floor(Date.now()/s)*s}var n=t.requestRouter.endpointFor(\"assets\",r);Rt(t,n,e)},v.__PosthogExtensions__.loadSiteApp=(t,i,e)=>{var r=t.requestRouter.endpointFor(\"api\",i);Rt(t,r,e)};var Ct={};function Ot(t,i,e){if(I(t))if(r&&t.forEach===r)t.forEach(i,e);else if(\"length\"in t&&t.length===+t.length)for(var s=0,n=t.length;s<n;s++)if(s in t&&i.call(e,t[s],s)===Ct)return}function Ft(t,i,e){if(!j(t)){if(I(t))return Ot(t,i,e);if(U(t)){for(var r of t.entries())if(i.call(e,r[1],r[0])===Ct)return}else for(var s in t)if(P.call(t,s)&&i.call(e,t[s],s)===Ct)return}}var Mt=function(t){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return Ot(e,(function(i){for(var e in i)void 0!==i[e]&&(t[e]=i[e])})),t},At=function(t){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return Ot(e,(function(i){Ot(i,(function(i){t.push(i)}))})),t};function Dt(t){for(var i=Object.keys(t),e=i.length,r=new Array(e);e--;)r[e]=[i[e],t[i[e]]];return r}var jt=function(t){try{return t()}catch(t){return}},Lt=function(t){return function(){try{for(var i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return t.apply(this,e)}catch(t){Pt.critical(\"Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A.\"),Pt.critical(t)}}},Nt=function(t){var i={};return Ft(t,(function(t,e){(M(t)&&t.length>0||L(t))&&(i[e]=t)})),i};function Ut(t,i){return e=t,r=t=>M(t)&&!D(i)?t.slice(0,i):t,s=new Set,function t(i,e){return i!==Object(i)?r?r(i,e):i:s.has(i)?void 0:(s.add(i),I(i)?(n=[],Ot(i,(i=>{n.push(t(i))}))):(n={},Ft(i,((i,e)=>{s.has(i)||(n[e]=t(i,e))}))),n);var n}(e);var e,r,s}var zt=[\"herokuapp.com\",\"vercel.app\",\"netlify.app\"];function Ht(t){var i=null==t?void 0:t.hostname;if(!M(i))return!1;var e=i.split(\".\").slice(-2).join(\".\");for(var r of zt)if(e===r)return!1;return!0}function Bt(t,i){for(var e=0;e<t.length;e++)if(i(t[e]))return t[e]}function qt(t,i,e,r){var{capture:s=!1,passive:n=!0}=null!=r?r:{};null==t||t.addEventListener(i,e,{capture:s,passive:n})}var Wt=\"$people_distinct_id\",Gt=\"__alias\",Vt=\"__timers\",Jt=\"$autocapture_disabled_server_side\",Kt=\"$heatmaps_enabled_server_side\",Yt=\"$exception_capture_enabled_server_side\",Xt=\"$error_tracking_suppression_rules\",Qt=\"$error_tracking_capture_extension_exceptions\",Zt=\"$web_vitals_enabled_server_side\",ti=\"$dead_clicks_enabled_server_side\",ii=\"$web_vitals_allowed_metrics\",ei=\"$session_recording_remote_config\",ri=\"$sesid\",si=\"$session_is_sampled\",ni=\"$enabled_feature_flags\",oi=\"$early_access_features\",ai=\"$feature_flag_details\",li=\"$stored_person_properties\",ui=\"$stored_group_properties\",hi=\"$surveys\",di=\"$surveys_activated\",vi=\"$flag_call_reported\",ci=\"$user_state\",fi=\"$client_session_props\",pi=\"$capture_rate_limit\",gi=\"$initial_campaign_params\",_i=\"$initial_referrer_info\",mi=\"$initial_person_info\",yi=\"$epp\",bi=\"__POSTHOG_TOOLBAR__\",wi=\"$posthog_cookieless\",xi=[Wt,Gt,\"__cmpns\",Vt,\"$session_recording_enabled_server_side\",Kt,ri,ni,Xt,ci,oi,ai,ui,li,hi,vi,fi,pi,gi,_i,yi,mi];function $i(t){return t instanceof Element&&(t.id===bi||!(null==t.closest||!t.closest(\".toolbar-global-fade-container\")))}function Si(t){return!!t&&1===t.nodeType}function Ei(t,i){return!!t&&!!t.tagName&&t.tagName.toLowerCase()===i.toLowerCase()}function ki(t){return!!t&&3===t.nodeType}function Pi(t){return!!t&&11===t.nodeType}function Ti(t){return t?x(t).split(/\\s+/):[]}function Ii(i){var e=null==t?void 0:t.location.href;return!!(e&&i&&i.some((t=>e.match(t))))}function Ri(t){var i=\"\";switch(typeof t.className){case\"string\":i=t.className;break;case\"object\":i=(t.className&&\"baseVal\"in t.className?t.className.baseVal:null)||t.getAttribute(\"class\")||\"\";break;default:i=\"\"}return Ti(i)}function Ci(t){return j(t)?null:x(t).split(/(\\s+)/).filter((t=>Ki(t))).join(\"\").replace(/[\\r\\n]/g,\" \").replace(/[ ]+/g,\" \").substring(0,255)}function Oi(t){var i=\"\";return zi(t)&&!Hi(t)&&t.childNodes&&t.childNodes.length&&Ft(t.childNodes,(function(t){var e;ki(t)&&t.textContent&&(i+=null!==(e=Ci(t.textContent))&&void 0!==e?e:\"\")})),x(i)}function Fi(t){return F(t.target)?t.srcElement||null:null!=(i=t.target)&&i.shadowRoot?t.composedPath()[0]||null:t.target||null;var i}var Mi=[\"a\",\"button\",\"form\",\"input\",\"select\",\"textarea\",\"label\"];function Ai(t,i){if(F(i))return!0;var e,r=function(t){if(i.some((i=>t.matches(i))))return{v:!0}};for(var s of t)if(e=r(s))return e.v;return!1}function Di(t){var i=t.parentNode;return!(!i||!Si(i))&&i}var ji=[\".ph-no-rageclick\",\".ph-no-capture\"];var Li=t=>!t||Ei(t,\"html\")||!Si(t),Ni=(i,e)=>{if(!t||Li(i))return{parentIsUsefulElement:!1,targetElementList:[]};for(var r=!1,s=[i],n=i;n.parentNode&&!Ei(n,\"body\");)if(Pi(n.parentNode))s.push(n.parentNode.host),n=n.parentNode.host;else{var o=Di(n);if(!o)break;if(e||Mi.indexOf(o.tagName.toLowerCase())>-1)r=!0;else{var a=t.getComputedStyle(o);a&&\"pointer\"===a.getPropertyValue(\"cursor\")&&(r=!0)}s.push(o),n=o}return{parentIsUsefulElement:r,targetElementList:s}};function Ui(i,e,r,s,n){var o,a,l,u;if(void 0===r&&(r=void 0),!t||Li(i))return!1;if(null!=(o=r)&&o.url_allowlist&&!Ii(r.url_allowlist))return!1;if(null!=(a=r)&&a.url_ignorelist&&Ii(r.url_ignorelist))return!1;if(null!=(l=r)&&l.dom_event_allowlist){var h=r.dom_event_allowlist;if(h&&!h.some((t=>e.type===t)))return!1}var{parentIsUsefulElement:d,targetElementList:v}=Ni(i,s);if(!function(t,i){var e=null==i?void 0:i.element_allowlist;if(F(e))return!0;var r,s=function(t){if(e.some((i=>t.tagName.toLowerCase()===i)))return{v:!0}};for(var n of t)if(r=s(n))return r.v;return!1}(v,r))return!1;if(!Ai(v,null==(u=r)?void 0:u.css_selector_allowlist))return!1;var c=t.getComputedStyle(i);if(c&&\"pointer\"===c.getPropertyValue(\"cursor\")&&\"click\"===e.type)return!0;var f=i.tagName.toLowerCase();switch(f){case\"html\":return!1;case\"form\":return(n||[\"submit\"]).indexOf(e.type)>=0;case\"input\":case\"select\":case\"textarea\":return(n||[\"change\",\"click\"]).indexOf(e.type)>=0;default:return d?(n||[\"click\"]).indexOf(e.type)>=0:(n||[\"click\"]).indexOf(e.type)>=0&&(Mi.indexOf(f)>-1||\"true\"===i.getAttribute(\"contenteditable\"))}}function zi(t){for(var i=t;i.parentNode&&!Ei(i,\"body\");i=i.parentNode){var e=Ri(i);if(w(e,\"ph-sensitive\")||w(e,\"ph-no-capture\"))return!1}if(w(Ri(t),\"ph-include\"))return!0;var r=t.type||\"\";if(M(r))switch(r.toLowerCase()){case\"hidden\":case\"password\":return!1}var s=t.name||t.id||\"\";if(M(s)){if(/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(s.replace(/[^a-zA-Z0-9]/g,\"\")))return!1}return!0}function Hi(t){return!!(Ei(t,\"input\")&&![\"button\",\"checkbox\",\"submit\",\"reset\"].includes(t.type)||Ei(t,\"select\")||Ei(t,\"textarea\")||\"true\"===t.getAttribute(\"contenteditable\"))}var Bi=\"(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})\",qi=new RegExp(\"^(?:\"+Bi+\")$\"),Wi=new RegExp(Bi),Gi=\"\\\\d{3}-?\\\\d{2}-?\\\\d{4}\",Vi=new RegExp(\"^(\"+Gi+\")$\"),Ji=new RegExp(\"(\"+Gi+\")\");function Ki(t,i){if(void 0===i&&(i=!0),j(t))return!1;if(M(t)){if(t=x(t),(i?qi:Wi).test((t||\"\").replace(/[- ]/g,\"\")))return!1;if((i?Vi:Ji).test(t))return!1}return!0}function Yi(t){var i=Oi(t);return Ki(i=(i+\" \"+Xi(t)).trim())?i:\"\"}function Xi(t){var i=\"\";return t&&t.childNodes&&t.childNodes.length&&Ft(t.childNodes,(function(t){var e;if(t&&\"span\"===(null==(e=t.tagName)?void 0:e.toLowerCase()))try{var r=Oi(t);i=(i+\" \"+r).trim(),t.childNodes&&t.childNodes.length&&(i=(i+\" \"+Xi(t)).trim())}catch(t){Pt.error(\"[AutoCapture]\",t)}})),i}function Qi(t){return function(t){var i=t.map((t=>{var i,e,r=\"\";if(t.tag_name&&(r+=t.tag_name),t.attr_class)for(var s of(t.attr_class.sort(),t.attr_class))r+=\".\"+s.replace(/\"/g,\"\");var n=g({},t.text?{text:t.text}:{},{\"nth-child\":null!==(i=t.nth_child)&&void 0!==i?i:0,\"nth-of-type\":null!==(e=t.nth_of_type)&&void 0!==e?e:0},t.href?{href:t.href}:{},t.attr_id?{attr_id:t.attr_id}:{},t.attributes),o={};return Dt(n).sort(((t,i)=>{var[e]=t,[r]=i;return e.localeCompare(r)})).forEach((t=>{var[i,e]=t;return o[Zi(i.toString())]=Zi(e.toString())})),r+=\":\",r+=Dt(o).map((t=>{var[i,e]=t;return i+'=\"'+e+'\"'})).join(\"\")}));return i.join(\";\")}(function(t){return t.map((t=>{var i,e,r={text:null==(i=t.$el_text)?void 0:i.slice(0,400),tag_name:t.tag_name,href:null==(e=t.attr__href)?void 0:e.slice(0,2048),attr_class:te(t),attr_id:t.attr__id,nth_child:t.nth_child,nth_of_type:t.nth_of_type,attributes:{}};return Dt(t).filter((t=>{var[i]=t;return 0===i.indexOf(\"attr__\")})).forEach((t=>{var[i,e]=t;return r.attributes[i]=e})),r}))}(t))}function Zi(t){return t.replace(/\"|\\\\\"/g,'\\\\\"')}function te(t){var i=t.attr__class;return i?I(i)?i:Ti(i):void 0}class ie{constructor(){this.clicks=[]}isRageClick(t,i,e){var r=this.clicks[this.clicks.length-1];if(r&&Math.abs(t-r.x)+Math.abs(i-r.y)<30&&e-r.timestamp<1e3){if(this.clicks.push({x:t,y:i,timestamp:e}),3===this.clicks.length)return!0}else this.clicks=[{x:t,y:i,timestamp:e}];return!1}}var ee=\"$copy_autocapture\",re=function(t){return t.GZipJS=\"gzip-js\",t.Base64=\"base64\",t}({}),se=[\"fatal\",\"error\",\"warning\",\"log\",\"info\",\"debug\"],ne=t=>{var i=null==o?void 0:o.createElement(\"a\");return F(i)?null:(i.href=t,i)},oe=function(t,i){var e,r;void 0===i&&(i=\"&\");var s=[];return Ft(t,(function(t,i){F(t)||F(i)||\"undefined\"===i||(e=encodeURIComponent((t=>t instanceof File)(t)?t.name:t.toString()),r=encodeURIComponent(i),s[s.length]=r+\"=\"+e)})),s.join(i)},ae=function(t,i){for(var e,r=((t.split(\"#\")[0]||\"\").split(/\\?(.*)/)[1]||\"\").replace(/^\\?+/g,\"\").split(\"&\"),s=0;s<r.length;s++){var n=r[s].split(\"=\");if(n[0]===i){e=n;break}}if(!I(e)||e.length<2)return\"\";var o=e[1];try{o=decodeURIComponent(o)}catch(t){Pt.error(\"Skipping decoding for malformed query param: \"+o)}return o.replace(/\\+/g,\" \")},le=function(t,i,e){if(!t||!i||!i.length)return t;for(var r=t.split(\"#\"),s=r[0]||\"\",n=r[1],o=s.split(\"?\"),a=o[1],l=o[0],u=(a||\"\").split(\"&\"),h=[],d=0;d<u.length;d++){var v=u[d].split(\"=\");I(v)&&(i.includes(v[0])?h.push(v[0]+\"=\"+e):h.push(u[d]))}var c=l;return null!=a&&(c+=\"?\"+h.join(\"&\")),null!=n&&(c+=\"#\"+n),c},ue=function(t,i){var e=t.match(new RegExp(i+\"=([^&]*)\"));return e?e[1]:null},he=Tt(\"[AutoCapture]\");function de(t,i){return i.length>t?i.slice(0,t)+\"...\":i}function ve(t){if(t.previousElementSibling)return t.previousElementSibling;var i=t;do{i=i.previousSibling}while(i&&!Si(i));return i}function ce(t,i,e,r){var s=t.tagName.toLowerCase(),n={tag_name:s};Mi.indexOf(s)>-1&&!e&&(\"a\"===s.toLowerCase()||\"button\"===s.toLowerCase()?n.$el_text=de(1024,Yi(t)):n.$el_text=de(1024,Oi(t)));var o=Ri(t);o.length>0&&(n.classes=o.filter((function(t){return\"\"!==t}))),Ft(t.attributes,(function(e){var s;if((!Hi(t)||-1!==[\"name\",\"id\",\"class\",\"aria-label\"].indexOf(e.name))&&((null==r||!r.includes(e.name))&&!i&&Ki(e.value)&&(s=e.name,!M(s)||\"_ngcontent\"!==s.substring(0,10)&&\"_nghost\"!==s.substring(0,7)))){var o=e.value;\"class\"===e.name&&(o=Ti(o).join(\" \")),n[\"attr__\"+e.name]=de(1024,o)}}));for(var a=1,l=1,u=t;u=ve(u);)a++,u.tagName===t.tagName&&l++;return n.nth_child=a,n.nth_of_type=l,n}function fe(i,e){for(var r,s,{e:n,maskAllElementAttributes:o,maskAllText:a,elementAttributeIgnoreList:l,elementsChainAsString:u}=e,h=[i],d=i;d.parentNode&&!Ei(d,\"body\");)Pi(d.parentNode)?(h.push(d.parentNode.host),d=d.parentNode.host):(h.push(d.parentNode),d=d.parentNode);var v,c=[],f={},p=!1,g=!1;if(Ft(h,(t=>{var i=zi(t);\"a\"===t.tagName.toLowerCase()&&(p=t.getAttribute(\"href\"),p=i&&p&&Ki(p)&&p),w(Ri(t),\"ph-no-capture\")&&(g=!0),c.push(ce(t,o,a,l));var e=function(t){if(!zi(t))return{};var i={};return Ft(t.attributes,(function(t){if(t.name&&0===t.name.indexOf(\"data-ph-capture-attribute\")){var e=t.name.replace(\"data-ph-capture-attribute-\",\"\"),r=t.value;e&&r&&Ki(r)&&(i[e]=r)}})),i}(t);Mt(f,e)})),g)return{props:{},explicitNoCapture:g};if(a||(\"a\"===i.tagName.toLowerCase()||\"button\"===i.tagName.toLowerCase()?c[0].$el_text=Yi(i):c[0].$el_text=Oi(i)),p){var _,m;c[0].attr__href=p;var y=null==(_=ne(p))?void 0:_.host,b=null==t||null==(m=t.location)?void 0:m.host;y&&b&&y!==b&&(v=p)}return{props:Mt({$event_type:n.type,$ce_version:1},u?{}:{$elements:c},{$elements_chain:Qi(c)},null!=(r=c[0])&&r.$el_text?{$el_text:null==(s=c[0])?void 0:s.$el_text}:{},v&&\"click\"===n.type?{$external_click_url:v}:{},f)}}class pe{constructor(t){this.P=!1,this.T=null,this.rageclicks=new ie,this.I=!1,this.instance=t,this.R=null}get C(){var t,i,e=C(this.instance.config.autocapture)?this.instance.config.autocapture:{};return e.url_allowlist=null==(t=e.url_allowlist)?void 0:t.map((t=>new RegExp(t))),e.url_ignorelist=null==(i=e.url_ignorelist)?void 0:i.map((t=>new RegExp(t))),e}O(){if(this.isBrowserSupported()){if(t&&o){var i=i=>{i=i||(null==t?void 0:t.event);try{this.F(i)}catch(t){he.error(\"Failed to capture event\",t)}};if(qt(o,\"submit\",i,{capture:!0}),qt(o,\"change\",i,{capture:!0}),qt(o,\"click\",i,{capture:!0}),this.C.capture_copied_text){var e=i=>{i=i||(null==t?void 0:t.event),this.F(i,ee)};qt(o,\"copy\",e,{capture:!0}),qt(o,\"cut\",e,{capture:!0})}}}else he.info(\"Disabling Automatic Event Collection because this browser is not supported\")}startIfEnabled(){this.isEnabled&&!this.P&&(this.O(),this.P=!0)}onRemoteConfig(t){t.elementsChainAsString&&(this.I=t.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[Jt]:!!t.autocapture_opt_out}),this.T=!!t.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(t){this.R=t}getElementSelectors(t){var i,e=[];return null==(i=this.R)||i.forEach((i=>{var r=null==o?void 0:o.querySelectorAll(i);null==r||r.forEach((r=>{t===r&&e.push(i)}))})),e}get isEnabled(){var t,i,e=null==(t=this.instance.persistence)?void 0:t.props[Jt],r=this.T;if(D(r)&&!N(e)&&!this.instance.M())return!1;var s=null!==(i=this.T)&&void 0!==i?i:!!e;return!!this.instance.config.autocapture&&!s}F(i,e){if(void 0===e&&(e=\"$autocapture\"),this.isEnabled){var r,s=Fi(i);if(ki(s)&&(s=s.parentNode||null),\"$autocapture\"===e&&\"click\"===i.type&&i instanceof MouseEvent)this.instance.config.rageclick&&null!=(r=this.rageclicks)&&r.isRageClick(i.clientX,i.clientY,(new Date).getTime())&&function(i,e){if(!t||Li(i))return!1;var r,s;if(!1===(r=N(e)?!!e&&ji:null!==(s=null==e?void 0:e.css_selector_ignorelist)&&void 0!==s?s:ji))return!1;var{targetElementList:n}=Ni(i,!1);return!Ai(n,r)}(s,this.instance.config.rageclick)&&this.F(i,\"$rageclick\");var n=e===ee;if(s&&Ui(s,i,this.C,n,n?[\"copy\",\"cut\"]:void 0)){var{props:o,explicitNoCapture:a}=fe(s,{e:i,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.C.element_attribute_ignorelist,elementsChainAsString:this.I});if(a)return!1;var l=this.getElementSelectors(s);if(l&&l.length>0&&(o.$element_selectors=l),e===ee){var u,h=Ci(null==t||null==(u=t.getSelection())?void 0:u.toString()),d=i.type||\"clipboard\";if(!h)return!1;o.$selected_content=h,o.$copy_type=d}return this.instance.capture(e,o),!0}}}isBrowserSupported(){return R(null==o?void 0:o.querySelectorAll)}}Math.trunc||(Math.trunc=function(t){return t<0?Math.ceil(t):Math.floor(t)}),Number.isInteger||(Number.isInteger=function(t){return L(t)&&isFinite(t)&&Math.floor(t)===t});var ge=\"0123456789abcdef\";class _e{constructor(t){if(this.bytes=t,16!==t.length)throw new TypeError(\"not 128-bit length\")}static fromFieldsV7(t,i,e,r){if(!Number.isInteger(t)||!Number.isInteger(i)||!Number.isInteger(e)||!Number.isInteger(r)||t<0||i<0||e<0||r<0||t>0xffffffffffff||i>4095||e>1073741823||r>4294967295)throw new RangeError(\"invalid field value\");var s=new Uint8Array(16);return s[0]=t/Math.pow(2,40),s[1]=t/Math.pow(2,32),s[2]=t/Math.pow(2,24),s[3]=t/Math.pow(2,16),s[4]=t/Math.pow(2,8),s[5]=t,s[6]=112|i>>>8,s[7]=i,s[8]=128|e>>>24,s[9]=e>>>16,s[10]=e>>>8,s[11]=e,s[12]=r>>>24,s[13]=r>>>16,s[14]=r>>>8,s[15]=r,new _e(s)}toString(){for(var t=\"\",i=0;i<this.bytes.length;i++)t=t+ge.charAt(this.bytes[i]>>>4)+ge.charAt(15&this.bytes[i]),3!==i&&5!==i&&7!==i&&9!==i||(t+=\"-\");if(36!==t.length)throw new Error(\"Invalid UUIDv7 was generated\");return t}clone(){return new _e(this.bytes.slice(0))}equals(t){return 0===this.compareTo(t)}compareTo(t){for(var i=0;i<16;i++){var e=this.bytes[i]-t.bytes[i];if(0!==e)return Math.sign(e)}return 0}}class me{constructor(){this.A=0,this.D=0,this.j=new we}generate(){var t=this.generateOrAbort();if(F(t)){this.A=0;var i=this.generateOrAbort();if(F(i))throw new Error(\"Could not generate UUID after timestamp reset\");return i}return t}generateOrAbort(){var t=Date.now();if(t>this.A)this.A=t,this.L();else{if(!(t+1e4>this.A))return;this.D++,this.D>4398046511103&&(this.A++,this.L())}return _e.fromFieldsV7(this.A,Math.trunc(this.D/Math.pow(2,30)),this.D&Math.pow(2,30)-1,this.j.nextUint32())}L(){this.D=1024*this.j.nextUint32()+(1023&this.j.nextUint32())}}var ye,be=t=>{if(\"undefined\"!=typeof UUIDV7_DENY_WEAK_RNG&&UUIDV7_DENY_WEAK_RNG)throw new Error(\"no cryptographically strong RNG available\");for(var i=0;i<t.length;i++)t[i]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return t};t&&!F(t.crypto)&&crypto.getRandomValues&&(be=t=>crypto.getRandomValues(t));class we{constructor(){this.N=new Uint32Array(8),this.U=1/0}nextUint32(){return this.U>=this.N.length&&(be(this.N),this.U=0),this.N[this.U++]}}var xe=()=>$e().toString(),$e=()=>(ye||(ye=new me)).generate(),Se=\"\";var Ee=/[a-z0-9][a-z0-9-]+\\.[a-z]{2,}$/i;function ke(t,i){if(i){var e=function(t,i){if(void 0===i&&(i=o),Se)return Se;if(!i)return\"\";if([\"localhost\",\"127.0.0.1\"].includes(t))return\"\";for(var e=t.split(\".\"),r=Math.min(e.length,8),s=\"dmn_chk_\"+xe();!Se&&r--;){var n=e.slice(r).join(\".\"),a=s+\"=1;domain=.\"+n+\";path=/\";i.cookie=a+\";max-age=3\",i.cookie.includes(s)&&(i.cookie=a+\";max-age=0\",Se=n)}return Se}(t);if(!e){var r=(t=>{var i=t.match(Ee);return i?i[0]:\"\"})(t);r!==e&&Pt.info(\"Warning: cookie subdomain discovery mismatch\",r,e),e=r}return e?\"; domain=.\"+e:\"\"}return\"\"}var Pe={H:()=>!!o,B:function(t){Pt.error(\"cookieStore error: \"+t)},q:function(t){if(o){try{for(var i=t+\"=\",e=o.cookie.split(\";\").filter((t=>t.length)),r=0;r<e.length;r++){for(var s=e[r];\" \"==s.charAt(0);)s=s.substring(1,s.length);if(0===s.indexOf(i))return decodeURIComponent(s.substring(i.length,s.length))}}catch(t){}return null}},W:function(t){var i;try{i=JSON.parse(Pe.q(t))||{}}catch(t){}return i},G:function(t,i,e,r,s){if(o)try{var n=\"\",a=\"\",l=ke(o.location.hostname,r);if(e){var u=new Date;u.setTime(u.getTime()+24*e*60*60*1e3),n=\"; expires=\"+u.toUTCString()}s&&(a=\"; secure\");var h=t+\"=\"+encodeURIComponent(JSON.stringify(i))+n+\"; SameSite=Lax; path=/\"+l+a;return h.length>3686.4&&Pt.warn(\"cookieStore warning: large cookie, len=\"+h.length),o.cookie=h,h}catch(t){return}},V:function(t,i){if(null!=o&&o.cookie)try{Pe.G(t,\"\",-1,i)}catch(t){return}}},Te=null,Ie={H:function(){if(!D(Te))return Te;var i=!0;if(F(t))i=!1;else try{var e=\"__mplssupport__\";Ie.G(e,\"xyz\"),'\"xyz\"'!==Ie.q(e)&&(i=!1),Ie.V(e)}catch(t){i=!1}return i||Pt.error(\"localStorage unsupported; falling back to cookie store\"),Te=i,i},B:function(t){Pt.error(\"localStorage error: \"+t)},q:function(i){try{return null==t?void 0:t.localStorage.getItem(i)}catch(t){Ie.B(t)}return null},W:function(t){try{return JSON.parse(Ie.q(t))||{}}catch(t){}return null},G:function(i,e){try{null==t||t.localStorage.setItem(i,JSON.stringify(e))}catch(t){Ie.B(t)}},V:function(i){try{null==t||t.localStorage.removeItem(i)}catch(t){Ie.B(t)}}},Re=[\"distinct_id\",ri,si,yi,mi],Ce=g({},Ie,{W:function(t){try{var i={};try{i=Pe.W(t)||{}}catch(t){}var e=Mt(i,JSON.parse(Ie.q(t)||\"{}\"));return Ie.G(t,e),e}catch(t){}return null},G:function(t,i,e,r,s,n){try{Ie.G(t,i,void 0,void 0,n);var o={};Re.forEach((t=>{i[t]&&(o[t]=i[t])})),Object.keys(o).length&&Pe.G(t,o,e,r,s,n)}catch(t){Ie.B(t)}},V:function(i,e){try{null==t||t.localStorage.removeItem(i),Pe.V(i,e)}catch(t){Ie.B(t)}}}),Oe={},Fe={H:function(){return!0},B:function(t){Pt.error(\"memoryStorage error: \"+t)},q:function(t){return Oe[t]||null},W:function(t){return Oe[t]||null},G:function(t,i){Oe[t]=i},V:function(t){delete Oe[t]}},Me=null,Ae={H:function(){if(!D(Me))return Me;if(Me=!0,F(t))Me=!1;else try{var i=\"__support__\";Ae.G(i,\"xyz\"),'\"xyz\"'!==Ae.q(i)&&(Me=!1),Ae.V(i)}catch(t){Me=!1}return Me},B:function(t){Pt.error(\"sessionStorage error: \",t)},q:function(i){try{return null==t?void 0:t.sessionStorage.getItem(i)}catch(t){Ae.B(t)}return null},W:function(t){try{return JSON.parse(Ae.q(t))||null}catch(t){}return null},G:function(i,e){try{null==t||t.sessionStorage.setItem(i,JSON.stringify(e))}catch(t){Ae.B(t)}},V:function(i){try{null==t||t.sessionStorage.removeItem(i)}catch(t){Ae.B(t)}}},De=function(t){return t[t.PENDING=-1]=\"PENDING\",t[t.DENIED=0]=\"DENIED\",t[t.GRANTED=1]=\"GRANTED\",t}({});class je{constructor(t){this._instance=t}get C(){return this._instance.config}get consent(){return this.J()?De.DENIED:this.K}isOptedOut(){return\"always\"===this.C.cookieless_mode||(this.consent===De.DENIED||this.consent===De.PENDING&&(this.C.opt_out_capturing_by_default||\"on_reject\"===this.C.cookieless_mode))}isOptedIn(){return!this.isOptedOut()}isExplicitlyOptedOut(){return this.consent===De.DENIED}optInOut(t){this.Y.G(this.X,t?1:0,this.C.cookie_expiration,this.C.cross_subdomain_cookie,this.C.secure_cookie)}reset(){this.Y.V(this.X,this.C.cross_subdomain_cookie)}get X(){var{token:t,opt_out_capturing_cookie_prefix:i,consent_persistence_name:e}=this._instance.config;return e||(i?i+t:\"__ph_opt_in_out_\"+t)}get K(){var t=this.Y.q(this.X);return G(t)?De.GRANTED:w(V,t)?De.DENIED:De.PENDING}get Y(){if(!this.Z){var t=this.C.opt_out_capturing_persistence_type;this.Z=\"localStorage\"===t?Ie:Pe;var i=\"localStorage\"===t?Pe:Ie;i.q(this.X)&&(this.Z.q(this.X)||this.optInOut(G(i.q(this.X))),i.V(this.X,this.C.cross_subdomain_cookie))}return this.Z}J(){return!!this.C.respect_dnt&&!!Bt([null==n?void 0:n.doNotTrack,null==n?void 0:n.msDoNotTrack,v.doNotTrack],(t=>G(t)))}}var Le=Tt(\"[Dead Clicks]\"),Ne=()=>!0,Ue=t=>{var i,e=!(null==(i=t.instance.persistence)||!i.get_property(ti)),r=t.instance.config.capture_dead_clicks;return N(r)?r:e};class ze{get lazyLoadedDeadClicksAutocapture(){return this.tt}constructor(t,i,e){this.instance=t,this.isEnabled=i,this.onCapture=e,this.startIfEnabled()}onRemoteConfig(t){this.instance.persistence&&this.instance.persistence.register({[ti]:null==t?void 0:t.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.it((()=>{this.et()}))}it(t){var i,e;null!=(i=v.__PosthogExtensions__)&&i.initDeadClicksAutocapture&&t(),null==(e=v.__PosthogExtensions__)||null==e.loadExternalDependency||e.loadExternalDependency(this.instance,\"dead-clicks-autocapture\",(i=>{i?Le.error(\"failed to load script\",i):t()}))}et(){var t;if(o){if(!this.tt&&null!=(t=v.__PosthogExtensions__)&&t.initDeadClicksAutocapture){var i=C(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};i.__onCapture=this.onCapture,this.tt=v.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,i),this.tt.start(o),Le.info(\"starting...\")}}else Le.error(\"`document` not found. Cannot start.\")}stop(){this.tt&&(this.tt.stop(),this.tt=void 0,Le.info(\"stopping...\"))}}var He=Tt(\"[ExceptionAutocapture]\");class Be{constructor(i){var e,r,s;this.rt=()=>{var i;if(t&&this.isEnabled&&null!=(i=v.__PosthogExtensions__)&&i.errorWrappingFunctions){var e=v.__PosthogExtensions__.errorWrappingFunctions.wrapOnError,r=v.__PosthogExtensions__.errorWrappingFunctions.wrapUnhandledRejection,s=v.__PosthogExtensions__.errorWrappingFunctions.wrapConsoleError;try{!this.st&&this.C.capture_unhandled_errors&&(this.st=e(this.captureException.bind(this))),!this.nt&&this.C.capture_unhandled_rejections&&(this.nt=r(this.captureException.bind(this))),!this.ot&&this.C.capture_console_errors&&(this.ot=s(this.captureException.bind(this)))}catch(t){He.error(\"failed to start\",t),this.lt()}}},this._instance=i,this.ut=!(null==(e=this._instance.persistence)||!e.props[Yt]),this.C=this.ht(),this.dt=new K({refillRate:null!==(r=this._instance.config.error_tracking.__exceptionRateLimiterRefillRate)&&void 0!==r?r:1,bucketSize:null!==(s=this._instance.config.error_tracking.__exceptionRateLimiterBucketSize)&&void 0!==s?s:10,refillInterval:1e4,h:He}),this.startIfEnabled()}ht(){var t=this._instance.config.capture_exceptions,i={capture_unhandled_errors:!1,capture_unhandled_rejections:!1,capture_console_errors:!1};return C(t)?i=g({},i,t):(F(t)?this.ut:t)&&(i=g({},i,{capture_unhandled_errors:!0,capture_unhandled_rejections:!0})),i}get isEnabled(){return this.C.capture_console_errors||this.C.capture_unhandled_errors||this.C.capture_unhandled_rejections}startIfEnabled(){this.isEnabled&&(He.info(\"enabled\"),this.it(this.rt))}it(t){var i,e;null!=(i=v.__PosthogExtensions__)&&i.errorWrappingFunctions&&t(),null==(e=v.__PosthogExtensions__)||null==e.loadExternalDependency||e.loadExternalDependency(this._instance,\"exception-autocapture\",(i=>{if(i)return He.error(\"failed to load script\",i);t()}))}lt(){var t,i,e;null==(t=this.st)||t.call(this),this.st=void 0,null==(i=this.nt)||i.call(this),this.nt=void 0,null==(e=this.ot)||e.call(this),this.ot=void 0}onRemoteConfig(t){var i=t.autocaptureExceptions;this.ut=!!i||!1,this.C=this.ht(),this._instance.persistence&&this._instance.persistence.register({[Yt]:this.ut}),this.startIfEnabled()}captureException(t){var i,e,r=null!==(i=null==t||null==(e=t.$exception_list)||null==(e=e[0])?void 0:e.type)&&void 0!==i?i:\"Exception\";this.dt.consumeRateLimit(r)?He.info(\"Skipping exception capture because of client rate limiting.\",{exception:r}):this._instance.exceptions.sendExceptionEvent(t)}}function qe(t,i,e){try{if(!(i in t))return()=>{};var r=t[i],s=e(r);return R(s)&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__posthog_wrapped__:{enumerable:!1,value:!0}})),t[i]=s,()=>{t[i]=r}}catch(t){return()=>{}}}class We{constructor(i){var e;this._instance=i,this.vt=(null==t||null==(e=t.location)?void 0:e.pathname)||\"\"}get isEnabled(){return\"history_change\"===this._instance.config.capture_pageview}startIfEnabled(){this.isEnabled&&(Pt.info(\"History API monitoring enabled, starting...\"),this.monitorHistoryChanges())}stop(){this.ct&&this.ct(),this.ct=void 0,Pt.info(\"History API monitoring stopped\")}monitorHistoryChanges(){var i,e;if(t&&t.history){var r=this;null!=(i=t.history.pushState)&&i.__posthog_wrapped__||qe(t.history,\"pushState\",(t=>function(i,e,s){t.call(this,i,e,s),r.ft(\"pushState\")})),null!=(e=t.history.replaceState)&&e.__posthog_wrapped__||qe(t.history,\"replaceState\",(t=>function(i,e,s){t.call(this,i,e,s),r.ft(\"replaceState\")})),this.gt()}}ft(i){try{var e,r=null==t||null==(e=t.location)?void 0:e.pathname;if(!r)return;r!==this.vt&&this.isEnabled&&this._instance.capture(\"$pageview\",{navigation_type:i}),this.vt=r}catch(t){Pt.error(\"Error capturing \"+i+\" pageview\",t)}}gt(){if(!this.ct){var i=()=>{this.ft(\"popstate\")};qt(t,\"popstate\",i),this.ct=()=>{t&&t.removeEventListener(\"popstate\",i)}}}}var Ge=Tt(\"[SegmentIntegration]\");function Ve(t,i){var e=t.config.segment;if(!e)return i();!function(t,i){var e=t.config.segment;if(!e)return i();var r=e=>{var r=()=>e.anonymousId()||xe();t.config.get_device_id=r,e.id()&&(t.register({distinct_id:e.id(),$device_id:r()}),t.persistence.set_property(ci,\"identified\")),i()},s=e.user();\"then\"in s&&R(s.then)?s.then((t=>r(t))):r(s)}(t,(()=>{e.register((t=>{Promise&&Promise.resolve||Ge.warn(\"This browser does not have Promise support, and can not use the segment integration\");var i=(i,e)=>{if(!e)return i;i.event.userId||i.event.anonymousId===t.get_distinct_id()||(Ge.info(\"No userId set, resetting PostHog\"),t.reset()),i.event.userId&&i.event.userId!==t.get_distinct_id()&&(Ge.info(\"UserId set, identifying with PostHog\"),t.identify(i.event.userId));var r=t.calculateEventProperties(e,i.event.properties);return i.event.properties=Object.assign({},r,i.event.properties),i};return{name:\"PostHog JS\",type:\"enrichment\",version:\"1.0.0\",isLoaded:()=>!0,load:()=>Promise.resolve(),track:t=>i(t,t.event.event),page:t=>i(t,\"$pageview\"),identify:t=>i(t,\"$identify\"),screen:t=>i(t,\"$screen\")}})(t)).then((()=>{i()}))}))}var Je=\"posthog-js\";function Ke(t,i){var{organization:e,projectId:r,prefix:s,severityAllowList:n=[\"error\"],sendExceptionsToPostHog:o=!0}=void 0===i?{}:i;return i=>{var a,l,u,h,d;if(!(\"*\"===n||n.includes(i.level))||!t.__loaded)return i;i.tags||(i.tags={});var v=t.requestRouter.endpointFor(\"ui\",\"/project/\"+t.config.token+\"/person/\"+t.get_distinct_id());i.tags[\"PostHog Person URL\"]=v,t.sessionRecordingStarted()&&(i.tags[\"PostHog Recording URL\"]=t.get_session_replay_url({withTimestamp:!0}));var c=(null==(a=i.exception)?void 0:a.values)||[],f=c.map((t=>g({},t,{stacktrace:t.stacktrace?g({},t.stacktrace,{type:\"raw\",frames:(t.stacktrace.frames||[]).map((t=>g({},t,{platform:\"web:javascript\"})))}):void 0}))),p={$exception_message:(null==(l=c[0])?void 0:l.value)||i.message,$exception_type:null==(u=c[0])?void 0:u.type,$exception_level:i.level,$exception_list:f,$sentry_event_id:i.event_id,$sentry_exception:i.exception,$sentry_exception_message:(null==(h=c[0])?void 0:h.value)||i.message,$sentry_exception_type:null==(d=c[0])?void 0:d.type,$sentry_tags:i.tags};return e&&r&&(p.$sentry_url=(s||\"https://sentry.io/organizations/\")+e+\"/issues/?project=\"+r+\"&query=\"+i.event_id),o&&t.exceptions.sendExceptionEvent(p),i}}class Ye{constructor(t,i,e,r,s,n){this.name=Je,this.setupOnce=function(o){o(Ke(t,{organization:i,projectId:e,prefix:r,severityAllowList:s,sendExceptionsToPostHog:null==n||n}))}}}var Xe=null!=t&&t.location?ue(t.location.hash,\"__posthog\")||ue(location.hash,\"state\"):null,Qe=\"_postHogToolbarParams\",Ze=Tt(\"[Toolbar]\"),tr=function(t){return t[t.UNINITIALIZED=0]=\"UNINITIALIZED\",t[t.LOADING=1]=\"LOADING\",t[t.LOADED=2]=\"LOADED\",t}(tr||{});class ir{constructor(t){this.instance=t}_t(t){v.ph_toolbar_state=t}yt(){var t;return null!==(t=v.ph_toolbar_state)&&void 0!==t?t:tr.UNINITIALIZED}maybeLoadToolbar(i,e,r){if(void 0===i&&(i=void 0),void 0===e&&(e=void 0),void 0===r&&(r=void 0),!t||!o)return!1;i=null!=i?i:t.location,r=null!=r?r:t.history;try{if(!e){try{t.localStorage.setItem(\"test\",\"test\"),t.localStorage.removeItem(\"test\")}catch(t){return!1}e=null==t?void 0:t.localStorage}var s,n=Xe||ue(i.hash,\"__posthog\")||ue(i.hash,\"state\"),a=n?jt((()=>JSON.parse(atob(decodeURIComponent(n)))))||jt((()=>JSON.parse(decodeURIComponent(n)))):null;return a&&\"ph_authorize\"===a.action?((s=a).source=\"url\",s&&Object.keys(s).length>0&&(a.desiredHash?i.hash=a.desiredHash:r?r.replaceState(r.state,\"\",i.pathname+i.search):i.hash=\"\")):((s=JSON.parse(e.getItem(Qe)||\"{}\")).source=\"localstorage\",delete s.userIntent),!(!s.token||this.instance.config.token!==s.token)&&(this.loadToolbar(s),!0)}catch(t){return!1}}bt(t){var i=v.ph_load_toolbar||v.ph_load_editor;!j(i)&&R(i)?i(t,this.instance):Ze.warn(\"No toolbar load function found\")}loadToolbar(i){var e=!(null==o||!o.getElementById(bi));if(!t||e)return!1;var r=\"custom\"===this.instance.requestRouter.region&&this.instance.config.advanced_disable_toolbar_metrics,s=g({token:this.instance.config.token},i,{apiURL:this.instance.requestRouter.endpointFor(\"ui\")},r?{instrument:!1}:{});if(t.localStorage.setItem(Qe,JSON.stringify(g({},s,{source:void 0}))),this.yt()===tr.LOADED)this.bt(s);else if(this.yt()===tr.UNINITIALIZED){var n;this._t(tr.LOADING),null==(n=v.__PosthogExtensions__)||null==n.loadExternalDependency||n.loadExternalDependency(this.instance,\"toolbar\",(t=>{if(t)return Ze.error(\"[Toolbar] Failed to load\",t),void this._t(tr.UNINITIALIZED);this._t(tr.LOADED),this.bt(s)})),qt(t,\"turbolinks:load\",(()=>{this._t(tr.UNINITIALIZED),this.loadToolbar(s)}))}return!0}wt(t){return this.loadToolbar(t)}maybeLoadEditor(t,i,e){return void 0===t&&(t=void 0),void 0===i&&(i=void 0),void 0===e&&(e=void 0),this.maybeLoadToolbar(t,i,e)}}var er=Tt(\"[TracingHeaders]\");class rr{constructor(t){this.xt=void 0,this.$t=void 0,this.rt=()=>{var t,i;F(this.xt)&&(null==(t=v.__PosthogExtensions__)||null==(t=t.tracingHeadersPatchFns)||t._patchXHR(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager));F(this.$t)&&(null==(i=v.__PosthogExtensions__)||null==(i=i.tracingHeadersPatchFns)||i._patchFetch(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager))},this._instance=t}it(t){var i,e;null!=(i=v.__PosthogExtensions__)&&i.tracingHeadersPatchFns&&t(),null==(e=v.__PosthogExtensions__)||null==e.loadExternalDependency||e.loadExternalDependency(this._instance,\"tracing-headers\",(i=>{if(i)return er.error(\"failed to load script\",i);t()}))}startIfEnabledOrStop(){var t,i;this._instance.config.__add_tracing_headers?this.it(this.rt):(null==(t=this.xt)||t.call(this),null==(i=this.$t)||i.call(this),this.xt=void 0,this.$t=void 0)}}var sr=\"Mobile\",nr=\"iOS\",or=\"Android\",ar=\"Tablet\",lr=or+\" \"+ar,ur=\"iPad\",hr=\"Apple\",dr=hr+\" Watch\",vr=\"Safari\",cr=\"BlackBerry\",fr=\"Samsung\",pr=fr+\"Browser\",gr=fr+\" Internet\",_r=\"Chrome\",mr=_r+\" OS\",yr=_r+\" \"+nr,br=\"Internet Explorer\",wr=br+\" \"+sr,xr=\"Opera\",$r=xr+\" Mini\",Sr=\"Edge\",Er=\"Microsoft \"+Sr,kr=\"Firefox\",Pr=kr+\" \"+nr,Tr=\"Nintendo\",Ir=\"PlayStation\",Rr=\"Xbox\",Cr=or+\" \"+sr,Or=sr+\" \"+vr,Fr=\"Windows\",Mr=Fr+\" Phone\",Ar=\"Nokia\",Dr=\"Ouya\",jr=\"Generic\",Lr=jr+\" \"+sr.toLowerCase(),Nr=jr+\" \"+ar.toLowerCase(),Ur=\"Konqueror\",zr=\"(\\\\d+(\\\\.\\\\d+)?)\",Hr=new RegExp(\"Version/\"+zr),Br=new RegExp(Rr,\"i\"),qr=new RegExp(Ir+\" \\\\w+\",\"i\"),Wr=new RegExp(Tr+\" \\\\w+\",\"i\"),Gr=new RegExp(cr+\"|PlayBook|BB10\",\"i\"),Vr={\"NT3.51\":\"NT 3.11\",\"NT4.0\":\"NT 4.0\",\"5.0\":\"2000\",5.1:\"XP\",5.2:\"XP\",\"6.0\":\"Vista\",6.1:\"7\",6.2:\"8\",6.3:\"8.1\",6.4:\"10\",\"10.0\":\"10\"};var Jr=(t,i)=>i&&w(i,hr)||function(t){return w(t,vr)&&!w(t,_r)&&!w(t,or)}(t),Kr=function(t,i){return i=i||\"\",w(t,\" OPR/\")&&w(t,\"Mini\")?$r:w(t,\" OPR/\")?xr:Gr.test(t)?cr:w(t,\"IE\"+sr)||w(t,\"WPDesktop\")?wr:w(t,pr)?gr:w(t,Sr)||w(t,\"Edg/\")?Er:w(t,\"FBIOS\")?\"Facebook \"+sr:w(t,\"UCWEB\")||w(t,\"UCBrowser\")?\"UC Browser\":w(t,\"CriOS\")?yr:w(t,\"CrMo\")||w(t,_r)?_r:w(t,or)&&w(t,vr)?Cr:w(t,\"FxiOS\")?Pr:w(t.toLowerCase(),Ur.toLowerCase())?Ur:Jr(t,i)?w(t,sr)?Or:vr:w(t,kr)?kr:w(t,\"MSIE\")||w(t,\"Trident/\")?br:w(t,\"Gecko\")?kr:\"\"},Yr={[wr]:[new RegExp(\"rv:\"+zr)],[Er]:[new RegExp(Sr+\"?\\\\/\"+zr)],[_r]:[new RegExp(\"(\"+_r+\"|CrMo)\\\\/\"+zr)],[yr]:[new RegExp(\"CriOS\\\\/\"+zr)],\"UC Browser\":[new RegExp(\"(UCBrowser|UCWEB)\\\\/\"+zr)],[vr]:[Hr],[Or]:[Hr],[xr]:[new RegExp(\"(Opera|OPR)\\\\/\"+zr)],[kr]:[new RegExp(kr+\"\\\\/\"+zr)],[Pr]:[new RegExp(\"FxiOS\\\\/\"+zr)],[Ur]:[new RegExp(\"Konqueror[:/]?\"+zr,\"i\")],[cr]:[new RegExp(cr+\" \"+zr),Hr],[Cr]:[new RegExp(\"android\\\\s\"+zr,\"i\")],[gr]:[new RegExp(pr+\"\\\\/\"+zr)],[br]:[new RegExp(\"(rv:|MSIE )\"+zr)],Mozilla:[new RegExp(\"rv:\"+zr)]},Xr=function(t,i){var e=Kr(t,i),r=Yr[e];if(F(r))return null;for(var s=0;s<r.length;s++){var n=r[s],o=t.match(n);if(o)return parseFloat(o[o.length-2])}return null},Qr=[[new RegExp(Rr+\"; \"+Rr+\" (.*?)[);]\",\"i\"),t=>[Rr,t&&t[1]||\"\"]],[new RegExp(Tr,\"i\"),[Tr,\"\"]],[new RegExp(Ir,\"i\"),[Ir,\"\"]],[Gr,[cr,\"\"]],[new RegExp(Fr,\"i\"),(t,i)=>{if(/Phone/.test(i)||/WPDesktop/.test(i))return[Mr,\"\"];if(new RegExp(sr).test(i)&&!/IEMobile\\b/.test(i))return[Fr+\" \"+sr,\"\"];var e=/Windows NT ([0-9.]+)/i.exec(i);if(e&&e[1]){var r=e[1],s=Vr[r]||\"\";return/arm/i.test(i)&&(s=\"RT\"),[Fr,s]}return[Fr,\"\"]}],[/((iPhone|iPad|iPod).*?OS (\\d+)_(\\d+)_?(\\d+)?|iPhone)/,t=>{if(t&&t[3]){var i=[t[3],t[4],t[5]||\"0\"];return[nr,i.join(\".\")]}return[nr,\"\"]}],[/(watch.*\\/(\\d+\\.\\d+\\.\\d+)|watch os,(\\d+\\.\\d+),)/i,t=>{var i=\"\";return t&&t.length>=3&&(i=F(t[2])?t[3]:t[2]),[\"watchOS\",i]}],[new RegExp(\"(\"+or+\" (\\\\d+)\\\\.(\\\\d+)\\\\.?(\\\\d+)?|\"+or+\")\",\"i\"),t=>{if(t&&t[2]){var i=[t[2],t[3],t[4]||\"0\"];return[or,i.join(\".\")]}return[or,\"\"]}],[/Mac OS X (\\d+)[_.](\\d+)[_.]?(\\d+)?/i,t=>{var i=[\"Mac OS X\",\"\"];if(t&&t[1]){var e=[t[1],t[2],t[3]||\"0\"];i[1]=e.join(\".\")}return i}],[/Mac/i,[\"Mac OS X\",\"\"]],[/CrOS/,[mr,\"\"]],[/Linux|debian/i,[\"Linux\",\"\"]]],Zr=function(t){return Wr.test(t)?Tr:qr.test(t)?Ir:Br.test(t)?Rr:new RegExp(Dr,\"i\").test(t)?Dr:new RegExp(\"(\"+Mr+\"|WPDesktop)\",\"i\").test(t)?Mr:/iPad/.test(t)?ur:/iPod/.test(t)?\"iPod Touch\":/iPhone/.test(t)?\"iPhone\":/(watch)(?: ?os[,/]|\\d,\\d\\/)[\\d.]+/i.test(t)?dr:Gr.test(t)?cr:/(kobo)\\s(ereader|touch)/i.test(t)?\"Kobo\":new RegExp(Ar,\"i\").test(t)?Ar:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\\))/i.test(t)||/(kf[a-z]+)( bui|\\)).+silk\\//i.test(t)?\"Kindle Fire\":/(Android|ZTE)/i.test(t)?!new RegExp(sr).test(t)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(t)?/pixel[\\daxl ]{1,6}/i.test(t)&&!/pixel c/i.test(t)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(t)||/lmy47v/i.test(t)&&!/QTAQZ3/i.test(t)?or:lr:or:new RegExp(\"(pda|\"+sr+\")\",\"i\").test(t)?Lr:new RegExp(ar,\"i\").test(t)&&!new RegExp(ar+\" pc\",\"i\").test(t)?Nr:\"\"},ts=\"https?://(.*)\",is=[\"gclid\",\"gclsrc\",\"dclid\",\"gbraid\",\"wbraid\",\"fbclid\",\"msclkid\",\"twclid\",\"li_fat_id\",\"igshid\",\"ttclid\",\"rdt_cid\",\"epik\",\"qclid\",\"sccid\",\"irclid\",\"_kx\"],es=At([\"utm_source\",\"utm_medium\",\"utm_campaign\",\"utm_content\",\"utm_term\",\"gad_source\",\"mc_cid\"],is),rs=\"<masked>\",ss=[\"li_fat_id\"];function ns(t,i,e){if(!o)return{};var r,s=i?At([],is,e||[]):[],n=os(le(o.URL,s,rs),t),a=(r={},Ft(ss,(function(t){var i=Pe.q(t);r[t]=i||null})),r);return Mt(a,n)}function os(t,i){var e=es.concat(i||[]),r={};return Ft(e,(function(i){var e=ae(t,i);r[i]=e||null})),r}function as(t){var i=function(t){return t?0===t.search(ts+\"google.([^/?]*)\")?\"google\":0===t.search(ts+\"bing.com\")?\"bing\":0===t.search(ts+\"yahoo.com\")?\"yahoo\":0===t.search(ts+\"duckduckgo.com\")?\"duckduckgo\":null:null}(t),e=\"yahoo\"!=i?\"q\":\"p\",r={};if(!D(i)){r.$search_engine=i;var s=o?ae(o.referrer,e):\"\";s.length&&(r.ph_keyword=s)}return r}function ls(){return navigator.language||navigator.userLanguage}function us(){return(null==o?void 0:o.referrer)||\"$direct\"}function hs(t,i){var e=t?At([],is,i||[]):[],r=null==a?void 0:a.href.substring(0,1e3);return{r:us().substring(0,1e3),u:r?le(r,e,rs):void 0}}function ds(t){var i,{r:e,u:r}=t,s={$referrer:e,$referring_domain:null==e?void 0:\"$direct\"==e?\"$direct\":null==(i=ne(e))?void 0:i.host};if(r){s.$current_url=r;var n=ne(r);s.$host=null==n?void 0:n.host,s.$pathname=null==n?void 0:n.pathname;var o=os(r);Mt(s,o)}if(e){var a=as(e);Mt(s,a)}return s}function vs(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(t){return}}function cs(){try{return(new Date).getTimezoneOffset()}catch(t){return}}function fs(i,e){if(!d)return{};var r,s,n,o=i?At([],is,e||[]):[],[l,u]=function(t){for(var i=0;i<Qr.length;i++){var[e,r]=Qr[i],s=e.exec(t),n=s&&(R(r)?r(s,t):r);if(n)return n}return[\"\",\"\"]}(d);return Mt(Nt({$os:l,$os_version:u,$browser:Kr(d,navigator.vendor),$device:Zr(d),$device_type:(s=d,n=Zr(s),n===ur||n===lr||\"Kobo\"===n||\"Kindle Fire\"===n||n===Nr?ar:n===Tr||n===Rr||n===Ir||n===Dr?\"Console\":n===dr?\"Wearable\":n?sr:\"Desktop\"),$timezone:vs(),$timezone_offset:cs()}),{$current_url:le(null==a?void 0:a.href,o,rs),$host:null==a?void 0:a.host,$pathname:null==a?void 0:a.pathname,$raw_user_agent:d.length>1e3?d.substring(0,997)+\"...\":d,$browser_version:Xr(d,navigator.vendor),$browser_language:ls(),$browser_language_prefix:(r=ls(),\"string\"==typeof r?r.split(\"-\")[0]:void 0),$screen_height:null==t?void 0:t.screen.height,$screen_width:null==t?void 0:t.screen.width,$viewport_height:null==t?void 0:t.innerHeight,$viewport_width:null==t?void 0:t.innerWidth,$lib:\"web\",$lib_version:c.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})}var ps=Tt(\"[Web Vitals]\"),gs=9e5;class _s{constructor(t){var i;this.St=!1,this.P=!1,this.N={url:void 0,metrics:[],firstMetricTimestamp:void 0},this.Et=()=>{clearTimeout(this.kt),0!==this.N.metrics.length&&(this._instance.capture(\"$web_vitals\",this.N.metrics.reduce(((t,i)=>g({},t,{[\"$web_vitals_\"+i.name+\"_event\"]:g({},i),[\"$web_vitals_\"+i.name+\"_value\"]:i.value})),{})),this.N={url:void 0,metrics:[],firstMetricTimestamp:void 0})},this.Pt=t=>{var i,e=null==(i=this._instance.sessionManager)?void 0:i.checkAndGetSessionAndWindowId(!0);if(F(e))ps.error(\"Could not read session ID. Dropping metrics!\");else{this.N=this.N||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var r=this.Tt();if(!F(r))if(j(null==t?void 0:t.name)||j(null==t?void 0:t.value))ps.error(\"Invalid metric received\",t);else if(this.It&&t.value>=this.It)ps.error(\"Ignoring metric with value >= \"+this.It,t);else this.N.url!==r&&(this.Et(),this.kt=setTimeout(this.Et,this.flushToCaptureTimeoutMs)),F(this.N.url)&&(this.N.url=r),this.N.firstMetricTimestamp=F(this.N.firstMetricTimestamp)?Date.now():this.N.firstMetricTimestamp,t.attribution&&t.attribution.interactionTargetElement&&(t.attribution.interactionTargetElement=void 0),this.N.metrics.push(g({},t,{$current_url:r,$session_id:e.sessionId,$window_id:e.windowId,timestamp:Date.now()})),this.N.metrics.length===this.allowedMetrics.length&&this.Et()}},this.rt=()=>{var t,i,e,r,s=v.__PosthogExtensions__;F(s)||F(s.postHogWebVitalsCallbacks)||({onLCP:t,onCLS:i,onFCP:e,onINP:r}=s.postHogWebVitalsCallbacks),t&&i&&e&&r?(this.allowedMetrics.indexOf(\"LCP\")>-1&&t(this.Pt.bind(this)),this.allowedMetrics.indexOf(\"CLS\")>-1&&i(this.Pt.bind(this)),this.allowedMetrics.indexOf(\"FCP\")>-1&&e(this.Pt.bind(this)),this.allowedMetrics.indexOf(\"INP\")>-1&&r(this.Pt.bind(this)),this.P=!0):ps.error(\"web vitals callbacks not loaded - not starting\")},this._instance=t,this.St=!(null==(i=this._instance.persistence)||!i.props[Zt]),this.startIfEnabled()}get allowedMetrics(){var t,i,e=C(this._instance.config.capture_performance)?null==(t=this._instance.config.capture_performance)?void 0:t.web_vitals_allowed_metrics:void 0;return F(e)?(null==(i=this._instance.persistence)?void 0:i.props[ii])||[\"CLS\",\"FCP\",\"INP\",\"LCP\"]:e}get flushToCaptureTimeoutMs(){return(C(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get It(){var t=C(this._instance.config.capture_performance)&&L(this._instance.config.capture_performance.__web_vitals_max_value)?this._instance.config.capture_performance.__web_vitals_max_value:gs;return 0<t&&t<=6e4?gs:t}get isEnabled(){var t=null==a?void 0:a.protocol;if(\"http:\"!==t&&\"https:\"!==t)return ps.info(\"Web Vitals are disabled on non-http/https protocols\"),!1;var i=C(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals:N(this._instance.config.capture_performance)?this._instance.config.capture_performance:void 0;return N(i)?i:this.St}startIfEnabled(){this.isEnabled&&!this.P&&(ps.info(\"enabled, starting...\"),this.it(this.rt))}onRemoteConfig(t){var i=C(t.capturePerformance)&&!!t.capturePerformance.web_vitals,e=C(t.capturePerformance)?t.capturePerformance.web_vitals_allowed_metrics:void 0;this._instance.persistence&&(this._instance.persistence.register({[Zt]:i}),this._instance.persistence.register({[ii]:e})),this.St=i,this.startIfEnabled()}it(t){var i,e;null!=(i=v.__PosthogExtensions__)&&i.postHogWebVitalsCallbacks&&t(),null==(e=v.__PosthogExtensions__)||null==e.loadExternalDependency||e.loadExternalDependency(this._instance,\"web-vitals\",(i=>{i?ps.error(\"failed to load script\",i):t()}))}Tt(){var i=t?t.location.href:void 0;if(i){var e=this._instance.config.mask_personal_data_properties,r=this._instance.config.custom_personal_data_properties,s=e?At([],is,r||[]):[];return le(i,s,rs)}ps.error(\"Could not determine current URL\")}}var ms=Tt(\"[Heatmaps]\");function ys(t){return C(t)&&\"clientX\"in t&&\"clientY\"in t&&L(t.clientX)&&L(t.clientY)}class bs{constructor(t){var i;this.rageclicks=new ie,this.St=!1,this.P=!1,this.Rt=null,this.instance=t,this.St=!(null==(i=this.instance.persistence)||!i.props[Kt])}get flushIntervalMilliseconds(){var t=5e3;return C(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(t=this.instance.config.capture_heatmaps.flush_interval_milliseconds),t}get isEnabled(){return F(this.instance.config.capture_heatmaps)?F(this.instance.config.enable_heatmaps)?this.St:this.instance.config.enable_heatmaps:!1!==this.instance.config.capture_heatmaps}startIfEnabled(){if(this.isEnabled){if(this.P)return;ms.info(\"starting...\"),this.Ct(),this.Ot()}else{var t;clearInterval(null!==(t=this.Rt)&&void 0!==t?t:void 0),this.Ft(),this.getAndClearBuffer()}}onRemoteConfig(t){var i=!!t.heatmaps;this.instance.persistence&&this.instance.persistence.register({[Kt]:i}),this.St=i,this.startIfEnabled()}getAndClearBuffer(){var t=this.N;return this.N=void 0,t}Mt(t){this.At(t.originalEvent,\"deadclick\")}Ot(){this.Rt&&clearInterval(this.Rt),this.Rt=function(t){return\"visible\"===(null==t?void 0:t.visibilityState)}(o)?setInterval(this.Dt.bind(this),this.flushIntervalMilliseconds):null}Ct(){t&&o&&(this.jt=this.Dt.bind(this),qt(t,\"beforeunload\",this.jt),this.Lt=i=>this.At(i||(null==t?void 0:t.event)),qt(o,\"click\",this.Lt,{capture:!0}),this.Nt=i=>this.Ut(i||(null==t?void 0:t.event)),qt(o,\"mousemove\",this.Nt,{capture:!0}),this.zt=new ze(this.instance,Ne,this.Mt.bind(this)),this.zt.startIfEnabled(),this.Ht=this.Ot.bind(this),qt(o,\"visibilitychange\",this.Ht),this.P=!0)}Ft(){var i;t&&o&&(this.jt&&t.removeEventListener(\"beforeunload\",this.jt),this.Lt&&o.removeEventListener(\"click\",this.Lt,{capture:!0}),this.Nt&&o.removeEventListener(\"mousemove\",this.Nt,{capture:!0}),this.Ht&&o.removeEventListener(\"visibilitychange\",this.Ht),clearTimeout(this.Bt),null==(i=this.zt)||i.stop(),this.P=!1)}qt(i,e){var r=this.instance.scrollManager.scrollY(),s=this.instance.scrollManager.scrollX(),n=this.instance.scrollManager.scrollElement(),o=function(i,e,r){for(var s=i;s&&Si(s)&&!Ei(s,\"body\");){if(s===r)return!1;if(w(e,null==t?void 0:t.getComputedStyle(s).position))return!0;s=Di(s)}return!1}(Fi(i),[\"fixed\",\"sticky\"],n);return{x:i.clientX+(o?0:s),y:i.clientY+(o?0:r),target_fixed:o,type:e}}At(t,i){var e;if(void 0===i&&(i=\"click\"),!$i(t.target)&&ys(t)){var r=this.qt(t,i);null!=(e=this.rageclicks)&&e.isRageClick(t.clientX,t.clientY,(new Date).getTime())&&this.Wt(g({},r,{type:\"rageclick\"})),this.Wt(r)}}Ut(t){!$i(t.target)&&ys(t)&&(clearTimeout(this.Bt),this.Bt=setTimeout((()=>{this.Wt(this.qt(t,\"mousemove\"))}),500))}Wt(i){if(t){var e=t.location.href,r=this.instance.config.mask_personal_data_properties,s=this.instance.config.custom_personal_data_properties,n=r?At([],is,s||[]):[],o=le(e,n,rs);this.N=this.N||{},this.N[o]||(this.N[o]=[]),this.N[o].push(i)}}Dt(){this.N&&!O(this.N)&&this.instance.capture(\"$$heatmap\",{$heatmap_data:this.getAndClearBuffer()})}}class ws{constructor(t){this._instance=t}doPageView(i,e){var r,s=this.Gt(i,e);return this.Vt={pathname:null!==(r=null==t?void 0:t.location.pathname)&&void 0!==r?r:\"\",pageViewId:e,timestamp:i},this._instance.scrollManager.resetContext(),s}doPageLeave(t){var i;return this.Gt(t,null==(i=this.Vt)?void 0:i.pageViewId)}doEvent(){var t;return{$pageview_id:null==(t=this.Vt)?void 0:t.pageViewId}}Gt(t,i){var e=this.Vt;if(!e)return{$pageview_id:i};var r={$pageview_id:i,$prev_pageview_id:e.pageViewId},s=this._instance.scrollManager.getContext();if(s&&!this._instance.config.disable_scroll_properties){var{maxScrollHeight:n,lastScrollY:o,maxScrollY:a,maxContentHeight:l,lastContentY:u,maxContentY:h}=s;if(!(F(n)||F(o)||F(a)||F(l)||F(u)||F(h))){n=Math.ceil(n),o=Math.ceil(o),a=Math.ceil(a),l=Math.ceil(l),u=Math.ceil(u),h=Math.ceil(h);var d=n<=1?1:J(o/n,0,1,Pt),v=n<=1?1:J(a/n,0,1,Pt),c=l<=1?1:J(u/l,0,1,Pt),f=l<=1?1:J(h/l,0,1,Pt);r=Mt(r,{$prev_pageview_last_scroll:o,$prev_pageview_last_scroll_percentage:d,$prev_pageview_max_scroll:a,$prev_pageview_max_scroll_percentage:v,$prev_pageview_last_content:u,$prev_pageview_last_content_percentage:c,$prev_pageview_max_content:h,$prev_pageview_max_content_percentage:f})}}return e.pathname&&(r.$prev_pageview_pathname=e.pathname),e.timestamp&&(r.$prev_pageview_duration=(t.getTime()-e.timestamp.getTime())/1e3),r}}var xs=Uint8Array,$s=Uint16Array,Ss=Uint32Array,Es=new xs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ks=new xs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Ps=new xs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ts=function(t,i){for(var e=new $s(31),r=0;r<31;++r)e[r]=i+=1<<t[r-1];var s=new Ss(e[30]);for(r=1;r<30;++r)for(var n=e[r];n<e[r+1];++n)s[n]=n-e[r]<<5|r;return[e,s]},Is=Ts(Es,2),Rs=Is[0],Cs=Is[1];Rs[28]=258,Cs[258]=28;for(var Os=Ts(ks,0)[1],Fs=new $s(32768),Ms=0;Ms<32768;++Ms){var As=(43690&Ms)>>>1|(21845&Ms)<<1;As=(61680&(As=(52428&As)>>>2|(13107&As)<<2))>>>4|(3855&As)<<4,Fs[Ms]=((65280&As)>>>8|(255&As)<<8)>>>1}var Ds=function(t,i,e){for(var r=t.length,s=0,n=new $s(i);s<r;++s)++n[t[s]-1];var o,a=new $s(i);for(s=0;s<i;++s)a[s]=a[s-1]+n[s-1]<<1;if(e){o=new $s(1<<i);var l=15-i;for(s=0;s<r;++s)if(t[s])for(var u=s<<4|t[s],h=i-t[s],d=a[t[s]-1]++<<h,v=d|(1<<h)-1;d<=v;++d)o[Fs[d]>>>l]=u}else for(o=new $s(r),s=0;s<r;++s)o[s]=Fs[a[t[s]-1]++]>>>15-t[s];return o},js=new xs(288);for(Ms=0;Ms<144;++Ms)js[Ms]=8;for(Ms=144;Ms<256;++Ms)js[Ms]=9;for(Ms=256;Ms<280;++Ms)js[Ms]=7;for(Ms=280;Ms<288;++Ms)js[Ms]=8;var Ls=new xs(32);for(Ms=0;Ms<32;++Ms)Ls[Ms]=5;var Ns=Ds(js,9,0),Us=Ds(Ls,5,0),zs=function(t){return(t/8>>0)+(7&t&&1)},Hs=function(t,i,e){(null==e||e>t.length)&&(e=t.length);var r=new(t instanceof $s?$s:t instanceof Ss?Ss:xs)(e-i);return r.set(t.subarray(i,e)),r},Bs=function(t,i,e){e<<=7&i;var r=i/8>>0;t[r]|=e,t[r+1]|=e>>>8},qs=function(t,i,e){e<<=7&i;var r=i/8>>0;t[r]|=e,t[r+1]|=e>>>8,t[r+2]|=e>>>16},Ws=function(t,i){for(var e=[],r=0;r<t.length;++r)t[r]&&e.push({s:r,f:t[r]});var s=e.length,n=e.slice();if(!s)return[new xs(0),0];if(1==s){var o=new xs(e[0].s+1);return o[e[0].s]=1,[o,1]}e.sort((function(t,i){return t.f-i.f})),e.push({s:-1,f:25001});var a=e[0],l=e[1],u=0,h=1,d=2;for(e[0]={s:-1,f:a.f+l.f,l:a,r:l};h!=s-1;)a=e[e[u].f<e[d].f?u++:d++],l=e[u!=h&&e[u].f<e[d].f?u++:d++],e[h++]={s:-1,f:a.f+l.f,l:a,r:l};var v=n[0].s;for(r=1;r<s;++r)n[r].s>v&&(v=n[r].s);var c=new $s(v+1),f=Gs(e[h-1],c,0);if(f>i){r=0;var p=0,g=f-i,_=1<<g;for(n.sort((function(t,i){return c[i.s]-c[t.s]||t.f-i.f}));r<s;++r){var m=n[r].s;if(!(c[m]>i))break;p+=_-(1<<f-c[m]),c[m]=i}for(p>>>=g;p>0;){var y=n[r].s;c[y]<i?p-=1<<i-c[y]++-1:++r}for(;r>=0&&p;--r){var b=n[r].s;c[b]==i&&(--c[b],++p)}f=i}return[new xs(c),f]},Gs=function(t,i,e){return-1==t.s?Math.max(Gs(t.l,i,e+1),Gs(t.r,i,e+1)):i[t.s]=e},Vs=function(t){for(var i=t.length;i&&!t[--i];);for(var e=new $s(++i),r=0,s=t[0],n=1,o=function(t){e[r++]=t},a=1;a<=i;++a)if(t[a]==s&&a!=i)++n;else{if(!s&&n>2){for(;n>138;n-=138)o(32754);n>2&&(o(n>10?n-11<<5|28690:n-3<<5|12305),n=0)}else if(n>3){for(o(s),--n;n>6;n-=6)o(8304);n>2&&(o(n-3<<5|8208),n=0)}for(;n--;)o(s);n=1,s=t[a]}return[e.subarray(0,r),i]},Js=function(t,i){for(var e=0,r=0;r<i.length;++r)e+=t[r]*i[r];return e},Ks=function(t,i,e){var r=e.length,s=zs(i+2);t[s]=255&r,t[s+1]=r>>>8,t[s+2]=255^t[s],t[s+3]=255^t[s+1];for(var n=0;n<r;++n)t[s+n+4]=e[n];return 8*(s+4+r)},Ys=function(t,i,e,r,s,n,o,a,l,u,h){Bs(i,h++,e),++s[256];for(var d=Ws(s,15),v=d[0],c=d[1],f=Ws(n,15),p=f[0],g=f[1],_=Vs(v),m=_[0],y=_[1],b=Vs(p),w=b[0],x=b[1],S=new $s(19),E=0;E<m.length;++E)S[31&m[E]]++;for(E=0;E<w.length;++E)S[31&w[E]]++;for(var k=Ws(S,7),P=k[0],T=k[1],I=19;I>4&&!P[Ps[I-1]];--I);var R,C,O,F,M=u+5<<3,A=Js(s,js)+Js(n,Ls)+o,D=Js(s,v)+Js(n,p)+o+14+3*I+Js(S,P)+(2*S[16]+3*S[17]+7*S[18]);if(M<=A&&M<=D)return Ks(i,h,t.subarray(l,l+u));if(Bs(i,h,1+(D<A)),h+=2,D<A){R=Ds(v,c,0),C=v,O=Ds(p,g,0),F=p;var j=Ds(P,T,0);Bs(i,h,y-257),Bs(i,h+5,x-1),Bs(i,h+10,I-4),h+=14;for(E=0;E<I;++E)Bs(i,h+3*E,P[Ps[E]]);h+=3*I;for(var L=[m,w],N=0;N<2;++N){var U=L[N];for(E=0;E<U.length;++E){var z=31&U[E];Bs(i,h,j[z]),h+=P[z],z>15&&(Bs(i,h,U[E]>>>5&127),h+=U[E]>>>12)}}}else R=Ns,C=js,O=Us,F=Ls;for(E=0;E<a;++E)if(r[E]>255){z=r[E]>>>18&31;qs(i,h,R[z+257]),h+=C[z+257],z>7&&(Bs(i,h,r[E]>>>23&31),h+=Es[z]);var H=31&r[E];qs(i,h,O[H]),h+=F[H],H>3&&(qs(i,h,r[E]>>>5&8191),h+=ks[H])}else qs(i,h,R[r[E]]),h+=C[r[E]];return qs(i,h,R[256]),h+C[256]},Xs=new Ss([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Qs=function(){for(var t=new Ss(256),i=0;i<256;++i){for(var e=i,r=9;--r;)e=(1&e&&3988292384)^e>>>1;t[i]=e}return t}(),Zs=function(t,i,e,r,s){return function(t,i,e,r,s,n){var o=t.length,a=new xs(r+o+5*(1+Math.floor(o/7e3))+s),l=a.subarray(r,a.length-s),u=0;if(!i||o<8)for(var h=0;h<=o;h+=65535){var d=h+65535;d<o?u=Ks(l,u,t.subarray(h,d)):(l[h]=n,u=Ks(l,u,t.subarray(h,o)))}else{for(var v=Xs[i-1],c=v>>>13,f=8191&v,p=(1<<e)-1,g=new $s(32768),_=new $s(p+1),m=Math.ceil(e/3),y=2*m,b=function(i){return(t[i]^t[i+1]<<m^t[i+2]<<y)&p},w=new Ss(25e3),x=new $s(288),S=new $s(32),E=0,k=0,P=(h=0,0),T=0,I=0;h<o;++h){var R=b(h),C=32767&h,O=_[R];if(g[C]=O,_[R]=C,T<=h){var F=o-h;if((E>7e3||P>24576)&&F>423){u=Ys(t,l,0,w,x,S,k,P,I,h-I,u),P=E=k=0,I=h;for(var M=0;M<286;++M)x[M]=0;for(M=0;M<30;++M)S[M]=0}var A=2,D=0,j=f,L=C-O&32767;if(F>2&&R==b(h-L))for(var N=Math.min(c,F)-1,U=Math.min(32767,h),z=Math.min(258,F);L<=U&&--j&&C!=O;){if(t[h+A]==t[h+A-L]){for(var H=0;H<z&&t[h+H]==t[h+H-L];++H);if(H>A){if(A=H,D=L,H>N)break;var B=Math.min(L,H-2),q=0;for(M=0;M<B;++M){var W=h-L+M+32768&32767,G=W-g[W]+32768&32767;G>q&&(q=G,O=W)}}}L+=(C=O)-(O=g[C])+32768&32767}if(D){w[P++]=268435456|Cs[A]<<18|Os[D];var V=31&Cs[A],J=31&Os[D];k+=Es[V]+ks[J],++x[257+V],++S[J],T=h+A,++E}else w[P++]=t[h],++x[t[h]]}}u=Ys(t,l,n,w,x,S,k,P,I,h-I,u)}return Hs(a,0,r+zs(u)+s)}(t,null==i.level?6:i.level,null==i.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):12+i.mem,e,r,!0)},tn=function(t,i,e){for(;e;++i)t[i]=e,e>>>=8};function en(t,i){void 0===i&&(i={});var e=function(){var t=4294967295;return{p:function(i){for(var e=t,r=0;r<i.length;++r)e=Qs[255&e^i[r]]^e>>>8;t=e},d:function(){return 4294967295^t}}}(),r=t.length;e.p(t);var s,n=Zs(t,i,10+((s=i).filename&&s.filename.length+1||0),8),o=n.length;return function(t,i){var e=i.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=i.level<2?4:9==i.level?2:0,t[9]=3,0!=i.mtime&&tn(t,4,Math.floor(new Date(i.mtime||Date.now())/1e3)),e){t[3]=8;for(var r=0;r<=e.length;++r)t[r+10]=e.charCodeAt(r)}}(n,i),tn(n,o-8,e.d()),tn(n,o-4,r),n}var rn=function(t){var i,e,r,s,n=\"\";for(i=e=0,r=(t=(t+\"\").replace(/\\r\\n/g,\"\\n\").replace(/\\r/g,\"\\n\")).length,s=0;s<r;s++){var o=t.charCodeAt(s),a=null;o<128?e++:a=o>127&&o<2048?String.fromCharCode(o>>6|192,63&o|128):String.fromCharCode(o>>12|224,o>>6&63|128,63&o|128),D(a)||(e>i&&(n+=t.substring(i,e)),n+=a,i=e=s+1)}return e>i&&(n+=t.substring(i,t.length)),n},sn=!!u||!!l,nn=\"text/plain\",on=function(t,i,e){var r;void 0===e&&(e=!0);var[s,n]=t.split(\"?\"),o=g({},i),a=null!==(r=null==n?void 0:n.split(\"&\").map((t=>{var i,[r,s]=t.split(\"=\"),n=e&&null!==(i=o[r])&&void 0!==i?i:s;return delete o[r],r+\"=\"+n})))&&void 0!==r?r:[],l=oe(o);return l&&a.push(l),s+\"?\"+a.join(\"&\")},an=(t,i)=>JSON.stringify(t,((t,i)=>\"bigint\"==typeof i?i.toString():i),i),ln=t=>{var{data:i,compression:e}=t;if(i){if(e===re.GZipJS){var r=en(function(t,i){var e=t.length;if(\"undefined\"!=typeof TextEncoder)return(new TextEncoder).encode(t);for(var r=new xs(t.length+(t.length>>>1)),s=0,n=function(t){r[s++]=t},o=0;o<e;++o){if(s+5>r.length){var a=new xs(s+8+(e-o<<1));a.set(r),r=a}var l=t.charCodeAt(o);l<128||i?n(l):l<2048?(n(192|l>>>6),n(128|63&l)):l>55295&&l<57344?(n(240|(l=65536+(1047552&l)|1023&t.charCodeAt(++o))>>>18),n(128|l>>>12&63),n(128|l>>>6&63),n(128|63&l)):(n(224|l>>>12),n(128|l>>>6&63),n(128|63&l))}return Hs(r,0,s)}(an(i)),{mtime:0}),s=new Blob([r],{type:nn});return{contentType:nn,body:s,estimatedSize:s.size}}if(e===re.Base64){var n=function(t){var i,e,r,s,n,o=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",a=0,l=0,u=\"\",h=[];if(!t)return t;t=rn(t);do{i=(n=t.charCodeAt(a++)<<16|t.charCodeAt(a++)<<8|t.charCodeAt(a++))>>18&63,e=n>>12&63,r=n>>6&63,s=63&n,h[l++]=o.charAt(i)+o.charAt(e)+o.charAt(r)+o.charAt(s)}while(a<t.length);switch(u=h.join(\"\"),t.length%3){case 1:u=u.slice(0,-2)+\"==\";break;case 2:u=u.slice(0,-1)+\"=\"}return u}(an(i)),o=(t=>\"data=\"+encodeURIComponent(\"string\"==typeof t?t:an(t)))(n);return{contentType:\"application/x-www-form-urlencoded\",body:o,estimatedSize:new Blob([o]).size}}var a=an(i);return{contentType:\"application/json\",body:a,estimatedSize:new Blob([a]).size}}},un=[];l&&un.push({transport:\"fetch\",method:t=>{var i,e,{contentType:r,body:s,estimatedSize:n}=null!==(i=ln(t))&&void 0!==i?i:{},o=new Headers;Ft(t.headers,(function(t,i){o.append(i,t)})),r&&o.append(\"Content-Type\",r);var a=t.url,u=null;if(h){var d=new h;u={signal:d.signal,timeout:setTimeout((()=>d.abort()),t.timeout)}}l(a,g({method:(null==t?void 0:t.method)||\"GET\",headers:o,keepalive:\"POST\"===t.method&&(n||0)<52428.8,body:s,signal:null==(e=u)?void 0:e.signal},t.fetchOptions)).then((i=>i.text().then((e=>{var r={statusCode:i.status,text:e};if(200===i.status)try{r.json=JSON.parse(e)}catch(t){Pt.error(t)}null==t.callback||t.callback(r)})))).catch((i=>{Pt.error(i),null==t.callback||t.callback({statusCode:0,text:i})})).finally((()=>u?clearTimeout(u.timeout):null))}}),u&&un.push({transport:\"XHR\",method:t=>{var i,e=new u;e.open(t.method||\"GET\",t.url,!0);var{contentType:r,body:s}=null!==(i=ln(t))&&void 0!==i?i:{};Ft(t.headers,(function(t,i){e.setRequestHeader(i,t)})),r&&e.setRequestHeader(\"Content-Type\",r),t.timeout&&(e.timeout=t.timeout),t.disableXHRCredentials||(e.withCredentials=!0),e.onreadystatechange=()=>{if(4===e.readyState){var i={statusCode:e.status,text:e.responseText};if(200===e.status)try{i.json=JSON.parse(e.responseText)}catch(t){}null==t.callback||t.callback(i)}},e.send(s)}}),null!=n&&n.sendBeacon&&un.push({transport:\"sendBeacon\",method:t=>{var i=on(t.url,{beacon:\"1\"});try{var e,{contentType:r,body:s}=null!==(e=ln(t))&&void 0!==e?e:{},o=\"string\"==typeof s?new Blob([s],{type:r}):s;n.sendBeacon(i,o)}catch(t){}}});var hn=function(t,i){if(!function(t){try{new RegExp(t)}catch(t){return!1}return!0}(i))return!1;try{return new RegExp(i).test(t)}catch(t){return!1}};function dn(t,i,e){return an({distinct_id:t,userPropertiesToSet:i,userPropertiesToSetOnce:e})}var vn={exact:(t,i)=>i.some((i=>t.some((t=>i===t)))),is_not:(t,i)=>i.every((i=>t.every((t=>i!==t)))),regex:(t,i)=>i.some((i=>t.some((t=>hn(i,t))))),not_regex:(t,i)=>i.every((i=>t.every((t=>!hn(i,t))))),icontains:(t,i)=>i.map(cn).some((i=>t.map(cn).some((t=>i.includes(t))))),not_icontains:(t,i)=>i.map(cn).every((i=>t.map(cn).every((t=>!i.includes(t)))))},cn=t=>t.toLowerCase(),fn=Tt(\"[Error tracking]\");class pn{constructor(t){var i,e;this.Jt=[],this.Kt=new ft([new pt,new Et,new _t,new gt,new $t,new xt,new yt,new St],[at,ht]),this._instance=t,this.Jt=null!==(i=null==(e=this._instance.persistence)?void 0:e.get_property(Xt))&&void 0!==i?i:[]}onRemoteConfig(t){var i,e,r,s=null!==(i=null==(e=t.errorTracking)?void 0:e.suppressionRules)&&void 0!==i?i:[],n=null==(r=t.errorTracking)?void 0:r.captureExtensionExceptions;this.Jt=s,this._instance.persistence&&this._instance.persistence.register({[Xt]:this.Jt,[Qt]:n})}get Yt(){var t,i=!!this._instance.get_property(Qt),e=this._instance.config.error_tracking.captureExtensionExceptions;return null!==(t=null!=e?e:i)&&void 0!==t&&t}buildProperties(t,i){return this.Kt.buildFromUnknown(t,{syntheticException:null==i?void 0:i.syntheticException,mechanism:{handled:null==i?void 0:i.handled}})}sendExceptionEvent(t){var i=t.$exception_list;if(this.Xt(i)){if(this.Qt(i))return void fn.info(\"Skipping exception capture because a suppression rule matched\");if(!this.Yt&&this.Zt(i))return void fn.info(\"Skipping exception capture because it was thrown by an extension\");if(!this._instance.config.error_tracking.__capturePostHogExceptions&&this.ti(i))return void fn.info(\"Skipping exception capture because it was thrown by the PostHog SDK\")}return this._instance.capture(\"$exception\",t,{_noTruncate:!0,_batchKey:\"exceptionEvent\"})}Qt(t){if(0===t.length)return!1;var i=t.reduce(((t,i)=>{var{type:e,value:r}=i;return M(e)&&e.length>0&&t.$exception_types.push(e),M(r)&&r.length>0&&t.$exception_values.push(r),t}),{$exception_types:[],$exception_values:[]});return this.Jt.some((t=>{var e=t.values.map((t=>{var e,r=vn[t.operator],s=I(t.value)?t.value:[t.value],n=null!==(e=i[t.key])&&void 0!==e?e:[];return s.length>0&&r(s,n)}));return\"OR\"===t.type?e.some(Boolean):e.every(Boolean)}))}Zt(t){return t.flatMap((t=>{var i,e;return null!==(i=null==(e=t.stacktrace)?void 0:e.frames)&&void 0!==i?i:[]})).some((t=>t.filename&&t.filename.startsWith(\"chrome-extension://\")))}ti(t){if(t.length>0){var i,e,r,s,n=null!==(i=null==(e=t[0].stacktrace)?void 0:e.frames)&&void 0!==i?i:[],o=n[n.length-1];return null!==(r=null==o||null==(s=o.filename)?void 0:s.includes(\"posthog.com/static\"))&&void 0!==r&&r}return!1}Xt(t){return!j(t)&&I(t)}}var gn=Tt(\"[FeatureFlags]\"),_n=\"$active_feature_flags\",mn=\"$override_feature_flags\",yn=\"$feature_flag_payloads\",bn=\"$override_feature_flag_payloads\",wn=\"$feature_flag_request_id\",xn=t=>{var i={};for(var[e,r]of Dt(t||{}))r&&(i[e]=r);return i},$n=t=>{var i=t.flags;return i?(t.featureFlags=Object.fromEntries(Object.keys(i).map((t=>{var e;return[t,null!==(e=i[t].variant)&&void 0!==e?e:i[t].enabled]}))),t.featureFlagPayloads=Object.fromEntries(Object.keys(i).filter((t=>i[t].enabled)).filter((t=>{var e;return null==(e=i[t].metadata)?void 0:e.payload})).map((t=>{var e;return[t,null==(e=i[t].metadata)?void 0:e.payload]})))):gn.warn(\"Using an older version of the feature flags endpoint. Please upgrade your PostHog server to the latest version\"),t},Sn=function(t){return t.FeatureFlags=\"feature_flags\",t.Recordings=\"recordings\",t}({});class En{constructor(t){this.ii=!1,this.ei=!1,this.ri=!1,this.si=!1,this.ni=!1,this.oi=!1,this.ai=!1,this._instance=t,this.featureFlagEventHandlers=[]}li(){var t=this._instance.config.evaluation_environments;return null!=t&&t.length?t.filter((t=>{var i=t&&\"string\"==typeof t&&t.trim().length>0;return i||gn.error(\"Invalid evaluation environment found:\",t,\"Expected non-empty string\"),i})):[]}ui(){return this.li().length>0}flags(){if(this._instance.config.__preview_remote_config)this.oi=!0;else{var t=!this.hi&&(this._instance.config.advanced_disable_feature_flags||this._instance.config.advanced_disable_feature_flags_on_first_load);this.di({disableFlags:t})}}get hasLoadedFlags(){return this.ei}getFlags(){return Object.keys(this.getFlagVariants())}getFlagsWithDetails(){var t=this._instance.get_property(ai),i=this._instance.get_property(mn),e=this._instance.get_property(bn);if(!e&&!i)return t||{};var r=Mt({},t||{}),s=[...new Set([...Object.keys(e||{}),...Object.keys(i||{})])];for(var n of s){var o,a,l=r[n],u=null==i?void 0:i[n],h=F(u)?null!==(o=null==l?void 0:l.enabled)&&void 0!==o&&o:!!u,d=F(u)?l.variant:\"string\"==typeof u?u:void 0,v=null==e?void 0:e[n],c=g({},l,{enabled:h,variant:h?null!=d?d:null==l?void 0:l.variant:void 0});if(h!==(null==l?void 0:l.enabled)&&(c.original_enabled=null==l?void 0:l.enabled),d!==(null==l?void 0:l.variant)&&(c.original_variant=null==l?void 0:l.variant),v)c.metadata=g({},null==l?void 0:l.metadata,{payload:v,original_payload:null==l||null==(a=l.metadata)?void 0:a.payload});r[n]=c}return this.ii||(gn.warn(\" Overriding feature flag details!\",{flagDetails:t,overriddenPayloads:e,finalDetails:r}),this.ii=!0),r}getFlagVariants(){var t=this._instance.get_property(ni),i=this._instance.get_property(mn);if(!i)return t||{};for(var e=Mt({},t),r=Object.keys(i),s=0;s<r.length;s++)e[r[s]]=i[r[s]];return this.ii||(gn.warn(\" Overriding feature flags!\",{enabledFlags:t,overriddenFlags:i,finalFlags:e}),this.ii=!0),e}getFlagPayloads(){var t=this._instance.get_property(yn),i=this._instance.get_property(bn);if(!i)return t||{};for(var e=Mt({},t||{}),r=Object.keys(i),s=0;s<r.length;s++)e[r[s]]=i[r[s]];return this.ii||(gn.warn(\" Overriding feature flag payloads!\",{flagPayloads:t,overriddenPayloads:i,finalPayloads:e}),this.ii=!0),e}reloadFeatureFlags(){this.si||this._instance.config.advanced_disable_feature_flags||this.hi||(this.hi=setTimeout((()=>{this.di()}),5))}vi(){clearTimeout(this.hi),this.hi=void 0}ensureFlagsLoaded(){this.ei||this.ri||this.hi||this.reloadFeatureFlags()}setAnonymousDistinctId(t){this.$anon_distinct_id=t}setReloadingPaused(t){this.si=t}di(t){var i;if(this.vi(),!this._instance.M())if(this.ri)this.ni=!0;else{var e={token:this._instance.config.token,distinct_id:this._instance.get_distinct_id(),groups:this._instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:g({},(null==(i=this._instance.persistence)?void 0:i.get_initial_props())||{},this._instance.get_property(li)||{}),group_properties:this._instance.get_property(ui)};(null!=t&&t.disableFlags||this._instance.config.advanced_disable_feature_flags)&&(e.disable_flags=!0),this.ui()&&(e.evaluation_environments=this.li());var r=this._instance.config.__preview_remote_config,s=r?\"/flags/?v=2\":\"/flags/?v=2&config=true\",n=this._instance.config.advanced_only_evaluate_survey_feature_flags?\"&only_evaluate_survey_feature_flags=true\":\"\",o=this._instance.requestRouter.endpointFor(\"flags\",s+n);r&&(e.timezone=vs()),this.ri=!0,this._instance.ci({method:\"POST\",url:o,data:e,compression:this._instance.config.disable_compression?void 0:re.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:t=>{var i,r,s=!0;(200===t.statusCode&&(this.ni||(this.$anon_distinct_id=void 0),s=!1),this.ri=!1,this.oi)||(this.oi=!0,this._instance.fi(null!==(r=t.json)&&void 0!==r?r:{}));if(!e.disable_flags||this.ni)if(this.ai=!s,t.json&&null!=(i=t.json.quotaLimited)&&i.includes(Sn.FeatureFlags))gn.warn(\"You have hit your feature flags quota limit, and will not be able to load feature flags until the quota is reset.  Please visit https://posthog.com/docs/billing/limits-alerts to learn more.\");else{var n;if(!e.disable_flags)this.receivedFeatureFlags(null!==(n=t.json)&&void 0!==n?n:{},s);this.ni&&(this.ni=!1,this.di())}}})}}getFeatureFlag(t,i){if(void 0===i&&(i={}),this.ei||this.getFlags()&&this.getFlags().length>0){var e=this.getFlagVariants()[t],r=\"\"+e,s=this._instance.get_property(wn)||void 0,n=this._instance.get_property(vi)||{};if((i.send_event||!(\"send_event\"in i))&&(!(t in n)||!n[t].includes(r))){var o,a,l,u,h,d,v,c,f;I(n[t])?n[t].push(r):n[t]=[r],null==(o=this._instance.persistence)||o.register({[vi]:n});var p=this.getFeatureFlagDetails(t),g={$feature_flag:t,$feature_flag_response:e,$feature_flag_payload:this.getFeatureFlagPayload(t)||null,$feature_flag_request_id:s,$feature_flag_bootstrapped_response:(null==(a=this._instance.config.bootstrap)||null==(a=a.featureFlags)?void 0:a[t])||null,$feature_flag_bootstrapped_payload:(null==(l=this._instance.config.bootstrap)||null==(l=l.featureFlagPayloads)?void 0:l[t])||null,$used_bootstrap_value:!this.ai};F(null==p||null==(u=p.metadata)?void 0:u.version)||(g.$feature_flag_version=p.metadata.version);var _,m=null!==(h=null==p||null==(d=p.reason)?void 0:d.description)&&void 0!==h?h:null==p||null==(v=p.reason)?void 0:v.code;if(m&&(g.$feature_flag_reason=m),null!=p&&null!=(c=p.metadata)&&c.id&&(g.$feature_flag_id=p.metadata.id),F(null==p?void 0:p.original_variant)&&F(null==p?void 0:p.original_enabled)||(g.$feature_flag_original_response=F(p.original_variant)?p.original_enabled:p.original_variant),null!=p&&null!=(f=p.metadata)&&f.original_payload)g.$feature_flag_original_payload=null==p||null==(_=p.metadata)?void 0:_.original_payload;this._instance.capture(\"$feature_flag_called\",g)}return e}gn.warn('getFeatureFlag for key \"'+t+\"\\\" failed. Feature flags didn't load in time.\")}getFeatureFlagDetails(t){return this.getFlagsWithDetails()[t]}getFeatureFlagPayload(t){return this.getFlagPayloads()[t]}getRemoteConfigPayload(t,i){var e=this._instance.config.token,r={distinct_id:this._instance.get_distinct_id(),token:e};this.ui()&&(r.evaluation_environments=this.li()),this._instance.ci({method:\"POST\",url:this._instance.requestRouter.endpointFor(\"flags\",\"/flags/?v=2&config=true\"),data:r,compression:this._instance.config.disable_compression?void 0:re.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:e=>{var r,s=null==(r=e.json)?void 0:r.featureFlagPayloads;i((null==s?void 0:s[t])||void 0)}})}isFeatureEnabled(t,i){if(void 0===i&&(i={}),this.ei||this.getFlags()&&this.getFlags().length>0){var e=this.getFeatureFlag(t,i);return F(e)?void 0:!!e}gn.warn('isFeatureEnabled for key \"'+t+\"\\\" failed. Feature flags didn't load in time.\")}addFeatureFlagsHandler(t){this.featureFlagEventHandlers.push(t)}removeFeatureFlagsHandler(t){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter((i=>i!==t))}receivedFeatureFlags(t,i){if(this._instance.persistence){this.ei=!0;var e=this.getFlagVariants(),r=this.getFlagPayloads(),s=this.getFlagsWithDetails();!function(t,i,e,r,s){void 0===e&&(e={}),void 0===r&&(r={}),void 0===s&&(s={});var n=$n(t),o=n.flags,a=n.featureFlags,l=n.featureFlagPayloads;if(a){var u=t.requestId;if(I(a)){gn.warn(\"v1 of the feature flags endpoint is deprecated. Please use the latest version.\");var h={};if(a)for(var d=0;d<a.length;d++)h[a[d]]=!0;i&&i.register({[_n]:a,[ni]:h})}else{var v=a,c=l,f=o;t.errorsWhileComputingFlags&&(v=g({},e,v),c=g({},r,c),f=g({},s,f)),i&&i.register(g({[_n]:Object.keys(xn(v)),[ni]:v||{},[yn]:c||{},[ai]:f||{}},u?{[wn]:u}:{}))}}}(t,this._instance.persistence,e,r,s),this.pi(i)}}override(t,i){void 0===i&&(i=!1),gn.warn(\"override is deprecated. Please use overrideFeatureFlags instead.\"),this.overrideFeatureFlags({flags:t,suppressWarning:i})}overrideFeatureFlags(t){if(!this._instance.__loaded||!this._instance.persistence)return gn.uninitializedWarning(\"posthog.featureFlags.overrideFeatureFlags\");if(!1===t)return this._instance.persistence.unregister(mn),this._instance.persistence.unregister(bn),void this.pi();if(t&&\"object\"==typeof t&&(\"flags\"in t||\"payloads\"in t)){var i,e=t;if(this.ii=Boolean(null!==(i=e.suppressWarning)&&void 0!==i&&i),\"flags\"in e)if(!1===e.flags)this._instance.persistence.unregister(mn);else if(e.flags)if(I(e.flags)){for(var r={},s=0;s<e.flags.length;s++)r[e.flags[s]]=!0;this._instance.persistence.register({[mn]:r})}else this._instance.persistence.register({[mn]:e.flags});return\"payloads\"in e&&(!1===e.payloads?this._instance.persistence.unregister(bn):e.payloads&&this._instance.persistence.register({[bn]:e.payloads})),void this.pi()}this.pi()}onFeatureFlags(t){if(this.addFeatureFlagsHandler(t),this.ei){var{flags:i,flagVariants:e}=this.gi();t(i,e)}return()=>this.removeFeatureFlagsHandler(t)}updateEarlyAccessFeatureEnrollment(t,i,e){var r,s=(this._instance.get_property(oi)||[]).find((i=>i.flagKey===t)),n={[\"$feature_enrollment/\"+t]:i},o={$feature_flag:t,$feature_enrollment:i,$set:n};s&&(o.$early_access_feature_name=s.name),e&&(o.$feature_enrollment_stage=e),this._instance.capture(\"$feature_enrollment_update\",o),this.setPersonPropertiesForFlags(n,!1);var a=g({},this.getFlagVariants(),{[t]:i});null==(r=this._instance.persistence)||r.register({[_n]:Object.keys(xn(a)),[ni]:a}),this.pi()}getEarlyAccessFeatures(t,i,e){void 0===i&&(i=!1);var r=this._instance.get_property(oi),s=e?\"&\"+e.map((t=>\"stage=\"+t)).join(\"&\"):\"\";if(r&&!i)return t(r);this._instance.ci({url:this._instance.requestRouter.endpointFor(\"api\",\"/api/early_access_features/?token=\"+this._instance.config.token+s),method:\"GET\",callback:i=>{var e,r;if(i.json){var s=i.json.earlyAccessFeatures;return null==(e=this._instance.persistence)||e.unregister(oi),null==(r=this._instance.persistence)||r.register({[oi]:s}),t(s)}}})}gi(){var t=this.getFlags(),i=this.getFlagVariants();return{flags:t.filter((t=>i[t])),flagVariants:Object.keys(i).filter((t=>i[t])).reduce(((t,e)=>(t[e]=i[e],t)),{})}}pi(t){var{flags:i,flagVariants:e}=this.gi();this.featureFlagEventHandlers.forEach((r=>r(i,e,{errorsLoading:t})))}setPersonPropertiesForFlags(t,i){void 0===i&&(i=!0);var e=this._instance.get_property(li)||{};this._instance.register({[li]:g({},e,t)}),i&&this._instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this._instance.unregister(li)}setGroupPropertiesForFlags(t,i){void 0===i&&(i=!0);var e=this._instance.get_property(ui)||{};0!==Object.keys(e).length&&Object.keys(e).forEach((i=>{e[i]=g({},e[i],t[i]),delete t[i]})),this._instance.register({[ui]:g({},e,t)}),i&&this._instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(t){if(t){var i=this._instance.get_property(ui)||{};this._instance.register({[ui]:g({},i,{[t]:{}})})}else this._instance.unregister(ui)}reset(){this.ei=!1,this.ri=!1,this.si=!1,this.ni=!1,this.oi=!1,this.ai=!1,this.$anon_distinct_id=void 0,this.vi(),this.ii=!1}}var kn=[\"cookie\",\"localstorage\",\"localstorage+cookie\",\"sessionstorage\",\"memory\"];class Pn{constructor(t,i){this.C=t,this.props={},this.mi=!1,this.yi=(t=>{var i=\"\";return t.token&&(i=t.token.replace(/\\+/g,\"PL\").replace(/\\//g,\"SL\").replace(/=/g,\"EQ\")),t.persistence_name?\"ph_\"+t.persistence_name:\"ph_\"+i+\"_posthog\"})(t),this.Y=this.bi(t),this.load(),t.debug&&Pt.info(\"Persistence loaded\",t.persistence,g({},this.props)),this.update_config(t,t,i),this.save()}isDisabled(){return!!this.wi}bi(t){-1===kn.indexOf(t.persistence.toLowerCase())&&(Pt.critical(\"Unknown persistence type \"+t.persistence+\"; falling back to localStorage+cookie\"),t.persistence=\"localStorage+cookie\");var i=t.persistence.toLowerCase();return\"localstorage\"===i&&Ie.H()?Ie:\"localstorage+cookie\"===i&&Ce.H()?Ce:\"sessionstorage\"===i&&Ae.H()?Ae:\"memory\"===i?Fe:\"cookie\"===i?Pe:Ce.H()?Ce:Pe}properties(){var t={};return Ft(this.props,(function(i,e){if(e===ni&&C(i))for(var r=Object.keys(i),n=0;n<r.length;n++)t[\"$feature/\"+r[n]]=i[r[n]];else a=e,l=!1,(D(o=xi)?l:s&&o.indexOf===s?-1!=o.indexOf(a):(Ft(o,(function(t){if(l||(l=t===a))return Ct})),l))||(t[e]=i);var o,a,l})),t}load(){if(!this.wi){var t=this.Y.W(this.yi);t&&(this.props=Mt({},t))}}save(){this.wi||this.Y.G(this.yi,this.props,this.xi,this.$i,this.Si,this.C.debug)}remove(){this.Y.V(this.yi,!1),this.Y.V(this.yi,!0)}clear(){this.remove(),this.props={}}register_once(t,i,e){if(C(t)){F(i)&&(i=\"None\"),this.xi=F(e)?this.Ei:e;var r=!1;if(Ft(t,((t,e)=>{this.props.hasOwnProperty(e)&&this.props[e]!==i||(this.props[e]=t,r=!0)})),r)return this.save(),!0}return!1}register(t,i){if(C(t)){this.xi=F(i)?this.Ei:i;var e=!1;if(Ft(t,((i,r)=>{t.hasOwnProperty(r)&&this.props[r]!==i&&(this.props[r]=i,e=!0)})),e)return this.save(),!0}return!1}unregister(t){t in this.props&&(delete this.props[t],this.save())}update_campaign_params(){if(!this.mi){var t=ns(this.C.custom_campaign_params,this.C.mask_personal_data_properties,this.C.custom_personal_data_properties);O(Nt(t))||this.register(t),this.mi=!0}}update_search_keyword(){var t;this.register((t=null==o?void 0:o.referrer)?as(t):{})}update_referrer_info(){var t;this.register_once({$referrer:us(),$referring_domain:null!=o&&o.referrer&&(null==(t=ne(o.referrer))?void 0:t.host)||\"$direct\"},void 0)}set_initial_person_info(){this.props[gi]||this.props[_i]||this.register_once({[mi]:hs(this.C.mask_personal_data_properties,this.C.custom_personal_data_properties)},void 0)}get_initial_props(){var t={};Ft([_i,gi],(i=>{var e=this.props[i];e&&Ft(e,(function(i,e){t[\"$initial_\"+S(e)]=i}))}));var i,e,r=this.props[mi];if(r){var s=(i=ds(r),e={},Ft(i,(function(t,i){e[\"$initial_\"+S(i)]=t})),e);Mt(t,s)}return t}safe_merge(t){return Ft(this.props,(function(i,e){e in t||(t[e]=i)})),t}update_config(t,i,e){if(this.Ei=this.xi=t.cookie_expiration,this.set_disabled(t.disable_persistence||!!e),this.set_cross_subdomain(t.cross_subdomain_cookie),this.set_secure(t.secure_cookie),t.persistence!==i.persistence){var r=this.bi(t),s=this.props;this.clear(),this.Y=r,this.props=s,this.save()}}set_disabled(t){this.wi=t,this.wi?this.remove():this.save()}set_cross_subdomain(t){t!==this.$i&&(this.$i=t,this.remove(),this.save())}set_secure(t){t!==this.Si&&(this.Si=t,this.remove(),this.save())}set_event_timer(t,i){var e=this.props[Vt]||{};e[t]=i,this.props[Vt]=e,this.save()}remove_event_timer(t){var i=(this.props[Vt]||{})[t];return F(i)||(delete this.props[Vt][t],this.save()),i}get_property(t){return this.props[t]}set_property(t,i){this.props[t]=i,this.save()}}var Tn=function(t){return t.Button=\"button\",t.Tab=\"tab\",t.Selector=\"selector\",t}({}),In=function(t){return t.TopLeft=\"top_left\",t.TopRight=\"top_right\",t.TopCenter=\"top_center\",t.MiddleLeft=\"middle_left\",t.MiddleRight=\"middle_right\",t.MiddleCenter=\"middle_center\",t.Left=\"left\",t.Center=\"center\",t.Right=\"right\",t.NextToTrigger=\"next_to_trigger\",t}({}),Rn=function(t){return t.Popover=\"popover\",t.API=\"api\",t.Widget=\"widget\",t.ExternalSurvey=\"external_survey\",t}({}),Cn=function(t){return t.Open=\"open\",t.MultipleChoice=\"multiple_choice\",t.SingleChoice=\"single_choice\",t.Rating=\"rating\",t.Link=\"link\",t}({}),On=function(t){return t.NextQuestion=\"next_question\",t.End=\"end\",t.ResponseBased=\"response_based\",t.SpecificQuestion=\"specific_question\",t}({}),Fn=function(t){return t.Once=\"once\",t.Recurring=\"recurring\",t.Always=\"always\",t}({}),Mn=function(t){return t.SHOWN=\"survey shown\",t.DISMISSED=\"survey dismissed\",t.SENT=\"survey sent\",t}({}),An=function(t){return t.SURVEY_ID=\"$survey_id\",t.SURVEY_NAME=\"$survey_name\",t.SURVEY_RESPONSE=\"$survey_response\",t.SURVEY_ITERATION=\"$survey_iteration\",t.SURVEY_ITERATION_START_DATE=\"$survey_iteration_start_date\",t.SURVEY_PARTIALLY_COMPLETED=\"$survey_partially_completed\",t.SURVEY_SUBMISSION_ID=\"$survey_submission_id\",t.SURVEY_QUESTIONS=\"$survey_questions\",t.SURVEY_COMPLETED=\"$survey_completed\",t}({}),Dn=function(t){return t.Popover=\"popover\",t.Inline=\"inline\",t}({});class jn{constructor(){this.ki={},this.ki={}}on(t,i){return this.ki[t]||(this.ki[t]=[]),this.ki[t].push(i),()=>{this.ki[t]=this.ki[t].filter((t=>t!==i))}}emit(t,i){for(var e of this.ki[t]||[])e(i);for(var r of this.ki[\"*\"]||[])r(t,i)}}class Ln{constructor(t){this.Pi=new jn,this.Ti=(t,i)=>this.Ii(t,i)&&this.Ri(t,i)&&this.Ci(t,i),this.Ii=(t,i)=>null==i||!i.event||(null==t?void 0:t.event)===(null==i?void 0:i.event),this._instance=t,this.Oi=new Set,this.Fi=new Set}init(){var t;if(!F(null==(t=this._instance)?void 0:t.Mi)){var i;null==(i=this._instance)||i.Mi(((t,i)=>{this.on(t,i)}))}}register(t){var i,e;if(!F(null==(i=this._instance)?void 0:i.Mi)&&(t.forEach((t=>{var i,e;null==(i=this.Fi)||i.add(t),null==(e=t.steps)||e.forEach((t=>{var i;null==(i=this.Oi)||i.add((null==t?void 0:t.event)||\"\")}))})),null!=(e=this._instance)&&e.autocapture)){var r,s=new Set;t.forEach((t=>{var i;null==(i=t.steps)||i.forEach((t=>{null!=t&&t.selector&&s.add(null==t?void 0:t.selector)}))})),null==(r=this._instance)||r.autocapture.setElementSelectors(s)}}on(t,i){var e;null!=i&&0!=t.length&&(this.Oi.has(t)||this.Oi.has(null==i?void 0:i.event))&&this.Fi&&(null==(e=this.Fi)?void 0:e.size)>0&&this.Fi.forEach((t=>{this.Ai(i,t)&&this.Pi.emit(\"actionCaptured\",t.name)}))}Di(t){this.onAction(\"actionCaptured\",(i=>t(i)))}Ai(t,i){if(null==(null==i?void 0:i.steps))return!1;for(var e of i.steps)if(this.Ti(t,e))return!0;return!1}onAction(t,i){return this.Pi.on(t,i)}Ri(t,i){if(null!=i&&i.url){var e,r=null==t||null==(e=t.properties)?void 0:e.$current_url;if(!r||\"string\"!=typeof r)return!1;if(!Ln.ji(r,null==i?void 0:i.url,(null==i?void 0:i.url_matching)||\"contains\"))return!1}return!0}static ji(i,e,r){switch(r){case\"regex\":return!!t&&hn(i,e);case\"exact\":return e===i;case\"contains\":var s=Ln.Li(e).replace(/_/g,\".\").replace(/%/g,\".*\");return hn(i,s);default:return!1}}static Li(t){return t.replace(/[|\\\\{}()[\\]^$+*?.]/g,\"\\\\$&\").replace(/-/g,\"\\\\x2d\")}Ci(t,i){if((null!=i&&i.href||null!=i&&i.tag_name||null!=i&&i.text)&&!this.Ni(t).some((t=>!(null!=i&&i.href&&!Ln.ji(t.href||\"\",null==i?void 0:i.href,(null==i?void 0:i.href_matching)||\"exact\"))&&((null==i||!i.tag_name||t.tag_name===(null==i?void 0:i.tag_name))&&!(null!=i&&i.text&&!Ln.ji(t.text||\"\",null==i?void 0:i.text,(null==i?void 0:i.text_matching)||\"exact\")&&!Ln.ji(t.$el_text||\"\",null==i?void 0:i.text,(null==i?void 0:i.text_matching)||\"exact\"))))))return!1;if(null!=i&&i.selector){var e,r=null==t||null==(e=t.properties)?void 0:e.$element_selectors;if(!r)return!1;if(!r.includes(null==i?void 0:i.selector))return!1}return!0}Ni(t){return null==(null==t?void 0:t.properties.$elements)?[]:null==t?void 0:t.properties.$elements}}var Nn=Tt(\"[Surveys]\");var Un=\"seenSurvey_\",zn=(t,i)=>{var e=\"$survey_\"+i+\"/\"+t.id;return t.current_iteration&&t.current_iteration>0&&(e=\"$survey_\"+i+\"/\"+t.id+\"/\"+t.current_iteration),e},Hn=t=>{var i=\"\"+Un+t.id;return t.current_iteration&&t.current_iteration>0&&(i=\"\"+Un+t.id+\"_\"+t.current_iteration),i},Bn=[Rn.Popover,Rn.Widget,Rn.API],qn={ignoreConditions:!1,ignoreDelay:!1,displayType:Dn.Popover};class Wn{constructor(t){this._instance=t,this.Ui=new Map,this.zi=new Map}register(t){var i;F(null==(i=this._instance)?void 0:i.Mi)||(this.Hi(t),this.Bi(t))}Bi(t){var i=t.filter((t=>{var i,e;return(null==(i=t.conditions)?void 0:i.actions)&&(null==(e=t.conditions)||null==(e=e.actions)||null==(e=e.values)?void 0:e.length)>0}));if(0!==i.length){if(null==this.qi){this.qi=new Ln(this._instance),this.qi.init();this.qi.Di((t=>{this.onAction(t)}))}i.forEach((t=>{var i,e,r,s,n;t.conditions&&null!=(i=t.conditions)&&i.actions&&null!=(e=t.conditions)&&null!=(e=e.actions)&&e.values&&(null==(r=t.conditions)||null==(r=r.actions)||null==(r=r.values)?void 0:r.length)>0&&(null==(s=this.qi)||s.register(t.conditions.actions.values),null==(n=t.conditions)||null==(n=n.actions)||null==(n=n.values)||n.forEach((i=>{if(i&&i.name){var e=this.zi.get(i.name);e&&e.push(t.id),this.zi.set(i.name,e||[t.id])}})))}))}}Hi(t){var i;if(0!==t.filter((t=>{var i,e;return(null==(i=t.conditions)?void 0:i.events)&&(null==(e=t.conditions)||null==(e=e.events)||null==(e=e.values)?void 0:e.length)>0})).length){null==(i=this._instance)||i.Mi(((t,i)=>{this.onEvent(t,i)})),t.forEach((t=>{var i;null==(i=t.conditions)||null==(i=i.events)||null==(i=i.values)||i.forEach((i=>{if(i&&i.name){var e=this.Ui.get(i.name);e&&e.push(t.id),this.Ui.set(i.name,e||[t.id])}}))}))}}onEvent(t,i){var e,r,s=(null==(e=this._instance)||null==(e=e.persistence)?void 0:e.props[di])||[];if(Mn.SHOWN===t&&i&&s.length>0){var n;Nn.info(\"survey event matched, removing survey from activated surveys\",{event:t,eventPayload:i,existingActivatedSurveys:s});var o=null==i||null==(n=i.properties)?void 0:n.$survey_id;if(o){var a=s.indexOf(o);a>=0&&(s.splice(a,1),this.Wi(s))}}else if(this.Ui.has(t)){Nn.info(\"survey event name matched\",{event:t,eventPayload:i,surveys:this.Ui.get(t)});var l=[];null==(r=this._instance)||r.getSurveys((i=>{l=i.filter((i=>{var e;return null==(e=this.Ui.get(t))?void 0:e.includes(i.id)}))}));var u=l.filter((e=>{var r,s=null==(r=e.conditions)||null==(r=r.events)||null==(r=r.values)?void 0:r.find((i=>i.name===t));return!!s&&(!s.propertyFilters||Object.entries(s.propertyFilters).every((t=>{var e,[r,s]=t,n=null==i||null==(e=i.properties)?void 0:e[r];if(F(n)||D(n))return!1;var o=[String(n)],a=vn[s.operator];return a?a(s.values,o):(Nn.warn(\"Unknown property comparison operator: \"+s.operator),!1)})))}));this.Wi(s.concat(u.map((t=>t.id))||[]))}}onAction(t){var i,e=(null==(i=this._instance)||null==(i=i.persistence)?void 0:i.props[di])||[];this.zi.has(t)&&this.Wi(e.concat(this.zi.get(t)||[]))}Wi(t){var i;Nn.info(\"updating activated surveys\",{activatedSurveys:t}),null==(i=this._instance)||null==(i=i.persistence)||i.register({[di]:[...new Set(t)]})}getSurveys(){var t,i=null==(t=this._instance)||null==(t=t.persistence)?void 0:t.props[di];return i||[]}getEventToSurveys(){return this.Ui}Gi(){return this.qi}}class Gn{constructor(t){this.Vi=void 0,this._surveyManager=null,this.Ji=!1,this.Ki=!1,this.Yi=[],this._instance=t,this._surveyEventReceiver=null}onRemoteConfig(t){if(!this._instance.config.disable_surveys){var i=t.surveys;if(j(i))return Nn.warn(\"Flags not loaded yet. Not loading surveys.\");var e=I(i);this.Vi=e?i.length>0:i,Nn.info(\"flags response received, isSurveysEnabled: \"+this.Vi),this.loadIfEnabled()}}reset(){localStorage.removeItem(\"lastSeenSurveyDate\");for(var t=[],i=0;i<localStorage.length;i++){var e=localStorage.key(i);(null!=e&&e.startsWith(Un)||null!=e&&e.startsWith(\"inProgressSurvey_\"))&&t.push(e)}t.forEach((t=>localStorage.removeItem(t)))}loadIfEnabled(){if(!this._surveyManager)if(this.Ki)Nn.info(\"Already initializing surveys, skipping...\");else if(this._instance.config.disable_surveys)Nn.info(\"Disabled. Not loading surveys.\");else if(this._instance.config.cookieless_mode&&this._instance.consent.isOptedOut())Nn.info(\"Not loading surveys in cookieless mode without consent.\");else{var t=null==v?void 0:v.__PosthogExtensions__;if(t){if(!F(this.Vi)||this._instance.config.advanced_enable_surveys){var i=this.Vi||this._instance.config.advanced_enable_surveys;this.Ki=!0;try{var e=t.generateSurveys;if(e)return void this.Xi(e,i);var r=t.loadExternalDependency;if(!r)return void this.Qi(\"PostHog loadExternalDependency extension not found.\");r(this._instance,\"surveys\",(e=>{e||!t.generateSurveys?this.Qi(\"Could not load surveys script\",e):this.Xi(t.generateSurveys,i)}))}catch(t){throw this.Qi(\"Error initializing surveys\",t),t}finally{this.Ki=!1}}}else Nn.error(\"PostHog Extensions not found.\")}}Xi(t,i){this._surveyManager=t(this._instance,i),this._surveyEventReceiver=new Wn(this._instance),Nn.info(\"Surveys loaded successfully\"),this.Zi({isLoaded:!0})}Qi(t,i){Nn.error(t,i),this.Zi({isLoaded:!1,error:t})}onSurveysLoaded(t){return this.Yi.push(t),this._surveyManager&&this.Zi({isLoaded:!0}),()=>{this.Yi=this.Yi.filter((i=>i!==t))}}getSurveys(t,i){if(void 0===i&&(i=!1),this._instance.config.disable_surveys)return Nn.info(\"Disabled. Not loading surveys.\"),t([]);var e=this._instance.get_property(hi);if(e&&!i)return t(e,{isLoaded:!0});if(this.Ji)return t([],{isLoaded:!1,error:\"Surveys are already being loaded\"});try{this.Ji=!0,this._instance.ci({url:this._instance.requestRouter.endpointFor(\"api\",\"/api/surveys/?token=\"+this._instance.config.token),method:\"GET\",timeout:this._instance.config.surveys_request_timeout_ms,callback:i=>{var e;this.Ji=!1;var r=i.statusCode;if(200!==r||!i.json){var s=\"Surveys API could not be loaded, status: \"+r;return Nn.error(s),t([],{isLoaded:!1,error:s})}var n,o=i.json.surveys||[],a=o.filter((t=>function(t){return!(!t.start_date||t.end_date)}(t)&&(function(t){var i;return!(null==(i=t.conditions)||null==(i=i.events)||null==(i=i.values)||!i.length)}(t)||function(t){var i;return!(null==(i=t.conditions)||null==(i=i.actions)||null==(i=i.values)||!i.length)}(t))));a.length>0&&(null==(n=this._surveyEventReceiver)||n.register(a));return null==(e=this._instance.persistence)||e.register({[hi]:o}),t(o,{isLoaded:!0})}})}catch(t){throw this.Ji=!1,t}}Zi(t){for(var i of this.Yi)try{if(!t.isLoaded)return i([],t);this.getSurveys(i)}catch(t){Nn.error(\"Error in survey callback\",t)}}getActiveMatchingSurveys(t,i){if(void 0===i&&(i=!1),!j(this._surveyManager))return this._surveyManager.getActiveMatchingSurveys(t,i);Nn.warn(\"init was not called\")}te(t){var i=null;return this.getSurveys((e=>{var r;i=null!==(r=e.find((i=>i.id===t)))&&void 0!==r?r:null})),i}ie(t){if(j(this._surveyManager))return{eligible:!1,reason:\"SDK is not enabled or survey functionality is not yet loaded\"};var i=\"string\"==typeof t?this.te(t):t;return i?this._surveyManager.checkSurveyEligibility(i):{eligible:!1,reason:\"Survey not found\"}}canRenderSurvey(t){if(j(this._surveyManager))return Nn.warn(\"init was not called\"),{visible:!1,disabledReason:\"SDK is not enabled or survey functionality is not yet loaded\"};var i=this.ie(t);return{visible:i.eligible,disabledReason:i.reason}}canRenderSurveyAsync(t,i){return j(this._surveyManager)?(Nn.warn(\"init was not called\"),Promise.resolve({visible:!1,disabledReason:\"SDK is not enabled or survey functionality is not yet loaded\"})):new Promise((e=>{this.getSurveys((i=>{var r,s=null!==(r=i.find((i=>i.id===t)))&&void 0!==r?r:null;if(s){var n=this.ie(s);e({visible:n.eligible,disabledReason:n.reason})}else e({visible:!1,disabledReason:\"Survey not found\"})}),i)}))}renderSurvey(t,i){var e;if(j(this._surveyManager))Nn.warn(\"init was not called\");else{var r=\"string\"==typeof t?this.te(t):t;if(null!=r&&r.id)if(Bn.includes(r.type)){var s=null==o?void 0:o.querySelector(i);if(s)return null!=(e=r.appearance)&&e.surveyPopupDelaySeconds?(Nn.info(\"Rendering survey \"+r.id+\" with delay of \"+r.appearance.surveyPopupDelaySeconds+\" seconds\"),void setTimeout((()=>{var t,i;Nn.info(\"Rendering survey \"+r.id+\" with delay of \"+(null==(t=r.appearance)?void 0:t.surveyPopupDelaySeconds)+\" seconds\"),null==(i=this._surveyManager)||i.renderSurvey(r,s),Nn.info(\"Survey \"+r.id+\" rendered\")}),1e3*r.appearance.surveyPopupDelaySeconds)):void this._surveyManager.renderSurvey(r,s);Nn.warn(\"Survey element not found\")}else Nn.warn(\"Surveys of type \"+r.type+\" cannot be rendered in the app\");else Nn.warn(\"Survey not found\")}}displaySurvey(t,i){var e;if(j(this._surveyManager))Nn.warn(\"init was not called\");else{var r=this.te(t);if(r){var s=r;if(null!=(e=r.appearance)&&e.surveyPopupDelaySeconds&&i.ignoreDelay&&(s=g({},r,{appearance:g({},r.appearance,{surveyPopupDelaySeconds:0})})),!1===i.ignoreConditions){var n=this.canRenderSurvey(r);if(!n.visible)return void Nn.warn(\"Survey is not eligible to be displayed: \",n.disabledReason)}i.displayType!==Dn.Inline?this._surveyManager.handlePopoverSurvey(s):this.renderSurvey(s,i.selector)}else Nn.warn(\"Survey not found\")}}}var Vn=Tt(\"[RateLimiter]\");class Jn{constructor(t){var i,e;this.serverLimits={},this.lastEventRateLimited=!1,this.checkForLimiting=t=>{var i=t.text;if(i&&i.length)try{(JSON.parse(i).quota_limited||[]).forEach((t=>{Vn.info((t||\"events\")+\" is quota limited.\"),this.serverLimits[t]=(new Date).getTime()+6e4}))}catch(t){return void Vn.warn('could not rate limit - continuing. Error: \"'+(null==t?void 0:t.message)+'\"',{text:i})}},this.instance=t,this.captureEventsPerSecond=(null==(i=t.config.rate_limiting)?void 0:i.events_per_second)||10,this.captureEventsBurstLimit=Math.max((null==(e=t.config.rate_limiting)?void 0:e.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(t){var i,e,r;void 0===t&&(t=!1);var s=(new Date).getTime(),n=null!==(i=null==(e=this.instance.persistence)?void 0:e.get_property(pi))&&void 0!==i?i:{tokens:this.captureEventsBurstLimit,last:s};n.tokens+=(s-n.last)/1e3*this.captureEventsPerSecond,n.last=s,n.tokens>this.captureEventsBurstLimit&&(n.tokens=this.captureEventsBurstLimit);var o=n.tokens<1;return o||t||(n.tokens=Math.max(0,n.tokens-1)),!o||this.lastEventRateLimited||t||this.instance.capture(\"$$client_ingestion_warning\",{$$client_ingestion_warning_message:\"posthog-js client rate limited. Config is set to \"+this.captureEventsPerSecond+\" events per second and \"+this.captureEventsBurstLimit+\" events burst limit.\"},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=o,null==(r=this.instance.persistence)||r.set_property(pi,n),{isRateLimited:o,remainingTokens:n.tokens}}isServerRateLimited(t){var i=this.serverLimits[t||\"events\"]||!1;return!1!==i&&(new Date).getTime()<i}}var Kn=Tt(\"[RemoteConfig]\");class Yn{constructor(t){this._instance=t}get remoteConfig(){var t;return null==(t=v._POSTHOG_REMOTE_CONFIG)||null==(t=t[this._instance.config.token])?void 0:t.config}ee(t){var i,e;null!=(i=v.__PosthogExtensions__)&&i.loadExternalDependency?null==(e=v.__PosthogExtensions__)||null==e.loadExternalDependency||e.loadExternalDependency(this._instance,\"remote-config\",(()=>t(this.remoteConfig))):(Kn.error(\"PostHog Extensions not found. Cannot load remote config.\"),t())}re(t){this._instance.ci({method:\"GET\",url:this._instance.requestRouter.endpointFor(\"assets\",\"/array/\"+this._instance.config.token+\"/config\"),callback:i=>{t(i.json)}})}load(){try{if(this.remoteConfig)return Kn.info(\"Using preloaded remote config\",this.remoteConfig),void this.fi(this.remoteConfig);if(this._instance.M())return void Kn.warn(\"Remote config is disabled. Falling back to local config.\");this.ee((t=>{if(!t)return Kn.info(\"No config found after loading remote JS config. Falling back to JSON.\"),void this.re((t=>{this.fi(t)}));this.fi(t)}))}catch(t){Kn.error(\"Error loading remote config\",t)}}fi(t){t?this._instance.config.__preview_remote_config?(this._instance.fi(t),!1!==t.hasFeatureFlags&&this._instance.featureFlags.ensureFlagsLoaded()):Kn.info(\"__preview_remote_config is disabled. Logging config instead\",t):Kn.error(\"Failed to fetch remote config from PostHog.\")}}var Xn=3e3;class Qn{constructor(t,i){this.se=!0,this.ne=[],this.oe=J((null==i?void 0:i.flush_interval_ms)||Xn,250,5e3,Pt.createLogger(\"flush interval\"),Xn),this.ae=t}enqueue(t){this.ne.push(t),this.le||this.ue()}unload(){this.he();var t=this.ne.length>0?this.de():{},i=Object.values(t);[...i.filter((t=>0===t.url.indexOf(\"/e\"))),...i.filter((t=>0!==t.url.indexOf(\"/e\")))].map((t=>{this.ae(g({},t,{transport:\"sendBeacon\"}))}))}enable(){this.se=!1,this.ue()}ue(){var t=this;this.se||(this.le=setTimeout((()=>{if(this.he(),this.ne.length>0){var i=this.de(),e=function(){var e=i[r],s=(new Date).getTime();e.data&&I(e.data)&&Ft(e.data,(t=>{t.offset=Math.abs(t.timestamp-s),delete t.timestamp})),t.ae(e)};for(var r in i)e()}}),this.oe))}he(){clearTimeout(this.le),this.le=void 0}de(){var t={};return Ft(this.ne,(i=>{var e,r=i,s=(r?r.batchKey:null)||r.url;F(t[s])&&(t[s]=g({},r,{data:[]})),null==(e=t[s].data)||e.push(r.data)})),this.ne=[],t}}var Zn=[\"retriesPerformedSoFar\"];class to{constructor(i){this.ve=!1,this.ce=3e3,this.ne=[],this._instance=i,this.ne=[],this.fe=!0,!F(t)&&\"onLine\"in t.navigator&&(this.fe=t.navigator.onLine,this.pe=()=>{this.fe=!0,this.Dt()},this.ge=()=>{this.fe=!1},qt(t,\"online\",this.pe),qt(t,\"offline\",this.ge))}get length(){return this.ne.length}retriableRequest(t){var{retriesPerformedSoFar:i}=t,e=_(t,Zn);L(i)&&i>0&&(e.url=on(e.url,{retry_count:i})),this._instance.ci(g({},e,{callback:t=>{200!==t.statusCode&&(t.statusCode<400||t.statusCode>=500)&&(null!=i?i:0)<10?this._e(g({retriesPerformedSoFar:i},e)):null==e.callback||e.callback(t)}}))}_e(t){var i=t.retriesPerformedSoFar||0;t.retriesPerformedSoFar=i+1;var e=function(t){var i=3e3*Math.pow(2,t),e=i/2,r=Math.min(18e5,i),s=(Math.random()-.5)*(r-e);return Math.ceil(r+s)}(i),r=Date.now()+e;this.ne.push({retryAt:r,requestOptions:t});var s=\"Enqueued failed request for retry in \"+e;navigator.onLine||(s+=\" (Browser is offline)\"),Pt.warn(s),this.ve||(this.ve=!0,this.me())}me(){if(this.ye&&clearTimeout(this.ye),0===this.ne.length)return this.ve=!1,void(this.ye=void 0);this.ye=setTimeout((()=>{this.fe&&this.ne.length>0&&this.Dt(),this.me()}),this.ce)}Dt(){var t=Date.now(),i=[],e=this.ne.filter((e=>e.retryAt<t||(i.push(e),!1)));if(this.ne=i,e.length>0)for(var{requestOptions:r}of e)this.retriableRequest(r)}unload(){for(var{requestOptions:i}of(this.ye&&(clearTimeout(this.ye),this.ye=void 0),this.ve=!1,F(t)||(this.pe&&(t.removeEventListener(\"online\",this.pe),this.pe=void 0),this.ge&&(t.removeEventListener(\"offline\",this.ge),this.ge=void 0)),this.ne))try{this._instance.ci(g({},i,{transport:\"sendBeacon\"}))}catch(t){Pt.error(t)}this.ne=[]}}class io{constructor(t){this.be=()=>{var t,i,e,r;this.we||(this.we={});var s=this.scrollElement(),n=this.scrollY(),o=s?Math.max(0,s.scrollHeight-s.clientHeight):0,a=n+((null==s?void 0:s.clientHeight)||0),l=(null==s?void 0:s.scrollHeight)||0;this.we.lastScrollY=Math.ceil(n),this.we.maxScrollY=Math.max(n,null!==(t=this.we.maxScrollY)&&void 0!==t?t:0),this.we.maxScrollHeight=Math.max(o,null!==(i=this.we.maxScrollHeight)&&void 0!==i?i:0),this.we.lastContentY=a,this.we.maxContentY=Math.max(a,null!==(e=this.we.maxContentY)&&void 0!==e?e:0),this.we.maxContentHeight=Math.max(l,null!==(r=this.we.maxContentHeight)&&void 0!==r?r:0)},this._instance=t}getContext(){return this.we}resetContext(){var t=this.we;return setTimeout(this.be,0),t}startMeasuringScrollPosition(){qt(t,\"scroll\",this.be,{capture:!0}),qt(t,\"scrollend\",this.be,{capture:!0}),qt(t,\"resize\",this.be)}scrollElement(){if(!this._instance.config.scroll_root_selector)return null==t?void 0:t.document.documentElement;var i=I(this._instance.config.scroll_root_selector)?this._instance.config.scroll_root_selector:[this._instance.config.scroll_root_selector];for(var e of i){var r=null==t?void 0:t.document.querySelector(e);if(r)return r}}scrollY(){if(this._instance.config.scroll_root_selector){var i=this.scrollElement();return i&&i.scrollTop||0}return t&&(t.scrollY||t.pageYOffset||t.document.documentElement.scrollTop)||0}scrollX(){if(this._instance.config.scroll_root_selector){var i=this.scrollElement();return i&&i.scrollLeft||0}return t&&(t.scrollX||t.pageXOffset||t.document.documentElement.scrollLeft)||0}}var eo=t=>hs(null==t?void 0:t.config.mask_personal_data_properties,null==t?void 0:t.config.custom_personal_data_properties);class ro{constructor(t,i,e,r){this.xe=t=>{var i=this.$e();if(!i||i.sessionId!==t){var e={sessionId:t,props:this.Se(this._instance)};this.Ee.register({[fi]:e})}},this._instance=t,this.ke=i,this.Ee=e,this.Se=r||eo,this.ke.onSessionId(this.xe)}$e(){return this.Ee.props[fi]}getSetOnceProps(){var t,i=null==(t=this.$e())?void 0:t.props;return i?\"r\"in i?ds(i):{$referring_domain:i.referringDomain,$pathname:i.initialPathName,utm_source:i.utm_source,utm_campaign:i.utm_campaign,utm_medium:i.utm_medium,utm_content:i.utm_content,utm_term:i.utm_term}:{}}getSessionProps(){var t={};return Ft(Nt(this.getSetOnceProps()),((i,e)=>{\"$current_url\"===e&&(e=\"url\"),t[\"$session_entry_\"+S(e)]=i})),t}}var so=Tt(\"[SessionId]\");class no{on(t,i){return this.Pe.on(t,i)}constructor(t,i,e){var r;if(this.Te=[],this.Ie=void 0,this.Pe=new jn,this.Re=(t,i)=>Math.abs(t-i)>this.sessionTimeoutMs,!t.persistence)throw new Error(\"SessionIdManager requires a PostHogPersistence instance\");if(\"always\"===t.config.cookieless_mode)throw new Error('SessionIdManager cannot be used with cookieless_mode=\"always\"');this.C=t.config,this.Ee=t.persistence,this.Ce=void 0,this.Oe=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this.Fe=i||xe,this.Me=e||xe;var s=this.C.persistence_name||this.C.token,n=this.C.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*J(n,60,36e3,so.createLogger(\"session_idle_timeout_seconds\"),1800),t.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this.Ae(),this.De=\"ph_\"+s+\"_window_id\",this.je=\"ph_\"+s+\"_primary_window_exists\",this.Le()){var o=Ae.W(this.De),a=Ae.W(this.je);o&&!a?this.Ce=o:Ae.V(this.De),Ae.G(this.je,!0)}if(null!=(r=this.C.bootstrap)&&r.sessionID)try{var l=(t=>{var i=t.replace(/-/g,\"\");if(32!==i.length)throw new Error(\"Not a valid UUID\");if(\"7\"!==i[12])throw new Error(\"Not a UUIDv7\");return parseInt(i.substring(0,12),16)})(this.C.bootstrap.sessionID);this.Ne(this.C.bootstrap.sessionID,(new Date).getTime(),l)}catch(t){so.error(\"Invalid sessionID in bootstrap\",t)}this.Ue()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(t){return F(this.Te)&&(this.Te=[]),this.Te.push(t),this.Oe&&t(this.Oe,this.Ce),()=>{this.Te=this.Te.filter((i=>i!==t))}}Le(){return\"memory\"!==this.C.persistence&&!this.Ee.wi&&Ae.H()}ze(t){t!==this.Ce&&(this.Ce=t,this.Le()&&Ae.G(this.De,t))}He(){return this.Ce?this.Ce:this.Le()?Ae.W(this.De):null}Ne(t,i,e){t===this.Oe&&i===this._sessionActivityTimestamp&&e===this._sessionStartTimestamp||(this._sessionStartTimestamp=e,this._sessionActivityTimestamp=i,this.Oe=t,this.Ee.register({[ri]:[i,t,e]}))}Be(){if(this.Oe&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this.Oe,this._sessionStartTimestamp];var t=this.Ee.props[ri];return I(t)&&2===t.length&&t.push(t[0]),t||[0,null,0]}resetSessionId(){this.Ne(null,null,null)}destroy(){clearTimeout(this.qe),this.qe=void 0,this.Ie&&t&&(t.removeEventListener(\"beforeunload\",this.Ie,{capture:!1}),this.Ie=void 0),this.Te=[]}Ue(){this.Ie=()=>{this.Le()&&Ae.V(this.je)},qt(t,\"beforeunload\",this.Ie,{capture:!1})}checkAndGetSessionAndWindowId(t,i){if(void 0===t&&(t=!1),void 0===i&&(i=null),\"always\"===this.C.cookieless_mode)throw new Error('checkAndGetSessionAndWindowId should not be called with cookieless_mode=\"always\"');var e=i||(new Date).getTime(),[r,s,n]=this.Be(),o=this.He(),a=L(n)&&n>0&&Math.abs(e-n)>864e5,l=!1,u=!s,h=!u&&!t&&this.Re(e,r);u||h||a?(s=this.Fe(),o=this.Me(),so.info(\"new session ID generated\",{sessionId:s,windowId:o,changeReason:{noSessionId:u,activityTimeout:h,sessionPastMaximumLength:a}}),n=e,l=!0):o||(o=this.Me(),l=!0);var d=0===r||!t||a?e:r,v=0===n?(new Date).getTime():n;return this.ze(o),this.Ne(s,d,v),t||this.Ae(),l&&this.Te.forEach((t=>t(s,o,l?{noSessionId:u,activityTimeout:h,sessionPastMaximumLength:a}:void 0))),{sessionId:s,windowId:o,sessionStartTimestamp:v,changeReason:l?{noSessionId:u,activityTimeout:h,sessionPastMaximumLength:a}:void 0,lastActivityTimestamp:r}}Ae(){clearTimeout(this.qe),this.qe=setTimeout((()=>{var[t]=this.Be();if(this.Re((new Date).getTime(),t)){var i=this.Oe;this.resetSessionId(),this.Pe.emit(\"forcedIdleReset\",{idleSessionId:i})}}),1.1*this.sessionTimeoutMs)}}var oo=[\"$set_once\",\"$set\"],ao=Tt(\"[SiteApps]\");class lo{constructor(t){this._instance=t,this.We=[],this.apps={}}get isEnabled(){return!!this._instance.config.opt_in_site_apps}Ge(t,i){if(i){var e=this.globalsForEvent(i);this.We.push(e),this.We.length>1e3&&(this.We=this.We.slice(10))}}get siteAppLoaders(){var t;return null==(t=v._POSTHOG_REMOTE_CONFIG)||null==(t=t[this._instance.config.token])?void 0:t.siteApps}init(){if(this.isEnabled){var t=this._instance.Mi(this.Ge.bind(this));this.Ve=()=>{t(),this.We=[],this.Ve=void 0}}}globalsForEvent(t){var i,e,r,s,n,o,a;if(!t)throw new Error(\"Event payload is required\");var l={},u=this._instance.get_property(\"$groups\")||[],h=this._instance.get_property(\"$stored_group_properties\")||{};for(var[d,v]of Object.entries(h))l[d]={id:u[d],type:d,properties:v};var{$set_once:c,$set:f}=t;return{event:g({},_(t,oo),{properties:g({},t.properties,f?{$set:g({},null!==(i=null==(e=t.properties)?void 0:e.$set)&&void 0!==i?i:{},f)}:{},c?{$set_once:g({},null!==(r=null==(s=t.properties)?void 0:s.$set_once)&&void 0!==r?r:{},c)}:{}),elements_chain:null!==(n=null==(o=t.properties)?void 0:o.$elements_chain)&&void 0!==n?n:\"\",distinct_id:null==(a=t.properties)?void 0:a.distinct_id}),person:{properties:this._instance.get_property(\"$stored_person_properties\")},groups:l}}setupSiteApp(t){var i=this.apps[t.id],e=()=>{var e;(!i.errored&&this.We.length&&(ao.info(\"Processing \"+this.We.length+\" events for site app with id \"+t.id),this.We.forEach((t=>null==i.processEvent?void 0:i.processEvent(t))),i.processedBuffer=!0),Object.values(this.apps).every((t=>t.processedBuffer||t.errored)))&&(null==(e=this.Ve)||e.call(this))},r=!1,s=s=>{i.errored=!s,i.loaded=!0,ao.info(\"Site app with id \"+t.id+\" \"+(s?\"loaded\":\"errored\")),r&&e()};try{var{processEvent:n}=t.init({posthog:this._instance,callback:t=>{s(t)}});n&&(i.processEvent=n),r=!0}catch(i){ao.error(\"Error while initializing PostHog app with config id \"+t.id,i),s(!1)}if(r&&i.loaded)try{e()}catch(e){ao.error(\"Error while processing buffered events PostHog app with config id \"+t.id,e),i.errored=!0}}Je(){var t=this.siteAppLoaders||[];for(var i of t)this.apps[i.id]={id:i.id,loaded:!1,errored:!1,processedBuffer:!1};for(var e of t)this.setupSiteApp(e)}Ke(t){if(0!==Object.keys(this.apps).length){var i=this.globalsForEvent(t);for(var e of Object.values(this.apps))try{null==e.processEvent||e.processEvent(i)}catch(i){ao.error(\"Error while processing event \"+t.event+\" for site app \"+e.id,i)}}}onRemoteConfig(t){var i,e,r,s=this;if(null!=(i=this.siteAppLoaders)&&i.length)return this.isEnabled?(this.Je(),void this._instance.on(\"eventCaptured\",(t=>this.Ke(t)))):void ao.error('PostHog site apps are disabled. Enable the \"opt_in_site_apps\" config to proceed.');if(null==(e=this.Ve)||e.call(this),null!=(r=t.siteApps)&&r.length)if(this.isEnabled){var n=function(t){var i;v[\"__$$ph_site_app_\"+t]=s._instance,null==(i=v.__PosthogExtensions__)||null==i.loadSiteApp||i.loadSiteApp(s._instance,a,(i=>{if(i)return ao.error(\"Error while initializing PostHog app with config id \"+t,i)}))};for(var{id:o,url:a}of t.siteApps)n(o)}else ao.error('PostHog site apps are disabled. Enable the \"opt_in_site_apps\" config to proceed.')}}var uo=function(t,i){if(!t)return!1;var e=t.userAgent;if(e&&y(e,i))return!0;try{var r=null==t?void 0:t.userAgentData;if(null!=r&&r.brands&&r.brands.some((t=>y(null==t?void 0:t.brand,i))))return!0}catch(t){}return!!t.webdriver},ho=function(t){return t.US=\"us\",t.EU=\"eu\",t.CUSTOM=\"custom\",t}({}),vo=\"i.posthog.com\";class co{constructor(t){this.Ye={},this.instance=t}get apiHost(){var t=this.instance.config.api_host.trim().replace(/\\/$/,\"\");return\"https://app.posthog.com\"===t?\"https://us.i.posthog.com\":t}get flagsApiHost(){var t=this.instance.config.flags_api_host;return t?t.trim().replace(/\\/$/,\"\"):this.apiHost}get uiHost(){var t,i=null==(t=this.instance.config.ui_host)?void 0:t.replace(/\\/$/,\"\");return i||(i=this.apiHost.replace(\".\"+vo,\".posthog.com\")),\"https://app.posthog.com\"===i?\"https://us.posthog.com\":i}get region(){return this.Ye[this.apiHost]||(/https:\\/\\/(app|us|us-assets)(\\.i)?\\.posthog\\.com/i.test(this.apiHost)?this.Ye[this.apiHost]=ho.US:/https:\\/\\/(eu|eu-assets)(\\.i)?\\.posthog\\.com/i.test(this.apiHost)?this.Ye[this.apiHost]=ho.EU:this.Ye[this.apiHost]=ho.CUSTOM),this.Ye[this.apiHost]}endpointFor(t,i){if(void 0===i&&(i=\"\"),i&&(i=\"/\"===i[0]?i:\"/\"+i),\"ui\"===t)return this.uiHost+i;if(\"flags\"===t)return this.flagsApiHost+i;if(this.region===ho.CUSTOM)return this.apiHost+i;var e=vo+i;switch(t){case\"assets\":return\"https://\"+this.region+\"-assets.\"+e;case\"api\":return\"https://\"+this.region+\".\"+e}}}var fo={icontains:(i,e)=>!!t&&e.href.toLowerCase().indexOf(i.toLowerCase())>-1,not_icontains:(i,e)=>!!t&&-1===e.href.toLowerCase().indexOf(i.toLowerCase()),regex:(i,e)=>!!t&&hn(e.href,i),not_regex:(i,e)=>!!t&&!hn(e.href,i),exact:(t,i)=>i.href===t,is_not:(t,i)=>i.href!==t};class po{constructor(t){var i=this;this.getWebExperimentsAndEvaluateDisplayLogic=function(t){void 0===t&&(t=!1),i.getWebExperiments((t=>{po.Xe(\"retrieved web experiments from the server\"),i.Qe=new Map,t.forEach((t=>{if(t.feature_flag_key){var e;if(i.Qe)po.Xe(\"setting flag key \",t.feature_flag_key,\" to web experiment \",t),null==(e=i.Qe)||e.set(t.feature_flag_key,t);var r=i._instance.getFeatureFlag(t.feature_flag_key);M(r)&&t.variants[r]&&i.Ze(t.name,r,t.variants[r].transforms)}else if(t.variants)for(var s in t.variants){var n=t.variants[s];po.tr(n)&&i.Ze(t.name,s,n.transforms)}}))}),t)},this._instance=t,this._instance.onFeatureFlags((t=>{this.onFeatureFlags(t)}))}onFeatureFlags(t){if(this._is_bot())po.Xe(\"Refusing to render web experiment since the viewer is a likely bot\");else if(!this._instance.config.disable_web_experiments){if(j(this.Qe))return this.Qe=new Map,this.loadIfEnabled(),void this.previewWebExperiment();po.Xe(\"applying feature flags\",t),t.forEach((t=>{var i;if(this.Qe&&null!=(i=this.Qe)&&i.has(t)){var e,r=this._instance.getFeatureFlag(t),s=null==(e=this.Qe)?void 0:e.get(t);r&&null!=s&&s.variants[r]&&this.Ze(s.name,r,s.variants[r].transforms)}}))}}previewWebExperiment(){var t=po.getWindowLocation();if(null!=t&&t.search){var i=ae(null==t?void 0:t.search,\"__experiment_id\"),e=ae(null==t?void 0:t.search,\"__experiment_variant\");i&&e&&(po.Xe(\"previewing web experiments \"+i+\" && \"+e),this.getWebExperiments((t=>{this.ir(parseInt(i),e,t)}),!1,!0))}}loadIfEnabled(){this._instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(t,i,e){if(this._instance.config.disable_web_experiments&&!e)return t([]);var r=this._instance.get_property(\"$web_experiments\");if(r&&!i)return t(r);this._instance.ci({url:this._instance.requestRouter.endpointFor(\"api\",\"/api/web_experiments/?token=\"+this._instance.config.token),method:\"GET\",callback:i=>{if(200!==i.statusCode||!i.json)return t([]);var e=i.json.experiments||[];return t(e)}})}ir(t,i,e){var r=e.filter((i=>i.id===t));r&&r.length>0&&(po.Xe(\"Previewing web experiment [\"+r[0].name+\"] with variant [\"+i+\"]\"),this.Ze(r[0].name,i,r[0].variants[i].transforms))}static tr(t){return!j(t.conditions)&&(po.er(t)&&po.rr(t))}static er(t){var i;if(j(t.conditions)||j(null==(i=t.conditions)?void 0:i.url))return!0;var e,r,s,n=po.getWindowLocation();return!!n&&(null==(e=t.conditions)||!e.url||fo[null!==(r=null==(s=t.conditions)?void 0:s.urlMatchType)&&void 0!==r?r:\"icontains\"](t.conditions.url,n))}static getWindowLocation(){return null==t?void 0:t.location}static rr(t){var i;if(j(t.conditions)||j(null==(i=t.conditions)?void 0:i.utm))return!0;var e=ns();if(e.utm_source){var r,s,n,o,a,l,u,h,d=null==(r=t.conditions)||null==(r=r.utm)||!r.utm_campaign||(null==(s=t.conditions)||null==(s=s.utm)?void 0:s.utm_campaign)==e.utm_campaign,v=null==(n=t.conditions)||null==(n=n.utm)||!n.utm_source||(null==(o=t.conditions)||null==(o=o.utm)?void 0:o.utm_source)==e.utm_source,c=null==(a=t.conditions)||null==(a=a.utm)||!a.utm_medium||(null==(l=t.conditions)||null==(l=l.utm)?void 0:l.utm_medium)==e.utm_medium,f=null==(u=t.conditions)||null==(u=u.utm)||!u.utm_term||(null==(h=t.conditions)||null==(h=h.utm)?void 0:h.utm_term)==e.utm_term;return d&&c&&f&&v}return!1}static Xe(t){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];Pt.info(\"[WebExperiments] \"+t,e)}Ze(t,i,e){this._is_bot()?po.Xe(\"Refusing to render web experiment since the viewer is a likely bot\"):\"control\"!==i?e.forEach((e=>{if(e.selector){var r;po.Xe(\"applying transform of variant \"+i+\" for experiment \"+t+\" \",e);var s=null==(r=document)?void 0:r.querySelectorAll(e.selector);null==s||s.forEach((t=>{var i=t;e.html&&(i.innerHTML=e.html),e.css&&i.setAttribute(\"style\",e.css)}))}})):po.Xe(\"Control variants leave the page unmodified.\")}_is_bot(){return n&&this._instance?uo(n,this._instance.config.custom_blocked_useragents):void 0}}var go=Tt(\"[PostHog ExternalIntegrations]\"),_o={intercom:\"intercom-integration\",crispChat:\"crisp-chat-integration\"};class mo{constructor(t){this._instance=t}it(t,i){var e;null==(e=v.__PosthogExtensions__)||null==e.loadExternalDependency||e.loadExternalDependency(this._instance,t,(t=>{if(t)return go.error(\"failed to load script\",t);i()}))}startIfEnabledOrStop(){var t=this,i=function(i){var e,s,n;(!r||null!=(e=v.__PosthogExtensions__)&&null!=(e=e.integrations)&&e[i]||t.it(_o[i],(()=>{var e;null==(e=v.__PosthogExtensions__)||null==(e=e.integrations)||null==(e=e[i])||e.start(t._instance)})),!r&&null!=(s=v.__PosthogExtensions__)&&null!=(s=s.integrations)&&s[i])&&(null==(n=v.__PosthogExtensions__)||null==(n=n.integrations)||null==(n=n[i])||n.stop())};for(var[e,r]of Object.entries(null!==(s=this._instance.config.integrations)&&void 0!==s?s:{})){var s;i(e)}}}var yo=\"[SessionRecording]\",bo=Tt(yo);class wo{get started(){var t;return!(null==(t=this.sr)||!t.isStarted)}get status(){return this.sr?this.sr.status:this.nr&&!this.ar?\"disabled\":\"lazy_loading\"}constructor(t){if(this._forceAllowLocalhostNetworkCapture=!1,this.nr=!1,this.lr=void 0,this._instance=t,!this._instance.sessionManager)throw bo.error(\"started without valid sessionManager\"),new Error(yo+\" started without valid sessionManager. This is a bug.\");if(\"always\"===this._instance.config.cookieless_mode)throw new Error(yo+' cannot be used with cookieless_mode=\"always\"')}get ar(){var i,e=!(null==(i=this._instance.get_property(ei))||!i.enabled),r=!this._instance.config.disable_session_recording,s=this._instance.config.disable_session_recording||this._instance.consent.isOptedOut();return t&&e&&r&&!s}startIfEnabledOrStop(t){var i;if(!this.ar||null==(i=this.sr)||!i.isStarted){var e=!F(Object.assign)&&!F(Array.from);this.ar&&e?(this.ur(t),bo.info(\"starting\")):this.stopRecording()}}ur(t){var i,e,r;this.ar&&(null!=v&&null!=(i=v.__PosthogExtensions__)&&null!=(i=i.rrweb)&&i.record&&null!=(e=v.__PosthogExtensions__)&&e.initSessionRecording?this.hr(t):null==(r=v.__PosthogExtensions__)||null==r.loadExternalDependency||r.loadExternalDependency(this._instance,this.dr,(i=>{if(i)return bo.error(\"could not load recorder\",i);this.hr(t)})))}stopRecording(){var t,i;null==(t=this.lr)||t.call(this),this.lr=void 0,null==(i=this.sr)||i.stop()}vr(){var t;null==(t=this._instance.persistence)||t.unregister(si)}cr(t){if(this._instance.persistence){var i,e,r=this._instance.persistence,s=()=>{var i=!1===t.sessionRecording?void 0:t.sessionRecording,e=null==i?void 0:i.sampleRate,s=j(e)?null:parseFloat(e);j(s)&&this.vr();var n=null==i?void 0:i.minimumDurationMilliseconds;r.register({[ei]:g({enabled:!!i},i,{networkPayloadCapture:g({capturePerformance:t.capturePerformance},null==i?void 0:i.networkPayloadCapture),canvasRecording:{enabled:null==i?void 0:i.recordCanvas,fps:null==i?void 0:i.canvasFps,quality:null==i?void 0:i.canvasQuality},sampleRate:s,minimumDurationMilliseconds:F(n)?null:n,endpoint:null==i?void 0:i.endpoint,triggerMatchType:null==i?void 0:i.triggerMatchType,masking:null==i?void 0:i.masking,urlTriggers:null==i?void 0:i.urlTriggers})})};s(),null==(i=this.lr)||i.call(this),this.lr=null==(e=this._instance.sessionManager)?void 0:e.onSessionId(s)}}onRemoteConfig(t){\"sessionRecording\"in t?!1!==t.sessionRecording?(this.cr(t),this.nr=!0,this.startIfEnabledOrStop()):this.nr=!0:bo.info(\"skipping remote config with no sessionRecording\",t)}log(t,i){var e;void 0===i&&(i=\"log\"),null!=(e=this.sr)&&e.log?this.sr.log(t,i):bo.warn(\"log called before recorder was ready\")}get dr(){var t,i,e=null==(t=this._instance)||null==(t=t.persistence)?void 0:t.get_property(ei);return(null==e||null==(i=e.scriptConfig)?void 0:i.script)||\"lazy-recorder\"}hr(t){var i,e;if(null==(i=v.__PosthogExtensions__)||!i.initSessionRecording)throw Error(\"Called on script loaded before session recording is available\");this.sr||(this.sr=null==(e=v.__PosthogExtensions__)?void 0:e.initSessionRecording(this._instance),this.sr._forceAllowLocalhostNetworkCapture=this._forceAllowLocalhostNetworkCapture);this.sr.start(t)}onRRwebEmit(t){var i;null==(i=this.sr)||null==i.onRRwebEmit||i.onRRwebEmit(t)}overrideLinkedFlag(){var t,i;this.sr||(null==(i=this._instance.persistence)||i.register({$replay_override_linked_flag:!0}));null==(t=this.sr)||t.overrideLinkedFlag()}overrideSampling(){var t,i;this.sr||(null==(i=this._instance.persistence)||i.register({$replay_override_sampling:!0}));null==(t=this.sr)||t.overrideSampling()}overrideTrigger(t){var i,e;this.sr||(null==(e=this._instance.persistence)||e.register({[\"url\"===t?\"$replay_override_url_trigger\":\"$replay_override_event_trigger\"]:!0}));null==(i=this.sr)||i.overrideTrigger(t)}get sdkDebugProperties(){var t;return(null==(t=this.sr)?void 0:t.sdkDebugProperties)||{$recording_status:this.status}}tryAddCustomEvent(t,i){var e;return!(null==(e=this.sr)||!e.tryAddCustomEvent(t,i))}}var xo={},$o=()=>{},So=\"posthog\",Eo=!sn&&-1===(null==d?void 0:d.indexOf(\"MSIE\"))&&-1===(null==d?void 0:d.indexOf(\"Mozilla\")),ko=i=>{var e;return{api_host:\"https://us.i.posthog.com\",flags_api_host:null,ui_host:null,token:\"\",autocapture:!0,rageclick:!0,cross_subdomain_cookie:Ht(null==o?void 0:o.location),persistence:\"localStorage+cookie\",persistence_name:\"\",loaded:$o,save_campaign_params:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:\"2025-05-24\"!==i||\"history_change\",capture_pageleave:\"if_capture_pageview\",defaults:null!=i?i:\"unset\",__preview_deferred_init_extensions:!1,debug:a&&M(null==a?void 0:a.search)&&-1!==a.search.indexOf(\"__posthog_debug=true\")||!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,disable_surveys_automatic_display:!1,disable_external_dependency_loading:!1,enable_recording_console_log:void 0,secure_cookie:\"https:\"===(null==t||null==(e=t.location)?void 0:e.protocol),ip:!1,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:\"localStorage\",consent_persistence_name:null,opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,mask_personal_data_properties:!1,custom_personal_data_properties:[],advanced_disable_flags:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_only_evaluate_survey_feature_flags:!1,advanced_enable_surveys:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,surveys_request_timeout_ms:1e4,on_request_error:t=>{var i=\"Bad HTTP status: \"+t.statusCode+\" \"+t.text;Pt.error(i)},get_device_id:t=>t,capture_performance:void 0,name:\"posthog\",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:\"identified_only\",before_send:void 0,request_queue_config:{flush_interval_ms:Xn},error_tracking:{},_onCapture:$o,__preview_eager_load_replay:!1}},Po=t=>{var i={};F(t.process_person)||(i.person_profiles=t.process_person),F(t.xhr_headers)||(i.request_headers=t.xhr_headers),F(t.cookie_name)||(i.persistence_name=t.cookie_name),F(t.disable_cookie)||(i.disable_persistence=t.disable_cookie),F(t.store_google)||(i.save_campaign_params=t.store_google),F(t.verbose)||(i.debug=t.verbose);var e=Mt({},i,t);return I(t.property_blacklist)&&(F(t.property_denylist)?e.property_denylist=t.property_blacklist:I(t.property_denylist)?e.property_denylist=[...t.property_blacklist,...t.property_denylist]:Pt.error(\"Invalid value for property_denylist config: \"+t.property_denylist)),e};class To{constructor(){this.__forceAllowLocalhost=!1}get pr(){return this.__forceAllowLocalhost}set pr(t){Pt.error(\"WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`\"),this.__forceAllowLocalhost=t}}class Io{get decideEndpointWasHit(){var t,i;return null!==(t=null==(i=this.featureFlags)?void 0:i.hasLoadedFlags)&&void 0!==t&&t}get flagsEndpointWasHit(){var t,i;return null!==(t=null==(i=this.featureFlags)?void 0:i.hasLoadedFlags)&&void 0!==t&&t}constructor(){this.webPerformance=new To,this.gr=!1,this.version=c.LIB_VERSION,this._r=new jn,this._calculate_event_properties=this.calculateEventProperties.bind(this),this.config=ko(),this.SentryIntegration=Ye,this.sentryIntegration=t=>function(t,i){var e=Ke(t,i);return{name:Je,processEvent:t=>e(t)}}(this,t),this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint=\"/e/\",this.mr=!1,this.yr=null,this.br=null,this.wr=null,this.featureFlags=new En(this),this.toolbar=new ir(this),this.scrollManager=new io(this),this.pageViewManager=new ws(this),this.surveys=new Gn(this),this.experiments=new po(this),this.exceptions=new pn(this),this.rateLimiter=new Jn(this),this.requestRouter=new co(this),this.consent=new je(this),this.externalIntegrations=new mo(this),this.people={set:(t,i,e)=>{var r=M(t)?{[t]:i}:t;this.setPersonProperties(r),null==e||e({})},set_once:(t,i,e)=>{var r=M(t)?{[t]:i}:t;this.setPersonProperties(void 0,r),null==e||e({})}},this.on(\"eventCaptured\",(t=>Pt.info('send \"'+(null==t?void 0:t.event)+'\"',t)))}init(t,i,e){if(e&&e!==So){var r,s=null!==(r=xo[e])&&void 0!==r?r:new Io;return s._init(t,i,e),xo[e]=s,xo[So][e]=s,s}return this._init(t,i,e)}_init(i,e,r){var s;if(void 0===e&&(e={}),F(i)||A(i))return Pt.critical(\"PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()\"),this;if(this.__loaded)return console.warn(\"[PostHog.js]\",\"You have already initialized PostHog! Re-initializing is a no-op\"),this;this.__loaded=!0,this.config={},e.debug=this.$r(e.debug),this.Sr=e,this.Er=[],e.person_profiles&&(this.br=e.person_profiles),this.set_config(Mt({},ko(e.defaults),Po(e),{name:r,token:i})),this.config.on_xhr_error&&Pt.error(\"on_xhr_error is deprecated. Use on_request_error instead\"),this.compression=e.disable_compression?void 0:re.GZipJS;var n=this.kr();this.persistence=new Pn(this.config,n),this.sessionPersistence=\"sessionStorage\"===this.config.persistence||\"memory\"===this.config.persistence?this.persistence:new Pn(g({},this.config,{persistence:\"sessionStorage\"}),n);var o=g({},this.persistence.props),a=g({},this.sessionPersistence.props);this.register({$initialization_time:(new Date).toISOString()}),this.Pr=new Qn((t=>this.Tr(t)),this.config.request_queue_config),this.Ir=new to(this),this.__request_queue=[];var l=\"always\"===this.config.cookieless_mode||\"on_reject\"===this.config.cookieless_mode&&this.consent.isExplicitlyOptedOut();if(l||(this.sessionManager=new no(this),this.sessionPropsManager=new ro(this,this.sessionManager,this.persistence)),this.config.__preview_deferred_init_extensions?(Pt.info(\"Deferring extension initialization to improve startup performance\"),setTimeout((()=>{this.Rr(l)}),0)):(Pt.info(\"Initializing extensions synchronously\"),this.Rr(l)),c.DEBUG=c.DEBUG||this.config.debug,c.DEBUG&&Pt.info(\"Starting in debug mode\",{this:this,config:e,thisC:g({},this.config),p:o,s:a}),void 0!==(null==(s=e.bootstrap)?void 0:s.distinctID)){var u,h,d=this.config.get_device_id(xe()),v=null!=(u=e.bootstrap)&&u.isIdentifiedID?d:e.bootstrap.distinctID;this.persistence.set_property(ci,null!=(h=e.bootstrap)&&h.isIdentifiedID?\"identified\":\"anonymous\"),this.register({distinct_id:e.bootstrap.distinctID,$device_id:v})}if(this.Cr()){var f,p,_=Object.keys((null==(f=e.bootstrap)?void 0:f.featureFlags)||{}).filter((t=>{var i;return!(null==(i=e.bootstrap)||null==(i=i.featureFlags)||!i[t])})).reduce(((t,i)=>{var r;return t[i]=(null==(r=e.bootstrap)||null==(r=r.featureFlags)?void 0:r[i])||!1,t}),{}),m=Object.keys((null==(p=e.bootstrap)?void 0:p.featureFlagPayloads)||{}).filter((t=>_[t])).reduce(((t,i)=>{var r,s;null!=(r=e.bootstrap)&&null!=(r=r.featureFlagPayloads)&&r[i]&&(t[i]=null==(s=e.bootstrap)||null==(s=s.featureFlagPayloads)?void 0:s[i]);return t}),{});this.featureFlags.receivedFeatureFlags({featureFlags:_,featureFlagPayloads:m})}if(l)this.register_once({distinct_id:wi,$device_id:null},\"\");else if(!this.get_distinct_id()){var y=this.config.get_device_id(xe());this.register_once({distinct_id:y,$device_id:y},\"\"),this.persistence.set_property(ci,\"anonymous\")}return qt(t,\"onpagehide\"in self?\"pagehide\":\"unload\",this._handle_unload.bind(this),{passive:!1}),this.toolbar.maybeLoadToolbar(),e.segment?Ve(this,(()=>this.Or())):this.Or(),R(this.config._onCapture)&&this.config._onCapture!==$o&&(Pt.warn(\"onCapture is deprecated. Please use `before_send` instead\"),this.on(\"eventCaptured\",(t=>this.config._onCapture(t.event,t)))),this.config.ip&&Pt.warn('The `ip` config option has NO EFFECT AT ALL and has been deprecated. Use a custom transformation or \"Discard IP data\" project setting instead. See https://posthog.com/tutorials/web-redact-properties#hiding-customer-ip-address for more information.'),this}Rr(t){var i=performance.now();this.historyAutocapture=new We(this),this.historyAutocapture.startIfEnabled();var e=[];e.push((()=>{new rr(this).startIfEnabledOrStop()})),e.push((()=>{var t;this.siteApps=new lo(this),null==(t=this.siteApps)||t.init()})),t||e.push((()=>{this.sessionRecording=new wo(this),this.sessionRecording.startIfEnabledOrStop()})),this.config.disable_scroll_properties||e.push((()=>{this.scrollManager.startMeasuringScrollPosition()})),e.push((()=>{this.autocapture=new pe(this),this.autocapture.startIfEnabled()})),e.push((()=>{this.surveys.loadIfEnabled()})),e.push((()=>{this.heatmaps=new bs(this),this.heatmaps.startIfEnabled()})),e.push((()=>{this.webVitalsAutocapture=new _s(this)})),e.push((()=>{this.exceptionObserver=new Be(this),this.exceptionObserver.startIfEnabled()})),e.push((()=>{this.deadClicksAutocapture=new ze(this,Ue),this.deadClicksAutocapture.startIfEnabled()})),e.push((()=>{if(this.Fr){var t=this.Fr;this.Fr=void 0,this.fi(t)}})),this.Mr(e,i)}Mr(t,i){for(;t.length>0;){if(this.config.__preview_deferred_init_extensions)if(performance.now()-i>=30&&t.length>0)return void setTimeout((()=>{this.Mr(t,i)}),0);var e=t.shift();if(e)try{e()}catch(t){Pt.error(\"Error initializing extension:\",t)}}var r=Math.round(performance.now()-i);this.register_for_session({$sdk_debug_extensions_init_method:this.config.__preview_deferred_init_extensions?\"deferred\":\"synchronous\",$sdk_debug_extensions_init_time_ms:r}),this.config.__preview_deferred_init_extensions&&Pt.info(\"PostHog extensions initialized (\"+r+\"ms)\")}fi(t){var i,e,r,s,n,a,l,u;if(!o||!o.body)return Pt.info(\"document not ready yet, trying again in 500 milliseconds...\"),void setTimeout((()=>{this.fi(t)}),500);this.config.__preview_deferred_init_extensions&&(this.Fr=t),this.compression=void 0,t.supportedCompression&&!this.config.disable_compression&&(this.compression=w(t.supportedCompression,re.GZipJS)?re.GZipJS:w(t.supportedCompression,re.Base64)?re.Base64:void 0),null!=(i=t.analytics)&&i.endpoint&&(this.analyticsDefaultEndpoint=t.analytics.endpoint),this.set_config({person_profiles:this.br?this.br:\"identified_only\"}),null==(e=this.siteApps)||e.onRemoteConfig(t),null==(r=this.sessionRecording)||r.onRemoteConfig(t),null==(s=this.autocapture)||s.onRemoteConfig(t),null==(n=this.heatmaps)||n.onRemoteConfig(t),this.surveys.onRemoteConfig(t),null==(a=this.webVitalsAutocapture)||a.onRemoteConfig(t),null==(l=this.exceptionObserver)||l.onRemoteConfig(t),this.exceptions.onRemoteConfig(t),null==(u=this.deadClicksAutocapture)||u.onRemoteConfig(t)}Or(){try{this.config.loaded(this)}catch(t){Pt.critical(\"`loaded` function failed\",t)}this.Ar(),this.config.capture_pageview&&setTimeout((()=>{(this.consent.isOptedIn()||\"always\"===this.config.cookieless_mode)&&this.Dr()}),1),new Yn(this).load(),this.featureFlags.flags()}Ar(){var t;this.is_capturing()&&(this.config.request_batching&&(null==(t=this.Pr)||t.enable()))}_dom_loaded(){this.is_capturing()&&Ot(this.__request_queue,(t=>this.Tr(t))),this.__request_queue=[],this.Ar()}_handle_unload(){var t,i;this.config.request_batching?(this.jr()&&this.capture(\"$pageleave\"),null==(t=this.Pr)||t.unload(),null==(i=this.Ir)||i.unload()):this.jr()&&this.capture(\"$pageleave\",null,{transport:\"sendBeacon\"})}ci(t){this.__loaded&&(Eo?this.__request_queue.push(t):this.rateLimiter.isServerRateLimited(t.batchKey)||(t.transport=t.transport||this.config.api_transport,t.url=on(t.url,{ip:this.config.ip?1:0}),t.headers=g({},this.config.request_headers),t.compression=\"best-available\"===t.compression?this.compression:t.compression,t.disableXHRCredentials=this.config.__preview_disable_xhr_credentials,this.config.__preview_disable_beacon&&(t.disableTransport=[\"sendBeacon\"]),t.fetchOptions=t.fetchOptions||this.config.fetch_options,(t=>{var i,e,r,s=g({},t);s.timeout=s.timeout||6e4,s.url=on(s.url,{_:(new Date).getTime().toString(),ver:c.LIB_VERSION,compression:s.compression});var n=null!==(i=s.transport)&&void 0!==i?i:\"fetch\",o=un.filter((t=>!s.disableTransport||!t.transport||!s.disableTransport.includes(t.transport))),a=null!==(e=null==(r=Bt(o,(t=>t.transport===n)))?void 0:r.method)&&void 0!==e?e:o[0].method;if(!a)throw new Error(\"No available transport method\");a(s)})(g({},t,{callback:i=>{var e,r;(this.rateLimiter.checkForLimiting(i),i.statusCode>=400)&&(null==(e=(r=this.config).on_request_error)||e.call(r,i));null==t.callback||t.callback(i)}}))))}Tr(t){this.Ir?this.Ir.retriableRequest(t):this.ci(t)}_execute_array(t){var i,e=[],r=[],s=[];Ot(t,(t=>{t&&(i=t[0],I(i)?s.push(t):R(t)?t.call(this):I(t)&&\"alias\"===i?e.push(t):I(t)&&-1!==i.indexOf(\"capture\")&&R(this[i])?s.push(t):r.push(t))}));var n=function(t,i){Ot(t,(function(t){if(I(t[0])){var e=i;Ft(t,(function(t){e=e[t[0]].apply(e,t.slice(1))}))}else this[t[0]].apply(this,t.slice(1))}),i)};n(e,this),n(r,this),n(s,this)}Cr(){var t,i;return(null==(t=this.config.bootstrap)?void 0:t.featureFlags)&&Object.keys(null==(i=this.config.bootstrap)?void 0:i.featureFlags).length>0||!1}push(t){this._execute_array([t])}capture(t,i,e){var r;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this.Pr){if(this.is_capturing())if(!F(t)&&M(t)){var s=!this.config.opt_out_useragent_filter&&this._is_bot();if(!(s&&!this.config.__preview_capture_bot_pageviews)){var n=null!=e&&e.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(null==n||!n.isRateLimited){null!=i&&i.$current_url&&!M(null==i?void 0:i.$current_url)&&(Pt.error(\"Invalid `$current_url` property provided to `posthog.capture`. Input must be a string. Ignoring provided value.\"),null==i||delete i.$current_url),this.sessionPersistence.update_search_keyword(),this.config.save_campaign_params&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.save_campaign_params||this.config.save_referrer)&&this.persistence.set_initial_person_info();var o=new Date,a=(null==e?void 0:e.timestamp)||o,l=xe(),u={uuid:l,event:t,properties:this.calculateEventProperties(t,i||{},a,l)};\"$pageview\"===t&&this.config.__preview_capture_bot_pageviews&&s&&(u.event=\"$bot_pageview\",u.properties.$browser_type=\"bot\"),n&&(u.properties.$lib_rate_limit_remaining_tokens=n.remainingTokens),(null==e?void 0:e.$set)&&(u.$set=null==e?void 0:e.$set);var h,d=this.Lr(null==e?void 0:e.$set_once);if(d&&(u.$set_once=d),(u=Ut(u,null!=e&&e._noTruncate?null:this.config.properties_string_max_length)).timestamp=a,F(null==e?void 0:e.timestamp)||(u.properties.$event_time_override_provided=!0,u.properties.$event_time_override_system_time=o),t===Mn.DISMISSED||t===Mn.SENT){var v=null==i?void 0:i[An.SURVEY_ID],c=null==i?void 0:i[An.SURVEY_ITERATION];h={id:v,current_iteration:c},localStorage.getItem(Hn(h))||localStorage.setItem(Hn(h),\"true\"),u.$set=g({},u.$set,{[zn({id:v,current_iteration:c},t===Mn.SENT?\"responded\":\"dismissed\")]:!0})}var f=g({},u.properties.$set,u.$set);if(O(f)||this.setPersonPropertiesForFlags(f),!j(this.config.before_send)){var p=this.Nr(u);if(!p)return;u=p}this._r.emit(\"eventCaptured\",u);var _={method:\"POST\",url:null!==(r=null==e?void 0:e._url)&&void 0!==r?r:this.requestRouter.endpointFor(\"api\",this.analyticsDefaultEndpoint),data:u,compression:\"best-available\",batchKey:null==e?void 0:e._batchKey};return!this.config.request_batching||e&&(null==e||!e._batchKey)||null!=e&&e.send_instantly?this.Tr(_):this.Pr.enqueue(_),u}Pt.critical(\"This capture call is ignored due to client rate limiting.\")}}else Pt.error(\"No event name provided to posthog.capture\")}else Pt.uninitializedWarning(\"posthog.capture\")}Mi(t){return this.on(\"eventCaptured\",(i=>t(i.event,i)))}calculateEventProperties(t,i,e,r,s){if(e=e||new Date,!this.persistence||!this.sessionPersistence)return i;var n=s?void 0:this.persistence.remove_event_timer(t),a=g({},i);if(a.token=this.config.token,a.$config_defaults=this.config.defaults,(\"always\"==this.config.cookieless_mode||\"on_reject\"==this.config.cookieless_mode&&this.consent.isExplicitlyOptedOut())&&(a.$cookieless_mode=!0),\"$snapshot\"===t){var l=g({},this.persistence.properties(),this.sessionPersistence.properties());return a.distinct_id=l.distinct_id,(!M(a.distinct_id)&&!L(a.distinct_id)||A(a.distinct_id))&&Pt.error(\"Invalid distinct_id for replay event. This indicates a bug in your implementation\"),a}var u,h=fs(this.config.mask_personal_data_properties,this.config.custom_personal_data_properties);if(this.sessionManager){var{sessionId:v,windowId:c}=this.sessionManager.checkAndGetSessionAndWindowId(s,e.getTime());a.$session_id=v,a.$window_id=c}this.sessionPropsManager&&Mt(a,this.sessionPropsManager.getSessionProps());try{var f;this.sessionRecording&&Mt(a,this.sessionRecording.sdkDebugProperties),a.$sdk_debug_retry_queue_size=null==(f=this.Ir)?void 0:f.length}catch(t){a.$sdk_debug_error_capturing_properties=String(t)}if(this.requestRouter.region===ho.CUSTOM&&(a.$lib_custom_api_host=this.config.api_host),u=\"$pageview\"!==t||s?\"$pageleave\"!==t||s?this.pageViewManager.doEvent():this.pageViewManager.doPageLeave(e):this.pageViewManager.doPageView(e,r),a=Mt(a,u),\"$pageview\"===t&&o&&(a.title=o.title),!F(n)){var p=e.getTime()-n;a.$duration=parseFloat((p/1e3).toFixed(3))}d&&this.config.opt_out_useragent_filter&&(a.$browser_type=this._is_bot()?\"bot\":\"browser\"),(a=Mt({},h,this.persistence.properties(),this.sessionPersistence.properties(),a)).$is_identified=this._isIdentified(),I(this.config.property_denylist)?Ft(this.config.property_denylist,(function(t){delete a[t]})):Pt.error(\"Invalid value for property_denylist config: \"+this.config.property_denylist+\" or property_blacklist config: \"+this.config.property_blacklist);var _=this.config.sanitize_properties;_&&(Pt.error(\"sanitize_properties is deprecated. Use before_send instead\"),a=_(a,t));var m=this.Ur();return a.$process_person_profile=m,m&&!s&&this.zr(\"_calculate_event_properties\"),a}Lr(t){var i;if(!this.persistence||!this.Ur())return t;if(this.gr)return t;var e=this.persistence.get_initial_props(),r=null==(i=this.sessionPropsManager)?void 0:i.getSetOnceProps(),s=Mt({},e,r||{},t||{}),n=this.config.sanitize_properties;return n&&(Pt.error(\"sanitize_properties is deprecated. Use before_send instead\"),s=n(s,\"$set_once\")),this.gr=!0,O(s)?void 0:s}register(t,i){var e;null==(e=this.persistence)||e.register(t,i)}register_once(t,i,e){var r;null==(r=this.persistence)||r.register_once(t,i,e)}register_for_session(t){var i;null==(i=this.sessionPersistence)||i.register(t)}unregister(t){var i;null==(i=this.persistence)||i.unregister(t)}unregister_for_session(t){var i;null==(i=this.sessionPersistence)||i.unregister(t)}Hr(t,i){this.register({[t]:i})}getFeatureFlag(t,i){return this.featureFlags.getFeatureFlag(t,i)}getFeatureFlagPayload(t){var i=this.featureFlags.getFeatureFlagPayload(t);try{return JSON.parse(i)}catch(t){return i}}isFeatureEnabled(t,i){return this.featureFlags.isFeatureEnabled(t,i)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(t,i,e){this.featureFlags.updateEarlyAccessFeatureEnrollment(t,i,e)}getEarlyAccessFeatures(t,i,e){return void 0===i&&(i=!1),this.featureFlags.getEarlyAccessFeatures(t,i,e)}on(t,i){return this._r.on(t,i)}onFeatureFlags(t){return this.featureFlags.onFeatureFlags(t)}onSurveysLoaded(t){return this.surveys.onSurveysLoaded(t)}onSessionId(t){var i,e;return null!==(i=null==(e=this.sessionManager)?void 0:e.onSessionId(t))&&void 0!==i?i:()=>{}}getSurveys(t,i){void 0===i&&(i=!1),this.surveys.getSurveys(t,i)}getActiveMatchingSurveys(t,i){void 0===i&&(i=!1),this.surveys.getActiveMatchingSurveys(t,i)}renderSurvey(t,i){this.surveys.renderSurvey(t,i)}displaySurvey(t,i){void 0===i&&(i=qn),this.surveys.displaySurvey(t,i)}canRenderSurvey(t){return this.surveys.canRenderSurvey(t)}canRenderSurveyAsync(t,i){return void 0===i&&(i=!1),this.surveys.canRenderSurveyAsync(t,i)}identify(t,i,e){if(!this.__loaded||!this.persistence)return Pt.uninitializedWarning(\"posthog.identify\");if(L(t)&&(t=t.toString(),Pt.warn(\"The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.\")),t)if([\"distinct_id\",\"distinctid\"].includes(t.toLowerCase()))Pt.critical('The string \"'+t+'\" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.');else if(t!==wi){if(this.zr(\"posthog.identify\")){var r=this.get_distinct_id();if(this.register({$user_id:t}),!this.get_property(\"$device_id\")){var s=r;this.register_once({$had_persisted_distinct_id:!0,$device_id:s},\"\")}t!==r&&t!==this.get_property(Gt)&&(this.unregister(Gt),this.register({distinct_id:t}));var n=\"anonymous\"===(this.persistence.get_property(ci)||\"anonymous\");t!==r&&n?(this.persistence.set_property(ci,\"identified\"),this.setPersonPropertiesForFlags(g({},e||{},i||{}),!1),this.capture(\"$identify\",{distinct_id:t,$anon_distinct_id:r},{$set:i||{},$set_once:e||{}}),this.wr=dn(t,i,e),this.featureFlags.setAnonymousDistinctId(r)):(i||e)&&this.setPersonProperties(i,e),t!==r&&(this.reloadFeatureFlags(),this.unregister(vi))}}else Pt.critical('The string \"'+wi+'\" was set in posthog.identify which indicates an error. This ID is only used as a sentinel value.');else Pt.error(\"Unique user id has not been set in posthog.identify\")}setPersonProperties(t,i){if((t||i)&&this.zr(\"posthog.setPersonProperties\")){var e=dn(this.get_distinct_id(),t,i);this.wr!==e?(this.setPersonPropertiesForFlags(g({},i||{},t||{})),this.capture(\"$set\",{$set:t||{},$set_once:i||{}}),this.wr=e):Pt.info(\"A duplicate setPersonProperties call was made with the same properties. It has been ignored.\")}}group(t,i,e){if(t&&i){if(this.zr(\"posthog.group\")){var r=this.getGroups();r[t]!==i&&this.resetGroupPropertiesForFlags(t),this.register({$groups:g({},r,{[t]:i})}),e&&(this.capture(\"$groupidentify\",{$group_type:t,$group_key:i,$group_set:e}),this.setGroupPropertiesForFlags({[t]:e})),r[t]===i||e||this.reloadFeatureFlags()}}else Pt.error(\"posthog.group requires a group type and group key\")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(t,i){void 0===i&&(i=!0),this.featureFlags.setPersonPropertiesForFlags(t,i)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(t,i){void 0===i&&(i=!0),this.zr(\"posthog.setGroupPropertiesForFlags\")&&this.featureFlags.setGroupPropertiesForFlags(t,i)}resetGroupPropertiesForFlags(t){this.featureFlags.resetGroupPropertiesForFlags(t)}reset(t){var i,e,r,s;if(Pt.info(\"reset\"),!this.__loaded)return Pt.uninitializedWarning(\"posthog.reset\");var n=this.get_property(\"$device_id\");if(this.consent.reset(),null==(i=this.persistence)||i.clear(),null==(e=this.sessionPersistence)||e.clear(),this.surveys.reset(),this.featureFlags.reset(),null==(r=this.persistence)||r.set_property(ci,\"anonymous\"),null==(s=this.sessionManager)||s.resetSessionId(),this.wr=null,\"always\"===this.config.cookieless_mode)this.register_once({distinct_id:wi,$device_id:null},\"\");else{var o=this.config.get_device_id(xe());this.register_once({distinct_id:o,$device_id:t?o:n},\"\")}this.register({$last_posthog_reset:(new Date).toISOString()},1)}get_distinct_id(){return this.get_property(\"distinct_id\")}getGroups(){return this.get_property(\"$groups\")||{}}get_session_id(){var t,i;return null!==(t=null==(i=this.sessionManager)?void 0:i.checkAndGetSessionAndWindowId(!0).sessionId)&&void 0!==t?t:\"\"}get_session_replay_url(t){if(!this.sessionManager)return\"\";var{sessionId:i,sessionStartTimestamp:e}=this.sessionManager.checkAndGetSessionAndWindowId(!0),r=this.requestRouter.endpointFor(\"ui\",\"/project/\"+this.config.token+\"/replay/\"+i);if(null!=t&&t.withTimestamp&&e){var s,n=null!==(s=t.timestampLookBack)&&void 0!==s?s:10;if(!e)return r;r+=\"?t=\"+Math.max(Math.floor(((new Date).getTime()-e)/1e3)-n,0)}return r}alias(t,i){return t===this.get_property(Wt)?(Pt.critical(\"Attempting to create alias for existing People user - aborting.\"),-2):this.zr(\"posthog.alias\")?(F(i)&&(i=this.get_distinct_id()),t!==i?(this.Hr(Gt,t),this.capture(\"$create_alias\",{alias:t,distinct_id:i})):(Pt.warn(\"alias matches current distinct_id - skipping api call.\"),this.identify(t),-1)):void 0}set_config(t){var i=g({},this.config);if(C(t)){var e,r,s,n,o;Mt(this.config,Po(t));var a=this.kr();null==(e=this.persistence)||e.update_config(this.config,i,a),this.sessionPersistence=\"sessionStorage\"===this.config.persistence||\"memory\"===this.config.persistence?this.persistence:new Pn(g({},this.config,{persistence:\"sessionStorage\"}),a);var l=this.$r(this.config.debug);N(l)&&(this.config.debug=l),N(this.config.debug)&&(this.config.debug?(c.DEBUG=!0,Ie.H()&&Ie.G(\"ph_debug\",\"true\"),Pt.info(\"set_config\",{config:t,oldConfig:i,newConfig:g({},this.config)})):(c.DEBUG=!1,Ie.H()&&Ie.V(\"ph_debug\"))),null==(r=this.sessionRecording)||r.startIfEnabledOrStop(),null==(s=this.autocapture)||s.startIfEnabled(),null==(n=this.heatmaps)||n.startIfEnabled(),this.surveys.loadIfEnabled(),this.Br(),null==(o=this.externalIntegrations)||o.startIfEnabledOrStop()}}startSessionRecording(t){var i=!0===t,e={sampling:i||!(null==t||!t.sampling),linked_flag:i||!(null==t||!t.linked_flag),url_trigger:i||!(null==t||!t.url_trigger),event_trigger:i||!(null==t||!t.event_trigger)};if(Object.values(e).some(Boolean)){var r,s,n,o,a;if(null==(r=this.sessionManager)||r.checkAndGetSessionAndWindowId(),e.sampling)null==(s=this.sessionRecording)||s.overrideSampling();if(e.linked_flag)null==(n=this.sessionRecording)||n.overrideLinkedFlag();if(e.url_trigger)null==(o=this.sessionRecording)||o.overrideTrigger(\"url\");if(e.event_trigger)null==(a=this.sessionRecording)||a.overrideTrigger(\"event\")}this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var t;return!(null==(t=this.sessionRecording)||!t.started)}captureException(t,i){var e=new Error(\"PostHog syntheticException\"),r=this.exceptions.buildProperties(t,{handled:!0,syntheticException:e});return this.exceptions.sendExceptionEvent(g({},r,i))}loadToolbar(t){return this.toolbar.loadToolbar(t)}get_property(t){var i;return null==(i=this.persistence)?void 0:i.props[t]}getSessionProperty(t){var i;return null==(i=this.sessionPersistence)?void 0:i.props[t]}toString(){var t,i=null!==(t=this.config.name)&&void 0!==t?t:So;return i!==So&&(i=So+\".\"+i),i}_isIdentified(){var t,i;return\"identified\"===(null==(t=this.persistence)?void 0:t.get_property(ci))||\"identified\"===(null==(i=this.sessionPersistence)?void 0:i.get_property(ci))}Ur(){var t,i;return!(\"never\"===this.config.person_profiles||\"identified_only\"===this.config.person_profiles&&!this._isIdentified()&&O(this.getGroups())&&(null==(t=this.persistence)||null==(t=t.props)||!t[Gt])&&(null==(i=this.persistence)||null==(i=i.props)||!i[yi]))}jr(){return!0===this.config.capture_pageleave||\"if_capture_pageview\"===this.config.capture_pageleave&&(!0===this.config.capture_pageview||\"history_change\"===this.config.capture_pageview)}createPersonProfile(){this.Ur()||this.zr(\"posthog.createPersonProfile\")&&this.setPersonProperties({},{})}zr(t){return\"never\"===this.config.person_profiles?(Pt.error(t+' was called, but process_person is set to \"never\". This call will be ignored.'),!1):(this.Hr(yi,!0),!0)}kr(){if(\"always\"===this.config.cookieless_mode)return!0;var t=this.consent.isOptedOut(),i=this.config.opt_out_persistence_by_default||\"on_reject\"===this.config.cookieless_mode;return this.config.disable_persistence||t&&!!i}Br(){var t,i,e,r,s=this.kr();(null==(t=this.persistence)?void 0:t.wi)!==s&&(null==(e=this.persistence)||e.set_disabled(s));(null==(i=this.sessionPersistence)?void 0:i.wi)!==s&&(null==(r=this.sessionPersistence)||r.set_disabled(s));return s}opt_in_capturing(t){if(\"always\"!==this.config.cookieless_mode){var i,e;if(\"on_reject\"===this.config.cookieless_mode&&this.consent.isExplicitlyOptedOut())this.reset(!0),null==(i=this.sessionManager)||i.destroy(),this.sessionManager=new no(this),this.persistence&&(this.sessionPropsManager=new ro(this,this.sessionManager,this.persistence)),this.sessionRecording=new wo(this),this.sessionRecording.startIfEnabledOrStop();if(this.consent.optInOut(!0),this.Br(),this.Ar(),\"on_reject\"==this.config.cookieless_mode&&this.surveys.loadIfEnabled(),F(null==t?void 0:t.captureEventName)||null!=t&&t.captureEventName)this.capture(null!==(e=null==t?void 0:t.captureEventName)&&void 0!==e?e:\"$opt_in\",null==t?void 0:t.captureProperties,{send_instantly:!0});this.config.capture_pageview&&this.Dr()}else Pt.warn('Consent opt in/out is not valid with cookieless_mode=\"always\" and will be ignored')}opt_out_capturing(){var t,i;\"always\"!==this.config.cookieless_mode?(\"on_reject\"===this.config.cookieless_mode&&this.consent.isOptedIn()&&this.reset(!0),this.consent.optInOut(!1),this.Br(),\"on_reject\"===this.config.cookieless_mode&&(this.register({distinct_id:wi,$device_id:null}),null==(t=this.sessionManager)||t.destroy(),this.sessionManager=void 0,this.sessionPropsManager=void 0,null==(i=this.sessionRecording)||i.stopRecording(),this.sessionRecording=void 0,this.Dr())):Pt.warn('Consent opt in/out is not valid with cookieless_mode=\"always\" and will be ignored')}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}get_explicit_consent_status(){var t=this.consent.consent;return t===De.GRANTED?\"granted\":t===De.DENIED?\"denied\":\"pending\"}is_capturing(){return\"always\"===this.config.cookieless_mode||(\"on_reject\"===this.config.cookieless_mode?this.consent.isExplicitlyOptedOut()||this.consent.isOptedIn():!this.has_opted_out_capturing())}clear_opt_in_out_capturing(){this.consent.reset(),this.Br()}_is_bot(){return n?uo(n,this.config.custom_blocked_useragents):void 0}Dr(){o&&(\"visible\"===o.visibilityState?this.mr||(this.mr=!0,this.capture(\"$pageview\",{title:o.title},{send_instantly:!0}),this.yr&&(o.removeEventListener(\"visibilitychange\",this.yr),this.yr=null)):this.yr||(this.yr=this.Dr.bind(this),qt(o,\"visibilitychange\",this.yr)))}debug(i){!1===i?(null==t||t.console.log(\"You've disabled debug mode.\"),this.set_config({debug:!1})):(null==t||t.console.log(\"You're now in debug mode. All calls to PostHog will be logged in your console.\\nYou can disable this with `posthog.debug(false)`.\"),this.set_config({debug:!0}))}M(){var t,i,e,r,s,n,o,a=this.Sr||{};return\"advanced_disable_flags\"in a?!!a.advanced_disable_flags:!1!==this.config.advanced_disable_flags?!!this.config.advanced_disable_flags:!0===this.config.advanced_disable_decide?(Pt.warn(\"Config field 'advanced_disable_decide' is deprecated. Please use 'advanced_disable_flags' instead. The old field will be removed in a future major version.\"),!0):(e=\"advanced_disable_decide\",r=!1,s=Pt,n=(i=\"advanced_disable_flags\")in(t=a)&&!F(t[i]),o=e in t&&!F(t[e]),n?t[i]:o?(s&&s.warn(\"Config field '\"+e+\"' is deprecated. Please use '\"+i+\"' instead. The old field will be removed in a future major version.\"),t[e]):r)}Nr(t){if(j(this.config.before_send))return t;var i=I(this.config.before_send)?this.config.before_send:[this.config.before_send],e=t;for(var r of i){if(e=r(e),j(e)){var s=\"Event '\"+t.event+\"' was rejected in beforeSend function\";return z(t.event)?Pt.warn(s+\". This can cause unexpected behavior.\"):Pt.info(s),null}e.properties&&!O(e.properties)||Pt.warn(\"Event '\"+t.event+\"' has no properties after beforeSend function, this is likely an error.\")}return e}getPageViewId(){var t;return null==(t=this.pageViewManager.Vt)?void 0:t.pageViewId}captureTraceFeedback(t,i){this.capture(\"$ai_feedback\",{$ai_trace_id:String(t),$ai_feedback_text:i})}captureTraceMetric(t,i,e){this.capture(\"$ai_metric\",{$ai_trace_id:String(t),$ai_metric_name:i,$ai_metric_value:String(e)})}$r(t){var i=N(t)&&!t,e=Ie.H()&&\"true\"===Ie.q(\"ph_debug\");return!i&&(!!e||t)}}!function(t,i){for(var e=0;e<i.length;e++)t.prototype[i[e]]=Lt(t.prototype[i[e]])}(Io,[\"identify\"]);var Ro,Co=(Ro=xo[So]=new Io,function(){function i(){i.done||(i.done=!0,Eo=!1,Ft(xo,(function(t){t._dom_loaded()})))}null!=o&&o.addEventListener?\"complete\"===o.readyState?i():qt(o,\"DOMContentLoaded\",i,{capture:!1}):t&&Pt.error(\"Browser doesn't support `document.addEventListener` so PostHog couldn't be initialized\")}(),Ro);\n//# sourceMappingURL=module.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcG9zdGhvZy1qcy9kaXN0L21vZHVsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxpYUFBaWEsSUFBSSxnQ0FBZ0MsMEJBQTBCLElBQUksd0JBQXdCLFNBQVMsaUJBQWlCLHlDQUF5QyxjQUFjLGtCQUFrQix1QkFBdUIsa0NBQWtDLG1CQUFtQixjQUFjLHNCQUFzQixjQUFjLHVCQUF1QixVQUFVLElBQUksYUFBYSx3REFBd0QsWUFBWSxtQkFBbUIsS0FBSyxtQkFBbUIsa0JBQWtCLHdDQUF3QyxTQUFTLHlCQUF5QixnQkFBZ0Isb0JBQW9CLFNBQVMsb0JBQW9CLDJCQUEyQiw4QkFBOEIsVUFBVSxTQUFTLCttQkFBK21CLGlpQkFBaWlCLGtDQUFrQyxzQkFBc0IsNkJBQTZCLHNCQUFzQix3QkFBd0IsR0FBRyx5UEFBeVAsZ0JBQWdCLHdCQUF3QixrQkFBa0IsZ0JBQWdCLGVBQWUsNEJBQTRCLHdGQUF3RixtQ0FBbUMsMkRBQTJELFNBQVMsdUNBQXVDLFNBQVMsU0FBUyw2TkFBNk4sY0FBYyxvQ0FBb0MsZ0JBQWdCLDREQUE0RCxjQUFjLCtCQUErQixJQUFJLHNCQUFzQixTQUFTLFVBQVUsVUFBVSxvRUFBb0Usc0JBQXNCLDRUQUE0VCxRQUFRLGVBQWUsU0FBUyx3SEFBd0gsT0FBTyw0Q0FBNEMsUUFBUSxlQUFlLHlFQUF5RSxvQkFBb0IsMkNBQTJDLHlCQUF5QiwyQkFBMkIsdUdBQXVHLE9BQU8sV0FBVyxrQ0FBa0MsZUFBZSxrQ0FBa0MsTUFBTSxxQkFBcUIsd0RBQXdELFFBQVEsRUFBRSxXQUFXLGtCQUFrQixpQ0FBaUMsS0FBSyxLQUFLLDhDQUE4QyxTQUFTLGtCQUFrQixPQUFPLFNBQVMsSUFBSSxNQUFNLFdBQVcscUJBQXFCLE9BQU8sZ0ZBQWdGLDhDQUE4QyxlQUFlLGtGQUFrRiw2R0FBNkcsdU9BQXVPLGlCQUFpQixNQUFNLGNBQWMsc0JBQXNCLGlCQUFpQixNQUFNLG1DQUFtQyxvQkFBb0Is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SSxnQ0FBZ0MsbW1CQUFtbUIsTUFBTSx1Q0FBdUMsdUZBQXVGLGdCQUFnQixnQkFBZ0IsZ0VBQWdFLHFGQUFxRixxSUFBcUksU0FBUyxnQkFBZ0IsTUFBTSw2REFBNkQsMEJBQTBCLDZCQUE2QiwyQ0FBMkMsRUFBRSwwQkFBMEIsMkJBQTJCLG9FQUFvRSxFQUFFLE1BQU0sbURBQW1ELG9CQUFvQixlQUFlLFlBQVksV0FBVyw0Q0FBNEMsa0JBQWtCLHVDQUF1QyxhQUFhLDRDQUE0QyxnQkFBZ0IsSUFBSSxxRkFBcUYsV0FBVyx3R0FBd0csT0FBb1Y7QUFDcjk2SiIsInNvdXJjZXMiOlsid2VicGFjazovL3JlcHJhbGx5LW9uYm9hcmRpbmcvLi9ub2RlX21vZHVsZXMvcG9zdGhvZy1qcy9kaXN0L21vZHVsZS5qcz8zYTk2Il0sInNvdXJjZXNDb250ZW50IjpbInZhciB0PVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OnZvaWQgMCxpPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6dCxlPUFycmF5LnByb3RvdHlwZSxyPWUuZm9yRWFjaCxzPWUuaW5kZXhPZixuPW51bGw9PWk/dm9pZCAwOmkubmF2aWdhdG9yLG89bnVsbD09aT92b2lkIDA6aS5kb2N1bWVudCxhPW51bGw9PWk/dm9pZCAwOmkubG9jYXRpb24sbD1udWxsPT1pP3ZvaWQgMDppLmZldGNoLHU9bnVsbCE9aSYmaS5YTUxIdHRwUmVxdWVzdCYmXCJ3aXRoQ3JlZGVudGlhbHNcImluIG5ldyBpLlhNTEh0dHBSZXF1ZXN0P2kuWE1MSHR0cFJlcXVlc3Q6dm9pZCAwLGg9bnVsbD09aT92b2lkIDA6aS5BYm9ydENvbnRyb2xsZXIsZD1udWxsPT1uP3ZvaWQgMDpuLnVzZXJBZ2VudCx2PW51bGwhPXQ/dDp7fSxjPXtERUJVRzohMSxMSUJfVkVSU0lPTjpcIjEuMjkwLjBcIn07ZnVuY3Rpb24gZih0LGksZSxyLHMsbixvKXt0cnl7dmFyIGE9dFtuXShvKSxsPWEudmFsdWV9Y2F0Y2godCl7cmV0dXJuIHZvaWQgZSh0KX1hLmRvbmU/aShsKTpQcm9taXNlLnJlc29sdmUobCkudGhlbihyLHMpfWZ1bmN0aW9uIHAodCl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGk9dGhpcyxlPWFyZ3VtZW50cztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHIscyl7dmFyIG49dC5hcHBseShpLGUpO2Z1bmN0aW9uIG8odCl7ZihuLHIscyxvLGEsXCJuZXh0XCIsdCl9ZnVuY3Rpb24gYSh0KXtmKG4scixzLG8sYSxcInRocm93XCIsdCl9byh2b2lkIDApfSkpfX1mdW5jdGlvbiBnKCl7cmV0dXJuIGc9T2JqZWN0LmFzc2lnbj9PYmplY3QuYXNzaWduLmJpbmQoKTpmdW5jdGlvbih0KXtmb3IodmFyIGk9MTtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKXt2YXIgZT1hcmd1bWVudHNbaV07Zm9yKHZhciByIGluIGUpKHt9KS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pfXJldHVybiB0fSxnLmFwcGx5KG51bGwsYXJndW1lbnRzKX1mdW5jdGlvbiBfKHQsaSl7aWYobnVsbD09dClyZXR1cm57fTt2YXIgZT17fTtmb3IodmFyIHIgaW4gdClpZih7fS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikpe2lmKC0xIT09aS5pbmRleE9mKHIpKWNvbnRpbnVlO2Vbcl09dFtyXX1yZXR1cm4gZX12YXIgbT1bXCJhbWF6b25ib3RcIixcImFtYXpvbnByb2R1Y3Rib3RcIixcImFwcC5oeXBlZmFjdG9ycy5jb21cIixcImFwcGxlYm90XCIsXCJhcmNoaXZlLm9yZ19ib3RcIixcImF3YXJpb2JvdFwiLFwiYmFja2xpbmtzZXh0ZW5kZWRib3RcIixcImJhaWR1c3BpZGVyXCIsXCJiaW5nYm90XCIsXCJiaW5ncHJldmlld1wiLFwiY2hyb21lLWxpZ2h0aG91c2VcIixcImRhdGFmb3JzZW9ib3RcIixcImRlZXBzY2FuXCIsXCJkdWNrZHVja2JvdFwiLFwiZmFjZWJvb2tleHRlcm5hbFwiLFwiZmFjZWJvb2tjYXRhbG9nXCIsXCJodHRwOi8veWFuZGV4LmNvbS9ib3RzXCIsXCJodWJzcG90XCIsXCJpYV9hcmNoaXZlclwiLFwibGVpa2lib3RcIixcImxpbmtlZGluYm90XCIsXCJtZXRhLWV4dGVybmFsYWdlbnRcIixcIm1qMTJib3RcIixcIm1zbmJvdFwiLFwibmVzc3VzXCIsXCJwZXRhbGJvdFwiLFwicGludGVyZXN0XCIsXCJwcmVyZW5kZXJcIixcInJvZ2VyYm90XCIsXCJzY3JlYW1pbmcgZnJvZ1wiLFwic2Vib3Qtd2FcIixcInNpdGVidWxiXCIsXCJzbGFja2JvdFwiLFwic2x1cnBcIixcInRyZW5kaWN0aW9uYm90XCIsXCJ0dXJuaXRpblwiLFwidHdpdHRlcmJvdFwiLFwidmVyY2VsLXNjcmVlbnNob3RcIixcInZlcmNlbGJvdFwiLFwieWFob28hIHNsdXJwXCIsXCJ5YW5kZXhib3RcIixcInpvb21ib3RcIixcImJvdC5odG1cIixcImJvdC5waHBcIixcIihib3Q7XCIsXCJib3QvXCIsXCJjcmF3bGVyXCIsXCJhaHJlZnNib3RcIixcImFocmVmc3NpdGVhdWRpdFwiLFwic2VtcnVzaGJvdFwiLFwic2l0ZWF1ZGl0Ym90XCIsXCJzcGxpdHNpZ25hbGJvdFwiLFwiZ3B0Ym90XCIsXCJvYWktc2VhcmNoYm90XCIsXCJjaGF0Z3B0LXVzZXJcIixcInBlcnBsZXhpdHlib3RcIixcImJldHRlciB1cHRpbWUgYm90XCIsXCJzZW50cnl1cHRpbWVib3RcIixcInVwdGltZXJvYm90XCIsXCJoZWFkbGVzc2Nocm9tZVwiLFwiY3lwcmVzc1wiLFwiZ29vZ2xlLWhvdGVsYWRzdmVyaWZpZXJcIixcImFkc2JvdC1nb29nbGVcIixcImFwaXMtZ29vZ2xlXCIsXCJkdXBsZXh3ZWItZ29vZ2xlXCIsXCJmZWVkZmV0Y2hlci1nb29nbGVcIixcImdvb2dsZSBmYXZpY29uXCIsXCJnb29nbGUgd2ViIHByZXZpZXdcIixcImdvb2dsZS1yZWFkLWFsb3VkXCIsXCJnb29nbGVib3RcIixcImdvb2dsZW90aGVyXCIsXCJnb29nbGUtY2xvdWR2ZXJ0ZXhib3RcIixcImdvb2dsZXdlYmxpZ2h0XCIsXCJtZWRpYXBhcnRuZXJzLWdvb2dsZVwiLFwic3RvcmVib3QtZ29vZ2xlXCIsXCJnb29nbGUtaW5zcGVjdGlvbnRvb2xcIixcImJ5dGVzcGlkZXJcIl0seT1mdW5jdGlvbih0LGkpe2lmKHZvaWQgMD09PWkmJihpPVtdKSwhdClyZXR1cm4hMTt2YXIgZT10LnRvTG93ZXJDYXNlKCk7cmV0dXJuIG0uY29uY2F0KGkpLnNvbWUoKHQ9Pnt2YXIgaT10LnRvTG93ZXJDYXNlKCk7cmV0dXJuLTEhPT1lLmluZGV4T2YoaSl9KSl9LGI9W1wiJHNuYXBzaG90XCIsXCIkcGFnZXZpZXdcIixcIiRwYWdlbGVhdmVcIixcIiRzZXRcIixcInN1cnZleSBkaXNtaXNzZWRcIixcInN1cnZleSBzZW50XCIsXCJzdXJ2ZXkgc2hvd25cIixcIiRpZGVudGlmeVwiLFwiJGdyb3VwaWRlbnRpZnlcIixcIiRjcmVhdGVfYWxpYXNcIixcIiQkY2xpZW50X2luZ2VzdGlvbl93YXJuaW5nXCIsXCIkd2ViX2V4cGVyaW1lbnRfYXBwbGllZFwiLFwiJGZlYXR1cmVfZW5yb2xsbWVudF91cGRhdGVcIixcIiRmZWF0dXJlX2ZsYWdfY2FsbGVkXCJdO2Z1bmN0aW9uIHcodCxpKXtyZXR1cm4tMSE9PXQuaW5kZXhPZihpKX12YXIgeD1mdW5jdGlvbih0KXtyZXR1cm4gdC50cmltKCl9LFM9ZnVuY3Rpb24odCl7cmV0dXJuIHQucmVwbGFjZSgvXlxcJC8sXCJcIil9O3ZhciBFPUFycmF5LmlzQXJyYXksaz1PYmplY3QucHJvdG90eXBlLFA9ay5oYXNPd25Qcm9wZXJ0eSxUPWsudG9TdHJpbmcsST1FfHxmdW5jdGlvbih0KXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PT1ULmNhbGwodCl9LFI9dD0+XCJmdW5jdGlvblwiPT10eXBlb2YgdCxDPXQ9PnQ9PT1PYmplY3QodCkmJiFJKHQpLE89dD0+e2lmKEModCkpe2Zvcih2YXIgaSBpbiB0KWlmKFAuY2FsbCh0LGkpKXJldHVybiExO3JldHVybiEwfXJldHVybiExfSxGPXQ9PnZvaWQgMD09PXQsTT10PT5cIltvYmplY3QgU3RyaW5nXVwiPT1ULmNhbGwodCksQT10PT5NKHQpJiYwPT09dC50cmltKCkubGVuZ3RoLEQ9dD0+bnVsbD09PXQsaj10PT5GKHQpfHxEKHQpLEw9dD0+XCJbb2JqZWN0IE51bWJlcl1cIj09VC5jYWxsKHQpLE49dD0+XCJbb2JqZWN0IEJvb2xlYW5dXCI9PT1ULmNhbGwodCksVT10PT50IGluc3RhbmNlb2YgRm9ybURhdGEsej10PT53KGIsdCk7ZnVuY3Rpb24gSCh0KXtyZXR1cm4gbnVsbD09PXR8fFwib2JqZWN0XCIhPXR5cGVvZiB0fWZ1bmN0aW9uIEIodCxpKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpPT09XCJbb2JqZWN0IFwiK2krXCJdXCJ9ZnVuY3Rpb24gcSh0KXtyZXR1cm4hRihFdmVudCkmJmZ1bmN0aW9uKHQsaSl7dHJ5e3JldHVybiB0IGluc3RhbmNlb2YgaX1jYXRjaCh0KXtyZXR1cm4hMX19KHQsRXZlbnQpfXZhciBXPVshMCxcInRydWVcIiwxLFwiMVwiLFwieWVzXCJdLEc9dD0+dyhXLHQpLFY9WyExLFwiZmFsc2VcIiwwLFwiMFwiLFwibm9cIl07ZnVuY3Rpb24gSih0LGksZSxyLHMpe3JldHVybiBpPmUmJihyLndhcm4oXCJtaW4gY2Fubm90IGJlIGdyZWF0ZXIgdGhhbiBtYXguXCIpLGk9ZSksTCh0KT90PmU/KHIud2FybihcIiBjYW5ub3QgYmUgIGdyZWF0ZXIgdGhhbiBtYXg6IFwiK2UrXCIuIFVzaW5nIG1heCB2YWx1ZSBpbnN0ZWFkLlwiKSxlKTp0PGk/KHIud2FybihcIiBjYW5ub3QgYmUgbGVzcyB0aGFuIG1pbjogXCIraStcIi4gVXNpbmcgbWluIHZhbHVlIGluc3RlYWQuXCIpLGkpOnQ6KHIud2FybihcIiBtdXN0IGJlIGEgbnVtYmVyLiB1c2luZyBtYXggb3IgZmFsbGJhY2suIG1heDogXCIrZStcIiwgZmFsbGJhY2s6IFwiK3MpLEooc3x8ZSxpLGUscikpfWNsYXNzIEt7Y29uc3RydWN0b3IodCl7dGhpcy50PXt9LHRoaXMuaT10LmksdGhpcy5vPUoodC5idWNrZXRTaXplLDAsMTAwLHQuaCksdGhpcy5tPUoodC5yZWZpbGxSYXRlLDAsdGhpcy5vLHQuaCksdGhpcy4kPUoodC5yZWZpbGxJbnRlcnZhbCwwLDg2NGU1LHQuaCl9Uyh0LGkpe3ZhciBlPWktdC5sYXN0QWNjZXNzLHI9TWF0aC5mbG9vcihlL3RoaXMuJCk7aWYocj4wKXt2YXIgcz1yKnRoaXMubTt0LnRva2Vucz1NYXRoLm1pbih0LnRva2VucytzLHRoaXMubyksdC5sYXN0QWNjZXNzPXQubGFzdEFjY2VzcytyKnRoaXMuJH19Y29uc3VtZVJhdGVMaW1pdCh0KXt2YXIgaSxlPURhdGUubm93KCkscj1TdHJpbmcodCkscz10aGlzLnRbcl07cmV0dXJuIHM/dGhpcy5TKHMsZSk6KHM9e3Rva2Vuczp0aGlzLm8sbGFzdEFjY2VzczplfSx0aGlzLnRbcl09cyksMD09PXMudG9rZW5zfHwocy50b2tlbnMtLSwwPT09cy50b2tlbnMmJihudWxsPT0oaT10aGlzLmkpfHxpLmNhbGwodGhpcyx0KSksMD09PXMudG9rZW5zKX1zdG9wKCl7dGhpcy50PXt9fX12YXIgWSxYLFEsWj10PT50IGluc3RhbmNlb2YgRXJyb3I7ZnVuY3Rpb24gdHQodCl7dmFyIGk9Z2xvYmFsVGhpcy5fcG9zdGhvZ0NodW5rSWRzO2lmKGkpe3ZhciBlPU9iamVjdC5rZXlzKGkpO3JldHVybiBRJiZlLmxlbmd0aD09PVh8fChYPWUubGVuZ3RoLFE9ZS5yZWR1Y2UoKChlLHIpPT57WXx8KFk9e30pO3ZhciBzPVlbcl07aWYocyllW3NbMF1dPXNbMV07ZWxzZSBmb3IodmFyIG49dChyKSxvPW4ubGVuZ3RoLTE7bz49MDtvLS0pe3ZhciBhPW5bb10sbD1udWxsPT1hP3ZvaWQgMDphLmZpbGVuYW1lLHU9aVtyXTtpZihsJiZ1KXtlW2xdPXUsWVtyXT1bbCx1XTticmVha319cmV0dXJuIGV9KSx7fSkpLFF9fXZhciBpdD1cIj9cIjtmdW5jdGlvbiBldCh0LGksZSxyKXt2YXIgcz17cGxhdGZvcm06XCJ3ZWI6amF2YXNjcmlwdFwiLGZpbGVuYW1lOnQsZnVuY3Rpb246XCI8YW5vbnltb3VzPlwiPT09aT9pdDppLGluX2FwcDohMH07cmV0dXJuIEYoZSl8fChzLmxpbmVubz1lKSxGKHIpfHwocy5jb2xubz1yKSxzfXZhciBydD0odCxpKT0+e3ZhciBlPS0xIT09dC5pbmRleE9mKFwic2FmYXJpLWV4dGVuc2lvblwiKSxyPS0xIT09dC5pbmRleE9mKFwic2FmYXJpLXdlYi1leHRlbnNpb25cIik7cmV0dXJuIGV8fHI/Wy0xIT09dC5pbmRleE9mKFwiQFwiKT90LnNwbGl0KFwiQFwiKVswXTppdCxlP1wic2FmYXJpLWV4dGVuc2lvbjpcIitpOlwic2FmYXJpLXdlYi1leHRlbnNpb246XCIraV06W3QsaV19LHN0PS9eXFxzKmF0IChcXFMrPykoPzo6KFxcZCspKSg/OjooXFxkKykpXFxzKiQvaSxudD0vXlxccyphdCAoPzooLis/XFwpKD86IFxcWy4rXFxdKT98Lio/KSA/XFwoKD86YWRkcmVzcyBhdCApPyk/KD86YXN5bmMgKT8oKD86PGFub255bW91cz58Wy1hLXpdKzp8LipidW5kbGV8XFwvKT8uKj8pKD86OihcXGQrKSk/KD86OihcXGQrKSk/XFwpP1xccyokL2ksb3Q9L1xcKChcXFMqKSg/OjooXFxkKykpKD86OihcXGQrKSlcXCkvLGF0PXQ9Pnt2YXIgaT1zdC5leGVjKHQpO2lmKGkpe3ZhclssZSxyLHNdPWk7cmV0dXJuIGV0KGUsaXQsK3IsK3MpfXZhciBuPW50LmV4ZWModCk7aWYobil7aWYoblsyXSYmMD09PW5bMl0uaW5kZXhPZihcImV2YWxcIikpe3ZhciBvPW90LmV4ZWMoblsyXSk7byYmKG5bMl09b1sxXSxuWzNdPW9bMl0sbls0XT1vWzNdKX12YXJbYSxsXT1ydChuWzFdfHxpdCxuWzJdKTtyZXR1cm4gZXQobCxhLG5bM10/K25bM106dm9pZCAwLG5bNF0/K25bNF06dm9pZCAwKX19LGx0PS9eXFxzKiguKj8pKD86XFwoKC4qPylcXCkpPyg/Ol58QCk/KCg/OlstYS16XSspPzpcXC8uKj98XFxbbmF0aXZlIGNvZGVcXF18W15AXSooPzpidW5kbGV8XFxkK1xcLmpzKXxcXC9bXFx3XFwtLiAvPV0rKSg/OjooXFxkKykpPyg/OjooXFxkKykpP1xccyokL2ksdXQ9LyhcXFMrKSBsaW5lIChcXGQrKSg/OiA+IGV2YWwgbGluZSBcXGQrKSogPiBldmFsL2ksaHQ9dD0+e3ZhciBpPWx0LmV4ZWModCk7aWYoaSl7aWYoaVszXSYmaVszXS5pbmRleE9mKFwiID4gZXZhbFwiKT4tMSl7dmFyIGU9dXQuZXhlYyhpWzNdKTtlJiYoaVsxXT1pWzFdfHxcImV2YWxcIixpWzNdPWVbMV0saVs0XT1lWzJdLGlbNV09XCJcIil9dmFyIHI9aVszXSxzPWlbMV18fGl0O3JldHVybltzLHJdPXJ0KHMsciksZXQocixzLGlbNF0/K2lbNF06dm9pZCAwLGlbNV0/K2lbNV06dm9pZCAwKX19LGR0PS9cXChlcnJvcjogKC4qKVxcKS8sdnQ9NTA7ZnVuY3Rpb24gY3QoKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxpPW5ldyBBcnJheSh0KSxlPTA7ZTx0O2UrKylpW2VdPWFyZ3VtZW50c1tlXTtyZXR1cm4gZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT0wKTtmb3IodmFyIHI9W10scz10LnNwbGl0KFwiXFxuXCIpLG49ZTtuPHMubGVuZ3RoO24rKyl7dmFyIG89c1tuXTtpZighKG8ubGVuZ3RoPjEwMjQpKXt2YXIgYT1kdC50ZXN0KG8pP28ucmVwbGFjZShkdCxcIiQxXCIpOm87aWYoIWEubWF0Y2goL1xcUypFcnJvcjogLykpe2Zvcih2YXIgbCBvZiBpKXt2YXIgdT1sKGEpO2lmKHUpe3IucHVzaCh1KTticmVha319aWYoci5sZW5ndGg+PXZ0KWJyZWFrfX19cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKCF0Lmxlbmd0aClyZXR1cm5bXTt2YXIgaT1BcnJheS5mcm9tKHQpO3JldHVybiBpLnJldmVyc2UoKSxpLnNsaWNlKDAsdnQpLm1hcCgodD0+e3JldHVybiBnKHt9LHQse2ZpbGVuYW1lOnQuZmlsZW5hbWV8fChlPWksZVtlLmxlbmd0aC0xXXx8e30pLmZpbGVuYW1lLGZ1bmN0aW9uOnQuZnVuY3Rpb258fGl0fSk7dmFyIGV9KSl9KHIpfX1jbGFzcyBmdHtjb25zdHJ1Y3Rvcih0LGksZSl7dm9pZCAwPT09dCYmKHQ9W10pLHZvaWQgMD09PWkmJihpPVtdKSx2b2lkIDA9PT1lJiYoZT1bXSksdGhpcy5jb2VyY2Vycz10LHRoaXMubW9kaWZpZXJzPWUsdGhpcy5zdGFja1BhcnNlcj1jdCguLi5pKX1idWlsZEZyb21Vbmtub3duKHQsaSl7dm9pZCAwPT09aSYmKGk9e30pO3ZhciBlPWkmJmkubWVjaGFuaXNtfHx7aGFuZGxlZDohMCx0eXBlOlwiZ2VuZXJpY1wifSxyPXRoaXMuYnVpbGRDb2VyY2luZ0NvbnRleHQoZSxpLDApLmFwcGx5KHQpLHM9dGhpcy5idWlsZFBhcnNpbmdDb250ZXh0KCksbj10aGlzLnBhcnNlU3RhY2t0cmFjZShyLHMpO3JldHVybnskZXhjZXB0aW9uX2xpc3Q6dGhpcy5jb252ZXJ0VG9FeGNlcHRpb25MaXN0KG4sZSksJGV4Y2VwdGlvbl9sZXZlbDpcImVycm9yXCJ9fW1vZGlmeUZyYW1lcyh0KXt2YXIgaT10aGlzO3JldHVybiBwKChmdW5jdGlvbiooKXtmb3IodmFyIGUgb2YgdCllLnN0YWNrdHJhY2UmJmUuc3RhY2t0cmFjZS5mcmFtZXMmJkkoZS5zdGFja3RyYWNlLmZyYW1lcykmJihlLnN0YWNrdHJhY2UuZnJhbWVzPXlpZWxkIGkuYXBwbHlNb2RpZmllcnMoZS5zdGFja3RyYWNlLmZyYW1lcykpO3JldHVybiB0fSkpKCl9Y29lcmNlRmFsbGJhY2sodCl7dmFyIGk7cmV0dXJue3R5cGU6XCJFcnJvclwiLHZhbHVlOlwiVW5rbm93biBlcnJvclwiLHN0YWNrOm51bGw9PShpPXQuc3ludGhldGljRXhjZXB0aW9uKT92b2lkIDA6aS5zdGFjayxzeW50aGV0aWM6ITB9fXBhcnNlU3RhY2t0cmFjZSh0LGkpe3ZhciBlLHI7cmV0dXJuIG51bGwhPXQuY2F1c2UmJihlPXRoaXMucGFyc2VTdGFja3RyYWNlKHQuY2F1c2UsaSkpLFwiXCIhPXQuc3RhY2smJm51bGwhPXQuc3RhY2smJihyPXRoaXMuYXBwbHlDaHVua0lkcyh0aGlzLnN0YWNrUGFyc2VyKHQuc3RhY2ssdC5zeW50aGV0aWM/MTowKSxpLmNodW5rSWRNYXApKSxnKHt9LHQse2NhdXNlOmUsc3RhY2s6cn0pfWFwcGx5Q2h1bmtJZHModCxpKXtyZXR1cm4gdC5tYXAoKHQ9Pih0LmZpbGVuYW1lJiZpJiYodC5jaHVua19pZD1pW3QuZmlsZW5hbWVdKSx0KSkpfWFwcGx5Q29lcmNlcnModCxpKXtmb3IodmFyIGUgb2YgdGhpcy5jb2VyY2VycylpZihlLm1hdGNoKHQpKXJldHVybiBlLmNvZXJjZSh0LGkpO3JldHVybiB0aGlzLmNvZXJjZUZhbGxiYWNrKGkpfWFwcGx5TW9kaWZpZXJzKHQpe3ZhciBpPXRoaXM7cmV0dXJuIHAoKGZ1bmN0aW9uKigpe3ZhciBlPXQ7Zm9yKHZhciByIG9mIGkubW9kaWZpZXJzKWU9eWllbGQgcihlKTtyZXR1cm4gZX0pKSgpfWNvbnZlcnRUb0V4Y2VwdGlvbkxpc3QodCxpKXt2YXIgZSxyLHMsbj17dHlwZTp0LnR5cGUsdmFsdWU6dC52YWx1ZSxtZWNoYW5pc206e3R5cGU6bnVsbCE9PShlPWkudHlwZSkmJnZvaWQgMCE9PWU/ZTpcImdlbmVyaWNcIixoYW5kbGVkOm51bGw9PT0ocj1pLmhhbmRsZWQpfHx2b2lkIDA9PT1yfHxyLHN5bnRoZXRpYzpudWxsIT09KHM9dC5zeW50aGV0aWMpJiZ2b2lkIDAhPT1zJiZzfX07dC5zdGFjayYmKG4uc3RhY2t0cmFjZT17dHlwZTpcInJhd1wiLGZyYW1lczp0LnN0YWNrfSk7dmFyIG89W25dO3JldHVybiBudWxsIT10LmNhdXNlJiZvLnB1c2goLi4udGhpcy5jb252ZXJ0VG9FeGNlcHRpb25MaXN0KHQuY2F1c2UsZyh7fSxpLHtoYW5kbGVkOiEwfSkpKSxvfWJ1aWxkUGFyc2luZ0NvbnRleHQoKXtyZXR1cm57Y2h1bmtJZE1hcDp0dCh0aGlzLnN0YWNrUGFyc2VyKX19YnVpbGRDb2VyY2luZ0NvbnRleHQodCxpLGUpe3ZvaWQgMD09PWUmJihlPTApO3ZhciByPShlLHIpPT57aWYocjw9NCl7dmFyIHM9dGhpcy5idWlsZENvZXJjaW5nQ29udGV4dCh0LGkscik7cmV0dXJuIHRoaXMuYXBwbHlDb2VyY2VycyhlLHMpfX07cmV0dXJuIGcoe30saSx7c3ludGhldGljRXhjZXB0aW9uOjA9PWU/aS5zeW50aGV0aWNFeGNlcHRpb246dm9pZCAwLG1lY2hhbmlzbTp0LGFwcGx5OnQ9PnIodCxlKSxuZXh0OnQ9PnIodCxlKzEpfSl9fWNsYXNzIHB0e21hdGNoKHQpe3JldHVybiB0aGlzLmlzRE9NRXhjZXB0aW9uKHQpfHx0aGlzLmlzRE9NRXJyb3IodCl9Y29lcmNlKHQsaSl7dmFyIGU9TSh0LnN0YWNrKTtyZXR1cm57dHlwZTp0aGlzLmdldFR5cGUodCksdmFsdWU6dGhpcy5nZXRWYWx1ZSh0KSxzdGFjazplP3Quc3RhY2s6dm9pZCAwLGNhdXNlOnQuY2F1c2U/aS5uZXh0KHQuY2F1c2UpOnZvaWQgMCxzeW50aGV0aWM6ITF9fWdldFR5cGUodCl7cmV0dXJuIHRoaXMuaXNET01FcnJvcih0KT9cIkRPTUVycm9yXCI6XCJET01FeGNlcHRpb25cIn1nZXRWYWx1ZSh0KXt2YXIgaT10Lm5hbWV8fCh0aGlzLmlzRE9NRXJyb3IodCk/XCJET01FcnJvclwiOlwiRE9NRXhjZXB0aW9uXCIpO3JldHVybiB0Lm1lc3NhZ2U/aStcIjogXCIrdC5tZXNzYWdlOml9aXNET01FeGNlcHRpb24odCl7cmV0dXJuIEIodCxcIkRPTUV4Y2VwdGlvblwiKX1pc0RPTUVycm9yKHQpe3JldHVybiBCKHQsXCJET01FcnJvclwiKX19Y2xhc3MgZ3R7bWF0Y2godCl7cmV0dXJuKHQ9PnQgaW5zdGFuY2VvZiBFcnJvcikodCl9Y29lcmNlKHQsaSl7cmV0dXJue3R5cGU6dGhpcy5nZXRUeXBlKHQpLHZhbHVlOnRoaXMuZ2V0TWVzc2FnZSh0LGkpLHN0YWNrOnRoaXMuZ2V0U3RhY2sodCksY2F1c2U6dC5jYXVzZT9pLm5leHQodC5jYXVzZSk6dm9pZCAwLHN5bnRoZXRpYzohMX19Z2V0VHlwZSh0KXtyZXR1cm4gdC5uYW1lfHx0LmNvbnN0cnVjdG9yLm5hbWV9Z2V0TWVzc2FnZSh0LGkpe3ZhciBlPXQubWVzc2FnZTtyZXR1cm4gZS5lcnJvciYmXCJzdHJpbmdcIj09dHlwZW9mIGUuZXJyb3IubWVzc2FnZT9TdHJpbmcoZS5lcnJvci5tZXNzYWdlKTpTdHJpbmcoZSl9Z2V0U3RhY2sodCl7cmV0dXJuIHQuc3RhY2t0cmFjZXx8dC5zdGFja3x8dm9pZCAwfX1jbGFzcyBfdHtjb25zdHJ1Y3Rvcigpe31tYXRjaCh0KXtyZXR1cm4gQih0LFwiRXJyb3JFdmVudFwiKSYmbnVsbCE9dC5lcnJvcn1jb2VyY2UodCxpKXt2YXIgZSxyPWkuYXBwbHkodC5lcnJvcik7cmV0dXJuIHJ8fHt0eXBlOlwiRXJyb3JFdmVudFwiLHZhbHVlOnQubWVzc2FnZSxzdGFjazpudWxsPT0oZT1pLnN5bnRoZXRpY0V4Y2VwdGlvbik/dm9pZCAwOmUuc3RhY2ssc3ludGhldGljOiEwfX19dmFyIG10PS9eKD86W1V1XW5jYXVnaHQgKD86ZXhjZXB0aW9uOiApPyk/KD86KCg/OkV2YWx8SW50ZXJuYWx8UmFuZ2V8UmVmZXJlbmNlfFN5bnRheHxUeXBlfFVSSXwpRXJyb3IpOiApPyguKikkL2k7Y2xhc3MgeXR7bWF0Y2godCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHR9Y29lcmNlKHQsaSl7dmFyIGUsW3Isc109dGhpcy5nZXRJbmZvcyh0KTtyZXR1cm57dHlwZTpudWxsIT1yP3I6XCJFcnJvclwiLHZhbHVlOm51bGwhPXM/czp0LHN0YWNrOm51bGw9PShlPWkuc3ludGhldGljRXhjZXB0aW9uKT92b2lkIDA6ZS5zdGFjayxzeW50aGV0aWM6ITB9fWdldEluZm9zKHQpe3ZhciBpPVwiRXJyb3JcIixlPXQscj10Lm1hdGNoKG10KTtyZXR1cm4gciYmKGk9clsxXSxlPXJbMl0pLFtpLGVdfX12YXIgYnQ9W1wiZmF0YWxcIixcImVycm9yXCIsXCJ3YXJuaW5nXCIsXCJsb2dcIixcImluZm9cIixcImRlYnVnXCJdO2Z1bmN0aW9uIHd0KHQsaSl7dm9pZCAwPT09aSYmKGk9NDApO3ZhciBlPU9iamVjdC5rZXlzKHQpO2lmKGUuc29ydCgpLCFlLmxlbmd0aClyZXR1cm5cIltvYmplY3QgaGFzIG5vIGtleXNdXCI7Zm9yKHZhciByPWUubGVuZ3RoO3I+MDtyLS0pe3ZhciBzPWUuc2xpY2UoMCxyKS5qb2luKFwiLCBcIik7aWYoIShzLmxlbmd0aD5pKSlyZXR1cm4gcj09PWUubGVuZ3RofHxzLmxlbmd0aDw9aT9zOnMuc2xpY2UoMCxpKStcIi4uLlwifXJldHVyblwiXCJ9Y2xhc3MgeHR7bWF0Y2godCl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIHQmJm51bGwhPT10fWNvZXJjZSh0LGkpe3ZhciBlLHI9dGhpcy5nZXRFcnJvclByb3BlcnR5RnJvbU9iamVjdCh0KTtyZXR1cm4gcj9pLmFwcGx5KHIpOnt0eXBlOnRoaXMuZ2V0VHlwZSh0KSx2YWx1ZTp0aGlzLmdldFZhbHVlKHQpLHN0YWNrOm51bGw9PShlPWkuc3ludGhldGljRXhjZXB0aW9uKT92b2lkIDA6ZS5zdGFjayxsZXZlbDp0aGlzLmlzU2V2ZXJpdHlMZXZlbCh0LmxldmVsKT90LmxldmVsOlwiZXJyb3JcIixzeW50aGV0aWM6ITB9fWdldFR5cGUodCl7cmV0dXJuIHEodCk/dC5jb25zdHJ1Y3Rvci5uYW1lOlwiRXJyb3JcIn1nZXRWYWx1ZSh0KXtpZihcIm5hbWVcImluIHQmJlwic3RyaW5nXCI9PXR5cGVvZiB0Lm5hbWUpe3ZhciBpPVwiJ1wiK3QubmFtZStcIicgY2FwdHVyZWQgYXMgZXhjZXB0aW9uXCI7cmV0dXJuXCJtZXNzYWdlXCJpbiB0JiZcInN0cmluZ1wiPT10eXBlb2YgdC5tZXNzYWdlJiYoaSs9XCIgd2l0aCBtZXNzYWdlOiAnXCIrdC5tZXNzYWdlK1wiJ1wiKSxpfWlmKFwibWVzc2FnZVwiaW4gdCYmXCJzdHJpbmdcIj09dHlwZW9mIHQubWVzc2FnZSlyZXR1cm4gdC5tZXNzYWdlO3ZhciBlPXRoaXMuZ2V0T2JqZWN0Q2xhc3NOYW1lKHQpO3JldHVybihlJiZcIk9iamVjdFwiIT09ZT9cIidcIitlK1wiJ1wiOlwiT2JqZWN0XCIpK1wiIGNhcHR1cmVkIGFzIGV4Y2VwdGlvbiB3aXRoIGtleXM6IFwiK3d0KHQpfWlzU2V2ZXJpdHlMZXZlbCh0KXtyZXR1cm4gTSh0KSYmIUEodCkmJmJ0LmluZGV4T2YodCk+PTB9Z2V0RXJyb3JQcm9wZXJ0eUZyb21PYmplY3QodCl7Zm9yKHZhciBpIGluIHQpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsaSkpe3ZhciBlPXRbaV07aWYoWihlKSlyZXR1cm4gZX19Z2V0T2JqZWN0Q2xhc3NOYW1lKHQpe3RyeXt2YXIgaT1PYmplY3QuZ2V0UHJvdG90eXBlT2YodCk7cmV0dXJuIGk/aS5jb25zdHJ1Y3Rvci5uYW1lOnZvaWQgMH1jYXRjaCh0KXtyZXR1cm59fX1jbGFzcyAkdHttYXRjaCh0KXtyZXR1cm4gcSh0KX1jb2VyY2UodCxpKXt2YXIgZSxyPXQuY29uc3RydWN0b3IubmFtZTtyZXR1cm57dHlwZTpyLHZhbHVlOnIrXCIgY2FwdHVyZWQgYXMgZXhjZXB0aW9uIHdpdGgga2V5czogXCIrd3QodCksc3RhY2s6bnVsbD09KGU9aS5zeW50aGV0aWNFeGNlcHRpb24pP3ZvaWQgMDplLnN0YWNrLHN5bnRoZXRpYzohMH19fWNsYXNzIFN0e21hdGNoKHQpe3JldHVybiBIKHQpfWNvZXJjZSh0LGkpe3ZhciBlO3JldHVybnt0eXBlOlwiRXJyb3JcIix2YWx1ZTpcIlByaW1pdGl2ZSB2YWx1ZSBjYXB0dXJlZCBhcyBleGNlcHRpb246IFwiK1N0cmluZyh0KSxzdGFjazpudWxsPT0oZT1pLnN5bnRoZXRpY0V4Y2VwdGlvbik/dm9pZCAwOmUuc3RhY2ssc3ludGhldGljOiEwfX19Y2xhc3MgRXR7bWF0Y2godCl7cmV0dXJuIEIodCxcIlByb21pc2VSZWplY3Rpb25FdmVudFwiKX1jb2VyY2UodCxpKXt2YXIgZSxyPXRoaXMuZ2V0VW5oYW5kbGVkUmVqZWN0aW9uUmVhc29uKHQpO3JldHVybiBIKHIpP3t0eXBlOlwiVW5oYW5kbGVkUmVqZWN0aW9uXCIsdmFsdWU6XCJOb24tRXJyb3IgcHJvbWlzZSByZWplY3Rpb24gY2FwdHVyZWQgd2l0aCB2YWx1ZTogXCIrU3RyaW5nKHIpLHN0YWNrOm51bGw9PShlPWkuc3ludGhldGljRXhjZXB0aW9uKT92b2lkIDA6ZS5zdGFjayxzeW50aGV0aWM6ITB9OmkuYXBwbHkocil9Z2V0VW5oYW5kbGVkUmVqZWN0aW9uUmVhc29uKHQpe2lmKEgodCkpcmV0dXJuIHQ7dHJ5e2lmKFwicmVhc29uXCJpbiB0KXJldHVybiB0LnJlYXNvbjtpZihcImRldGFpbFwiaW4gdCYmXCJyZWFzb25cImluIHQuZGV0YWlsKXJldHVybiB0LmRldGFpbC5yZWFzb259Y2F0Y2godCl7fXJldHVybiB0fX12YXIga3Q9aT0+e3ZhciBlPXtrOmZ1bmN0aW9uKGUpe2lmKHQmJihjLkRFQlVHfHx2LlBPU1RIT0dfREVCVUcpJiYhRih0LmNvbnNvbGUpJiZ0LmNvbnNvbGUpe2Zvcih2YXIgcj0oXCJfX3Jyd2ViX29yaWdpbmFsX19cImluIHQuY29uc29sZVtlXT90LmNvbnNvbGVbZV0uX19ycndlYl9vcmlnaW5hbF9fOnQuY29uc29sZVtlXSkscz1hcmd1bWVudHMubGVuZ3RoLG49bmV3IEFycmF5KHM+MT9zLTE6MCksbz0xO288cztvKyspbltvLTFdPWFyZ3VtZW50c1tvXTtyKGksLi4ubil9fSxpbmZvOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsaT1uZXcgQXJyYXkodCkscj0wO3I8dDtyKyspaVtyXT1hcmd1bWVudHNbcl07ZS5rKFwibG9nXCIsLi4uaSl9LHdhcm46ZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxpPW5ldyBBcnJheSh0KSxyPTA7cjx0O3IrKylpW3JdPWFyZ3VtZW50c1tyXTtlLmsoXCJ3YXJuXCIsLi4uaSl9LGVycm9yOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsaT1uZXcgQXJyYXkodCkscj0wO3I8dDtyKyspaVtyXT1hcmd1bWVudHNbcl07ZS5rKFwiZXJyb3JcIiwuLi5pKX0sY3JpdGljYWw6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxlPW5ldyBBcnJheSh0KSxyPTA7cjx0O3IrKyllW3JdPWFyZ3VtZW50c1tyXTtjb25zb2xlLmVycm9yKGksLi4uZSl9LHVuaW5pdGlhbGl6ZWRXYXJuaW5nOnQ9PntlLmVycm9yKFwiWW91IG11c3QgaW5pdGlhbGl6ZSBQb3N0SG9nIGJlZm9yZSBjYWxsaW5nIFwiK3QpfSxjcmVhdGVMb2dnZXI6dD0+a3QoaStcIiBcIit0KX07cmV0dXJuIGV9LFB0PWt0KFwiW1Bvc3RIb2cuanNdXCIpLFR0PVB0LmNyZWF0ZUxvZ2dlcixJdD1UdChcIltFeHRlcm5hbFNjcmlwdHNMb2FkZXJdXCIpLFJ0PSh0LGksZSk9PntpZih0LmNvbmZpZy5kaXNhYmxlX2V4dGVybmFsX2RlcGVuZGVuY3lfbG9hZGluZylyZXR1cm4gSXQud2FybihpK1wiIHdhcyByZXF1ZXN0ZWQgYnV0IGxvYWRpbmcgb2YgZXh0ZXJuYWwgc2NyaXB0cyBpcyBkaXNhYmxlZC5cIiksZShcIkxvYWRpbmcgb2YgZXh0ZXJuYWwgc2NyaXB0cyBpcyBkaXNhYmxlZFwiKTt2YXIgcj1udWxsPT1vP3ZvaWQgMDpvLnF1ZXJ5U2VsZWN0b3JBbGwoXCJzY3JpcHRcIik7aWYocilmb3IodmFyIHMsbj1mdW5jdGlvbigpe2lmKHJbYV0uc3JjPT09aSl7dmFyIHQ9clthXTtyZXR1cm4gdC5fX3Bvc3Rob2dfbG9hZGluZ19jYWxsYmFja19maXJlZD97djplKCl9Oih0LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsKGk9Pnt0Ll9fcG9zdGhvZ19sb2FkaW5nX2NhbGxiYWNrX2ZpcmVkPSEwLGUodm9pZCAwLGkpfSkpLHQub25lcnJvcj10PT5lKHQpLHt2OnZvaWQgMH0pfX0sYT0wO2E8ci5sZW5ndGg7YSsrKWlmKHM9bigpKXJldHVybiBzLnY7dmFyIGw9KCk9PntpZighbylyZXR1cm4gZShcImRvY3VtZW50IG5vdCBmb3VuZFwiKTt2YXIgcj1vLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7aWYoci50eXBlPVwidGV4dC9qYXZhc2NyaXB0XCIsci5jcm9zc09yaWdpbj1cImFub255bW91c1wiLHIuc3JjPWksci5vbmxvYWQ9dD0+e3IuX19wb3N0aG9nX2xvYWRpbmdfY2FsbGJhY2tfZmlyZWQ9ITAsZSh2b2lkIDAsdCl9LHIub25lcnJvcj10PT5lKHQpLHQuY29uZmlnLnByZXBhcmVfZXh0ZXJuYWxfZGVwZW5kZW5jeV9zY3JpcHQmJihyPXQuY29uZmlnLnByZXBhcmVfZXh0ZXJuYWxfZGVwZW5kZW5jeV9zY3JpcHQocikpLCFyKXJldHVybiBlKFwicHJlcGFyZV9leHRlcm5hbF9kZXBlbmRlbmN5X3NjcmlwdCByZXR1cm5lZCBudWxsXCIpO3ZhciBzLG49by5xdWVyeVNlbGVjdG9yQWxsKFwiYm9keSA+IHNjcmlwdFwiKTtuLmxlbmd0aD4wP251bGw9PShzPW5bMF0ucGFyZW50Tm9kZSl8fHMuaW5zZXJ0QmVmb3JlKHIsblswXSk6by5ib2R5LmFwcGVuZENoaWxkKHIpfTtudWxsIT1vJiZvLmJvZHk/bCgpOm51bGw9PW98fG8uYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIixsKX07di5fX1Bvc3Rob2dFeHRlbnNpb25zX189di5fX1Bvc3Rob2dFeHRlbnNpb25zX198fHt9LHYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fLmxvYWRFeHRlcm5hbERlcGVuZGVuY3k9KHQsaSxlKT0+e3ZhciByPVwiL3N0YXRpYy9cIitpK1wiLmpzP3Y9XCIrdC52ZXJzaW9uO2lmKFwicmVtb3RlLWNvbmZpZ1wiPT09aSYmKHI9XCIvYXJyYXkvXCIrdC5jb25maWcudG9rZW4rXCIvY29uZmlnLmpzXCIpLFwidG9vbGJhclwiPT09aSl7dmFyIHM9M2U1O3I9citcIiZ0PVwiK01hdGguZmxvb3IoRGF0ZS5ub3coKS9zKSpzfXZhciBuPXQucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcImFzc2V0c1wiLHIpO1J0KHQsbixlKX0sdi5fX1Bvc3Rob2dFeHRlbnNpb25zX18ubG9hZFNpdGVBcHA9KHQsaSxlKT0+e3ZhciByPXQucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcImFwaVwiLGkpO1J0KHQscixlKX07dmFyIEN0PXt9O2Z1bmN0aW9uIE90KHQsaSxlKXtpZihJKHQpKWlmKHImJnQuZm9yRWFjaD09PXIpdC5mb3JFYWNoKGksZSk7ZWxzZSBpZihcImxlbmd0aFwiaW4gdCYmdC5sZW5ndGg9PT0rdC5sZW5ndGgpZm9yKHZhciBzPTAsbj10Lmxlbmd0aDtzPG47cysrKWlmKHMgaW4gdCYmaS5jYWxsKGUsdFtzXSxzKT09PUN0KXJldHVybn1mdW5jdGlvbiBGdCh0LGksZSl7aWYoIWoodCkpe2lmKEkodCkpcmV0dXJuIE90KHQsaSxlKTtpZihVKHQpKXtmb3IodmFyIHIgb2YgdC5lbnRyaWVzKCkpaWYoaS5jYWxsKGUsclsxXSxyWzBdKT09PUN0KXJldHVybn1lbHNlIGZvcih2YXIgcyBpbiB0KWlmKFAuY2FsbCh0LHMpJiZpLmNhbGwoZSx0W3NdLHMpPT09Q3QpcmV0dXJufX12YXIgTXQ9ZnVuY3Rpb24odCl7Zm9yKHZhciBpPWFyZ3VtZW50cy5sZW5ndGgsZT1uZXcgQXJyYXkoaT4xP2ktMTowKSxyPTE7cjxpO3IrKyllW3ItMV09YXJndW1lbnRzW3JdO3JldHVybiBPdChlLChmdW5jdGlvbihpKXtmb3IodmFyIGUgaW4gaSl2b2lkIDAhPT1pW2VdJiYodFtlXT1pW2VdKX0pKSx0fSxBdD1mdW5jdGlvbih0KXtmb3IodmFyIGk9YXJndW1lbnRzLmxlbmd0aCxlPW5ldyBBcnJheShpPjE/aS0xOjApLHI9MTtyPGk7cisrKWVbci0xXT1hcmd1bWVudHNbcl07cmV0dXJuIE90KGUsKGZ1bmN0aW9uKGkpe090KGksKGZ1bmN0aW9uKGkpe3QucHVzaChpKX0pKX0pKSx0fTtmdW5jdGlvbiBEdCh0KXtmb3IodmFyIGk9T2JqZWN0LmtleXModCksZT1pLmxlbmd0aCxyPW5ldyBBcnJheShlKTtlLS07KXJbZV09W2lbZV0sdFtpW2VdXV07cmV0dXJuIHJ9dmFyIGp0PWZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4gdCgpfWNhdGNoKHQpe3JldHVybn19LEx0PWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3RyeXtmb3IodmFyIGk9YXJndW1lbnRzLmxlbmd0aCxlPW5ldyBBcnJheShpKSxyPTA7cjxpO3IrKyllW3JdPWFyZ3VtZW50c1tyXTtyZXR1cm4gdC5hcHBseSh0aGlzLGUpfWNhdGNoKHQpe1B0LmNyaXRpY2FsKFwiSW1wbGVtZW50YXRpb24gZXJyb3IuIFBsZWFzZSB0dXJuIG9uIGRlYnVnIG1vZGUgYW5kIG9wZW4gYSB0aWNrZXQgb24gaHR0cHM6Ly9hcHAucG9zdGhvZy5jb20vaG9tZSNwYW5lbD1zdXBwb3J0JTNBc3VwcG9ydCUzQS5cIiksUHQuY3JpdGljYWwodCl9fX0sTnQ9ZnVuY3Rpb24odCl7dmFyIGk9e307cmV0dXJuIEZ0KHQsKGZ1bmN0aW9uKHQsZSl7KE0odCkmJnQubGVuZ3RoPjB8fEwodCkpJiYoaVtlXT10KX0pKSxpfTtmdW5jdGlvbiBVdCh0LGkpe3JldHVybiBlPXQscj10PT5NKHQpJiYhRChpKT90LnNsaWNlKDAsaSk6dCxzPW5ldyBTZXQsZnVuY3Rpb24gdChpLGUpe3JldHVybiBpIT09T2JqZWN0KGkpP3I/cihpLGUpOmk6cy5oYXMoaSk/dm9pZCAwOihzLmFkZChpKSxJKGkpPyhuPVtdLE90KGksKGk9PntuLnB1c2godChpKSl9KSkpOihuPXt9LEZ0KGksKChpLGUpPT57cy5oYXMoaSl8fChuW2VdPXQoaSxlKSl9KSkpLG4pO3ZhciBufShlKTt2YXIgZSxyLHN9dmFyIHp0PVtcImhlcm9rdWFwcC5jb21cIixcInZlcmNlbC5hcHBcIixcIm5ldGxpZnkuYXBwXCJdO2Z1bmN0aW9uIEh0KHQpe3ZhciBpPW51bGw9PXQ/dm9pZCAwOnQuaG9zdG5hbWU7aWYoIU0oaSkpcmV0dXJuITE7dmFyIGU9aS5zcGxpdChcIi5cIikuc2xpY2UoLTIpLmpvaW4oXCIuXCIpO2Zvcih2YXIgciBvZiB6dClpZihlPT09cilyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBCdCh0LGkpe2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKWlmKGkodFtlXSkpcmV0dXJuIHRbZV19ZnVuY3Rpb24gcXQodCxpLGUscil7dmFye2NhcHR1cmU6cz0hMSxwYXNzaXZlOm49ITB9PW51bGwhPXI/cjp7fTtudWxsPT10fHx0LmFkZEV2ZW50TGlzdGVuZXIoaSxlLHtjYXB0dXJlOnMscGFzc2l2ZTpufSl9dmFyIFd0PVwiJHBlb3BsZV9kaXN0aW5jdF9pZFwiLEd0PVwiX19hbGlhc1wiLFZ0PVwiX190aW1lcnNcIixKdD1cIiRhdXRvY2FwdHVyZV9kaXNhYmxlZF9zZXJ2ZXJfc2lkZVwiLEt0PVwiJGhlYXRtYXBzX2VuYWJsZWRfc2VydmVyX3NpZGVcIixZdD1cIiRleGNlcHRpb25fY2FwdHVyZV9lbmFibGVkX3NlcnZlcl9zaWRlXCIsWHQ9XCIkZXJyb3JfdHJhY2tpbmdfc3VwcHJlc3Npb25fcnVsZXNcIixRdD1cIiRlcnJvcl90cmFja2luZ19jYXB0dXJlX2V4dGVuc2lvbl9leGNlcHRpb25zXCIsWnQ9XCIkd2ViX3ZpdGFsc19lbmFibGVkX3NlcnZlcl9zaWRlXCIsdGk9XCIkZGVhZF9jbGlja3NfZW5hYmxlZF9zZXJ2ZXJfc2lkZVwiLGlpPVwiJHdlYl92aXRhbHNfYWxsb3dlZF9tZXRyaWNzXCIsZWk9XCIkc2Vzc2lvbl9yZWNvcmRpbmdfcmVtb3RlX2NvbmZpZ1wiLHJpPVwiJHNlc2lkXCIsc2k9XCIkc2Vzc2lvbl9pc19zYW1wbGVkXCIsbmk9XCIkZW5hYmxlZF9mZWF0dXJlX2ZsYWdzXCIsb2k9XCIkZWFybHlfYWNjZXNzX2ZlYXR1cmVzXCIsYWk9XCIkZmVhdHVyZV9mbGFnX2RldGFpbHNcIixsaT1cIiRzdG9yZWRfcGVyc29uX3Byb3BlcnRpZXNcIix1aT1cIiRzdG9yZWRfZ3JvdXBfcHJvcGVydGllc1wiLGhpPVwiJHN1cnZleXNcIixkaT1cIiRzdXJ2ZXlzX2FjdGl2YXRlZFwiLHZpPVwiJGZsYWdfY2FsbF9yZXBvcnRlZFwiLGNpPVwiJHVzZXJfc3RhdGVcIixmaT1cIiRjbGllbnRfc2Vzc2lvbl9wcm9wc1wiLHBpPVwiJGNhcHR1cmVfcmF0ZV9saW1pdFwiLGdpPVwiJGluaXRpYWxfY2FtcGFpZ25fcGFyYW1zXCIsX2k9XCIkaW5pdGlhbF9yZWZlcnJlcl9pbmZvXCIsbWk9XCIkaW5pdGlhbF9wZXJzb25faW5mb1wiLHlpPVwiJGVwcFwiLGJpPVwiX19QT1NUSE9HX1RPT0xCQVJfX1wiLHdpPVwiJHBvc3Rob2dfY29va2llbGVzc1wiLHhpPVtXdCxHdCxcIl9fY21wbnNcIixWdCxcIiRzZXNzaW9uX3JlY29yZGluZ19lbmFibGVkX3NlcnZlcl9zaWRlXCIsS3QscmksbmksWHQsY2ksb2ksYWksdWksbGksaGksdmksZmkscGksZ2ksX2kseWksbWldO2Z1bmN0aW9uICRpKHQpe3JldHVybiB0IGluc3RhbmNlb2YgRWxlbWVudCYmKHQuaWQ9PT1iaXx8IShudWxsPT10LmNsb3Nlc3R8fCF0LmNsb3Nlc3QoXCIudG9vbGJhci1nbG9iYWwtZmFkZS1jb250YWluZXJcIikpKX1mdW5jdGlvbiBTaSh0KXtyZXR1cm4hIXQmJjE9PT10Lm5vZGVUeXBlfWZ1bmN0aW9uIEVpKHQsaSl7cmV0dXJuISF0JiYhIXQudGFnTmFtZSYmdC50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PT1pLnRvTG93ZXJDYXNlKCl9ZnVuY3Rpb24ga2kodCl7cmV0dXJuISF0JiYzPT09dC5ub2RlVHlwZX1mdW5jdGlvbiBQaSh0KXtyZXR1cm4hIXQmJjExPT09dC5ub2RlVHlwZX1mdW5jdGlvbiBUaSh0KXtyZXR1cm4gdD94KHQpLnNwbGl0KC9cXHMrLyk6W119ZnVuY3Rpb24gSWkoaSl7dmFyIGU9bnVsbD09dD92b2lkIDA6dC5sb2NhdGlvbi5ocmVmO3JldHVybiEhKGUmJmkmJmkuc29tZSgodD0+ZS5tYXRjaCh0KSkpKX1mdW5jdGlvbiBSaSh0KXt2YXIgaT1cIlwiO3N3aXRjaCh0eXBlb2YgdC5jbGFzc05hbWUpe2Nhc2VcInN0cmluZ1wiOmk9dC5jbGFzc05hbWU7YnJlYWs7Y2FzZVwib2JqZWN0XCI6aT0odC5jbGFzc05hbWUmJlwiYmFzZVZhbFwiaW4gdC5jbGFzc05hbWU/dC5jbGFzc05hbWUuYmFzZVZhbDpudWxsKXx8dC5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKXx8XCJcIjticmVhaztkZWZhdWx0Omk9XCJcIn1yZXR1cm4gVGkoaSl9ZnVuY3Rpb24gQ2kodCl7cmV0dXJuIGoodCk/bnVsbDp4KHQpLnNwbGl0KC8oXFxzKykvKS5maWx0ZXIoKHQ9PktpKHQpKSkuam9pbihcIlwiKS5yZXBsYWNlKC9bXFxyXFxuXS9nLFwiIFwiKS5yZXBsYWNlKC9bIF0rL2csXCIgXCIpLnN1YnN0cmluZygwLDI1NSl9ZnVuY3Rpb24gT2kodCl7dmFyIGk9XCJcIjtyZXR1cm4gemkodCkmJiFIaSh0KSYmdC5jaGlsZE5vZGVzJiZ0LmNoaWxkTm9kZXMubGVuZ3RoJiZGdCh0LmNoaWxkTm9kZXMsKGZ1bmN0aW9uKHQpe3ZhciBlO2tpKHQpJiZ0LnRleHRDb250ZW50JiYoaSs9bnVsbCE9PShlPUNpKHQudGV4dENvbnRlbnQpKSYmdm9pZCAwIT09ZT9lOlwiXCIpfSkpLHgoaSl9ZnVuY3Rpb24gRmkodCl7cmV0dXJuIEYodC50YXJnZXQpP3Quc3JjRWxlbWVudHx8bnVsbDpudWxsIT0oaT10LnRhcmdldCkmJmkuc2hhZG93Um9vdD90LmNvbXBvc2VkUGF0aCgpWzBdfHxudWxsOnQudGFyZ2V0fHxudWxsO3ZhciBpfXZhciBNaT1bXCJhXCIsXCJidXR0b25cIixcImZvcm1cIixcImlucHV0XCIsXCJzZWxlY3RcIixcInRleHRhcmVhXCIsXCJsYWJlbFwiXTtmdW5jdGlvbiBBaSh0LGkpe2lmKEYoaSkpcmV0dXJuITA7dmFyIGUscj1mdW5jdGlvbih0KXtpZihpLnNvbWUoKGk9PnQubWF0Y2hlcyhpKSkpKXJldHVybnt2OiEwfX07Zm9yKHZhciBzIG9mIHQpaWYoZT1yKHMpKXJldHVybiBlLnY7cmV0dXJuITF9ZnVuY3Rpb24gRGkodCl7dmFyIGk9dC5wYXJlbnROb2RlO3JldHVybiEoIWl8fCFTaShpKSkmJml9dmFyIGppPVtcIi5waC1uby1yYWdlY2xpY2tcIixcIi5waC1uby1jYXB0dXJlXCJdO3ZhciBMaT10PT4hdHx8RWkodCxcImh0bWxcIil8fCFTaSh0KSxOaT0oaSxlKT0+e2lmKCF0fHxMaShpKSlyZXR1cm57cGFyZW50SXNVc2VmdWxFbGVtZW50OiExLHRhcmdldEVsZW1lbnRMaXN0OltdfTtmb3IodmFyIHI9ITEscz1baV0sbj1pO24ucGFyZW50Tm9kZSYmIUVpKG4sXCJib2R5XCIpOylpZihQaShuLnBhcmVudE5vZGUpKXMucHVzaChuLnBhcmVudE5vZGUuaG9zdCksbj1uLnBhcmVudE5vZGUuaG9zdDtlbHNle3ZhciBvPURpKG4pO2lmKCFvKWJyZWFrO2lmKGV8fE1pLmluZGV4T2Yoby50YWdOYW1lLnRvTG93ZXJDYXNlKCkpPi0xKXI9ITA7ZWxzZXt2YXIgYT10LmdldENvbXB1dGVkU3R5bGUobyk7YSYmXCJwb2ludGVyXCI9PT1hLmdldFByb3BlcnR5VmFsdWUoXCJjdXJzb3JcIikmJihyPSEwKX1zLnB1c2gobyksbj1vfXJldHVybntwYXJlbnRJc1VzZWZ1bEVsZW1lbnQ6cix0YXJnZXRFbGVtZW50TGlzdDpzfX07ZnVuY3Rpb24gVWkoaSxlLHIscyxuKXt2YXIgbyxhLGwsdTtpZih2b2lkIDA9PT1yJiYocj12b2lkIDApLCF0fHxMaShpKSlyZXR1cm4hMTtpZihudWxsIT0obz1yKSYmby51cmxfYWxsb3dsaXN0JiYhSWkoci51cmxfYWxsb3dsaXN0KSlyZXR1cm4hMTtpZihudWxsIT0oYT1yKSYmYS51cmxfaWdub3JlbGlzdCYmSWkoci51cmxfaWdub3JlbGlzdCkpcmV0dXJuITE7aWYobnVsbCE9KGw9cikmJmwuZG9tX2V2ZW50X2FsbG93bGlzdCl7dmFyIGg9ci5kb21fZXZlbnRfYWxsb3dsaXN0O2lmKGgmJiFoLnNvbWUoKHQ9PmUudHlwZT09PXQpKSlyZXR1cm4hMX12YXJ7cGFyZW50SXNVc2VmdWxFbGVtZW50OmQsdGFyZ2V0RWxlbWVudExpc3Q6dn09TmkoaSxzKTtpZighZnVuY3Rpb24odCxpKXt2YXIgZT1udWxsPT1pP3ZvaWQgMDppLmVsZW1lbnRfYWxsb3dsaXN0O2lmKEYoZSkpcmV0dXJuITA7dmFyIHIscz1mdW5jdGlvbih0KXtpZihlLnNvbWUoKGk9PnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpPT09aSkpKXJldHVybnt2OiEwfX07Zm9yKHZhciBuIG9mIHQpaWYocj1zKG4pKXJldHVybiByLnY7cmV0dXJuITF9KHYscikpcmV0dXJuITE7aWYoIUFpKHYsbnVsbD09KHU9cik/dm9pZCAwOnUuY3NzX3NlbGVjdG9yX2FsbG93bGlzdCkpcmV0dXJuITE7dmFyIGM9dC5nZXRDb21wdXRlZFN0eWxlKGkpO2lmKGMmJlwicG9pbnRlclwiPT09Yy5nZXRQcm9wZXJ0eVZhbHVlKFwiY3Vyc29yXCIpJiZcImNsaWNrXCI9PT1lLnR5cGUpcmV0dXJuITA7dmFyIGY9aS50YWdOYW1lLnRvTG93ZXJDYXNlKCk7c3dpdGNoKGYpe2Nhc2VcImh0bWxcIjpyZXR1cm4hMTtjYXNlXCJmb3JtXCI6cmV0dXJuKG58fFtcInN1Ym1pdFwiXSkuaW5kZXhPZihlLnR5cGUpPj0wO2Nhc2VcImlucHV0XCI6Y2FzZVwic2VsZWN0XCI6Y2FzZVwidGV4dGFyZWFcIjpyZXR1cm4obnx8W1wiY2hhbmdlXCIsXCJjbGlja1wiXSkuaW5kZXhPZihlLnR5cGUpPj0wO2RlZmF1bHQ6cmV0dXJuIGQ/KG58fFtcImNsaWNrXCJdKS5pbmRleE9mKGUudHlwZSk+PTA6KG58fFtcImNsaWNrXCJdKS5pbmRleE9mKGUudHlwZSk+PTAmJihNaS5pbmRleE9mKGYpPi0xfHxcInRydWVcIj09PWkuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKX19ZnVuY3Rpb24gemkodCl7Zm9yKHZhciBpPXQ7aS5wYXJlbnROb2RlJiYhRWkoaSxcImJvZHlcIik7aT1pLnBhcmVudE5vZGUpe3ZhciBlPVJpKGkpO2lmKHcoZSxcInBoLXNlbnNpdGl2ZVwiKXx8dyhlLFwicGgtbm8tY2FwdHVyZVwiKSlyZXR1cm4hMX1pZih3KFJpKHQpLFwicGgtaW5jbHVkZVwiKSlyZXR1cm4hMDt2YXIgcj10LnR5cGV8fFwiXCI7aWYoTShyKSlzd2l0Y2goci50b0xvd2VyQ2FzZSgpKXtjYXNlXCJoaWRkZW5cIjpjYXNlXCJwYXNzd29yZFwiOnJldHVybiExfXZhciBzPXQubmFtZXx8dC5pZHx8XCJcIjtpZihNKHMpKXtpZigvXmNjfGNhcmRudW18Y2NudW18Y3JlZGl0Y2FyZHxjc2N8Y3ZjfGN2dnxleHB8cGFzc3xwd2R8cm91dGluZ3xzZWNjb2RlfHNlY3VyaXR5Y29kZXxzZWN1cml0eW51bXxzb2NpYWxzZWN8c29jc2VjfHNzbi9pLnRlc3Qocy5yZXBsYWNlKC9bXmEtekEtWjAtOV0vZyxcIlwiKSkpcmV0dXJuITF9cmV0dXJuITB9ZnVuY3Rpb24gSGkodCl7cmV0dXJuISEoRWkodCxcImlucHV0XCIpJiYhW1wiYnV0dG9uXCIsXCJjaGVja2JveFwiLFwic3VibWl0XCIsXCJyZXNldFwiXS5pbmNsdWRlcyh0LnR5cGUpfHxFaSh0LFwic2VsZWN0XCIpfHxFaSh0LFwidGV4dGFyZWFcIil8fFwidHJ1ZVwiPT09dC5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikpfXZhciBCaT1cIig0WzAtOV17MTJ9KD86WzAtOV17M30pPyl8KDVbMS01XVswLTldezE0fSl8KDYoPzowMTF8NVswLTldezJ9KVswLTldezEyfSl8KDNbNDddWzAtOV17MTN9KXwoMyg/OjBbMC01XXxbNjhdWzAtOV0pWzAtOV17MTF9KXwoKD86MjEzMXwxODAwfDM1WzAtOV17M30pWzAtOV17MTF9KVwiLHFpPW5ldyBSZWdFeHAoXCJeKD86XCIrQmkrXCIpJFwiKSxXaT1uZXcgUmVnRXhwKEJpKSxHaT1cIlxcXFxkezN9LT9cXFxcZHsyfS0/XFxcXGR7NH1cIixWaT1uZXcgUmVnRXhwKFwiXihcIitHaStcIikkXCIpLEppPW5ldyBSZWdFeHAoXCIoXCIrR2krXCIpXCIpO2Z1bmN0aW9uIEtpKHQsaSl7aWYodm9pZCAwPT09aSYmKGk9ITApLGoodCkpcmV0dXJuITE7aWYoTSh0KSl7aWYodD14KHQpLChpP3FpOldpKS50ZXN0KCh0fHxcIlwiKS5yZXBsYWNlKC9bLSBdL2csXCJcIikpKXJldHVybiExO2lmKChpP1ZpOkppKS50ZXN0KHQpKXJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIFlpKHQpe3ZhciBpPU9pKHQpO3JldHVybiBLaShpPShpK1wiIFwiK1hpKHQpKS50cmltKCkpP2k6XCJcIn1mdW5jdGlvbiBYaSh0KXt2YXIgaT1cIlwiO3JldHVybiB0JiZ0LmNoaWxkTm9kZXMmJnQuY2hpbGROb2Rlcy5sZW5ndGgmJkZ0KHQuY2hpbGROb2RlcywoZnVuY3Rpb24odCl7dmFyIGU7aWYodCYmXCJzcGFuXCI9PT0obnVsbD09KGU9dC50YWdOYW1lKT92b2lkIDA6ZS50b0xvd2VyQ2FzZSgpKSl0cnl7dmFyIHI9T2kodCk7aT0oaStcIiBcIityKS50cmltKCksdC5jaGlsZE5vZGVzJiZ0LmNoaWxkTm9kZXMubGVuZ3RoJiYoaT0oaStcIiBcIitYaSh0KSkudHJpbSgpKX1jYXRjaCh0KXtQdC5lcnJvcihcIltBdXRvQ2FwdHVyZV1cIix0KX19KSksaX1mdW5jdGlvbiBRaSh0KXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIGk9dC5tYXAoKHQ9Pnt2YXIgaSxlLHI9XCJcIjtpZih0LnRhZ19uYW1lJiYocis9dC50YWdfbmFtZSksdC5hdHRyX2NsYXNzKWZvcih2YXIgcyBvZih0LmF0dHJfY2xhc3Muc29ydCgpLHQuYXR0cl9jbGFzcykpcis9XCIuXCIrcy5yZXBsYWNlKC9cIi9nLFwiXCIpO3ZhciBuPWcoe30sdC50ZXh0P3t0ZXh0OnQudGV4dH06e30se1wibnRoLWNoaWxkXCI6bnVsbCE9PShpPXQubnRoX2NoaWxkKSYmdm9pZCAwIT09aT9pOjAsXCJudGgtb2YtdHlwZVwiOm51bGwhPT0oZT10Lm50aF9vZl90eXBlKSYmdm9pZCAwIT09ZT9lOjB9LHQuaHJlZj97aHJlZjp0LmhyZWZ9Ont9LHQuYXR0cl9pZD97YXR0cl9pZDp0LmF0dHJfaWR9Ont9LHQuYXR0cmlidXRlcyksbz17fTtyZXR1cm4gRHQobikuc29ydCgoKHQsaSk9Pnt2YXJbZV09dCxbcl09aTtyZXR1cm4gZS5sb2NhbGVDb21wYXJlKHIpfSkpLmZvckVhY2goKHQ9Pnt2YXJbaSxlXT10O3JldHVybiBvW1ppKGkudG9TdHJpbmcoKSldPVppKGUudG9TdHJpbmcoKSl9KSkscis9XCI6XCIscis9RHQobykubWFwKCh0PT57dmFyW2ksZV09dDtyZXR1cm4gaSsnPVwiJytlKydcIid9KSkuam9pbihcIlwiKX0pKTtyZXR1cm4gaS5qb2luKFwiO1wiKX0oZnVuY3Rpb24odCl7cmV0dXJuIHQubWFwKCh0PT57dmFyIGksZSxyPXt0ZXh0Om51bGw9PShpPXQuJGVsX3RleHQpP3ZvaWQgMDppLnNsaWNlKDAsNDAwKSx0YWdfbmFtZTp0LnRhZ19uYW1lLGhyZWY6bnVsbD09KGU9dC5hdHRyX19ocmVmKT92b2lkIDA6ZS5zbGljZSgwLDIwNDgpLGF0dHJfY2xhc3M6dGUodCksYXR0cl9pZDp0LmF0dHJfX2lkLG50aF9jaGlsZDp0Lm50aF9jaGlsZCxudGhfb2ZfdHlwZTp0Lm50aF9vZl90eXBlLGF0dHJpYnV0ZXM6e319O3JldHVybiBEdCh0KS5maWx0ZXIoKHQ9Pnt2YXJbaV09dDtyZXR1cm4gMD09PWkuaW5kZXhPZihcImF0dHJfX1wiKX0pKS5mb3JFYWNoKCh0PT57dmFyW2ksZV09dDtyZXR1cm4gci5hdHRyaWJ1dGVzW2ldPWV9KSkscn0pKX0odCkpfWZ1bmN0aW9uIFppKHQpe3JldHVybiB0LnJlcGxhY2UoL1wifFxcXFxcIi9nLCdcXFxcXCInKX1mdW5jdGlvbiB0ZSh0KXt2YXIgaT10LmF0dHJfX2NsYXNzO3JldHVybiBpP0koaSk/aTpUaShpKTp2b2lkIDB9Y2xhc3MgaWV7Y29uc3RydWN0b3IoKXt0aGlzLmNsaWNrcz1bXX1pc1JhZ2VDbGljayh0LGksZSl7dmFyIHI9dGhpcy5jbGlja3NbdGhpcy5jbGlja3MubGVuZ3RoLTFdO2lmKHImJk1hdGguYWJzKHQtci54KStNYXRoLmFicyhpLXIueSk8MzAmJmUtci50aW1lc3RhbXA8MWUzKXtpZih0aGlzLmNsaWNrcy5wdXNoKHt4OnQseTppLHRpbWVzdGFtcDplfSksMz09PXRoaXMuY2xpY2tzLmxlbmd0aClyZXR1cm4hMH1lbHNlIHRoaXMuY2xpY2tzPVt7eDp0LHk6aSx0aW1lc3RhbXA6ZX1dO3JldHVybiExfX12YXIgZWU9XCIkY29weV9hdXRvY2FwdHVyZVwiLHJlPWZ1bmN0aW9uKHQpe3JldHVybiB0LkdaaXBKUz1cImd6aXAtanNcIix0LkJhc2U2ND1cImJhc2U2NFwiLHR9KHt9KSxzZT1bXCJmYXRhbFwiLFwiZXJyb3JcIixcIndhcm5pbmdcIixcImxvZ1wiLFwiaW5mb1wiLFwiZGVidWdcIl0sbmU9dD0+e3ZhciBpPW51bGw9PW8/dm9pZCAwOm8uY3JlYXRlRWxlbWVudChcImFcIik7cmV0dXJuIEYoaSk/bnVsbDooaS5ocmVmPXQsaSl9LG9lPWZ1bmN0aW9uKHQsaSl7dmFyIGUscjt2b2lkIDA9PT1pJiYoaT1cIiZcIik7dmFyIHM9W107cmV0dXJuIEZ0KHQsKGZ1bmN0aW9uKHQsaSl7Rih0KXx8RihpKXx8XCJ1bmRlZmluZWRcIj09PWl8fChlPWVuY29kZVVSSUNvbXBvbmVudCgodD0+dCBpbnN0YW5jZW9mIEZpbGUpKHQpP3QubmFtZTp0LnRvU3RyaW5nKCkpLHI9ZW5jb2RlVVJJQ29tcG9uZW50KGkpLHNbcy5sZW5ndGhdPXIrXCI9XCIrZSl9KSkscy5qb2luKGkpfSxhZT1mdW5jdGlvbih0LGkpe2Zvcih2YXIgZSxyPSgodC5zcGxpdChcIiNcIilbMF18fFwiXCIpLnNwbGl0KC9cXD8oLiopLylbMV18fFwiXCIpLnJlcGxhY2UoL15cXD8rL2csXCJcIikuc3BsaXQoXCImXCIpLHM9MDtzPHIubGVuZ3RoO3MrKyl7dmFyIG49cltzXS5zcGxpdChcIj1cIik7aWYoblswXT09PWkpe2U9bjticmVha319aWYoIUkoZSl8fGUubGVuZ3RoPDIpcmV0dXJuXCJcIjt2YXIgbz1lWzFdO3RyeXtvPWRlY29kZVVSSUNvbXBvbmVudChvKX1jYXRjaCh0KXtQdC5lcnJvcihcIlNraXBwaW5nIGRlY29kaW5nIGZvciBtYWxmb3JtZWQgcXVlcnkgcGFyYW06IFwiK28pfXJldHVybiBvLnJlcGxhY2UoL1xcKy9nLFwiIFwiKX0sbGU9ZnVuY3Rpb24odCxpLGUpe2lmKCF0fHwhaXx8IWkubGVuZ3RoKXJldHVybiB0O2Zvcih2YXIgcj10LnNwbGl0KFwiI1wiKSxzPXJbMF18fFwiXCIsbj1yWzFdLG89cy5zcGxpdChcIj9cIiksYT1vWzFdLGw9b1swXSx1PShhfHxcIlwiKS5zcGxpdChcIiZcIiksaD1bXSxkPTA7ZDx1Lmxlbmd0aDtkKyspe3ZhciB2PXVbZF0uc3BsaXQoXCI9XCIpO0kodikmJihpLmluY2x1ZGVzKHZbMF0pP2gucHVzaCh2WzBdK1wiPVwiK2UpOmgucHVzaCh1W2RdKSl9dmFyIGM9bDtyZXR1cm4gbnVsbCE9YSYmKGMrPVwiP1wiK2guam9pbihcIiZcIikpLG51bGwhPW4mJihjKz1cIiNcIituKSxjfSx1ZT1mdW5jdGlvbih0LGkpe3ZhciBlPXQubWF0Y2gobmV3IFJlZ0V4cChpK1wiPShbXiZdKilcIikpO3JldHVybiBlP2VbMV06bnVsbH0saGU9VHQoXCJbQXV0b0NhcHR1cmVdXCIpO2Z1bmN0aW9uIGRlKHQsaSl7cmV0dXJuIGkubGVuZ3RoPnQ/aS5zbGljZSgwLHQpK1wiLi4uXCI6aX1mdW5jdGlvbiB2ZSh0KXtpZih0LnByZXZpb3VzRWxlbWVudFNpYmxpbmcpcmV0dXJuIHQucHJldmlvdXNFbGVtZW50U2libGluZzt2YXIgaT10O2Rve2k9aS5wcmV2aW91c1NpYmxpbmd9d2hpbGUoaSYmIVNpKGkpKTtyZXR1cm4gaX1mdW5jdGlvbiBjZSh0LGksZSxyKXt2YXIgcz10LnRhZ05hbWUudG9Mb3dlckNhc2UoKSxuPXt0YWdfbmFtZTpzfTtNaS5pbmRleE9mKHMpPi0xJiYhZSYmKFwiYVwiPT09cy50b0xvd2VyQ2FzZSgpfHxcImJ1dHRvblwiPT09cy50b0xvd2VyQ2FzZSgpP24uJGVsX3RleHQ9ZGUoMTAyNCxZaSh0KSk6bi4kZWxfdGV4dD1kZSgxMDI0LE9pKHQpKSk7dmFyIG89UmkodCk7by5sZW5ndGg+MCYmKG4uY2xhc3Nlcz1vLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuXCJcIiE9PXR9KSkpLEZ0KHQuYXR0cmlidXRlcywoZnVuY3Rpb24oZSl7dmFyIHM7aWYoKCFIaSh0KXx8LTEhPT1bXCJuYW1lXCIsXCJpZFwiLFwiY2xhc3NcIixcImFyaWEtbGFiZWxcIl0uaW5kZXhPZihlLm5hbWUpKSYmKChudWxsPT1yfHwhci5pbmNsdWRlcyhlLm5hbWUpKSYmIWkmJktpKGUudmFsdWUpJiYocz1lLm5hbWUsIU0ocyl8fFwiX25nY29udGVudFwiIT09cy5zdWJzdHJpbmcoMCwxMCkmJlwiX25naG9zdFwiIT09cy5zdWJzdHJpbmcoMCw3KSkpKXt2YXIgbz1lLnZhbHVlO1wiY2xhc3NcIj09PWUubmFtZSYmKG89VGkobykuam9pbihcIiBcIikpLG5bXCJhdHRyX19cIitlLm5hbWVdPWRlKDEwMjQsbyl9fSkpO2Zvcih2YXIgYT0xLGw9MSx1PXQ7dT12ZSh1KTspYSsrLHUudGFnTmFtZT09PXQudGFnTmFtZSYmbCsrO3JldHVybiBuLm50aF9jaGlsZD1hLG4ubnRoX29mX3R5cGU9bCxufWZ1bmN0aW9uIGZlKGksZSl7Zm9yKHZhciByLHMse2U6bixtYXNrQWxsRWxlbWVudEF0dHJpYnV0ZXM6byxtYXNrQWxsVGV4dDphLGVsZW1lbnRBdHRyaWJ1dGVJZ25vcmVMaXN0OmwsZWxlbWVudHNDaGFpbkFzU3RyaW5nOnV9PWUsaD1baV0sZD1pO2QucGFyZW50Tm9kZSYmIUVpKGQsXCJib2R5XCIpOylQaShkLnBhcmVudE5vZGUpPyhoLnB1c2goZC5wYXJlbnROb2RlLmhvc3QpLGQ9ZC5wYXJlbnROb2RlLmhvc3QpOihoLnB1c2goZC5wYXJlbnROb2RlKSxkPWQucGFyZW50Tm9kZSk7dmFyIHYsYz1bXSxmPXt9LHA9ITEsZz0hMTtpZihGdChoLCh0PT57dmFyIGk9emkodCk7XCJhXCI9PT10LnRhZ05hbWUudG9Mb3dlckNhc2UoKSYmKHA9dC5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpLHA9aSYmcCYmS2kocCkmJnApLHcoUmkodCksXCJwaC1uby1jYXB0dXJlXCIpJiYoZz0hMCksYy5wdXNoKGNlKHQsbyxhLGwpKTt2YXIgZT1mdW5jdGlvbih0KXtpZighemkodCkpcmV0dXJue307dmFyIGk9e307cmV0dXJuIEZ0KHQuYXR0cmlidXRlcywoZnVuY3Rpb24odCl7aWYodC5uYW1lJiYwPT09dC5uYW1lLmluZGV4T2YoXCJkYXRhLXBoLWNhcHR1cmUtYXR0cmlidXRlXCIpKXt2YXIgZT10Lm5hbWUucmVwbGFjZShcImRhdGEtcGgtY2FwdHVyZS1hdHRyaWJ1dGUtXCIsXCJcIikscj10LnZhbHVlO2UmJnImJktpKHIpJiYoaVtlXT1yKX19KSksaX0odCk7TXQoZixlKX0pKSxnKXJldHVybntwcm9wczp7fSxleHBsaWNpdE5vQ2FwdHVyZTpnfTtpZihhfHwoXCJhXCI9PT1pLnRhZ05hbWUudG9Mb3dlckNhc2UoKXx8XCJidXR0b25cIj09PWkudGFnTmFtZS50b0xvd2VyQ2FzZSgpP2NbMF0uJGVsX3RleHQ9WWkoaSk6Y1swXS4kZWxfdGV4dD1PaShpKSkscCl7dmFyIF8sbTtjWzBdLmF0dHJfX2hyZWY9cDt2YXIgeT1udWxsPT0oXz1uZShwKSk/dm9pZCAwOl8uaG9zdCxiPW51bGw9PXR8fG51bGw9PShtPXQubG9jYXRpb24pP3ZvaWQgMDptLmhvc3Q7eSYmYiYmeSE9PWImJih2PXApfXJldHVybntwcm9wczpNdCh7JGV2ZW50X3R5cGU6bi50eXBlLCRjZV92ZXJzaW9uOjF9LHU/e306eyRlbGVtZW50czpjfSx7JGVsZW1lbnRzX2NoYWluOlFpKGMpfSxudWxsIT0ocj1jWzBdKSYmci4kZWxfdGV4dD97JGVsX3RleHQ6bnVsbD09KHM9Y1swXSk/dm9pZCAwOnMuJGVsX3RleHR9Ont9LHYmJlwiY2xpY2tcIj09PW4udHlwZT97JGV4dGVybmFsX2NsaWNrX3VybDp2fTp7fSxmKX19Y2xhc3MgcGV7Y29uc3RydWN0b3IodCl7dGhpcy5QPSExLHRoaXMuVD1udWxsLHRoaXMucmFnZWNsaWNrcz1uZXcgaWUsdGhpcy5JPSExLHRoaXMuaW5zdGFuY2U9dCx0aGlzLlI9bnVsbH1nZXQgQygpe3ZhciB0LGksZT1DKHRoaXMuaW5zdGFuY2UuY29uZmlnLmF1dG9jYXB0dXJlKT90aGlzLmluc3RhbmNlLmNvbmZpZy5hdXRvY2FwdHVyZTp7fTtyZXR1cm4gZS51cmxfYWxsb3dsaXN0PW51bGw9PSh0PWUudXJsX2FsbG93bGlzdCk/dm9pZCAwOnQubWFwKCh0PT5uZXcgUmVnRXhwKHQpKSksZS51cmxfaWdub3JlbGlzdD1udWxsPT0oaT1lLnVybF9pZ25vcmVsaXN0KT92b2lkIDA6aS5tYXAoKHQ9Pm5ldyBSZWdFeHAodCkpKSxlfU8oKXtpZih0aGlzLmlzQnJvd3NlclN1cHBvcnRlZCgpKXtpZih0JiZvKXt2YXIgaT1pPT57aT1pfHwobnVsbD09dD92b2lkIDA6dC5ldmVudCk7dHJ5e3RoaXMuRihpKX1jYXRjaCh0KXtoZS5lcnJvcihcIkZhaWxlZCB0byBjYXB0dXJlIGV2ZW50XCIsdCl9fTtpZihxdChvLFwic3VibWl0XCIsaSx7Y2FwdHVyZTohMH0pLHF0KG8sXCJjaGFuZ2VcIixpLHtjYXB0dXJlOiEwfSkscXQobyxcImNsaWNrXCIsaSx7Y2FwdHVyZTohMH0pLHRoaXMuQy5jYXB0dXJlX2NvcGllZF90ZXh0KXt2YXIgZT1pPT57aT1pfHwobnVsbD09dD92b2lkIDA6dC5ldmVudCksdGhpcy5GKGksZWUpfTtxdChvLFwiY29weVwiLGUse2NhcHR1cmU6ITB9KSxxdChvLFwiY3V0XCIsZSx7Y2FwdHVyZTohMH0pfX19ZWxzZSBoZS5pbmZvKFwiRGlzYWJsaW5nIEF1dG9tYXRpYyBFdmVudCBDb2xsZWN0aW9uIGJlY2F1c2UgdGhpcyBicm93c2VyIGlzIG5vdCBzdXBwb3J0ZWRcIil9c3RhcnRJZkVuYWJsZWQoKXt0aGlzLmlzRW5hYmxlZCYmIXRoaXMuUCYmKHRoaXMuTygpLHRoaXMuUD0hMCl9b25SZW1vdGVDb25maWcodCl7dC5lbGVtZW50c0NoYWluQXNTdHJpbmcmJih0aGlzLkk9dC5lbGVtZW50c0NoYWluQXNTdHJpbmcpLHRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UmJnRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UucmVnaXN0ZXIoe1tKdF06ISF0LmF1dG9jYXB0dXJlX29wdF9vdXR9KSx0aGlzLlQ9ISF0LmF1dG9jYXB0dXJlX29wdF9vdXQsdGhpcy5zdGFydElmRW5hYmxlZCgpfXNldEVsZW1lbnRTZWxlY3RvcnModCl7dGhpcy5SPXR9Z2V0RWxlbWVudFNlbGVjdG9ycyh0KXt2YXIgaSxlPVtdO3JldHVybiBudWxsPT0oaT10aGlzLlIpfHxpLmZvckVhY2goKGk9Pnt2YXIgcj1udWxsPT1vP3ZvaWQgMDpvLnF1ZXJ5U2VsZWN0b3JBbGwoaSk7bnVsbD09cnx8ci5mb3JFYWNoKChyPT57dD09PXImJmUucHVzaChpKX0pKX0pKSxlfWdldCBpc0VuYWJsZWQoKXt2YXIgdCxpLGU9bnVsbD09KHQ9dGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZSk/dm9pZCAwOnQucHJvcHNbSnRdLHI9dGhpcy5UO2lmKEQocikmJiFOKGUpJiYhdGhpcy5pbnN0YW5jZS5NKCkpcmV0dXJuITE7dmFyIHM9bnVsbCE9PShpPXRoaXMuVCkmJnZvaWQgMCE9PWk/aTohIWU7cmV0dXJuISF0aGlzLmluc3RhbmNlLmNvbmZpZy5hdXRvY2FwdHVyZSYmIXN9RihpLGUpe2lmKHZvaWQgMD09PWUmJihlPVwiJGF1dG9jYXB0dXJlXCIpLHRoaXMuaXNFbmFibGVkKXt2YXIgcixzPUZpKGkpO2lmKGtpKHMpJiYocz1zLnBhcmVudE5vZGV8fG51bGwpLFwiJGF1dG9jYXB0dXJlXCI9PT1lJiZcImNsaWNrXCI9PT1pLnR5cGUmJmkgaW5zdGFuY2VvZiBNb3VzZUV2ZW50KXRoaXMuaW5zdGFuY2UuY29uZmlnLnJhZ2VjbGljayYmbnVsbCE9KHI9dGhpcy5yYWdlY2xpY2tzKSYmci5pc1JhZ2VDbGljayhpLmNsaWVudFgsaS5jbGllbnRZLChuZXcgRGF0ZSkuZ2V0VGltZSgpKSYmZnVuY3Rpb24oaSxlKXtpZighdHx8TGkoaSkpcmV0dXJuITE7dmFyIHIscztpZighMT09PShyPU4oZSk/ISFlJiZqaTpudWxsIT09KHM9bnVsbD09ZT92b2lkIDA6ZS5jc3Nfc2VsZWN0b3JfaWdub3JlbGlzdCkmJnZvaWQgMCE9PXM/czpqaSkpcmV0dXJuITE7dmFye3RhcmdldEVsZW1lbnRMaXN0Om59PU5pKGksITEpO3JldHVybiFBaShuLHIpfShzLHRoaXMuaW5zdGFuY2UuY29uZmlnLnJhZ2VjbGljaykmJnRoaXMuRihpLFwiJHJhZ2VjbGlja1wiKTt2YXIgbj1lPT09ZWU7aWYocyYmVWkocyxpLHRoaXMuQyxuLG4/W1wiY29weVwiLFwiY3V0XCJdOnZvaWQgMCkpe3Zhcntwcm9wczpvLGV4cGxpY2l0Tm9DYXB0dXJlOmF9PWZlKHMse2U6aSxtYXNrQWxsRWxlbWVudEF0dHJpYnV0ZXM6dGhpcy5pbnN0YW5jZS5jb25maWcubWFza19hbGxfZWxlbWVudF9hdHRyaWJ1dGVzLG1hc2tBbGxUZXh0OnRoaXMuaW5zdGFuY2UuY29uZmlnLm1hc2tfYWxsX3RleHQsZWxlbWVudEF0dHJpYnV0ZUlnbm9yZUxpc3Q6dGhpcy5DLmVsZW1lbnRfYXR0cmlidXRlX2lnbm9yZWxpc3QsZWxlbWVudHNDaGFpbkFzU3RyaW5nOnRoaXMuSX0pO2lmKGEpcmV0dXJuITE7dmFyIGw9dGhpcy5nZXRFbGVtZW50U2VsZWN0b3JzKHMpO2lmKGwmJmwubGVuZ3RoPjAmJihvLiRlbGVtZW50X3NlbGVjdG9ycz1sKSxlPT09ZWUpe3ZhciB1LGg9Q2kobnVsbD09dHx8bnVsbD09KHU9dC5nZXRTZWxlY3Rpb24oKSk/dm9pZCAwOnUudG9TdHJpbmcoKSksZD1pLnR5cGV8fFwiY2xpcGJvYXJkXCI7aWYoIWgpcmV0dXJuITE7by4kc2VsZWN0ZWRfY29udGVudD1oLG8uJGNvcHlfdHlwZT1kfXJldHVybiB0aGlzLmluc3RhbmNlLmNhcHR1cmUoZSxvKSwhMH19fWlzQnJvd3NlclN1cHBvcnRlZCgpe3JldHVybiBSKG51bGw9PW8/dm9pZCAwOm8ucXVlcnlTZWxlY3RvckFsbCl9fU1hdGgudHJ1bmN8fChNYXRoLnRydW5jPWZ1bmN0aW9uKHQpe3JldHVybiB0PDA/TWF0aC5jZWlsKHQpOk1hdGguZmxvb3IodCl9KSxOdW1iZXIuaXNJbnRlZ2VyfHwoTnVtYmVyLmlzSW50ZWdlcj1mdW5jdGlvbih0KXtyZXR1cm4gTCh0KSYmaXNGaW5pdGUodCkmJk1hdGguZmxvb3IodCk9PT10fSk7dmFyIGdlPVwiMDEyMzQ1Njc4OWFiY2RlZlwiO2NsYXNzIF9le2NvbnN0cnVjdG9yKHQpe2lmKHRoaXMuYnl0ZXM9dCwxNiE9PXQubGVuZ3RoKXRocm93IG5ldyBUeXBlRXJyb3IoXCJub3QgMTI4LWJpdCBsZW5ndGhcIil9c3RhdGljIGZyb21GaWVsZHNWNyh0LGksZSxyKXtpZighTnVtYmVyLmlzSW50ZWdlcih0KXx8IU51bWJlci5pc0ludGVnZXIoaSl8fCFOdW1iZXIuaXNJbnRlZ2VyKGUpfHwhTnVtYmVyLmlzSW50ZWdlcihyKXx8dDwwfHxpPDB8fGU8MHx8cjwwfHx0PjB4ZmZmZmZmZmZmZmZmfHxpPjQwOTV8fGU+MTA3Mzc0MTgyM3x8cj40Mjk0OTY3Mjk1KXRocm93IG5ldyBSYW5nZUVycm9yKFwiaW52YWxpZCBmaWVsZCB2YWx1ZVwiKTt2YXIgcz1uZXcgVWludDhBcnJheSgxNik7cmV0dXJuIHNbMF09dC9NYXRoLnBvdygyLDQwKSxzWzFdPXQvTWF0aC5wb3coMiwzMiksc1syXT10L01hdGgucG93KDIsMjQpLHNbM109dC9NYXRoLnBvdygyLDE2KSxzWzRdPXQvTWF0aC5wb3coMiw4KSxzWzVdPXQsc1s2XT0xMTJ8aT4+Pjgsc1s3XT1pLHNbOF09MTI4fGU+Pj4yNCxzWzldPWU+Pj4xNixzWzEwXT1lPj4+OCxzWzExXT1lLHNbMTJdPXI+Pj4yNCxzWzEzXT1yPj4+MTYsc1sxNF09cj4+Pjgsc1sxNV09cixuZXcgX2Uocyl9dG9TdHJpbmcoKXtmb3IodmFyIHQ9XCJcIixpPTA7aTx0aGlzLmJ5dGVzLmxlbmd0aDtpKyspdD10K2dlLmNoYXJBdCh0aGlzLmJ5dGVzW2ldPj4+NCkrZ2UuY2hhckF0KDE1JnRoaXMuYnl0ZXNbaV0pLDMhPT1pJiY1IT09aSYmNyE9PWkmJjkhPT1pfHwodCs9XCItXCIpO2lmKDM2IT09dC5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBVVUlEdjcgd2FzIGdlbmVyYXRlZFwiKTtyZXR1cm4gdH1jbG9uZSgpe3JldHVybiBuZXcgX2UodGhpcy5ieXRlcy5zbGljZSgwKSl9ZXF1YWxzKHQpe3JldHVybiAwPT09dGhpcy5jb21wYXJlVG8odCl9Y29tcGFyZVRvKHQpe2Zvcih2YXIgaT0wO2k8MTY7aSsrKXt2YXIgZT10aGlzLmJ5dGVzW2ldLXQuYnl0ZXNbaV07aWYoMCE9PWUpcmV0dXJuIE1hdGguc2lnbihlKX1yZXR1cm4gMH19Y2xhc3MgbWV7Y29uc3RydWN0b3IoKXt0aGlzLkE9MCx0aGlzLkQ9MCx0aGlzLmo9bmV3IHdlfWdlbmVyYXRlKCl7dmFyIHQ9dGhpcy5nZW5lcmF0ZU9yQWJvcnQoKTtpZihGKHQpKXt0aGlzLkE9MDt2YXIgaT10aGlzLmdlbmVyYXRlT3JBYm9ydCgpO2lmKEYoaSkpdGhyb3cgbmV3IEVycm9yKFwiQ291bGQgbm90IGdlbmVyYXRlIFVVSUQgYWZ0ZXIgdGltZXN0YW1wIHJlc2V0XCIpO3JldHVybiBpfXJldHVybiB0fWdlbmVyYXRlT3JBYm9ydCgpe3ZhciB0PURhdGUubm93KCk7aWYodD50aGlzLkEpdGhpcy5BPXQsdGhpcy5MKCk7ZWxzZXtpZighKHQrMWU0PnRoaXMuQSkpcmV0dXJuO3RoaXMuRCsrLHRoaXMuRD40Mzk4MDQ2NTExMTAzJiYodGhpcy5BKyssdGhpcy5MKCkpfXJldHVybiBfZS5mcm9tRmllbGRzVjcodGhpcy5BLE1hdGgudHJ1bmModGhpcy5EL01hdGgucG93KDIsMzApKSx0aGlzLkQmTWF0aC5wb3coMiwzMCktMSx0aGlzLmoubmV4dFVpbnQzMigpKX1MKCl7dGhpcy5EPTEwMjQqdGhpcy5qLm5leHRVaW50MzIoKSsoMTAyMyZ0aGlzLmoubmV4dFVpbnQzMigpKX19dmFyIHllLGJlPXQ9PntpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgVVVJRFY3X0RFTllfV0VBS19STkcmJlVVSURWN19ERU5ZX1dFQUtfUk5HKXRocm93IG5ldyBFcnJvcihcIm5vIGNyeXB0b2dyYXBoaWNhbGx5IHN0cm9uZyBSTkcgYXZhaWxhYmxlXCIpO2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKXRbaV09NjU1MzYqTWF0aC50cnVuYyg2NTUzNipNYXRoLnJhbmRvbSgpKStNYXRoLnRydW5jKDY1NTM2Kk1hdGgucmFuZG9tKCkpO3JldHVybiB0fTt0JiYhRih0LmNyeXB0bykmJmNyeXB0by5nZXRSYW5kb21WYWx1ZXMmJihiZT10PT5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKHQpKTtjbGFzcyB3ZXtjb25zdHJ1Y3Rvcigpe3RoaXMuTj1uZXcgVWludDMyQXJyYXkoOCksdGhpcy5VPTEvMH1uZXh0VWludDMyKCl7cmV0dXJuIHRoaXMuVT49dGhpcy5OLmxlbmd0aCYmKGJlKHRoaXMuTiksdGhpcy5VPTApLHRoaXMuTlt0aGlzLlUrK119fXZhciB4ZT0oKT0+JGUoKS50b1N0cmluZygpLCRlPSgpPT4oeWV8fCh5ZT1uZXcgbWUpKS5nZW5lcmF0ZSgpLFNlPVwiXCI7dmFyIEVlPS9bYS16MC05XVthLXowLTktXStcXC5bYS16XXsyLH0kL2k7ZnVuY3Rpb24ga2UodCxpKXtpZihpKXt2YXIgZT1mdW5jdGlvbih0LGkpe2lmKHZvaWQgMD09PWkmJihpPW8pLFNlKXJldHVybiBTZTtpZighaSlyZXR1cm5cIlwiO2lmKFtcImxvY2FsaG9zdFwiLFwiMTI3LjAuMC4xXCJdLmluY2x1ZGVzKHQpKXJldHVyblwiXCI7Zm9yKHZhciBlPXQuc3BsaXQoXCIuXCIpLHI9TWF0aC5taW4oZS5sZW5ndGgsOCkscz1cImRtbl9jaGtfXCIreGUoKTshU2UmJnItLTspe3ZhciBuPWUuc2xpY2Uocikuam9pbihcIi5cIiksYT1zK1wiPTE7ZG9tYWluPS5cIituK1wiO3BhdGg9L1wiO2kuY29va2llPWErXCI7bWF4LWFnZT0zXCIsaS5jb29raWUuaW5jbHVkZXMocykmJihpLmNvb2tpZT1hK1wiO21heC1hZ2U9MFwiLFNlPW4pfXJldHVybiBTZX0odCk7aWYoIWUpe3ZhciByPSh0PT57dmFyIGk9dC5tYXRjaChFZSk7cmV0dXJuIGk/aVswXTpcIlwifSkodCk7ciE9PWUmJlB0LmluZm8oXCJXYXJuaW5nOiBjb29raWUgc3ViZG9tYWluIGRpc2NvdmVyeSBtaXNtYXRjaFwiLHIsZSksZT1yfXJldHVybiBlP1wiOyBkb21haW49LlwiK2U6XCJcIn1yZXR1cm5cIlwifXZhciBQZT17SDooKT0+ISFvLEI6ZnVuY3Rpb24odCl7UHQuZXJyb3IoXCJjb29raWVTdG9yZSBlcnJvcjogXCIrdCl9LHE6ZnVuY3Rpb24odCl7aWYobyl7dHJ5e2Zvcih2YXIgaT10K1wiPVwiLGU9by5jb29raWUuc3BsaXQoXCI7XCIpLmZpbHRlcigodD0+dC5sZW5ndGgpKSxyPTA7cjxlLmxlbmd0aDtyKyspe2Zvcih2YXIgcz1lW3JdO1wiIFwiPT1zLmNoYXJBdCgwKTspcz1zLnN1YnN0cmluZygxLHMubGVuZ3RoKTtpZigwPT09cy5pbmRleE9mKGkpKXJldHVybiBkZWNvZGVVUklDb21wb25lbnQocy5zdWJzdHJpbmcoaS5sZW5ndGgscy5sZW5ndGgpKX19Y2F0Y2godCl7fXJldHVybiBudWxsfX0sVzpmdW5jdGlvbih0KXt2YXIgaTt0cnl7aT1KU09OLnBhcnNlKFBlLnEodCkpfHx7fX1jYXRjaCh0KXt9cmV0dXJuIGl9LEc6ZnVuY3Rpb24odCxpLGUscixzKXtpZihvKXRyeXt2YXIgbj1cIlwiLGE9XCJcIixsPWtlKG8ubG9jYXRpb24uaG9zdG5hbWUscik7aWYoZSl7dmFyIHU9bmV3IERhdGU7dS5zZXRUaW1lKHUuZ2V0VGltZSgpKzI0KmUqNjAqNjAqMWUzKSxuPVwiOyBleHBpcmVzPVwiK3UudG9VVENTdHJpbmcoKX1zJiYoYT1cIjsgc2VjdXJlXCIpO3ZhciBoPXQrXCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGkpKStuK1wiOyBTYW1lU2l0ZT1MYXg7IHBhdGg9L1wiK2wrYTtyZXR1cm4gaC5sZW5ndGg+MzY4Ni40JiZQdC53YXJuKFwiY29va2llU3RvcmUgd2FybmluZzogbGFyZ2UgY29va2llLCBsZW49XCIraC5sZW5ndGgpLG8uY29va2llPWgsaH1jYXRjaCh0KXtyZXR1cm59fSxWOmZ1bmN0aW9uKHQsaSl7aWYobnVsbCE9byYmby5jb29raWUpdHJ5e1BlLkcodCxcIlwiLC0xLGkpfWNhdGNoKHQpe3JldHVybn19fSxUZT1udWxsLEllPXtIOmZ1bmN0aW9uKCl7aWYoIUQoVGUpKXJldHVybiBUZTt2YXIgaT0hMDtpZihGKHQpKWk9ITE7ZWxzZSB0cnl7dmFyIGU9XCJfX21wbHNzdXBwb3J0X19cIjtJZS5HKGUsXCJ4eXpcIiksJ1wieHl6XCInIT09SWUucShlKSYmKGk9ITEpLEllLlYoZSl9Y2F0Y2godCl7aT0hMX1yZXR1cm4gaXx8UHQuZXJyb3IoXCJsb2NhbFN0b3JhZ2UgdW5zdXBwb3J0ZWQ7IGZhbGxpbmcgYmFjayB0byBjb29raWUgc3RvcmVcIiksVGU9aSxpfSxCOmZ1bmN0aW9uKHQpe1B0LmVycm9yKFwibG9jYWxTdG9yYWdlIGVycm9yOiBcIit0KX0scTpmdW5jdGlvbihpKXt0cnl7cmV0dXJuIG51bGw9PXQ/dm9pZCAwOnQubG9jYWxTdG9yYWdlLmdldEl0ZW0oaSl9Y2F0Y2godCl7SWUuQih0KX1yZXR1cm4gbnVsbH0sVzpmdW5jdGlvbih0KXt0cnl7cmV0dXJuIEpTT04ucGFyc2UoSWUucSh0KSl8fHt9fWNhdGNoKHQpe31yZXR1cm4gbnVsbH0sRzpmdW5jdGlvbihpLGUpe3RyeXtudWxsPT10fHx0LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGksSlNPTi5zdHJpbmdpZnkoZSkpfWNhdGNoKHQpe0llLkIodCl9fSxWOmZ1bmN0aW9uKGkpe3RyeXtudWxsPT10fHx0LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGkpfWNhdGNoKHQpe0llLkIodCl9fX0sUmU9W1wiZGlzdGluY3RfaWRcIixyaSxzaSx5aSxtaV0sQ2U9Zyh7fSxJZSx7VzpmdW5jdGlvbih0KXt0cnl7dmFyIGk9e307dHJ5e2k9UGUuVyh0KXx8e319Y2F0Y2godCl7fXZhciBlPU10KGksSlNPTi5wYXJzZShJZS5xKHQpfHxcInt9XCIpKTtyZXR1cm4gSWUuRyh0LGUpLGV9Y2F0Y2godCl7fXJldHVybiBudWxsfSxHOmZ1bmN0aW9uKHQsaSxlLHIscyxuKXt0cnl7SWUuRyh0LGksdm9pZCAwLHZvaWQgMCxuKTt2YXIgbz17fTtSZS5mb3JFYWNoKCh0PT57aVt0XSYmKG9bdF09aVt0XSl9KSksT2JqZWN0LmtleXMobykubGVuZ3RoJiZQZS5HKHQsbyxlLHIscyxuKX1jYXRjaCh0KXtJZS5CKHQpfX0sVjpmdW5jdGlvbihpLGUpe3RyeXtudWxsPT10fHx0LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGkpLFBlLlYoaSxlKX1jYXRjaCh0KXtJZS5CKHQpfX19KSxPZT17fSxGZT17SDpmdW5jdGlvbigpe3JldHVybiEwfSxCOmZ1bmN0aW9uKHQpe1B0LmVycm9yKFwibWVtb3J5U3RvcmFnZSBlcnJvcjogXCIrdCl9LHE6ZnVuY3Rpb24odCl7cmV0dXJuIE9lW3RdfHxudWxsfSxXOmZ1bmN0aW9uKHQpe3JldHVybiBPZVt0XXx8bnVsbH0sRzpmdW5jdGlvbih0LGkpe09lW3RdPWl9LFY6ZnVuY3Rpb24odCl7ZGVsZXRlIE9lW3RdfX0sTWU9bnVsbCxBZT17SDpmdW5jdGlvbigpe2lmKCFEKE1lKSlyZXR1cm4gTWU7aWYoTWU9ITAsRih0KSlNZT0hMTtlbHNlIHRyeXt2YXIgaT1cIl9fc3VwcG9ydF9fXCI7QWUuRyhpLFwieHl6XCIpLCdcInh5elwiJyE9PUFlLnEoaSkmJihNZT0hMSksQWUuVihpKX1jYXRjaCh0KXtNZT0hMX1yZXR1cm4gTWV9LEI6ZnVuY3Rpb24odCl7UHQuZXJyb3IoXCJzZXNzaW9uU3RvcmFnZSBlcnJvcjogXCIsdCl9LHE6ZnVuY3Rpb24oaSl7dHJ5e3JldHVybiBudWxsPT10P3ZvaWQgMDp0LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oaSl9Y2F0Y2godCl7QWUuQih0KX1yZXR1cm4gbnVsbH0sVzpmdW5jdGlvbih0KXt0cnl7cmV0dXJuIEpTT04ucGFyc2UoQWUucSh0KSl8fG51bGx9Y2F0Y2godCl7fXJldHVybiBudWxsfSxHOmZ1bmN0aW9uKGksZSl7dHJ5e251bGw9PXR8fHQuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShpLEpTT04uc3RyaW5naWZ5KGUpKX1jYXRjaCh0KXtBZS5CKHQpfX0sVjpmdW5jdGlvbihpKXt0cnl7bnVsbD09dHx8dC5zZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKGkpfWNhdGNoKHQpe0FlLkIodCl9fX0sRGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5QRU5ESU5HPS0xXT1cIlBFTkRJTkdcIix0W3QuREVOSUVEPTBdPVwiREVOSUVEXCIsdFt0LkdSQU5URUQ9MV09XCJHUkFOVEVEXCIsdH0oe30pO2NsYXNzIGple2NvbnN0cnVjdG9yKHQpe3RoaXMuX2luc3RhbmNlPXR9Z2V0IEMoKXtyZXR1cm4gdGhpcy5faW5zdGFuY2UuY29uZmlnfWdldCBjb25zZW50KCl7cmV0dXJuIHRoaXMuSigpP0RlLkRFTklFRDp0aGlzLkt9aXNPcHRlZE91dCgpe3JldHVyblwiYWx3YXlzXCI9PT10aGlzLkMuY29va2llbGVzc19tb2RlfHwodGhpcy5jb25zZW50PT09RGUuREVOSUVEfHx0aGlzLmNvbnNlbnQ9PT1EZS5QRU5ESU5HJiYodGhpcy5DLm9wdF9vdXRfY2FwdHVyaW5nX2J5X2RlZmF1bHR8fFwib25fcmVqZWN0XCI9PT10aGlzLkMuY29va2llbGVzc19tb2RlKSl9aXNPcHRlZEluKCl7cmV0dXJuIXRoaXMuaXNPcHRlZE91dCgpfWlzRXhwbGljaXRseU9wdGVkT3V0KCl7cmV0dXJuIHRoaXMuY29uc2VudD09PURlLkRFTklFRH1vcHRJbk91dCh0KXt0aGlzLlkuRyh0aGlzLlgsdD8xOjAsdGhpcy5DLmNvb2tpZV9leHBpcmF0aW9uLHRoaXMuQy5jcm9zc19zdWJkb21haW5fY29va2llLHRoaXMuQy5zZWN1cmVfY29va2llKX1yZXNldCgpe3RoaXMuWS5WKHRoaXMuWCx0aGlzLkMuY3Jvc3Nfc3ViZG9tYWluX2Nvb2tpZSl9Z2V0IFgoKXt2YXJ7dG9rZW46dCxvcHRfb3V0X2NhcHR1cmluZ19jb29raWVfcHJlZml4OmksY29uc2VudF9wZXJzaXN0ZW5jZV9uYW1lOmV9PXRoaXMuX2luc3RhbmNlLmNvbmZpZztyZXR1cm4gZXx8KGk/aSt0OlwiX19waF9vcHRfaW5fb3V0X1wiK3QpfWdldCBLKCl7dmFyIHQ9dGhpcy5ZLnEodGhpcy5YKTtyZXR1cm4gRyh0KT9EZS5HUkFOVEVEOncoVix0KT9EZS5ERU5JRUQ6RGUuUEVORElOR31nZXQgWSgpe2lmKCF0aGlzLlope3ZhciB0PXRoaXMuQy5vcHRfb3V0X2NhcHR1cmluZ19wZXJzaXN0ZW5jZV90eXBlO3RoaXMuWj1cImxvY2FsU3RvcmFnZVwiPT09dD9JZTpQZTt2YXIgaT1cImxvY2FsU3RvcmFnZVwiPT09dD9QZTpJZTtpLnEodGhpcy5YKSYmKHRoaXMuWi5xKHRoaXMuWCl8fHRoaXMub3B0SW5PdXQoRyhpLnEodGhpcy5YKSkpLGkuVih0aGlzLlgsdGhpcy5DLmNyb3NzX3N1YmRvbWFpbl9jb29raWUpKX1yZXR1cm4gdGhpcy5afUooKXtyZXR1cm4hIXRoaXMuQy5yZXNwZWN0X2RudCYmISFCdChbbnVsbD09bj92b2lkIDA6bi5kb05vdFRyYWNrLG51bGw9PW4/dm9pZCAwOm4ubXNEb05vdFRyYWNrLHYuZG9Ob3RUcmFja10sKHQ9PkcodCkpKX19dmFyIExlPVR0KFwiW0RlYWQgQ2xpY2tzXVwiKSxOZT0oKT0+ITAsVWU9dD0+e3ZhciBpLGU9IShudWxsPT0oaT10Lmluc3RhbmNlLnBlcnNpc3RlbmNlKXx8IWkuZ2V0X3Byb3BlcnR5KHRpKSkscj10Lmluc3RhbmNlLmNvbmZpZy5jYXB0dXJlX2RlYWRfY2xpY2tzO3JldHVybiBOKHIpP3I6ZX07Y2xhc3MgemV7Z2V0IGxhenlMb2FkZWREZWFkQ2xpY2tzQXV0b2NhcHR1cmUoKXtyZXR1cm4gdGhpcy50dH1jb25zdHJ1Y3Rvcih0LGksZSl7dGhpcy5pbnN0YW5jZT10LHRoaXMuaXNFbmFibGVkPWksdGhpcy5vbkNhcHR1cmU9ZSx0aGlzLnN0YXJ0SWZFbmFibGVkKCl9b25SZW1vdGVDb25maWcodCl7dGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZSYmdGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZS5yZWdpc3Rlcih7W3RpXTpudWxsPT10P3ZvaWQgMDp0LmNhcHR1cmVEZWFkQ2xpY2tzfSksdGhpcy5zdGFydElmRW5hYmxlZCgpfXN0YXJ0SWZFbmFibGVkKCl7dGhpcy5pc0VuYWJsZWQodGhpcykmJnRoaXMuaXQoKCgpPT57dGhpcy5ldCgpfSkpfWl0KHQpe3ZhciBpLGU7bnVsbCE9KGk9di5fX1Bvc3Rob2dFeHRlbnNpb25zX18pJiZpLmluaXREZWFkQ2xpY2tzQXV0b2NhcHR1cmUmJnQoKSxudWxsPT0oZT12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXyl8fG51bGw9PWUubG9hZEV4dGVybmFsRGVwZW5kZW5jeXx8ZS5sb2FkRXh0ZXJuYWxEZXBlbmRlbmN5KHRoaXMuaW5zdGFuY2UsXCJkZWFkLWNsaWNrcy1hdXRvY2FwdHVyZVwiLChpPT57aT9MZS5lcnJvcihcImZhaWxlZCB0byBsb2FkIHNjcmlwdFwiLGkpOnQoKX0pKX1ldCgpe3ZhciB0O2lmKG8pe2lmKCF0aGlzLnR0JiZudWxsIT0odD12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXykmJnQuaW5pdERlYWRDbGlja3NBdXRvY2FwdHVyZSl7dmFyIGk9Qyh0aGlzLmluc3RhbmNlLmNvbmZpZy5jYXB0dXJlX2RlYWRfY2xpY2tzKT90aGlzLmluc3RhbmNlLmNvbmZpZy5jYXB0dXJlX2RlYWRfY2xpY2tzOnt9O2kuX19vbkNhcHR1cmU9dGhpcy5vbkNhcHR1cmUsdGhpcy50dD12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXy5pbml0RGVhZENsaWNrc0F1dG9jYXB0dXJlKHRoaXMuaW5zdGFuY2UsaSksdGhpcy50dC5zdGFydChvKSxMZS5pbmZvKFwic3RhcnRpbmcuLi5cIil9fWVsc2UgTGUuZXJyb3IoXCJgZG9jdW1lbnRgIG5vdCBmb3VuZC4gQ2Fubm90IHN0YXJ0LlwiKX1zdG9wKCl7dGhpcy50dCYmKHRoaXMudHQuc3RvcCgpLHRoaXMudHQ9dm9pZCAwLExlLmluZm8oXCJzdG9wcGluZy4uLlwiKSl9fXZhciBIZT1UdChcIltFeGNlcHRpb25BdXRvY2FwdHVyZV1cIik7Y2xhc3MgQmV7Y29uc3RydWN0b3IoaSl7dmFyIGUscixzO3RoaXMucnQ9KCk9Pnt2YXIgaTtpZih0JiZ0aGlzLmlzRW5hYmxlZCYmbnVsbCE9KGk9di5fX1Bvc3Rob2dFeHRlbnNpb25zX18pJiZpLmVycm9yV3JhcHBpbmdGdW5jdGlvbnMpe3ZhciBlPXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fLmVycm9yV3JhcHBpbmdGdW5jdGlvbnMud3JhcE9uRXJyb3Iscj12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXy5lcnJvcldyYXBwaW5nRnVuY3Rpb25zLndyYXBVbmhhbmRsZWRSZWplY3Rpb24scz12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXy5lcnJvcldyYXBwaW5nRnVuY3Rpb25zLndyYXBDb25zb2xlRXJyb3I7dHJ5eyF0aGlzLnN0JiZ0aGlzLkMuY2FwdHVyZV91bmhhbmRsZWRfZXJyb3JzJiYodGhpcy5zdD1lKHRoaXMuY2FwdHVyZUV4Y2VwdGlvbi5iaW5kKHRoaXMpKSksIXRoaXMubnQmJnRoaXMuQy5jYXB0dXJlX3VuaGFuZGxlZF9yZWplY3Rpb25zJiYodGhpcy5udD1yKHRoaXMuY2FwdHVyZUV4Y2VwdGlvbi5iaW5kKHRoaXMpKSksIXRoaXMub3QmJnRoaXMuQy5jYXB0dXJlX2NvbnNvbGVfZXJyb3JzJiYodGhpcy5vdD1zKHRoaXMuY2FwdHVyZUV4Y2VwdGlvbi5iaW5kKHRoaXMpKSl9Y2F0Y2godCl7SGUuZXJyb3IoXCJmYWlsZWQgdG8gc3RhcnRcIix0KSx0aGlzLmx0KCl9fX0sdGhpcy5faW5zdGFuY2U9aSx0aGlzLnV0PSEobnVsbD09KGU9dGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UpfHwhZS5wcm9wc1tZdF0pLHRoaXMuQz10aGlzLmh0KCksdGhpcy5kdD1uZXcgSyh7cmVmaWxsUmF0ZTpudWxsIT09KHI9dGhpcy5faW5zdGFuY2UuY29uZmlnLmVycm9yX3RyYWNraW5nLl9fZXhjZXB0aW9uUmF0ZUxpbWl0ZXJSZWZpbGxSYXRlKSYmdm9pZCAwIT09cj9yOjEsYnVja2V0U2l6ZTpudWxsIT09KHM9dGhpcy5faW5zdGFuY2UuY29uZmlnLmVycm9yX3RyYWNraW5nLl9fZXhjZXB0aW9uUmF0ZUxpbWl0ZXJCdWNrZXRTaXplKSYmdm9pZCAwIT09cz9zOjEwLHJlZmlsbEludGVydmFsOjFlNCxoOkhlfSksdGhpcy5zdGFydElmRW5hYmxlZCgpfWh0KCl7dmFyIHQ9dGhpcy5faW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfZXhjZXB0aW9ucyxpPXtjYXB0dXJlX3VuaGFuZGxlZF9lcnJvcnM6ITEsY2FwdHVyZV91bmhhbmRsZWRfcmVqZWN0aW9uczohMSxjYXB0dXJlX2NvbnNvbGVfZXJyb3JzOiExfTtyZXR1cm4gQyh0KT9pPWcoe30saSx0KTooRih0KT90aGlzLnV0OnQpJiYoaT1nKHt9LGkse2NhcHR1cmVfdW5oYW5kbGVkX2Vycm9yczohMCxjYXB0dXJlX3VuaGFuZGxlZF9yZWplY3Rpb25zOiEwfSkpLGl9Z2V0IGlzRW5hYmxlZCgpe3JldHVybiB0aGlzLkMuY2FwdHVyZV9jb25zb2xlX2Vycm9yc3x8dGhpcy5DLmNhcHR1cmVfdW5oYW5kbGVkX2Vycm9yc3x8dGhpcy5DLmNhcHR1cmVfdW5oYW5kbGVkX3JlamVjdGlvbnN9c3RhcnRJZkVuYWJsZWQoKXt0aGlzLmlzRW5hYmxlZCYmKEhlLmluZm8oXCJlbmFibGVkXCIpLHRoaXMuaXQodGhpcy5ydCkpfWl0KHQpe3ZhciBpLGU7bnVsbCE9KGk9di5fX1Bvc3Rob2dFeHRlbnNpb25zX18pJiZpLmVycm9yV3JhcHBpbmdGdW5jdGlvbnMmJnQoKSxudWxsPT0oZT12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXyl8fG51bGw9PWUubG9hZEV4dGVybmFsRGVwZW5kZW5jeXx8ZS5sb2FkRXh0ZXJuYWxEZXBlbmRlbmN5KHRoaXMuX2luc3RhbmNlLFwiZXhjZXB0aW9uLWF1dG9jYXB0dXJlXCIsKGk9PntpZihpKXJldHVybiBIZS5lcnJvcihcImZhaWxlZCB0byBsb2FkIHNjcmlwdFwiLGkpO3QoKX0pKX1sdCgpe3ZhciB0LGksZTtudWxsPT0odD10aGlzLnN0KXx8dC5jYWxsKHRoaXMpLHRoaXMuc3Q9dm9pZCAwLG51bGw9PShpPXRoaXMubnQpfHxpLmNhbGwodGhpcyksdGhpcy5udD12b2lkIDAsbnVsbD09KGU9dGhpcy5vdCl8fGUuY2FsbCh0aGlzKSx0aGlzLm90PXZvaWQgMH1vblJlbW90ZUNvbmZpZyh0KXt2YXIgaT10LmF1dG9jYXB0dXJlRXhjZXB0aW9uczt0aGlzLnV0PSEhaXx8ITEsdGhpcy5DPXRoaXMuaHQoKSx0aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZSYmdGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UucmVnaXN0ZXIoe1tZdF06dGhpcy51dH0pLHRoaXMuc3RhcnRJZkVuYWJsZWQoKX1jYXB0dXJlRXhjZXB0aW9uKHQpe3ZhciBpLGUscj1udWxsIT09KGk9bnVsbD09dHx8bnVsbD09KGU9dC4kZXhjZXB0aW9uX2xpc3QpfHxudWxsPT0oZT1lWzBdKT92b2lkIDA6ZS50eXBlKSYmdm9pZCAwIT09aT9pOlwiRXhjZXB0aW9uXCI7dGhpcy5kdC5jb25zdW1lUmF0ZUxpbWl0KHIpP0hlLmluZm8oXCJTa2lwcGluZyBleGNlcHRpb24gY2FwdHVyZSBiZWNhdXNlIG9mIGNsaWVudCByYXRlIGxpbWl0aW5nLlwiLHtleGNlcHRpb246cn0pOnRoaXMuX2luc3RhbmNlLmV4Y2VwdGlvbnMuc2VuZEV4Y2VwdGlvbkV2ZW50KHQpfX1mdW5jdGlvbiBxZSh0LGksZSl7dHJ5e2lmKCEoaSBpbiB0KSlyZXR1cm4oKT0+e307dmFyIHI9dFtpXSxzPWUocik7cmV0dXJuIFIocykmJihzLnByb3RvdHlwZT1zLnByb3RvdHlwZXx8e30sT2JqZWN0LmRlZmluZVByb3BlcnRpZXMocyx7X19wb3N0aG9nX3dyYXBwZWRfXzp7ZW51bWVyYWJsZTohMSx2YWx1ZTohMH19KSksdFtpXT1zLCgpPT57dFtpXT1yfX1jYXRjaCh0KXtyZXR1cm4oKT0+e319fWNsYXNzIFdle2NvbnN0cnVjdG9yKGkpe3ZhciBlO3RoaXMuX2luc3RhbmNlPWksdGhpcy52dD0obnVsbD09dHx8bnVsbD09KGU9dC5sb2NhdGlvbik/dm9pZCAwOmUucGF0aG5hbWUpfHxcIlwifWdldCBpc0VuYWJsZWQoKXtyZXR1cm5cImhpc3RvcnlfY2hhbmdlXCI9PT10aGlzLl9pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9wYWdldmlld31zdGFydElmRW5hYmxlZCgpe3RoaXMuaXNFbmFibGVkJiYoUHQuaW5mbyhcIkhpc3RvcnkgQVBJIG1vbml0b3JpbmcgZW5hYmxlZCwgc3RhcnRpbmcuLi5cIiksdGhpcy5tb25pdG9ySGlzdG9yeUNoYW5nZXMoKSl9c3RvcCgpe3RoaXMuY3QmJnRoaXMuY3QoKSx0aGlzLmN0PXZvaWQgMCxQdC5pbmZvKFwiSGlzdG9yeSBBUEkgbW9uaXRvcmluZyBzdG9wcGVkXCIpfW1vbml0b3JIaXN0b3J5Q2hhbmdlcygpe3ZhciBpLGU7aWYodCYmdC5oaXN0b3J5KXt2YXIgcj10aGlzO251bGwhPShpPXQuaGlzdG9yeS5wdXNoU3RhdGUpJiZpLl9fcG9zdGhvZ193cmFwcGVkX198fHFlKHQuaGlzdG9yeSxcInB1c2hTdGF0ZVwiLCh0PT5mdW5jdGlvbihpLGUscyl7dC5jYWxsKHRoaXMsaSxlLHMpLHIuZnQoXCJwdXNoU3RhdGVcIil9KSksbnVsbCE9KGU9dC5oaXN0b3J5LnJlcGxhY2VTdGF0ZSkmJmUuX19wb3N0aG9nX3dyYXBwZWRfX3x8cWUodC5oaXN0b3J5LFwicmVwbGFjZVN0YXRlXCIsKHQ9PmZ1bmN0aW9uKGksZSxzKXt0LmNhbGwodGhpcyxpLGUscyksci5mdChcInJlcGxhY2VTdGF0ZVwiKX0pKSx0aGlzLmd0KCl9fWZ0KGkpe3RyeXt2YXIgZSxyPW51bGw9PXR8fG51bGw9PShlPXQubG9jYXRpb24pP3ZvaWQgMDplLnBhdGhuYW1lO2lmKCFyKXJldHVybjtyIT09dGhpcy52dCYmdGhpcy5pc0VuYWJsZWQmJnRoaXMuX2luc3RhbmNlLmNhcHR1cmUoXCIkcGFnZXZpZXdcIix7bmF2aWdhdGlvbl90eXBlOml9KSx0aGlzLnZ0PXJ9Y2F0Y2godCl7UHQuZXJyb3IoXCJFcnJvciBjYXB0dXJpbmcgXCIraStcIiBwYWdldmlld1wiLHQpfX1ndCgpe2lmKCF0aGlzLmN0KXt2YXIgaT0oKT0+e3RoaXMuZnQoXCJwb3BzdGF0ZVwiKX07cXQodCxcInBvcHN0YXRlXCIsaSksdGhpcy5jdD0oKT0+e3QmJnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvcHN0YXRlXCIsaSl9fX19dmFyIEdlPVR0KFwiW1NlZ21lbnRJbnRlZ3JhdGlvbl1cIik7ZnVuY3Rpb24gVmUodCxpKXt2YXIgZT10LmNvbmZpZy5zZWdtZW50O2lmKCFlKXJldHVybiBpKCk7IWZ1bmN0aW9uKHQsaSl7dmFyIGU9dC5jb25maWcuc2VnbWVudDtpZighZSlyZXR1cm4gaSgpO3ZhciByPWU9Pnt2YXIgcj0oKT0+ZS5hbm9ueW1vdXNJZCgpfHx4ZSgpO3QuY29uZmlnLmdldF9kZXZpY2VfaWQ9cixlLmlkKCkmJih0LnJlZ2lzdGVyKHtkaXN0aW5jdF9pZDplLmlkKCksJGRldmljZV9pZDpyKCl9KSx0LnBlcnNpc3RlbmNlLnNldF9wcm9wZXJ0eShjaSxcImlkZW50aWZpZWRcIikpLGkoKX0scz1lLnVzZXIoKTtcInRoZW5cImluIHMmJlIocy50aGVuKT9zLnRoZW4oKHQ9PnIodCkpKTpyKHMpfSh0LCgoKT0+e2UucmVnaXN0ZXIoKHQ9PntQcm9taXNlJiZQcm9taXNlLnJlc29sdmV8fEdlLndhcm4oXCJUaGlzIGJyb3dzZXIgZG9lcyBub3QgaGF2ZSBQcm9taXNlIHN1cHBvcnQsIGFuZCBjYW4gbm90IHVzZSB0aGUgc2VnbWVudCBpbnRlZ3JhdGlvblwiKTt2YXIgaT0oaSxlKT0+e2lmKCFlKXJldHVybiBpO2kuZXZlbnQudXNlcklkfHxpLmV2ZW50LmFub255bW91c0lkPT09dC5nZXRfZGlzdGluY3RfaWQoKXx8KEdlLmluZm8oXCJObyB1c2VySWQgc2V0LCByZXNldHRpbmcgUG9zdEhvZ1wiKSx0LnJlc2V0KCkpLGkuZXZlbnQudXNlcklkJiZpLmV2ZW50LnVzZXJJZCE9PXQuZ2V0X2Rpc3RpbmN0X2lkKCkmJihHZS5pbmZvKFwiVXNlcklkIHNldCwgaWRlbnRpZnlpbmcgd2l0aCBQb3N0SG9nXCIpLHQuaWRlbnRpZnkoaS5ldmVudC51c2VySWQpKTt2YXIgcj10LmNhbGN1bGF0ZUV2ZW50UHJvcGVydGllcyhlLGkuZXZlbnQucHJvcGVydGllcyk7cmV0dXJuIGkuZXZlbnQucHJvcGVydGllcz1PYmplY3QuYXNzaWduKHt9LHIsaS5ldmVudC5wcm9wZXJ0aWVzKSxpfTtyZXR1cm57bmFtZTpcIlBvc3RIb2cgSlNcIix0eXBlOlwiZW5yaWNobWVudFwiLHZlcnNpb246XCIxLjAuMFwiLGlzTG9hZGVkOigpPT4hMCxsb2FkOigpPT5Qcm9taXNlLnJlc29sdmUoKSx0cmFjazp0PT5pKHQsdC5ldmVudC5ldmVudCkscGFnZTp0PT5pKHQsXCIkcGFnZXZpZXdcIiksaWRlbnRpZnk6dD0+aSh0LFwiJGlkZW50aWZ5XCIpLHNjcmVlbjp0PT5pKHQsXCIkc2NyZWVuXCIpfX0pKHQpKS50aGVuKCgoKT0+e2koKX0pKX0pKX12YXIgSmU9XCJwb3N0aG9nLWpzXCI7ZnVuY3Rpb24gS2UodCxpKXt2YXJ7b3JnYW5pemF0aW9uOmUscHJvamVjdElkOnIscHJlZml4OnMsc2V2ZXJpdHlBbGxvd0xpc3Q6bj1bXCJlcnJvclwiXSxzZW5kRXhjZXB0aW9uc1RvUG9zdEhvZzpvPSEwfT12b2lkIDA9PT1pP3t9Omk7cmV0dXJuIGk9Pnt2YXIgYSxsLHUsaCxkO2lmKCEoXCIqXCI9PT1ufHxuLmluY2x1ZGVzKGkubGV2ZWwpKXx8IXQuX19sb2FkZWQpcmV0dXJuIGk7aS50YWdzfHwoaS50YWdzPXt9KTt2YXIgdj10LnJlcXVlc3RSb3V0ZXIuZW5kcG9pbnRGb3IoXCJ1aVwiLFwiL3Byb2plY3QvXCIrdC5jb25maWcudG9rZW4rXCIvcGVyc29uL1wiK3QuZ2V0X2Rpc3RpbmN0X2lkKCkpO2kudGFnc1tcIlBvc3RIb2cgUGVyc29uIFVSTFwiXT12LHQuc2Vzc2lvblJlY29yZGluZ1N0YXJ0ZWQoKSYmKGkudGFnc1tcIlBvc3RIb2cgUmVjb3JkaW5nIFVSTFwiXT10LmdldF9zZXNzaW9uX3JlcGxheV91cmwoe3dpdGhUaW1lc3RhbXA6ITB9KSk7dmFyIGM9KG51bGw9PShhPWkuZXhjZXB0aW9uKT92b2lkIDA6YS52YWx1ZXMpfHxbXSxmPWMubWFwKCh0PT5nKHt9LHQse3N0YWNrdHJhY2U6dC5zdGFja3RyYWNlP2coe30sdC5zdGFja3RyYWNlLHt0eXBlOlwicmF3XCIsZnJhbWVzOih0LnN0YWNrdHJhY2UuZnJhbWVzfHxbXSkubWFwKCh0PT5nKHt9LHQse3BsYXRmb3JtOlwid2ViOmphdmFzY3JpcHRcIn0pKSl9KTp2b2lkIDB9KSkpLHA9eyRleGNlcHRpb25fbWVzc2FnZToobnVsbD09KGw9Y1swXSk/dm9pZCAwOmwudmFsdWUpfHxpLm1lc3NhZ2UsJGV4Y2VwdGlvbl90eXBlOm51bGw9PSh1PWNbMF0pP3ZvaWQgMDp1LnR5cGUsJGV4Y2VwdGlvbl9sZXZlbDppLmxldmVsLCRleGNlcHRpb25fbGlzdDpmLCRzZW50cnlfZXZlbnRfaWQ6aS5ldmVudF9pZCwkc2VudHJ5X2V4Y2VwdGlvbjppLmV4Y2VwdGlvbiwkc2VudHJ5X2V4Y2VwdGlvbl9tZXNzYWdlOihudWxsPT0oaD1jWzBdKT92b2lkIDA6aC52YWx1ZSl8fGkubWVzc2FnZSwkc2VudHJ5X2V4Y2VwdGlvbl90eXBlOm51bGw9PShkPWNbMF0pP3ZvaWQgMDpkLnR5cGUsJHNlbnRyeV90YWdzOmkudGFnc307cmV0dXJuIGUmJnImJihwLiRzZW50cnlfdXJsPShzfHxcImh0dHBzOi8vc2VudHJ5LmlvL29yZ2FuaXphdGlvbnMvXCIpK2UrXCIvaXNzdWVzLz9wcm9qZWN0PVwiK3IrXCImcXVlcnk9XCIraS5ldmVudF9pZCksbyYmdC5leGNlcHRpb25zLnNlbmRFeGNlcHRpb25FdmVudChwKSxpfX1jbGFzcyBZZXtjb25zdHJ1Y3Rvcih0LGksZSxyLHMsbil7dGhpcy5uYW1lPUplLHRoaXMuc2V0dXBPbmNlPWZ1bmN0aW9uKG8pe28oS2UodCx7b3JnYW5pemF0aW9uOmkscHJvamVjdElkOmUscHJlZml4OnIsc2V2ZXJpdHlBbGxvd0xpc3Q6cyxzZW5kRXhjZXB0aW9uc1RvUG9zdEhvZzpudWxsPT1ufHxufSkpfX19dmFyIFhlPW51bGwhPXQmJnQubG9jYXRpb24/dWUodC5sb2NhdGlvbi5oYXNoLFwiX19wb3N0aG9nXCIpfHx1ZShsb2NhdGlvbi5oYXNoLFwic3RhdGVcIik6bnVsbCxRZT1cIl9wb3N0SG9nVG9vbGJhclBhcmFtc1wiLFplPVR0KFwiW1Rvb2xiYXJdXCIpLHRyPWZ1bmN0aW9uKHQpe3JldHVybiB0W3QuVU5JTklUSUFMSVpFRD0wXT1cIlVOSU5JVElBTElaRURcIix0W3QuTE9BRElORz0xXT1cIkxPQURJTkdcIix0W3QuTE9BREVEPTJdPVwiTE9BREVEXCIsdH0odHJ8fHt9KTtjbGFzcyBpcntjb25zdHJ1Y3Rvcih0KXt0aGlzLmluc3RhbmNlPXR9X3QodCl7di5waF90b29sYmFyX3N0YXRlPXR9eXQoKXt2YXIgdDtyZXR1cm4gbnVsbCE9PSh0PXYucGhfdG9vbGJhcl9zdGF0ZSkmJnZvaWQgMCE9PXQ/dDp0ci5VTklOSVRJQUxJWkVEfW1heWJlTG9hZFRvb2xiYXIoaSxlLHIpe2lmKHZvaWQgMD09PWkmJihpPXZvaWQgMCksdm9pZCAwPT09ZSYmKGU9dm9pZCAwKSx2b2lkIDA9PT1yJiYocj12b2lkIDApLCF0fHwhbylyZXR1cm4hMTtpPW51bGwhPWk/aTp0LmxvY2F0aW9uLHI9bnVsbCE9cj9yOnQuaGlzdG9yeTt0cnl7aWYoIWUpe3RyeXt0LmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwidGVzdFwiLFwidGVzdFwiKSx0LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwidGVzdFwiKX1jYXRjaCh0KXtyZXR1cm4hMX1lPW51bGw9PXQ/dm9pZCAwOnQubG9jYWxTdG9yYWdlfXZhciBzLG49WGV8fHVlKGkuaGFzaCxcIl9fcG9zdGhvZ1wiKXx8dWUoaS5oYXNoLFwic3RhdGVcIiksYT1uP2p0KCgoKT0+SlNPTi5wYXJzZShhdG9iKGRlY29kZVVSSUNvbXBvbmVudChuKSkpKSl8fGp0KCgoKT0+SlNPTi5wYXJzZShkZWNvZGVVUklDb21wb25lbnQobikpKSk6bnVsbDtyZXR1cm4gYSYmXCJwaF9hdXRob3JpemVcIj09PWEuYWN0aW9uPygocz1hKS5zb3VyY2U9XCJ1cmxcIixzJiZPYmplY3Qua2V5cyhzKS5sZW5ndGg+MCYmKGEuZGVzaXJlZEhhc2g/aS5oYXNoPWEuZGVzaXJlZEhhc2g6cj9yLnJlcGxhY2VTdGF0ZShyLnN0YXRlLFwiXCIsaS5wYXRobmFtZStpLnNlYXJjaCk6aS5oYXNoPVwiXCIpKTooKHM9SlNPTi5wYXJzZShlLmdldEl0ZW0oUWUpfHxcInt9XCIpKS5zb3VyY2U9XCJsb2NhbHN0b3JhZ2VcIixkZWxldGUgcy51c2VySW50ZW50KSwhKCFzLnRva2VufHx0aGlzLmluc3RhbmNlLmNvbmZpZy50b2tlbiE9PXMudG9rZW4pJiYodGhpcy5sb2FkVG9vbGJhcihzKSwhMCl9Y2F0Y2godCl7cmV0dXJuITF9fWJ0KHQpe3ZhciBpPXYucGhfbG9hZF90b29sYmFyfHx2LnBoX2xvYWRfZWRpdG9yOyFqKGkpJiZSKGkpP2kodCx0aGlzLmluc3RhbmNlKTpaZS53YXJuKFwiTm8gdG9vbGJhciBsb2FkIGZ1bmN0aW9uIGZvdW5kXCIpfWxvYWRUb29sYmFyKGkpe3ZhciBlPSEobnVsbD09b3x8IW8uZ2V0RWxlbWVudEJ5SWQoYmkpKTtpZighdHx8ZSlyZXR1cm4hMTt2YXIgcj1cImN1c3RvbVwiPT09dGhpcy5pbnN0YW5jZS5yZXF1ZXN0Um91dGVyLnJlZ2lvbiYmdGhpcy5pbnN0YW5jZS5jb25maWcuYWR2YW5jZWRfZGlzYWJsZV90b29sYmFyX21ldHJpY3Mscz1nKHt0b2tlbjp0aGlzLmluc3RhbmNlLmNvbmZpZy50b2tlbn0saSx7YXBpVVJMOnRoaXMuaW5zdGFuY2UucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcInVpXCIpfSxyP3tpbnN0cnVtZW50OiExfTp7fSk7aWYodC5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShRZSxKU09OLnN0cmluZ2lmeShnKHt9LHMse3NvdXJjZTp2b2lkIDB9KSkpLHRoaXMueXQoKT09PXRyLkxPQURFRCl0aGlzLmJ0KHMpO2Vsc2UgaWYodGhpcy55dCgpPT09dHIuVU5JTklUSUFMSVpFRCl7dmFyIG47dGhpcy5fdCh0ci5MT0FESU5HKSxudWxsPT0obj12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXyl8fG51bGw9PW4ubG9hZEV4dGVybmFsRGVwZW5kZW5jeXx8bi5sb2FkRXh0ZXJuYWxEZXBlbmRlbmN5KHRoaXMuaW5zdGFuY2UsXCJ0b29sYmFyXCIsKHQ9PntpZih0KXJldHVybiBaZS5lcnJvcihcIltUb29sYmFyXSBGYWlsZWQgdG8gbG9hZFwiLHQpLHZvaWQgdGhpcy5fdCh0ci5VTklOSVRJQUxJWkVEKTt0aGlzLl90KHRyLkxPQURFRCksdGhpcy5idChzKX0pKSxxdCh0LFwidHVyYm9saW5rczpsb2FkXCIsKCgpPT57dGhpcy5fdCh0ci5VTklOSVRJQUxJWkVEKSx0aGlzLmxvYWRUb29sYmFyKHMpfSkpfXJldHVybiEwfXd0KHQpe3JldHVybiB0aGlzLmxvYWRUb29sYmFyKHQpfW1heWJlTG9hZEVkaXRvcih0LGksZSl7cmV0dXJuIHZvaWQgMD09PXQmJih0PXZvaWQgMCksdm9pZCAwPT09aSYmKGk9dm9pZCAwKSx2b2lkIDA9PT1lJiYoZT12b2lkIDApLHRoaXMubWF5YmVMb2FkVG9vbGJhcih0LGksZSl9fXZhciBlcj1UdChcIltUcmFjaW5nSGVhZGVyc11cIik7Y2xhc3MgcnJ7Y29uc3RydWN0b3IodCl7dGhpcy54dD12b2lkIDAsdGhpcy4kdD12b2lkIDAsdGhpcy5ydD0oKT0+e3ZhciB0LGk7Rih0aGlzLnh0KSYmKG51bGw9PSh0PXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fKXx8bnVsbD09KHQ9dC50cmFjaW5nSGVhZGVyc1BhdGNoRm5zKXx8dC5fcGF0Y2hYSFIodGhpcy5faW5zdGFuY2UuY29uZmlnLl9fYWRkX3RyYWNpbmdfaGVhZGVyc3x8W10sdGhpcy5faW5zdGFuY2UuZ2V0X2Rpc3RpbmN0X2lkKCksdGhpcy5faW5zdGFuY2Uuc2Vzc2lvbk1hbmFnZXIpKTtGKHRoaXMuJHQpJiYobnVsbD09KGk9di5fX1Bvc3Rob2dFeHRlbnNpb25zX18pfHxudWxsPT0oaT1pLnRyYWNpbmdIZWFkZXJzUGF0Y2hGbnMpfHxpLl9wYXRjaEZldGNoKHRoaXMuX2luc3RhbmNlLmNvbmZpZy5fX2FkZF90cmFjaW5nX2hlYWRlcnN8fFtdLHRoaXMuX2luc3RhbmNlLmdldF9kaXN0aW5jdF9pZCgpLHRoaXMuX2luc3RhbmNlLnNlc3Npb25NYW5hZ2VyKSl9LHRoaXMuX2luc3RhbmNlPXR9aXQodCl7dmFyIGksZTtudWxsIT0oaT12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXykmJmkudHJhY2luZ0hlYWRlcnNQYXRjaEZucyYmdCgpLG51bGw9PShlPXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fKXx8bnVsbD09ZS5sb2FkRXh0ZXJuYWxEZXBlbmRlbmN5fHxlLmxvYWRFeHRlcm5hbERlcGVuZGVuY3kodGhpcy5faW5zdGFuY2UsXCJ0cmFjaW5nLWhlYWRlcnNcIiwoaT0+e2lmKGkpcmV0dXJuIGVyLmVycm9yKFwiZmFpbGVkIHRvIGxvYWQgc2NyaXB0XCIsaSk7dCgpfSkpfXN0YXJ0SWZFbmFibGVkT3JTdG9wKCl7dmFyIHQsaTt0aGlzLl9pbnN0YW5jZS5jb25maWcuX19hZGRfdHJhY2luZ19oZWFkZXJzP3RoaXMuaXQodGhpcy5ydCk6KG51bGw9PSh0PXRoaXMueHQpfHx0LmNhbGwodGhpcyksbnVsbD09KGk9dGhpcy4kdCl8fGkuY2FsbCh0aGlzKSx0aGlzLnh0PXZvaWQgMCx0aGlzLiR0PXZvaWQgMCl9fXZhciBzcj1cIk1vYmlsZVwiLG5yPVwiaU9TXCIsb3I9XCJBbmRyb2lkXCIsYXI9XCJUYWJsZXRcIixscj1vcitcIiBcIithcix1cj1cImlQYWRcIixocj1cIkFwcGxlXCIsZHI9aHIrXCIgV2F0Y2hcIix2cj1cIlNhZmFyaVwiLGNyPVwiQmxhY2tCZXJyeVwiLGZyPVwiU2Ftc3VuZ1wiLHByPWZyK1wiQnJvd3NlclwiLGdyPWZyK1wiIEludGVybmV0XCIsX3I9XCJDaHJvbWVcIixtcj1fcitcIiBPU1wiLHlyPV9yK1wiIFwiK25yLGJyPVwiSW50ZXJuZXQgRXhwbG9yZXJcIix3cj1icitcIiBcIitzcix4cj1cIk9wZXJhXCIsJHI9eHIrXCIgTWluaVwiLFNyPVwiRWRnZVwiLEVyPVwiTWljcm9zb2Z0IFwiK1NyLGtyPVwiRmlyZWZveFwiLFByPWtyK1wiIFwiK25yLFRyPVwiTmludGVuZG9cIixJcj1cIlBsYXlTdGF0aW9uXCIsUnI9XCJYYm94XCIsQ3I9b3IrXCIgXCIrc3IsT3I9c3IrXCIgXCIrdnIsRnI9XCJXaW5kb3dzXCIsTXI9RnIrXCIgUGhvbmVcIixBcj1cIk5va2lhXCIsRHI9XCJPdXlhXCIsanI9XCJHZW5lcmljXCIsTHI9anIrXCIgXCIrc3IudG9Mb3dlckNhc2UoKSxOcj1qcitcIiBcIithci50b0xvd2VyQ2FzZSgpLFVyPVwiS29ucXVlcm9yXCIsenI9XCIoXFxcXGQrKFxcXFwuXFxcXGQrKT8pXCIsSHI9bmV3IFJlZ0V4cChcIlZlcnNpb24vXCIrenIpLEJyPW5ldyBSZWdFeHAoUnIsXCJpXCIpLHFyPW5ldyBSZWdFeHAoSXIrXCIgXFxcXHcrXCIsXCJpXCIpLFdyPW5ldyBSZWdFeHAoVHIrXCIgXFxcXHcrXCIsXCJpXCIpLEdyPW5ldyBSZWdFeHAoY3IrXCJ8UGxheUJvb2t8QkIxMFwiLFwiaVwiKSxWcj17XCJOVDMuNTFcIjpcIk5UIDMuMTFcIixcIk5UNC4wXCI6XCJOVCA0LjBcIixcIjUuMFwiOlwiMjAwMFwiLDUuMTpcIlhQXCIsNS4yOlwiWFBcIixcIjYuMFwiOlwiVmlzdGFcIiw2LjE6XCI3XCIsNi4yOlwiOFwiLDYuMzpcIjguMVwiLDYuNDpcIjEwXCIsXCIxMC4wXCI6XCIxMFwifTt2YXIgSnI9KHQsaSk9PmkmJncoaSxocil8fGZ1bmN0aW9uKHQpe3JldHVybiB3KHQsdnIpJiYhdyh0LF9yKSYmIXcodCxvcil9KHQpLEtyPWZ1bmN0aW9uKHQsaSl7cmV0dXJuIGk9aXx8XCJcIix3KHQsXCIgT1BSL1wiKSYmdyh0LFwiTWluaVwiKT8kcjp3KHQsXCIgT1BSL1wiKT94cjpHci50ZXN0KHQpP2NyOncodCxcIklFXCIrc3IpfHx3KHQsXCJXUERlc2t0b3BcIik/d3I6dyh0LHByKT9ncjp3KHQsU3IpfHx3KHQsXCJFZGcvXCIpP0VyOncodCxcIkZCSU9TXCIpP1wiRmFjZWJvb2sgXCIrc3I6dyh0LFwiVUNXRUJcIil8fHcodCxcIlVDQnJvd3NlclwiKT9cIlVDIEJyb3dzZXJcIjp3KHQsXCJDcmlPU1wiKT95cjp3KHQsXCJDck1vXCIpfHx3KHQsX3IpP19yOncodCxvcikmJncodCx2cik/Q3I6dyh0LFwiRnhpT1NcIik/UHI6dyh0LnRvTG93ZXJDYXNlKCksVXIudG9Mb3dlckNhc2UoKSk/VXI6SnIodCxpKT93KHQsc3IpP09yOnZyOncodCxrcik/a3I6dyh0LFwiTVNJRVwiKXx8dyh0LFwiVHJpZGVudC9cIik/YnI6dyh0LFwiR2Vja29cIik/a3I6XCJcIn0sWXI9e1t3cl06W25ldyBSZWdFeHAoXCJydjpcIit6cildLFtFcl06W25ldyBSZWdFeHAoU3IrXCI/XFxcXC9cIit6cildLFtfcl06W25ldyBSZWdFeHAoXCIoXCIrX3IrXCJ8Q3JNbylcXFxcL1wiK3pyKV0sW3lyXTpbbmV3IFJlZ0V4cChcIkNyaU9TXFxcXC9cIit6cildLFwiVUMgQnJvd3NlclwiOltuZXcgUmVnRXhwKFwiKFVDQnJvd3NlcnxVQ1dFQilcXFxcL1wiK3pyKV0sW3ZyXTpbSHJdLFtPcl06W0hyXSxbeHJdOltuZXcgUmVnRXhwKFwiKE9wZXJhfE9QUilcXFxcL1wiK3pyKV0sW2tyXTpbbmV3IFJlZ0V4cChrcitcIlxcXFwvXCIrenIpXSxbUHJdOltuZXcgUmVnRXhwKFwiRnhpT1NcXFxcL1wiK3pyKV0sW1VyXTpbbmV3IFJlZ0V4cChcIktvbnF1ZXJvcls6L10/XCIrenIsXCJpXCIpXSxbY3JdOltuZXcgUmVnRXhwKGNyK1wiIFwiK3pyKSxIcl0sW0NyXTpbbmV3IFJlZ0V4cChcImFuZHJvaWRcXFxcc1wiK3pyLFwiaVwiKV0sW2dyXTpbbmV3IFJlZ0V4cChwcitcIlxcXFwvXCIrenIpXSxbYnJdOltuZXcgUmVnRXhwKFwiKHJ2OnxNU0lFIClcIit6cildLE1vemlsbGE6W25ldyBSZWdFeHAoXCJydjpcIit6cildfSxYcj1mdW5jdGlvbih0LGkpe3ZhciBlPUtyKHQsaSkscj1ZcltlXTtpZihGKHIpKXJldHVybiBudWxsO2Zvcih2YXIgcz0wO3M8ci5sZW5ndGg7cysrKXt2YXIgbj1yW3NdLG89dC5tYXRjaChuKTtpZihvKXJldHVybiBwYXJzZUZsb2F0KG9bby5sZW5ndGgtMl0pfXJldHVybiBudWxsfSxRcj1bW25ldyBSZWdFeHAoUnIrXCI7IFwiK1JyK1wiICguKj8pWyk7XVwiLFwiaVwiKSx0PT5bUnIsdCYmdFsxXXx8XCJcIl1dLFtuZXcgUmVnRXhwKFRyLFwiaVwiKSxbVHIsXCJcIl1dLFtuZXcgUmVnRXhwKElyLFwiaVwiKSxbSXIsXCJcIl1dLFtHcixbY3IsXCJcIl1dLFtuZXcgUmVnRXhwKEZyLFwiaVwiKSwodCxpKT0+e2lmKC9QaG9uZS8udGVzdChpKXx8L1dQRGVza3RvcC8udGVzdChpKSlyZXR1cm5bTXIsXCJcIl07aWYobmV3IFJlZ0V4cChzcikudGVzdChpKSYmIS9JRU1vYmlsZVxcYi8udGVzdChpKSlyZXR1cm5bRnIrXCIgXCIrc3IsXCJcIl07dmFyIGU9L1dpbmRvd3MgTlQgKFswLTkuXSspL2kuZXhlYyhpKTtpZihlJiZlWzFdKXt2YXIgcj1lWzFdLHM9VnJbcl18fFwiXCI7cmV0dXJuL2FybS9pLnRlc3QoaSkmJihzPVwiUlRcIiksW0ZyLHNdfXJldHVybltGcixcIlwiXX1dLFsvKChpUGhvbmV8aVBhZHxpUG9kKS4qP09TIChcXGQrKV8oXFxkKylfPyhcXGQrKT98aVBob25lKS8sdD0+e2lmKHQmJnRbM10pe3ZhciBpPVt0WzNdLHRbNF0sdFs1XXx8XCIwXCJdO3JldHVybltucixpLmpvaW4oXCIuXCIpXX1yZXR1cm5bbnIsXCJcIl19XSxbLyh3YXRjaC4qXFwvKFxcZCtcXC5cXGQrXFwuXFxkKyl8d2F0Y2ggb3MsKFxcZCtcXC5cXGQrKSwpL2ksdD0+e3ZhciBpPVwiXCI7cmV0dXJuIHQmJnQubGVuZ3RoPj0zJiYoaT1GKHRbMl0pP3RbM106dFsyXSksW1wid2F0Y2hPU1wiLGldfV0sW25ldyBSZWdFeHAoXCIoXCIrb3IrXCIgKFxcXFxkKylcXFxcLihcXFxcZCspXFxcXC4/KFxcXFxkKyk/fFwiK29yK1wiKVwiLFwiaVwiKSx0PT57aWYodCYmdFsyXSl7dmFyIGk9W3RbMl0sdFszXSx0WzRdfHxcIjBcIl07cmV0dXJuW29yLGkuam9pbihcIi5cIildfXJldHVybltvcixcIlwiXX1dLFsvTWFjIE9TIFggKFxcZCspW18uXShcXGQrKVtfLl0/KFxcZCspPy9pLHQ9Pnt2YXIgaT1bXCJNYWMgT1MgWFwiLFwiXCJdO2lmKHQmJnRbMV0pe3ZhciBlPVt0WzFdLHRbMl0sdFszXXx8XCIwXCJdO2lbMV09ZS5qb2luKFwiLlwiKX1yZXR1cm4gaX1dLFsvTWFjL2ksW1wiTWFjIE9TIFhcIixcIlwiXV0sWy9Dck9TLyxbbXIsXCJcIl1dLFsvTGludXh8ZGViaWFuL2ksW1wiTGludXhcIixcIlwiXV1dLFpyPWZ1bmN0aW9uKHQpe3JldHVybiBXci50ZXN0KHQpP1RyOnFyLnRlc3QodCk/SXI6QnIudGVzdCh0KT9ScjpuZXcgUmVnRXhwKERyLFwiaVwiKS50ZXN0KHQpP0RyOm5ldyBSZWdFeHAoXCIoXCIrTXIrXCJ8V1BEZXNrdG9wKVwiLFwiaVwiKS50ZXN0KHQpP01yOi9pUGFkLy50ZXN0KHQpP3VyOi9pUG9kLy50ZXN0KHQpP1wiaVBvZCBUb3VjaFwiOi9pUGhvbmUvLnRlc3QodCk/XCJpUGhvbmVcIjovKHdhdGNoKSg/OiA/b3NbLC9dfFxcZCxcXGRcXC8pW1xcZC5dKy9pLnRlc3QodCk/ZHI6R3IudGVzdCh0KT9jcjovKGtvYm8pXFxzKGVyZWFkZXJ8dG91Y2gpL2kudGVzdCh0KT9cIktvYm9cIjpuZXcgUmVnRXhwKEFyLFwiaVwiKS50ZXN0KHQpP0FyOi8oa2ZbYS16XXsyfXdpfGFlb1tjLXJdezJ9KSggYnVpfFxcKSkvaS50ZXN0KHQpfHwvKGtmW2Etel0rKSggYnVpfFxcKSkuK3NpbGtcXC8vaS50ZXN0KHQpP1wiS2luZGxlIEZpcmVcIjovKEFuZHJvaWR8WlRFKS9pLnRlc3QodCk/IW5ldyBSZWdFeHAoc3IpLnRlc3QodCl8fC8oOTEzOEJ8VEI3ODJCfE5leHVzIFs5N118cGl4ZWwgY3xIVUFXRUlTSFR8QlRWfG5vYmxlIG5vb2t8c21hcnQgdWx0cmEgNikvaS50ZXN0KHQpPy9waXhlbFtcXGRheGwgXXsxLDZ9L2kudGVzdCh0KSYmIS9waXhlbCBjL2kudGVzdCh0KXx8LyhodWF3ZWltZWQtYWwwMHx0YWgtfEFQQXxTTS1HOTJ8aTk4MHx6dGV8VTMwNEFBKS9pLnRlc3QodCl8fC9sbXk0N3YvaS50ZXN0KHQpJiYhL1FUQVFaMy9pLnRlc3QodCk/b3I6bHI6b3I6bmV3IFJlZ0V4cChcIihwZGF8XCIrc3IrXCIpXCIsXCJpXCIpLnRlc3QodCk/THI6bmV3IFJlZ0V4cChhcixcImlcIikudGVzdCh0KSYmIW5ldyBSZWdFeHAoYXIrXCIgcGNcIixcImlcIikudGVzdCh0KT9OcjpcIlwifSx0cz1cImh0dHBzPzovLyguKilcIixpcz1bXCJnY2xpZFwiLFwiZ2Nsc3JjXCIsXCJkY2xpZFwiLFwiZ2JyYWlkXCIsXCJ3YnJhaWRcIixcImZiY2xpZFwiLFwibXNjbGtpZFwiLFwidHdjbGlkXCIsXCJsaV9mYXRfaWRcIixcImlnc2hpZFwiLFwidHRjbGlkXCIsXCJyZHRfY2lkXCIsXCJlcGlrXCIsXCJxY2xpZFwiLFwic2NjaWRcIixcImlyY2xpZFwiLFwiX2t4XCJdLGVzPUF0KFtcInV0bV9zb3VyY2VcIixcInV0bV9tZWRpdW1cIixcInV0bV9jYW1wYWlnblwiLFwidXRtX2NvbnRlbnRcIixcInV0bV90ZXJtXCIsXCJnYWRfc291cmNlXCIsXCJtY19jaWRcIl0saXMpLHJzPVwiPG1hc2tlZD5cIixzcz1bXCJsaV9mYXRfaWRcIl07ZnVuY3Rpb24gbnModCxpLGUpe2lmKCFvKXJldHVybnt9O3ZhciByLHM9aT9BdChbXSxpcyxlfHxbXSk6W10sbj1vcyhsZShvLlVSTCxzLHJzKSx0KSxhPShyPXt9LEZ0KHNzLChmdW5jdGlvbih0KXt2YXIgaT1QZS5xKHQpO3JbdF09aXx8bnVsbH0pKSxyKTtyZXR1cm4gTXQoYSxuKX1mdW5jdGlvbiBvcyh0LGkpe3ZhciBlPWVzLmNvbmNhdChpfHxbXSkscj17fTtyZXR1cm4gRnQoZSwoZnVuY3Rpb24oaSl7dmFyIGU9YWUodCxpKTtyW2ldPWV8fG51bGx9KSkscn1mdW5jdGlvbiBhcyh0KXt2YXIgaT1mdW5jdGlvbih0KXtyZXR1cm4gdD8wPT09dC5zZWFyY2godHMrXCJnb29nbGUuKFteLz9dKilcIik/XCJnb29nbGVcIjowPT09dC5zZWFyY2godHMrXCJiaW5nLmNvbVwiKT9cImJpbmdcIjowPT09dC5zZWFyY2godHMrXCJ5YWhvby5jb21cIik/XCJ5YWhvb1wiOjA9PT10LnNlYXJjaCh0cytcImR1Y2tkdWNrZ28uY29tXCIpP1wiZHVja2R1Y2tnb1wiOm51bGw6bnVsbH0odCksZT1cInlhaG9vXCIhPWk/XCJxXCI6XCJwXCIscj17fTtpZighRChpKSl7ci4kc2VhcmNoX2VuZ2luZT1pO3ZhciBzPW8/YWUoby5yZWZlcnJlcixlKTpcIlwiO3MubGVuZ3RoJiYoci5waF9rZXl3b3JkPXMpfXJldHVybiByfWZ1bmN0aW9uIGxzKCl7cmV0dXJuIG5hdmlnYXRvci5sYW5ndWFnZXx8bmF2aWdhdG9yLnVzZXJMYW5ndWFnZX1mdW5jdGlvbiB1cygpe3JldHVybihudWxsPT1vP3ZvaWQgMDpvLnJlZmVycmVyKXx8XCIkZGlyZWN0XCJ9ZnVuY3Rpb24gaHModCxpKXt2YXIgZT10P0F0KFtdLGlzLGl8fFtdKTpbXSxyPW51bGw9PWE/dm9pZCAwOmEuaHJlZi5zdWJzdHJpbmcoMCwxZTMpO3JldHVybntyOnVzKCkuc3Vic3RyaW5nKDAsMWUzKSx1OnI/bGUocixlLHJzKTp2b2lkIDB9fWZ1bmN0aW9uIGRzKHQpe3ZhciBpLHtyOmUsdTpyfT10LHM9eyRyZWZlcnJlcjplLCRyZWZlcnJpbmdfZG9tYWluOm51bGw9PWU/dm9pZCAwOlwiJGRpcmVjdFwiPT1lP1wiJGRpcmVjdFwiOm51bGw9PShpPW5lKGUpKT92b2lkIDA6aS5ob3N0fTtpZihyKXtzLiRjdXJyZW50X3VybD1yO3ZhciBuPW5lKHIpO3MuJGhvc3Q9bnVsbD09bj92b2lkIDA6bi5ob3N0LHMuJHBhdGhuYW1lPW51bGw9PW4/dm9pZCAwOm4ucGF0aG5hbWU7dmFyIG89b3Mocik7TXQocyxvKX1pZihlKXt2YXIgYT1hcyhlKTtNdChzLGEpfXJldHVybiBzfWZ1bmN0aW9uIHZzKCl7dHJ5e3JldHVybiBJbnRsLkRhdGVUaW1lRm9ybWF0KCkucmVzb2x2ZWRPcHRpb25zKCkudGltZVpvbmV9Y2F0Y2godCl7cmV0dXJufX1mdW5jdGlvbiBjcygpe3RyeXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWV6b25lT2Zmc2V0KCl9Y2F0Y2godCl7cmV0dXJufX1mdW5jdGlvbiBmcyhpLGUpe2lmKCFkKXJldHVybnt9O3ZhciByLHMsbixvPWk/QXQoW10saXMsZXx8W10pOltdLFtsLHVdPWZ1bmN0aW9uKHQpe2Zvcih2YXIgaT0wO2k8UXIubGVuZ3RoO2krKyl7dmFyW2Uscl09UXJbaV0scz1lLmV4ZWModCksbj1zJiYoUihyKT9yKHMsdCk6cik7aWYobilyZXR1cm4gbn1yZXR1cm5bXCJcIixcIlwiXX0oZCk7cmV0dXJuIE10KE50KHskb3M6bCwkb3NfdmVyc2lvbjp1LCRicm93c2VyOktyKGQsbmF2aWdhdG9yLnZlbmRvciksJGRldmljZTpacihkKSwkZGV2aWNlX3R5cGU6KHM9ZCxuPVpyKHMpLG49PT11cnx8bj09PWxyfHxcIktvYm9cIj09PW58fFwiS2luZGxlIEZpcmVcIj09PW58fG49PT1Ocj9hcjpuPT09VHJ8fG49PT1Scnx8bj09PUlyfHxuPT09RHI/XCJDb25zb2xlXCI6bj09PWRyP1wiV2VhcmFibGVcIjpuP3NyOlwiRGVza3RvcFwiKSwkdGltZXpvbmU6dnMoKSwkdGltZXpvbmVfb2Zmc2V0OmNzKCl9KSx7JGN1cnJlbnRfdXJsOmxlKG51bGw9PWE/dm9pZCAwOmEuaHJlZixvLHJzKSwkaG9zdDpudWxsPT1hP3ZvaWQgMDphLmhvc3QsJHBhdGhuYW1lOm51bGw9PWE/dm9pZCAwOmEucGF0aG5hbWUsJHJhd191c2VyX2FnZW50OmQubGVuZ3RoPjFlMz9kLnN1YnN0cmluZygwLDk5NykrXCIuLi5cIjpkLCRicm93c2VyX3ZlcnNpb246WHIoZCxuYXZpZ2F0b3IudmVuZG9yKSwkYnJvd3Nlcl9sYW5ndWFnZTpscygpLCRicm93c2VyX2xhbmd1YWdlX3ByZWZpeDoocj1scygpLFwic3RyaW5nXCI9PXR5cGVvZiByP3Iuc3BsaXQoXCItXCIpWzBdOnZvaWQgMCksJHNjcmVlbl9oZWlnaHQ6bnVsbD09dD92b2lkIDA6dC5zY3JlZW4uaGVpZ2h0LCRzY3JlZW5fd2lkdGg6bnVsbD09dD92b2lkIDA6dC5zY3JlZW4ud2lkdGgsJHZpZXdwb3J0X2hlaWdodDpudWxsPT10P3ZvaWQgMDp0LmlubmVySGVpZ2h0LCR2aWV3cG9ydF93aWR0aDpudWxsPT10P3ZvaWQgMDp0LmlubmVyV2lkdGgsJGxpYjpcIndlYlwiLCRsaWJfdmVyc2lvbjpjLkxJQl9WRVJTSU9OLCRpbnNlcnRfaWQ6TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsMTApK01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLDEwKSwkdGltZTpEYXRlLm5vdygpLzFlM30pfXZhciBwcz1UdChcIltXZWIgVml0YWxzXVwiKSxncz05ZTU7Y2xhc3MgX3N7Y29uc3RydWN0b3IodCl7dmFyIGk7dGhpcy5TdD0hMSx0aGlzLlA9ITEsdGhpcy5OPXt1cmw6dm9pZCAwLG1ldHJpY3M6W10sZmlyc3RNZXRyaWNUaW1lc3RhbXA6dm9pZCAwfSx0aGlzLkV0PSgpPT57Y2xlYXJUaW1lb3V0KHRoaXMua3QpLDAhPT10aGlzLk4ubWV0cmljcy5sZW5ndGgmJih0aGlzLl9pbnN0YW5jZS5jYXB0dXJlKFwiJHdlYl92aXRhbHNcIix0aGlzLk4ubWV0cmljcy5yZWR1Y2UoKCh0LGkpPT5nKHt9LHQse1tcIiR3ZWJfdml0YWxzX1wiK2kubmFtZStcIl9ldmVudFwiXTpnKHt9LGkpLFtcIiR3ZWJfdml0YWxzX1wiK2kubmFtZStcIl92YWx1ZVwiXTppLnZhbHVlfSkpLHt9KSksdGhpcy5OPXt1cmw6dm9pZCAwLG1ldHJpY3M6W10sZmlyc3RNZXRyaWNUaW1lc3RhbXA6dm9pZCAwfSl9LHRoaXMuUHQ9dD0+e3ZhciBpLGU9bnVsbD09KGk9dGhpcy5faW5zdGFuY2Uuc2Vzc2lvbk1hbmFnZXIpP3ZvaWQgMDppLmNoZWNrQW5kR2V0U2Vzc2lvbkFuZFdpbmRvd0lkKCEwKTtpZihGKGUpKXBzLmVycm9yKFwiQ291bGQgbm90IHJlYWQgc2Vzc2lvbiBJRC4gRHJvcHBpbmcgbWV0cmljcyFcIik7ZWxzZXt0aGlzLk49dGhpcy5OfHx7dXJsOnZvaWQgMCxtZXRyaWNzOltdLGZpcnN0TWV0cmljVGltZXN0YW1wOnZvaWQgMH07dmFyIHI9dGhpcy5UdCgpO2lmKCFGKHIpKWlmKGoobnVsbD09dD92b2lkIDA6dC5uYW1lKXx8aihudWxsPT10P3ZvaWQgMDp0LnZhbHVlKSlwcy5lcnJvcihcIkludmFsaWQgbWV0cmljIHJlY2VpdmVkXCIsdCk7ZWxzZSBpZih0aGlzLkl0JiZ0LnZhbHVlPj10aGlzLkl0KXBzLmVycm9yKFwiSWdub3JpbmcgbWV0cmljIHdpdGggdmFsdWUgPj0gXCIrdGhpcy5JdCx0KTtlbHNlIHRoaXMuTi51cmwhPT1yJiYodGhpcy5FdCgpLHRoaXMua3Q9c2V0VGltZW91dCh0aGlzLkV0LHRoaXMuZmx1c2hUb0NhcHR1cmVUaW1lb3V0TXMpKSxGKHRoaXMuTi51cmwpJiYodGhpcy5OLnVybD1yKSx0aGlzLk4uZmlyc3RNZXRyaWNUaW1lc3RhbXA9Rih0aGlzLk4uZmlyc3RNZXRyaWNUaW1lc3RhbXApP0RhdGUubm93KCk6dGhpcy5OLmZpcnN0TWV0cmljVGltZXN0YW1wLHQuYXR0cmlidXRpb24mJnQuYXR0cmlidXRpb24uaW50ZXJhY3Rpb25UYXJnZXRFbGVtZW50JiYodC5hdHRyaWJ1dGlvbi5pbnRlcmFjdGlvblRhcmdldEVsZW1lbnQ9dm9pZCAwKSx0aGlzLk4ubWV0cmljcy5wdXNoKGcoe30sdCx7JGN1cnJlbnRfdXJsOnIsJHNlc3Npb25faWQ6ZS5zZXNzaW9uSWQsJHdpbmRvd19pZDplLndpbmRvd0lkLHRpbWVzdGFtcDpEYXRlLm5vdygpfSkpLHRoaXMuTi5tZXRyaWNzLmxlbmd0aD09PXRoaXMuYWxsb3dlZE1ldHJpY3MubGVuZ3RoJiZ0aGlzLkV0KCl9fSx0aGlzLnJ0PSgpPT57dmFyIHQsaSxlLHIscz12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXztGKHMpfHxGKHMucG9zdEhvZ1dlYlZpdGFsc0NhbGxiYWNrcyl8fCh7b25MQ1A6dCxvbkNMUzppLG9uRkNQOmUsb25JTlA6cn09cy5wb3N0SG9nV2ViVml0YWxzQ2FsbGJhY2tzKSx0JiZpJiZlJiZyPyh0aGlzLmFsbG93ZWRNZXRyaWNzLmluZGV4T2YoXCJMQ1BcIik+LTEmJnQodGhpcy5QdC5iaW5kKHRoaXMpKSx0aGlzLmFsbG93ZWRNZXRyaWNzLmluZGV4T2YoXCJDTFNcIik+LTEmJmkodGhpcy5QdC5iaW5kKHRoaXMpKSx0aGlzLmFsbG93ZWRNZXRyaWNzLmluZGV4T2YoXCJGQ1BcIik+LTEmJmUodGhpcy5QdC5iaW5kKHRoaXMpKSx0aGlzLmFsbG93ZWRNZXRyaWNzLmluZGV4T2YoXCJJTlBcIik+LTEmJnIodGhpcy5QdC5iaW5kKHRoaXMpKSx0aGlzLlA9ITApOnBzLmVycm9yKFwid2ViIHZpdGFscyBjYWxsYmFja3Mgbm90IGxvYWRlZCAtIG5vdCBzdGFydGluZ1wiKX0sdGhpcy5faW5zdGFuY2U9dCx0aGlzLlN0PSEobnVsbD09KGk9dGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UpfHwhaS5wcm9wc1tadF0pLHRoaXMuc3RhcnRJZkVuYWJsZWQoKX1nZXQgYWxsb3dlZE1ldHJpY3MoKXt2YXIgdCxpLGU9Qyh0aGlzLl9pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9wZXJmb3JtYW5jZSk/bnVsbD09KHQ9dGhpcy5faW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfcGVyZm9ybWFuY2UpP3ZvaWQgMDp0LndlYl92aXRhbHNfYWxsb3dlZF9tZXRyaWNzOnZvaWQgMDtyZXR1cm4gRihlKT8obnVsbD09KGk9dGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UpP3ZvaWQgMDppLnByb3BzW2lpXSl8fFtcIkNMU1wiLFwiRkNQXCIsXCJJTlBcIixcIkxDUFwiXTplfWdldCBmbHVzaFRvQ2FwdHVyZVRpbWVvdXRNcygpe3JldHVybihDKHRoaXMuX2luc3RhbmNlLmNvbmZpZy5jYXB0dXJlX3BlcmZvcm1hbmNlKT90aGlzLl9pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9wZXJmb3JtYW5jZS53ZWJfdml0YWxzX2RlbGF5ZWRfZmx1c2hfbXM6dm9pZCAwKXx8NWUzfWdldCBJdCgpe3ZhciB0PUModGhpcy5faW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfcGVyZm9ybWFuY2UpJiZMKHRoaXMuX2luc3RhbmNlLmNvbmZpZy5jYXB0dXJlX3BlcmZvcm1hbmNlLl9fd2ViX3ZpdGFsc19tYXhfdmFsdWUpP3RoaXMuX2luc3RhbmNlLmNvbmZpZy5jYXB0dXJlX3BlcmZvcm1hbmNlLl9fd2ViX3ZpdGFsc19tYXhfdmFsdWU6Z3M7cmV0dXJuIDA8dCYmdDw9NmU0P2dzOnR9Z2V0IGlzRW5hYmxlZCgpe3ZhciB0PW51bGw9PWE/dm9pZCAwOmEucHJvdG9jb2w7aWYoXCJodHRwOlwiIT09dCYmXCJodHRwczpcIiE9PXQpcmV0dXJuIHBzLmluZm8oXCJXZWIgVml0YWxzIGFyZSBkaXNhYmxlZCBvbiBub24taHR0cC9odHRwcyBwcm90b2NvbHNcIiksITE7dmFyIGk9Qyh0aGlzLl9pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9wZXJmb3JtYW5jZSk/dGhpcy5faW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfcGVyZm9ybWFuY2Uud2ViX3ZpdGFsczpOKHRoaXMuX2luc3RhbmNlLmNvbmZpZy5jYXB0dXJlX3BlcmZvcm1hbmNlKT90aGlzLl9pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9wZXJmb3JtYW5jZTp2b2lkIDA7cmV0dXJuIE4oaSk/aTp0aGlzLlN0fXN0YXJ0SWZFbmFibGVkKCl7dGhpcy5pc0VuYWJsZWQmJiF0aGlzLlAmJihwcy5pbmZvKFwiZW5hYmxlZCwgc3RhcnRpbmcuLi5cIiksdGhpcy5pdCh0aGlzLnJ0KSl9b25SZW1vdGVDb25maWcodCl7dmFyIGk9Qyh0LmNhcHR1cmVQZXJmb3JtYW5jZSkmJiEhdC5jYXB0dXJlUGVyZm9ybWFuY2Uud2ViX3ZpdGFscyxlPUModC5jYXB0dXJlUGVyZm9ybWFuY2UpP3QuY2FwdHVyZVBlcmZvcm1hbmNlLndlYl92aXRhbHNfYWxsb3dlZF9tZXRyaWNzOnZvaWQgMDt0aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZSYmKHRoaXMuX2luc3RhbmNlLnBlcnNpc3RlbmNlLnJlZ2lzdGVyKHtbWnRdOml9KSx0aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZS5yZWdpc3Rlcih7W2lpXTplfSkpLHRoaXMuU3Q9aSx0aGlzLnN0YXJ0SWZFbmFibGVkKCl9aXQodCl7dmFyIGksZTtudWxsIT0oaT12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXykmJmkucG9zdEhvZ1dlYlZpdGFsc0NhbGxiYWNrcyYmdCgpLG51bGw9PShlPXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fKXx8bnVsbD09ZS5sb2FkRXh0ZXJuYWxEZXBlbmRlbmN5fHxlLmxvYWRFeHRlcm5hbERlcGVuZGVuY3kodGhpcy5faW5zdGFuY2UsXCJ3ZWItdml0YWxzXCIsKGk9PntpP3BzLmVycm9yKFwiZmFpbGVkIHRvIGxvYWQgc2NyaXB0XCIsaSk6dCgpfSkpfVR0KCl7dmFyIGk9dD90LmxvY2F0aW9uLmhyZWY6dm9pZCAwO2lmKGkpe3ZhciBlPXRoaXMuX2luc3RhbmNlLmNvbmZpZy5tYXNrX3BlcnNvbmFsX2RhdGFfcHJvcGVydGllcyxyPXRoaXMuX2luc3RhbmNlLmNvbmZpZy5jdXN0b21fcGVyc29uYWxfZGF0YV9wcm9wZXJ0aWVzLHM9ZT9BdChbXSxpcyxyfHxbXSk6W107cmV0dXJuIGxlKGkscyxycyl9cHMuZXJyb3IoXCJDb3VsZCBub3QgZGV0ZXJtaW5lIGN1cnJlbnQgVVJMXCIpfX12YXIgbXM9VHQoXCJbSGVhdG1hcHNdXCIpO2Z1bmN0aW9uIHlzKHQpe3JldHVybiBDKHQpJiZcImNsaWVudFhcImluIHQmJlwiY2xpZW50WVwiaW4gdCYmTCh0LmNsaWVudFgpJiZMKHQuY2xpZW50WSl9Y2xhc3MgYnN7Y29uc3RydWN0b3IodCl7dmFyIGk7dGhpcy5yYWdlY2xpY2tzPW5ldyBpZSx0aGlzLlN0PSExLHRoaXMuUD0hMSx0aGlzLlJ0PW51bGwsdGhpcy5pbnN0YW5jZT10LHRoaXMuU3Q9IShudWxsPT0oaT10aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlKXx8IWkucHJvcHNbS3RdKX1nZXQgZmx1c2hJbnRlcnZhbE1pbGxpc2Vjb25kcygpe3ZhciB0PTVlMztyZXR1cm4gQyh0aGlzLmluc3RhbmNlLmNvbmZpZy5jYXB0dXJlX2hlYXRtYXBzKSYmdGhpcy5pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9oZWF0bWFwcy5mbHVzaF9pbnRlcnZhbF9taWxsaXNlY29uZHMmJih0PXRoaXMuaW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfaGVhdG1hcHMuZmx1c2hfaW50ZXJ2YWxfbWlsbGlzZWNvbmRzKSx0fWdldCBpc0VuYWJsZWQoKXtyZXR1cm4gRih0aGlzLmluc3RhbmNlLmNvbmZpZy5jYXB0dXJlX2hlYXRtYXBzKT9GKHRoaXMuaW5zdGFuY2UuY29uZmlnLmVuYWJsZV9oZWF0bWFwcyk/dGhpcy5TdDp0aGlzLmluc3RhbmNlLmNvbmZpZy5lbmFibGVfaGVhdG1hcHM6ITEhPT10aGlzLmluc3RhbmNlLmNvbmZpZy5jYXB0dXJlX2hlYXRtYXBzfXN0YXJ0SWZFbmFibGVkKCl7aWYodGhpcy5pc0VuYWJsZWQpe2lmKHRoaXMuUClyZXR1cm47bXMuaW5mbyhcInN0YXJ0aW5nLi4uXCIpLHRoaXMuQ3QoKSx0aGlzLk90KCl9ZWxzZXt2YXIgdDtjbGVhckludGVydmFsKG51bGwhPT0odD10aGlzLlJ0KSYmdm9pZCAwIT09dD90OnZvaWQgMCksdGhpcy5GdCgpLHRoaXMuZ2V0QW5kQ2xlYXJCdWZmZXIoKX19b25SZW1vdGVDb25maWcodCl7dmFyIGk9ISF0LmhlYXRtYXBzO3RoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UmJnRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UucmVnaXN0ZXIoe1tLdF06aX0pLHRoaXMuU3Q9aSx0aGlzLnN0YXJ0SWZFbmFibGVkKCl9Z2V0QW5kQ2xlYXJCdWZmZXIoKXt2YXIgdD10aGlzLk47cmV0dXJuIHRoaXMuTj12b2lkIDAsdH1NdCh0KXt0aGlzLkF0KHQub3JpZ2luYWxFdmVudCxcImRlYWRjbGlja1wiKX1PdCgpe3RoaXMuUnQmJmNsZWFySW50ZXJ2YWwodGhpcy5SdCksdGhpcy5SdD1mdW5jdGlvbih0KXtyZXR1cm5cInZpc2libGVcIj09PShudWxsPT10P3ZvaWQgMDp0LnZpc2liaWxpdHlTdGF0ZSl9KG8pP3NldEludGVydmFsKHRoaXMuRHQuYmluZCh0aGlzKSx0aGlzLmZsdXNoSW50ZXJ2YWxNaWxsaXNlY29uZHMpOm51bGx9Q3QoKXt0JiZvJiYodGhpcy5qdD10aGlzLkR0LmJpbmQodGhpcykscXQodCxcImJlZm9yZXVubG9hZFwiLHRoaXMuanQpLHRoaXMuTHQ9aT0+dGhpcy5BdChpfHwobnVsbD09dD92b2lkIDA6dC5ldmVudCkpLHF0KG8sXCJjbGlja1wiLHRoaXMuTHQse2NhcHR1cmU6ITB9KSx0aGlzLk50PWk9PnRoaXMuVXQoaXx8KG51bGw9PXQ/dm9pZCAwOnQuZXZlbnQpKSxxdChvLFwibW91c2Vtb3ZlXCIsdGhpcy5OdCx7Y2FwdHVyZTohMH0pLHRoaXMuenQ9bmV3IHplKHRoaXMuaW5zdGFuY2UsTmUsdGhpcy5NdC5iaW5kKHRoaXMpKSx0aGlzLnp0LnN0YXJ0SWZFbmFibGVkKCksdGhpcy5IdD10aGlzLk90LmJpbmQodGhpcykscXQobyxcInZpc2liaWxpdHljaGFuZ2VcIix0aGlzLkh0KSx0aGlzLlA9ITApfUZ0KCl7dmFyIGk7dCYmbyYmKHRoaXMuanQmJnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLHRoaXMuanQpLHRoaXMuTHQmJm8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5MdCx7Y2FwdHVyZTohMH0pLHRoaXMuTnQmJm8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLHRoaXMuTnQse2NhcHR1cmU6ITB9KSx0aGlzLkh0JiZvLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsdGhpcy5IdCksY2xlYXJUaW1lb3V0KHRoaXMuQnQpLG51bGw9PShpPXRoaXMuenQpfHxpLnN0b3AoKSx0aGlzLlA9ITEpfXF0KGksZSl7dmFyIHI9dGhpcy5pbnN0YW5jZS5zY3JvbGxNYW5hZ2VyLnNjcm9sbFkoKSxzPXRoaXMuaW5zdGFuY2Uuc2Nyb2xsTWFuYWdlci5zY3JvbGxYKCksbj10aGlzLmluc3RhbmNlLnNjcm9sbE1hbmFnZXIuc2Nyb2xsRWxlbWVudCgpLG89ZnVuY3Rpb24oaSxlLHIpe2Zvcih2YXIgcz1pO3MmJlNpKHMpJiYhRWkocyxcImJvZHlcIik7KXtpZihzPT09cilyZXR1cm4hMTtpZih3KGUsbnVsbD09dD92b2lkIDA6dC5nZXRDb21wdXRlZFN0eWxlKHMpLnBvc2l0aW9uKSlyZXR1cm4hMDtzPURpKHMpfXJldHVybiExfShGaShpKSxbXCJmaXhlZFwiLFwic3RpY2t5XCJdLG4pO3JldHVybnt4OmkuY2xpZW50WCsobz8wOnMpLHk6aS5jbGllbnRZKyhvPzA6ciksdGFyZ2V0X2ZpeGVkOm8sdHlwZTplfX1BdCh0LGkpe3ZhciBlO2lmKHZvaWQgMD09PWkmJihpPVwiY2xpY2tcIiksISRpKHQudGFyZ2V0KSYmeXModCkpe3ZhciByPXRoaXMucXQodCxpKTtudWxsIT0oZT10aGlzLnJhZ2VjbGlja3MpJiZlLmlzUmFnZUNsaWNrKHQuY2xpZW50WCx0LmNsaWVudFksKG5ldyBEYXRlKS5nZXRUaW1lKCkpJiZ0aGlzLld0KGcoe30scix7dHlwZTpcInJhZ2VjbGlja1wifSkpLHRoaXMuV3Qocil9fVV0KHQpeyEkaSh0LnRhcmdldCkmJnlzKHQpJiYoY2xlYXJUaW1lb3V0KHRoaXMuQnQpLHRoaXMuQnQ9c2V0VGltZW91dCgoKCk9Pnt0aGlzLld0KHRoaXMucXQodCxcIm1vdXNlbW92ZVwiKSl9KSw1MDApKX1XdChpKXtpZih0KXt2YXIgZT10LmxvY2F0aW9uLmhyZWYscj10aGlzLmluc3RhbmNlLmNvbmZpZy5tYXNrX3BlcnNvbmFsX2RhdGFfcHJvcGVydGllcyxzPXRoaXMuaW5zdGFuY2UuY29uZmlnLmN1c3RvbV9wZXJzb25hbF9kYXRhX3Byb3BlcnRpZXMsbj1yP0F0KFtdLGlzLHN8fFtdKTpbXSxvPWxlKGUsbixycyk7dGhpcy5OPXRoaXMuTnx8e30sdGhpcy5OW29dfHwodGhpcy5OW29dPVtdKSx0aGlzLk5bb10ucHVzaChpKX19RHQoKXt0aGlzLk4mJiFPKHRoaXMuTikmJnRoaXMuaW5zdGFuY2UuY2FwdHVyZShcIiQkaGVhdG1hcFwiLHskaGVhdG1hcF9kYXRhOnRoaXMuZ2V0QW5kQ2xlYXJCdWZmZXIoKX0pfX1jbGFzcyB3c3tjb25zdHJ1Y3Rvcih0KXt0aGlzLl9pbnN0YW5jZT10fWRvUGFnZVZpZXcoaSxlKXt2YXIgcixzPXRoaXMuR3QoaSxlKTtyZXR1cm4gdGhpcy5WdD17cGF0aG5hbWU6bnVsbCE9PShyPW51bGw9PXQ/dm9pZCAwOnQubG9jYXRpb24ucGF0aG5hbWUpJiZ2b2lkIDAhPT1yP3I6XCJcIixwYWdlVmlld0lkOmUsdGltZXN0YW1wOml9LHRoaXMuX2luc3RhbmNlLnNjcm9sbE1hbmFnZXIucmVzZXRDb250ZXh0KCksc31kb1BhZ2VMZWF2ZSh0KXt2YXIgaTtyZXR1cm4gdGhpcy5HdCh0LG51bGw9PShpPXRoaXMuVnQpP3ZvaWQgMDppLnBhZ2VWaWV3SWQpfWRvRXZlbnQoKXt2YXIgdDtyZXR1cm57JHBhZ2V2aWV3X2lkOm51bGw9PSh0PXRoaXMuVnQpP3ZvaWQgMDp0LnBhZ2VWaWV3SWR9fUd0KHQsaSl7dmFyIGU9dGhpcy5WdDtpZighZSlyZXR1cm57JHBhZ2V2aWV3X2lkOml9O3ZhciByPXskcGFnZXZpZXdfaWQ6aSwkcHJldl9wYWdldmlld19pZDplLnBhZ2VWaWV3SWR9LHM9dGhpcy5faW5zdGFuY2Uuc2Nyb2xsTWFuYWdlci5nZXRDb250ZXh0KCk7aWYocyYmIXRoaXMuX2luc3RhbmNlLmNvbmZpZy5kaXNhYmxlX3Njcm9sbF9wcm9wZXJ0aWVzKXt2YXJ7bWF4U2Nyb2xsSGVpZ2h0Om4sbGFzdFNjcm9sbFk6byxtYXhTY3JvbGxZOmEsbWF4Q29udGVudEhlaWdodDpsLGxhc3RDb250ZW50WTp1LG1heENvbnRlbnRZOmh9PXM7aWYoIShGKG4pfHxGKG8pfHxGKGEpfHxGKGwpfHxGKHUpfHxGKGgpKSl7bj1NYXRoLmNlaWwobiksbz1NYXRoLmNlaWwobyksYT1NYXRoLmNlaWwoYSksbD1NYXRoLmNlaWwobCksdT1NYXRoLmNlaWwodSksaD1NYXRoLmNlaWwoaCk7dmFyIGQ9bjw9MT8xOkooby9uLDAsMSxQdCksdj1uPD0xPzE6SihhL24sMCwxLFB0KSxjPWw8PTE/MTpKKHUvbCwwLDEsUHQpLGY9bDw9MT8xOkooaC9sLDAsMSxQdCk7cj1NdChyLHskcHJldl9wYWdldmlld19sYXN0X3Njcm9sbDpvLCRwcmV2X3BhZ2V2aWV3X2xhc3Rfc2Nyb2xsX3BlcmNlbnRhZ2U6ZCwkcHJldl9wYWdldmlld19tYXhfc2Nyb2xsOmEsJHByZXZfcGFnZXZpZXdfbWF4X3Njcm9sbF9wZXJjZW50YWdlOnYsJHByZXZfcGFnZXZpZXdfbGFzdF9jb250ZW50OnUsJHByZXZfcGFnZXZpZXdfbGFzdF9jb250ZW50X3BlcmNlbnRhZ2U6YywkcHJldl9wYWdldmlld19tYXhfY29udGVudDpoLCRwcmV2X3BhZ2V2aWV3X21heF9jb250ZW50X3BlcmNlbnRhZ2U6Zn0pfX1yZXR1cm4gZS5wYXRobmFtZSYmKHIuJHByZXZfcGFnZXZpZXdfcGF0aG5hbWU9ZS5wYXRobmFtZSksZS50aW1lc3RhbXAmJihyLiRwcmV2X3BhZ2V2aWV3X2R1cmF0aW9uPSh0LmdldFRpbWUoKS1lLnRpbWVzdGFtcC5nZXRUaW1lKCkpLzFlMykscn19dmFyIHhzPVVpbnQ4QXJyYXksJHM9VWludDE2QXJyYXksU3M9VWludDMyQXJyYXksRXM9bmV3IHhzKFswLDAsMCwwLDAsMCwwLDAsMSwxLDEsMSwyLDIsMiwyLDMsMywzLDMsNCw0LDQsNCw1LDUsNSw1LDAsMCwwLDBdKSxrcz1uZXcgeHMoWzAsMCwwLDAsMSwxLDIsMiwzLDMsNCw0LDUsNSw2LDYsNyw3LDgsOCw5LDksMTAsMTAsMTEsMTEsMTIsMTIsMTMsMTMsMCwwXSksUHM9bmV3IHhzKFsxNiwxNywxOCwwLDgsNyw5LDYsMTAsNSwxMSw0LDEyLDMsMTMsMiwxNCwxLDE1XSksVHM9ZnVuY3Rpb24odCxpKXtmb3IodmFyIGU9bmV3ICRzKDMxKSxyPTA7cjwzMTsrK3IpZVtyXT1pKz0xPDx0W3ItMV07dmFyIHM9bmV3IFNzKGVbMzBdKTtmb3Iocj0xO3I8MzA7KytyKWZvcih2YXIgbj1lW3JdO248ZVtyKzFdOysrbilzW25dPW4tZVtyXTw8NXxyO3JldHVybltlLHNdfSxJcz1UcyhFcywyKSxScz1Jc1swXSxDcz1Jc1sxXTtSc1syOF09MjU4LENzWzI1OF09Mjg7Zm9yKHZhciBPcz1UcyhrcywwKVsxXSxGcz1uZXcgJHMoMzI3NjgpLE1zPTA7TXM8MzI3Njg7KytNcyl7dmFyIEFzPSg0MzY5MCZNcyk+Pj4xfCgyMTg0NSZNcyk8PDE7QXM9KDYxNjgwJihBcz0oNTI0MjgmQXMpPj4+MnwoMTMxMDcmQXMpPDwyKSk+Pj40fCgzODU1JkFzKTw8NCxGc1tNc109KCg2NTI4MCZBcyk+Pj44fCgyNTUmQXMpPDw4KT4+PjF9dmFyIERzPWZ1bmN0aW9uKHQsaSxlKXtmb3IodmFyIHI9dC5sZW5ndGgscz0wLG49bmV3ICRzKGkpO3M8cjsrK3MpKytuW3Rbc10tMV07dmFyIG8sYT1uZXcgJHMoaSk7Zm9yKHM9MDtzPGk7KytzKWFbc109YVtzLTFdK25bcy0xXTw8MTtpZihlKXtvPW5ldyAkcygxPDxpKTt2YXIgbD0xNS1pO2ZvcihzPTA7czxyOysrcylpZih0W3NdKWZvcih2YXIgdT1zPDw0fHRbc10saD1pLXRbc10sZD1hW3Rbc10tMV0rKzw8aCx2PWR8KDE8PGgpLTE7ZDw9djsrK2Qpb1tGc1tkXT4+PmxdPXV9ZWxzZSBmb3Iobz1uZXcgJHMocikscz0wO3M8cjsrK3Mpb1tzXT1Gc1thW3Rbc10tMV0rK10+Pj4xNS10W3NdO3JldHVybiBvfSxqcz1uZXcgeHMoMjg4KTtmb3IoTXM9MDtNczwxNDQ7KytNcylqc1tNc109ODtmb3IoTXM9MTQ0O01zPDI1NjsrK01zKWpzW01zXT05O2ZvcihNcz0yNTY7TXM8MjgwOysrTXMpanNbTXNdPTc7Zm9yKE1zPTI4MDtNczwyODg7KytNcylqc1tNc109ODt2YXIgTHM9bmV3IHhzKDMyKTtmb3IoTXM9MDtNczwzMjsrK01zKUxzW01zXT01O3ZhciBOcz1Ecyhqcyw5LDApLFVzPURzKExzLDUsMCksenM9ZnVuY3Rpb24odCl7cmV0dXJuKHQvOD4+MCkrKDcmdCYmMSl9LEhzPWZ1bmN0aW9uKHQsaSxlKXsobnVsbD09ZXx8ZT50Lmxlbmd0aCkmJihlPXQubGVuZ3RoKTt2YXIgcj1uZXcodCBpbnN0YW5jZW9mICRzPyRzOnQgaW5zdGFuY2VvZiBTcz9Tczp4cykoZS1pKTtyZXR1cm4gci5zZXQodC5zdWJhcnJheShpLGUpKSxyfSxCcz1mdW5jdGlvbih0LGksZSl7ZTw8PTcmaTt2YXIgcj1pLzg+PjA7dFtyXXw9ZSx0W3IrMV18PWU+Pj44fSxxcz1mdW5jdGlvbih0LGksZSl7ZTw8PTcmaTt2YXIgcj1pLzg+PjA7dFtyXXw9ZSx0W3IrMV18PWU+Pj44LHRbcisyXXw9ZT4+PjE2fSxXcz1mdW5jdGlvbih0LGkpe2Zvcih2YXIgZT1bXSxyPTA7cjx0Lmxlbmd0aDsrK3IpdFtyXSYmZS5wdXNoKHtzOnIsZjp0W3JdfSk7dmFyIHM9ZS5sZW5ndGgsbj1lLnNsaWNlKCk7aWYoIXMpcmV0dXJuW25ldyB4cygwKSwwXTtpZigxPT1zKXt2YXIgbz1uZXcgeHMoZVswXS5zKzEpO3JldHVybiBvW2VbMF0uc109MSxbbywxXX1lLnNvcnQoKGZ1bmN0aW9uKHQsaSl7cmV0dXJuIHQuZi1pLmZ9KSksZS5wdXNoKHtzOi0xLGY6MjUwMDF9KTt2YXIgYT1lWzBdLGw9ZVsxXSx1PTAsaD0xLGQ9Mjtmb3IoZVswXT17czotMSxmOmEuZitsLmYsbDphLHI6bH07aCE9cy0xOylhPWVbZVt1XS5mPGVbZF0uZj91Kys6ZCsrXSxsPWVbdSE9aCYmZVt1XS5mPGVbZF0uZj91Kys6ZCsrXSxlW2grK109e3M6LTEsZjphLmYrbC5mLGw6YSxyOmx9O3ZhciB2PW5bMF0ucztmb3Iocj0xO3I8czsrK3IpbltyXS5zPnYmJih2PW5bcl0ucyk7dmFyIGM9bmV3ICRzKHYrMSksZj1HcyhlW2gtMV0sYywwKTtpZihmPmkpe3I9MDt2YXIgcD0wLGc9Zi1pLF89MTw8Zztmb3Iobi5zb3J0KChmdW5jdGlvbih0LGkpe3JldHVybiBjW2kuc10tY1t0LnNdfHx0LmYtaS5mfSkpO3I8czsrK3Ipe3ZhciBtPW5bcl0ucztpZighKGNbbV0+aSkpYnJlYWs7cCs9Xy0oMTw8Zi1jW21dKSxjW21dPWl9Zm9yKHA+Pj49ZztwPjA7KXt2YXIgeT1uW3JdLnM7Y1t5XTxpP3AtPTE8PGktY1t5XSsrLTE6KytyfWZvcig7cj49MCYmcDstLXIpe3ZhciBiPW5bcl0ucztjW2JdPT1pJiYoLS1jW2JdLCsrcCl9Zj1pfXJldHVybltuZXcgeHMoYyksZl19LEdzPWZ1bmN0aW9uKHQsaSxlKXtyZXR1cm4tMT09dC5zP01hdGgubWF4KEdzKHQubCxpLGUrMSksR3ModC5yLGksZSsxKSk6aVt0LnNdPWV9LFZzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgaT10Lmxlbmd0aDtpJiYhdFstLWldOyk7Zm9yKHZhciBlPW5ldyAkcygrK2kpLHI9MCxzPXRbMF0sbj0xLG89ZnVuY3Rpb24odCl7ZVtyKytdPXR9LGE9MTthPD1pOysrYSlpZih0W2FdPT1zJiZhIT1pKSsrbjtlbHNle2lmKCFzJiZuPjIpe2Zvcig7bj4xMzg7bi09MTM4KW8oMzI3NTQpO24+MiYmKG8obj4xMD9uLTExPDw1fDI4NjkwOm4tMzw8NXwxMjMwNSksbj0wKX1lbHNlIGlmKG4+Myl7Zm9yKG8ocyksLS1uO24+NjtuLT02KW8oODMwNCk7bj4yJiYobyhuLTM8PDV8ODIwOCksbj0wKX1mb3IoO24tLTspbyhzKTtuPTEscz10W2FdfXJldHVybltlLnN1YmFycmF5KDAsciksaV19LEpzPWZ1bmN0aW9uKHQsaSl7Zm9yKHZhciBlPTAscj0wO3I8aS5sZW5ndGg7KytyKWUrPXRbcl0qaVtyXTtyZXR1cm4gZX0sS3M9ZnVuY3Rpb24odCxpLGUpe3ZhciByPWUubGVuZ3RoLHM9enMoaSsyKTt0W3NdPTI1NSZyLHRbcysxXT1yPj4+OCx0W3MrMl09MjU1XnRbc10sdFtzKzNdPTI1NV50W3MrMV07Zm9yKHZhciBuPTA7bjxyOysrbil0W3Mrbis0XT1lW25dO3JldHVybiA4KihzKzQrcil9LFlzPWZ1bmN0aW9uKHQsaSxlLHIscyxuLG8sYSxsLHUsaCl7QnMoaSxoKyssZSksKytzWzI1Nl07Zm9yKHZhciBkPVdzKHMsMTUpLHY9ZFswXSxjPWRbMV0sZj1XcyhuLDE1KSxwPWZbMF0sZz1mWzFdLF89VnModiksbT1fWzBdLHk9X1sxXSxiPVZzKHApLHc9YlswXSx4PWJbMV0sUz1uZXcgJHMoMTkpLEU9MDtFPG0ubGVuZ3RoOysrRSlTWzMxJm1bRV1dKys7Zm9yKEU9MDtFPHcubGVuZ3RoOysrRSlTWzMxJndbRV1dKys7Zm9yKHZhciBrPVdzKFMsNyksUD1rWzBdLFQ9a1sxXSxJPTE5O0k+NCYmIVBbUHNbSS0xXV07LS1JKTt2YXIgUixDLE8sRixNPXUrNTw8MyxBPUpzKHMsanMpK0pzKG4sTHMpK28sRD1KcyhzLHYpK0pzKG4scCkrbysxNCszKkkrSnMoUyxQKSsoMipTWzE2XSszKlNbMTddKzcqU1sxOF0pO2lmKE08PUEmJk08PUQpcmV0dXJuIEtzKGksaCx0LnN1YmFycmF5KGwsbCt1KSk7aWYoQnMoaSxoLDErKEQ8QSkpLGgrPTIsRDxBKXtSPURzKHYsYywwKSxDPXYsTz1EcyhwLGcsMCksRj1wO3ZhciBqPURzKFAsVCwwKTtCcyhpLGgseS0yNTcpLEJzKGksaCs1LHgtMSksQnMoaSxoKzEwLEktNCksaCs9MTQ7Zm9yKEU9MDtFPEk7KytFKUJzKGksaCszKkUsUFtQc1tFXV0pO2grPTMqSTtmb3IodmFyIEw9W20sd10sTj0wO048MjsrK04pe3ZhciBVPUxbTl07Zm9yKEU9MDtFPFUubGVuZ3RoOysrRSl7dmFyIHo9MzEmVVtFXTtCcyhpLGgsalt6XSksaCs9UFt6XSx6PjE1JiYoQnMoaSxoLFVbRV0+Pj41JjEyNyksaCs9VVtFXT4+PjEyKX19fWVsc2UgUj1OcyxDPWpzLE89VXMsRj1Mcztmb3IoRT0wO0U8YTsrK0UpaWYocltFXT4yNTUpe3o9cltFXT4+PjE4JjMxO3FzKGksaCxSW3orMjU3XSksaCs9Q1t6KzI1N10sej43JiYoQnMoaSxoLHJbRV0+Pj4yMyYzMSksaCs9RXNbel0pO3ZhciBIPTMxJnJbRV07cXMoaSxoLE9bSF0pLGgrPUZbSF0sSD4zJiYocXMoaSxoLHJbRV0+Pj41JjgxOTEpLGgrPWtzW0hdKX1lbHNlIHFzKGksaCxSW3JbRV1dKSxoKz1DW3JbRV1dO3JldHVybiBxcyhpLGgsUlsyNTZdKSxoK0NbMjU2XX0sWHM9bmV3IFNzKFs2NTU0MCwxMzEwODAsMTMxMDg4LDEzMTEwNCwyNjIxNzYsMTA0ODcwNCwxMDQ4ODMyLDIxMTQ1NjAsMjExNzYzMl0pLFFzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PW5ldyBTcygyNTYpLGk9MDtpPDI1NjsrK2kpe2Zvcih2YXIgZT1pLHI9OTstLXI7KWU9KDEmZSYmMzk4ODI5MjM4NCleZT4+PjE7dFtpXT1lfXJldHVybiB0fSgpLFpzPWZ1bmN0aW9uKHQsaSxlLHIscyl7cmV0dXJuIGZ1bmN0aW9uKHQsaSxlLHIscyxuKXt2YXIgbz10Lmxlbmd0aCxhPW5ldyB4cyhyK28rNSooMStNYXRoLmZsb29yKG8vN2UzKSkrcyksbD1hLnN1YmFycmF5KHIsYS5sZW5ndGgtcyksdT0wO2lmKCFpfHxvPDgpZm9yKHZhciBoPTA7aDw9bztoKz02NTUzNSl7dmFyIGQ9aCs2NTUzNTtkPG8/dT1LcyhsLHUsdC5zdWJhcnJheShoLGQpKToobFtoXT1uLHU9S3MobCx1LHQuc3ViYXJyYXkoaCxvKSkpfWVsc2V7Zm9yKHZhciB2PVhzW2ktMV0sYz12Pj4+MTMsZj04MTkxJnYscD0oMTw8ZSktMSxnPW5ldyAkcygzMjc2OCksXz1uZXcgJHMocCsxKSxtPU1hdGguY2VpbChlLzMpLHk9MiptLGI9ZnVuY3Rpb24oaSl7cmV0dXJuKHRbaV1edFtpKzFdPDxtXnRbaSsyXTw8eSkmcH0sdz1uZXcgU3MoMjVlMykseD1uZXcgJHMoMjg4KSxTPW5ldyAkcygzMiksRT0wLGs9MCxQPShoPTAsMCksVD0wLEk9MDtoPG87KytoKXt2YXIgUj1iKGgpLEM9MzI3NjcmaCxPPV9bUl07aWYoZ1tDXT1PLF9bUl09QyxUPD1oKXt2YXIgRj1vLWg7aWYoKEU+N2UzfHxQPjI0NTc2KSYmRj40MjMpe3U9WXModCxsLDAsdyx4LFMsayxQLEksaC1JLHUpLFA9RT1rPTAsST1oO2Zvcih2YXIgTT0wO008Mjg2OysrTSl4W01dPTA7Zm9yKE09MDtNPDMwOysrTSlTW01dPTB9dmFyIEE9MixEPTAsaj1mLEw9Qy1PJjMyNzY3O2lmKEY+MiYmUj09YihoLUwpKWZvcih2YXIgTj1NYXRoLm1pbihjLEYpLTEsVT1NYXRoLm1pbigzMjc2NyxoKSx6PU1hdGgubWluKDI1OCxGKTtMPD1VJiYtLWomJkMhPU87KXtpZih0W2grQV09PXRbaCtBLUxdKXtmb3IodmFyIEg9MDtIPHomJnRbaCtIXT09dFtoK0gtTF07KytIKTtpZihIPkEpe2lmKEE9SCxEPUwsSD5OKWJyZWFrO3ZhciBCPU1hdGgubWluKEwsSC0yKSxxPTA7Zm9yKE09MDtNPEI7KytNKXt2YXIgVz1oLUwrTSszMjc2OCYzMjc2NyxHPVctZ1tXXSszMjc2OCYzMjc2NztHPnEmJihxPUcsTz1XKX19fUwrPShDPU8pLShPPWdbQ10pKzMyNzY4JjMyNzY3fWlmKEQpe3dbUCsrXT0yNjg0MzU0NTZ8Q3NbQV08PDE4fE9zW0RdO3ZhciBWPTMxJkNzW0FdLEo9MzEmT3NbRF07ays9RXNbVl0ra3NbSl0sKyt4WzI1NytWXSwrK1NbSl0sVD1oK0EsKytFfWVsc2Ugd1tQKytdPXRbaF0sKyt4W3RbaF1dfX11PVlzKHQsbCxuLHcseCxTLGssUCxJLGgtSSx1KX1yZXR1cm4gSHMoYSwwLHIrenModSkrcyl9KHQsbnVsbD09aS5sZXZlbD82OmkubGV2ZWwsbnVsbD09aS5tZW0/TWF0aC5jZWlsKDEuNSpNYXRoLm1heCg4LE1hdGgubWluKDEzLE1hdGgubG9nKHQubGVuZ3RoKSkpKToxMitpLm1lbSxlLHIsITApfSx0bj1mdW5jdGlvbih0LGksZSl7Zm9yKDtlOysraSl0W2ldPWUsZT4+Pj04fTtmdW5jdGlvbiBlbih0LGkpe3ZvaWQgMD09PWkmJihpPXt9KTt2YXIgZT1mdW5jdGlvbigpe3ZhciB0PTQyOTQ5NjcyOTU7cmV0dXJue3A6ZnVuY3Rpb24oaSl7Zm9yKHZhciBlPXQscj0wO3I8aS5sZW5ndGg7KytyKWU9UXNbMjU1JmVeaVtyXV1eZT4+Pjg7dD1lfSxkOmZ1bmN0aW9uKCl7cmV0dXJuIDQyOTQ5NjcyOTVedH19fSgpLHI9dC5sZW5ndGg7ZS5wKHQpO3ZhciBzLG49WnModCxpLDEwKygocz1pKS5maWxlbmFtZSYmcy5maWxlbmFtZS5sZW5ndGgrMXx8MCksOCksbz1uLmxlbmd0aDtyZXR1cm4gZnVuY3Rpb24odCxpKXt2YXIgZT1pLmZpbGVuYW1lO2lmKHRbMF09MzEsdFsxXT0xMzksdFsyXT04LHRbOF09aS5sZXZlbDwyPzQ6OT09aS5sZXZlbD8yOjAsdFs5XT0zLDAhPWkubXRpbWUmJnRuKHQsNCxNYXRoLmZsb29yKG5ldyBEYXRlKGkubXRpbWV8fERhdGUubm93KCkpLzFlMykpLGUpe3RbM109ODtmb3IodmFyIHI9MDtyPD1lLmxlbmd0aDsrK3IpdFtyKzEwXT1lLmNoYXJDb2RlQXQocil9fShuLGkpLHRuKG4sby04LGUuZCgpKSx0bihuLG8tNCxyKSxufXZhciBybj1mdW5jdGlvbih0KXt2YXIgaSxlLHIscyxuPVwiXCI7Zm9yKGk9ZT0wLHI9KHQ9KHQrXCJcIikucmVwbGFjZSgvXFxyXFxuL2csXCJcXG5cIikucmVwbGFjZSgvXFxyL2csXCJcXG5cIikpLmxlbmd0aCxzPTA7czxyO3MrKyl7dmFyIG89dC5jaGFyQ29kZUF0KHMpLGE9bnVsbDtvPDEyOD9lKys6YT1vPjEyNyYmbzwyMDQ4P1N0cmluZy5mcm9tQ2hhckNvZGUobz4+NnwxOTIsNjMmb3wxMjgpOlN0cmluZy5mcm9tQ2hhckNvZGUobz4+MTJ8MjI0LG8+PjYmNjN8MTI4LDYzJm98MTI4KSxEKGEpfHwoZT5pJiYobis9dC5zdWJzdHJpbmcoaSxlKSksbis9YSxpPWU9cysxKX1yZXR1cm4gZT5pJiYobis9dC5zdWJzdHJpbmcoaSx0Lmxlbmd0aCkpLG59LHNuPSEhdXx8ISFsLG5uPVwidGV4dC9wbGFpblwiLG9uPWZ1bmN0aW9uKHQsaSxlKXt2YXIgcjt2b2lkIDA9PT1lJiYoZT0hMCk7dmFyW3Msbl09dC5zcGxpdChcIj9cIiksbz1nKHt9LGkpLGE9bnVsbCE9PShyPW51bGw9PW4/dm9pZCAwOm4uc3BsaXQoXCImXCIpLm1hcCgodD0+e3ZhciBpLFtyLHNdPXQuc3BsaXQoXCI9XCIpLG49ZSYmbnVsbCE9PShpPW9bcl0pJiZ2b2lkIDAhPT1pP2k6cztyZXR1cm4gZGVsZXRlIG9bcl0scitcIj1cIitufSkpKSYmdm9pZCAwIT09cj9yOltdLGw9b2Uobyk7cmV0dXJuIGwmJmEucHVzaChsKSxzK1wiP1wiK2Euam9pbihcIiZcIil9LGFuPSh0LGkpPT5KU09OLnN0cmluZ2lmeSh0LCgodCxpKT0+XCJiaWdpbnRcIj09dHlwZW9mIGk/aS50b1N0cmluZygpOmkpLGkpLGxuPXQ9Pnt2YXJ7ZGF0YTppLGNvbXByZXNzaW9uOmV9PXQ7aWYoaSl7aWYoZT09PXJlLkdaaXBKUyl7dmFyIHI9ZW4oZnVuY3Rpb24odCxpKXt2YXIgZT10Lmxlbmd0aDtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgVGV4dEVuY29kZXIpcmV0dXJuKG5ldyBUZXh0RW5jb2RlcikuZW5jb2RlKHQpO2Zvcih2YXIgcj1uZXcgeHModC5sZW5ndGgrKHQubGVuZ3RoPj4+MSkpLHM9MCxuPWZ1bmN0aW9uKHQpe3JbcysrXT10fSxvPTA7bzxlOysrbyl7aWYocys1PnIubGVuZ3RoKXt2YXIgYT1uZXcgeHMocys4KyhlLW88PDEpKTthLnNldChyKSxyPWF9dmFyIGw9dC5jaGFyQ29kZUF0KG8pO2w8MTI4fHxpP24obCk6bDwyMDQ4PyhuKDE5MnxsPj4+NiksbigxMjh8NjMmbCkpOmw+NTUyOTUmJmw8NTczNDQ/KG4oMjQwfChsPTY1NTM2KygxMDQ3NTUyJmwpfDEwMjMmdC5jaGFyQ29kZUF0KCsrbykpPj4+MTgpLG4oMTI4fGw+Pj4xMiY2MyksbigxMjh8bD4+PjYmNjMpLG4oMTI4fDYzJmwpKToobigyMjR8bD4+PjEyKSxuKDEyOHxsPj4+NiY2MyksbigxMjh8NjMmbCkpfXJldHVybiBIcyhyLDAscyl9KGFuKGkpKSx7bXRpbWU6MH0pLHM9bmV3IEJsb2IoW3JdLHt0eXBlOm5ufSk7cmV0dXJue2NvbnRlbnRUeXBlOm5uLGJvZHk6cyxlc3RpbWF0ZWRTaXplOnMuc2l6ZX19aWYoZT09PXJlLkJhc2U2NCl7dmFyIG49ZnVuY3Rpb24odCl7dmFyIGksZSxyLHMsbixvPVwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz1cIixhPTAsbD0wLHU9XCJcIixoPVtdO2lmKCF0KXJldHVybiB0O3Q9cm4odCk7ZG97aT0obj10LmNoYXJDb2RlQXQoYSsrKTw8MTZ8dC5jaGFyQ29kZUF0KGErKyk8PDh8dC5jaGFyQ29kZUF0KGErKykpPj4xOCY2MyxlPW4+PjEyJjYzLHI9bj4+NiY2MyxzPTYzJm4saFtsKytdPW8uY2hhckF0KGkpK28uY2hhckF0KGUpK28uY2hhckF0KHIpK28uY2hhckF0KHMpfXdoaWxlKGE8dC5sZW5ndGgpO3N3aXRjaCh1PWguam9pbihcIlwiKSx0Lmxlbmd0aCUzKXtjYXNlIDE6dT11LnNsaWNlKDAsLTIpK1wiPT1cIjticmVhaztjYXNlIDI6dT11LnNsaWNlKDAsLTEpK1wiPVwifXJldHVybiB1fShhbihpKSksbz0odD0+XCJkYXRhPVwiK2VuY29kZVVSSUNvbXBvbmVudChcInN0cmluZ1wiPT10eXBlb2YgdD90OmFuKHQpKSkobik7cmV0dXJue2NvbnRlbnRUeXBlOlwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIsYm9keTpvLGVzdGltYXRlZFNpemU6bmV3IEJsb2IoW29dKS5zaXplfX12YXIgYT1hbihpKTtyZXR1cm57Y29udGVudFR5cGU6XCJhcHBsaWNhdGlvbi9qc29uXCIsYm9keTphLGVzdGltYXRlZFNpemU6bmV3IEJsb2IoW2FdKS5zaXplfX19LHVuPVtdO2wmJnVuLnB1c2goe3RyYW5zcG9ydDpcImZldGNoXCIsbWV0aG9kOnQ9Pnt2YXIgaSxlLHtjb250ZW50VHlwZTpyLGJvZHk6cyxlc3RpbWF0ZWRTaXplOm59PW51bGwhPT0oaT1sbih0KSkmJnZvaWQgMCE9PWk/aTp7fSxvPW5ldyBIZWFkZXJzO0Z0KHQuaGVhZGVycywoZnVuY3Rpb24odCxpKXtvLmFwcGVuZChpLHQpfSkpLHImJm8uYXBwZW5kKFwiQ29udGVudC1UeXBlXCIscik7dmFyIGE9dC51cmwsdT1udWxsO2lmKGgpe3ZhciBkPW5ldyBoO3U9e3NpZ25hbDpkLnNpZ25hbCx0aW1lb3V0OnNldFRpbWVvdXQoKCgpPT5kLmFib3J0KCkpLHQudGltZW91dCl9fWwoYSxnKHttZXRob2Q6KG51bGw9PXQ/dm9pZCAwOnQubWV0aG9kKXx8XCJHRVRcIixoZWFkZXJzOm8sa2VlcGFsaXZlOlwiUE9TVFwiPT09dC5tZXRob2QmJihufHwwKTw1MjQyOC44LGJvZHk6cyxzaWduYWw6bnVsbD09KGU9dSk/dm9pZCAwOmUuc2lnbmFsfSx0LmZldGNoT3B0aW9ucykpLnRoZW4oKGk9PmkudGV4dCgpLnRoZW4oKGU9Pnt2YXIgcj17c3RhdHVzQ29kZTppLnN0YXR1cyx0ZXh0OmV9O2lmKDIwMD09PWkuc3RhdHVzKXRyeXtyLmpzb249SlNPTi5wYXJzZShlKX1jYXRjaCh0KXtQdC5lcnJvcih0KX1udWxsPT10LmNhbGxiYWNrfHx0LmNhbGxiYWNrKHIpfSkpKSkuY2F0Y2goKGk9PntQdC5lcnJvcihpKSxudWxsPT10LmNhbGxiYWNrfHx0LmNhbGxiYWNrKHtzdGF0dXNDb2RlOjAsdGV4dDppfSl9KSkuZmluYWxseSgoKCk9PnU/Y2xlYXJUaW1lb3V0KHUudGltZW91dCk6bnVsbCkpfX0pLHUmJnVuLnB1c2goe3RyYW5zcG9ydDpcIlhIUlwiLG1ldGhvZDp0PT57dmFyIGksZT1uZXcgdTtlLm9wZW4odC5tZXRob2R8fFwiR0VUXCIsdC51cmwsITApO3Zhcntjb250ZW50VHlwZTpyLGJvZHk6c309bnVsbCE9PShpPWxuKHQpKSYmdm9pZCAwIT09aT9pOnt9O0Z0KHQuaGVhZGVycywoZnVuY3Rpb24odCxpKXtlLnNldFJlcXVlc3RIZWFkZXIoaSx0KX0pKSxyJiZlLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LVR5cGVcIixyKSx0LnRpbWVvdXQmJihlLnRpbWVvdXQ9dC50aW1lb3V0KSx0LmRpc2FibGVYSFJDcmVkZW50aWFsc3x8KGUud2l0aENyZWRlbnRpYWxzPSEwKSxlLm9ucmVhZHlzdGF0ZWNoYW5nZT0oKT0+e2lmKDQ9PT1lLnJlYWR5U3RhdGUpe3ZhciBpPXtzdGF0dXNDb2RlOmUuc3RhdHVzLHRleHQ6ZS5yZXNwb25zZVRleHR9O2lmKDIwMD09PWUuc3RhdHVzKXRyeXtpLmpzb249SlNPTi5wYXJzZShlLnJlc3BvbnNlVGV4dCl9Y2F0Y2godCl7fW51bGw9PXQuY2FsbGJhY2t8fHQuY2FsbGJhY2soaSl9fSxlLnNlbmQocyl9fSksbnVsbCE9biYmbi5zZW5kQmVhY29uJiZ1bi5wdXNoKHt0cmFuc3BvcnQ6XCJzZW5kQmVhY29uXCIsbWV0aG9kOnQ9Pnt2YXIgaT1vbih0LnVybCx7YmVhY29uOlwiMVwifSk7dHJ5e3ZhciBlLHtjb250ZW50VHlwZTpyLGJvZHk6c309bnVsbCE9PShlPWxuKHQpKSYmdm9pZCAwIT09ZT9lOnt9LG89XCJzdHJpbmdcIj09dHlwZW9mIHM/bmV3IEJsb2IoW3NdLHt0eXBlOnJ9KTpzO24uc2VuZEJlYWNvbihpLG8pfWNhdGNoKHQpe319fSk7dmFyIGhuPWZ1bmN0aW9uKHQsaSl7aWYoIWZ1bmN0aW9uKHQpe3RyeXtuZXcgUmVnRXhwKHQpfWNhdGNoKHQpe3JldHVybiExfXJldHVybiEwfShpKSlyZXR1cm4hMTt0cnl7cmV0dXJuIG5ldyBSZWdFeHAoaSkudGVzdCh0KX1jYXRjaCh0KXtyZXR1cm4hMX19O2Z1bmN0aW9uIGRuKHQsaSxlKXtyZXR1cm4gYW4oe2Rpc3RpbmN0X2lkOnQsdXNlclByb3BlcnRpZXNUb1NldDppLHVzZXJQcm9wZXJ0aWVzVG9TZXRPbmNlOmV9KX12YXIgdm49e2V4YWN0Oih0LGkpPT5pLnNvbWUoKGk9PnQuc29tZSgodD0+aT09PXQpKSkpLGlzX25vdDoodCxpKT0+aS5ldmVyeSgoaT0+dC5ldmVyeSgodD0+aSE9PXQpKSkpLHJlZ2V4Oih0LGkpPT5pLnNvbWUoKGk9PnQuc29tZSgodD0+aG4oaSx0KSkpKSksbm90X3JlZ2V4Oih0LGkpPT5pLmV2ZXJ5KChpPT50LmV2ZXJ5KCh0PT4haG4oaSx0KSkpKSksaWNvbnRhaW5zOih0LGkpPT5pLm1hcChjbikuc29tZSgoaT0+dC5tYXAoY24pLnNvbWUoKHQ9PmkuaW5jbHVkZXModCkpKSkpLG5vdF9pY29udGFpbnM6KHQsaSk9PmkubWFwKGNuKS5ldmVyeSgoaT0+dC5tYXAoY24pLmV2ZXJ5KCh0PT4haS5pbmNsdWRlcyh0KSkpKSl9LGNuPXQ9PnQudG9Mb3dlckNhc2UoKSxmbj1UdChcIltFcnJvciB0cmFja2luZ11cIik7Y2xhc3MgcG57Y29uc3RydWN0b3IodCl7dmFyIGksZTt0aGlzLkp0PVtdLHRoaXMuS3Q9bmV3IGZ0KFtuZXcgcHQsbmV3IEV0LG5ldyBfdCxuZXcgZ3QsbmV3ICR0LG5ldyB4dCxuZXcgeXQsbmV3IFN0XSxbYXQsaHRdKSx0aGlzLl9pbnN0YW5jZT10LHRoaXMuSnQ9bnVsbCE9PShpPW51bGw9PShlPXRoaXMuX2luc3RhbmNlLnBlcnNpc3RlbmNlKT92b2lkIDA6ZS5nZXRfcHJvcGVydHkoWHQpKSYmdm9pZCAwIT09aT9pOltdfW9uUmVtb3RlQ29uZmlnKHQpe3ZhciBpLGUscixzPW51bGwhPT0oaT1udWxsPT0oZT10LmVycm9yVHJhY2tpbmcpP3ZvaWQgMDplLnN1cHByZXNzaW9uUnVsZXMpJiZ2b2lkIDAhPT1pP2k6W10sbj1udWxsPT0ocj10LmVycm9yVHJhY2tpbmcpP3ZvaWQgMDpyLmNhcHR1cmVFeHRlbnNpb25FeGNlcHRpb25zO3RoaXMuSnQ9cyx0aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZSYmdGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UucmVnaXN0ZXIoe1tYdF06dGhpcy5KdCxbUXRdOm59KX1nZXQgWXQoKXt2YXIgdCxpPSEhdGhpcy5faW5zdGFuY2UuZ2V0X3Byb3BlcnR5KFF0KSxlPXRoaXMuX2luc3RhbmNlLmNvbmZpZy5lcnJvcl90cmFja2luZy5jYXB0dXJlRXh0ZW5zaW9uRXhjZXB0aW9ucztyZXR1cm4gbnVsbCE9PSh0PW51bGwhPWU/ZTppKSYmdm9pZCAwIT09dCYmdH1idWlsZFByb3BlcnRpZXModCxpKXtyZXR1cm4gdGhpcy5LdC5idWlsZEZyb21Vbmtub3duKHQse3N5bnRoZXRpY0V4Y2VwdGlvbjpudWxsPT1pP3ZvaWQgMDppLnN5bnRoZXRpY0V4Y2VwdGlvbixtZWNoYW5pc206e2hhbmRsZWQ6bnVsbD09aT92b2lkIDA6aS5oYW5kbGVkfX0pfXNlbmRFeGNlcHRpb25FdmVudCh0KXt2YXIgaT10LiRleGNlcHRpb25fbGlzdDtpZih0aGlzLlh0KGkpKXtpZih0aGlzLlF0KGkpKXJldHVybiB2b2lkIGZuLmluZm8oXCJTa2lwcGluZyBleGNlcHRpb24gY2FwdHVyZSBiZWNhdXNlIGEgc3VwcHJlc3Npb24gcnVsZSBtYXRjaGVkXCIpO2lmKCF0aGlzLll0JiZ0aGlzLlp0KGkpKXJldHVybiB2b2lkIGZuLmluZm8oXCJTa2lwcGluZyBleGNlcHRpb24gY2FwdHVyZSBiZWNhdXNlIGl0IHdhcyB0aHJvd24gYnkgYW4gZXh0ZW5zaW9uXCIpO2lmKCF0aGlzLl9pbnN0YW5jZS5jb25maWcuZXJyb3JfdHJhY2tpbmcuX19jYXB0dXJlUG9zdEhvZ0V4Y2VwdGlvbnMmJnRoaXMudGkoaSkpcmV0dXJuIHZvaWQgZm4uaW5mbyhcIlNraXBwaW5nIGV4Y2VwdGlvbiBjYXB0dXJlIGJlY2F1c2UgaXQgd2FzIHRocm93biBieSB0aGUgUG9zdEhvZyBTREtcIil9cmV0dXJuIHRoaXMuX2luc3RhbmNlLmNhcHR1cmUoXCIkZXhjZXB0aW9uXCIsdCx7X25vVHJ1bmNhdGU6ITAsX2JhdGNoS2V5OlwiZXhjZXB0aW9uRXZlbnRcIn0pfVF0KHQpe2lmKDA9PT10Lmxlbmd0aClyZXR1cm4hMTt2YXIgaT10LnJlZHVjZSgoKHQsaSk9Pnt2YXJ7dHlwZTplLHZhbHVlOnJ9PWk7cmV0dXJuIE0oZSkmJmUubGVuZ3RoPjAmJnQuJGV4Y2VwdGlvbl90eXBlcy5wdXNoKGUpLE0ocikmJnIubGVuZ3RoPjAmJnQuJGV4Y2VwdGlvbl92YWx1ZXMucHVzaChyKSx0fSkseyRleGNlcHRpb25fdHlwZXM6W10sJGV4Y2VwdGlvbl92YWx1ZXM6W119KTtyZXR1cm4gdGhpcy5KdC5zb21lKCh0PT57dmFyIGU9dC52YWx1ZXMubWFwKCh0PT57dmFyIGUscj12blt0Lm9wZXJhdG9yXSxzPUkodC52YWx1ZSk/dC52YWx1ZTpbdC52YWx1ZV0sbj1udWxsIT09KGU9aVt0LmtleV0pJiZ2b2lkIDAhPT1lP2U6W107cmV0dXJuIHMubGVuZ3RoPjAmJnIocyxuKX0pKTtyZXR1cm5cIk9SXCI9PT10LnR5cGU/ZS5zb21lKEJvb2xlYW4pOmUuZXZlcnkoQm9vbGVhbil9KSl9WnQodCl7cmV0dXJuIHQuZmxhdE1hcCgodD0+e3ZhciBpLGU7cmV0dXJuIG51bGwhPT0oaT1udWxsPT0oZT10LnN0YWNrdHJhY2UpP3ZvaWQgMDplLmZyYW1lcykmJnZvaWQgMCE9PWk/aTpbXX0pKS5zb21lKCh0PT50LmZpbGVuYW1lJiZ0LmZpbGVuYW1lLnN0YXJ0c1dpdGgoXCJjaHJvbWUtZXh0ZW5zaW9uOi8vXCIpKSl9dGkodCl7aWYodC5sZW5ndGg+MCl7dmFyIGksZSxyLHMsbj1udWxsIT09KGk9bnVsbD09KGU9dFswXS5zdGFja3RyYWNlKT92b2lkIDA6ZS5mcmFtZXMpJiZ2b2lkIDAhPT1pP2k6W10sbz1uW24ubGVuZ3RoLTFdO3JldHVybiBudWxsIT09KHI9bnVsbD09b3x8bnVsbD09KHM9by5maWxlbmFtZSk/dm9pZCAwOnMuaW5jbHVkZXMoXCJwb3N0aG9nLmNvbS9zdGF0aWNcIikpJiZ2b2lkIDAhPT1yJiZyfXJldHVybiExfVh0KHQpe3JldHVybiFqKHQpJiZJKHQpfX12YXIgZ249VHQoXCJbRmVhdHVyZUZsYWdzXVwiKSxfbj1cIiRhY3RpdmVfZmVhdHVyZV9mbGFnc1wiLG1uPVwiJG92ZXJyaWRlX2ZlYXR1cmVfZmxhZ3NcIix5bj1cIiRmZWF0dXJlX2ZsYWdfcGF5bG9hZHNcIixibj1cIiRvdmVycmlkZV9mZWF0dXJlX2ZsYWdfcGF5bG9hZHNcIix3bj1cIiRmZWF0dXJlX2ZsYWdfcmVxdWVzdF9pZFwiLHhuPXQ9Pnt2YXIgaT17fTtmb3IodmFyW2Uscl1vZiBEdCh0fHx7fSkpciYmKGlbZV09cik7cmV0dXJuIGl9LCRuPXQ9Pnt2YXIgaT10LmZsYWdzO3JldHVybiBpPyh0LmZlYXR1cmVGbGFncz1PYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmtleXMoaSkubWFwKCh0PT57dmFyIGU7cmV0dXJuW3QsbnVsbCE9PShlPWlbdF0udmFyaWFudCkmJnZvaWQgMCE9PWU/ZTppW3RdLmVuYWJsZWRdfSkpKSx0LmZlYXR1cmVGbGFnUGF5bG9hZHM9T2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5rZXlzKGkpLmZpbHRlcigodD0+aVt0XS5lbmFibGVkKSkuZmlsdGVyKCh0PT57dmFyIGU7cmV0dXJuIG51bGw9PShlPWlbdF0ubWV0YWRhdGEpP3ZvaWQgMDplLnBheWxvYWR9KSkubWFwKCh0PT57dmFyIGU7cmV0dXJuW3QsbnVsbD09KGU9aVt0XS5tZXRhZGF0YSk/dm9pZCAwOmUucGF5bG9hZF19KSkpKTpnbi53YXJuKFwiVXNpbmcgYW4gb2xkZXIgdmVyc2lvbiBvZiB0aGUgZmVhdHVyZSBmbGFncyBlbmRwb2ludC4gUGxlYXNlIHVwZ3JhZGUgeW91ciBQb3N0SG9nIHNlcnZlciB0byB0aGUgbGF0ZXN0IHZlcnNpb25cIiksdH0sU249ZnVuY3Rpb24odCl7cmV0dXJuIHQuRmVhdHVyZUZsYWdzPVwiZmVhdHVyZV9mbGFnc1wiLHQuUmVjb3JkaW5ncz1cInJlY29yZGluZ3NcIix0fSh7fSk7Y2xhc3MgRW57Y29uc3RydWN0b3IodCl7dGhpcy5paT0hMSx0aGlzLmVpPSExLHRoaXMucmk9ITEsdGhpcy5zaT0hMSx0aGlzLm5pPSExLHRoaXMub2k9ITEsdGhpcy5haT0hMSx0aGlzLl9pbnN0YW5jZT10LHRoaXMuZmVhdHVyZUZsYWdFdmVudEhhbmRsZXJzPVtdfWxpKCl7dmFyIHQ9dGhpcy5faW5zdGFuY2UuY29uZmlnLmV2YWx1YXRpb25fZW52aXJvbm1lbnRzO3JldHVybiBudWxsIT10JiZ0Lmxlbmd0aD90LmZpbHRlcigodD0+e3ZhciBpPXQmJlwic3RyaW5nXCI9PXR5cGVvZiB0JiZ0LnRyaW0oKS5sZW5ndGg+MDtyZXR1cm4gaXx8Z24uZXJyb3IoXCJJbnZhbGlkIGV2YWx1YXRpb24gZW52aXJvbm1lbnQgZm91bmQ6XCIsdCxcIkV4cGVjdGVkIG5vbi1lbXB0eSBzdHJpbmdcIiksaX0pKTpbXX11aSgpe3JldHVybiB0aGlzLmxpKCkubGVuZ3RoPjB9ZmxhZ3MoKXtpZih0aGlzLl9pbnN0YW5jZS5jb25maWcuX19wcmV2aWV3X3JlbW90ZV9jb25maWcpdGhpcy5vaT0hMDtlbHNle3ZhciB0PSF0aGlzLmhpJiYodGhpcy5faW5zdGFuY2UuY29uZmlnLmFkdmFuY2VkX2Rpc2FibGVfZmVhdHVyZV9mbGFnc3x8dGhpcy5faW5zdGFuY2UuY29uZmlnLmFkdmFuY2VkX2Rpc2FibGVfZmVhdHVyZV9mbGFnc19vbl9maXJzdF9sb2FkKTt0aGlzLmRpKHtkaXNhYmxlRmxhZ3M6dH0pfX1nZXQgaGFzTG9hZGVkRmxhZ3MoKXtyZXR1cm4gdGhpcy5laX1nZXRGbGFncygpe3JldHVybiBPYmplY3Qua2V5cyh0aGlzLmdldEZsYWdWYXJpYW50cygpKX1nZXRGbGFnc1dpdGhEZXRhaWxzKCl7dmFyIHQ9dGhpcy5faW5zdGFuY2UuZ2V0X3Byb3BlcnR5KGFpKSxpPXRoaXMuX2luc3RhbmNlLmdldF9wcm9wZXJ0eShtbiksZT10aGlzLl9pbnN0YW5jZS5nZXRfcHJvcGVydHkoYm4pO2lmKCFlJiYhaSlyZXR1cm4gdHx8e307dmFyIHI9TXQoe30sdHx8e30pLHM9Wy4uLm5ldyBTZXQoWy4uLk9iamVjdC5rZXlzKGV8fHt9KSwuLi5PYmplY3Qua2V5cyhpfHx7fSldKV07Zm9yKHZhciBuIG9mIHMpe3ZhciBvLGEsbD1yW25dLHU9bnVsbD09aT92b2lkIDA6aVtuXSxoPUYodSk/bnVsbCE9PShvPW51bGw9PWw/dm9pZCAwOmwuZW5hYmxlZCkmJnZvaWQgMCE9PW8mJm86ISF1LGQ9Rih1KT9sLnZhcmlhbnQ6XCJzdHJpbmdcIj09dHlwZW9mIHU/dTp2b2lkIDAsdj1udWxsPT1lP3ZvaWQgMDplW25dLGM9Zyh7fSxsLHtlbmFibGVkOmgsdmFyaWFudDpoP251bGwhPWQ/ZDpudWxsPT1sP3ZvaWQgMDpsLnZhcmlhbnQ6dm9pZCAwfSk7aWYoaCE9PShudWxsPT1sP3ZvaWQgMDpsLmVuYWJsZWQpJiYoYy5vcmlnaW5hbF9lbmFibGVkPW51bGw9PWw/dm9pZCAwOmwuZW5hYmxlZCksZCE9PShudWxsPT1sP3ZvaWQgMDpsLnZhcmlhbnQpJiYoYy5vcmlnaW5hbF92YXJpYW50PW51bGw9PWw/dm9pZCAwOmwudmFyaWFudCksdiljLm1ldGFkYXRhPWcoe30sbnVsbD09bD92b2lkIDA6bC5tZXRhZGF0YSx7cGF5bG9hZDp2LG9yaWdpbmFsX3BheWxvYWQ6bnVsbD09bHx8bnVsbD09KGE9bC5tZXRhZGF0YSk/dm9pZCAwOmEucGF5bG9hZH0pO3Jbbl09Y31yZXR1cm4gdGhpcy5paXx8KGduLndhcm4oXCIgT3ZlcnJpZGluZyBmZWF0dXJlIGZsYWcgZGV0YWlscyFcIix7ZmxhZ0RldGFpbHM6dCxvdmVycmlkZGVuUGF5bG9hZHM6ZSxmaW5hbERldGFpbHM6cn0pLHRoaXMuaWk9ITApLHJ9Z2V0RmxhZ1ZhcmlhbnRzKCl7dmFyIHQ9dGhpcy5faW5zdGFuY2UuZ2V0X3Byb3BlcnR5KG5pKSxpPXRoaXMuX2luc3RhbmNlLmdldF9wcm9wZXJ0eShtbik7aWYoIWkpcmV0dXJuIHR8fHt9O2Zvcih2YXIgZT1NdCh7fSx0KSxyPU9iamVjdC5rZXlzKGkpLHM9MDtzPHIubGVuZ3RoO3MrKyllW3Jbc11dPWlbcltzXV07cmV0dXJuIHRoaXMuaWl8fChnbi53YXJuKFwiIE92ZXJyaWRpbmcgZmVhdHVyZSBmbGFncyFcIix7ZW5hYmxlZEZsYWdzOnQsb3ZlcnJpZGRlbkZsYWdzOmksZmluYWxGbGFnczplfSksdGhpcy5paT0hMCksZX1nZXRGbGFnUGF5bG9hZHMoKXt2YXIgdD10aGlzLl9pbnN0YW5jZS5nZXRfcHJvcGVydHkoeW4pLGk9dGhpcy5faW5zdGFuY2UuZ2V0X3Byb3BlcnR5KGJuKTtpZighaSlyZXR1cm4gdHx8e307Zm9yKHZhciBlPU10KHt9LHR8fHt9KSxyPU9iamVjdC5rZXlzKGkpLHM9MDtzPHIubGVuZ3RoO3MrKyllW3Jbc11dPWlbcltzXV07cmV0dXJuIHRoaXMuaWl8fChnbi53YXJuKFwiIE92ZXJyaWRpbmcgZmVhdHVyZSBmbGFnIHBheWxvYWRzIVwiLHtmbGFnUGF5bG9hZHM6dCxvdmVycmlkZGVuUGF5bG9hZHM6aSxmaW5hbFBheWxvYWRzOmV9KSx0aGlzLmlpPSEwKSxlfXJlbG9hZEZlYXR1cmVGbGFncygpe3RoaXMuc2l8fHRoaXMuX2luc3RhbmNlLmNvbmZpZy5hZHZhbmNlZF9kaXNhYmxlX2ZlYXR1cmVfZmxhZ3N8fHRoaXMuaGl8fCh0aGlzLmhpPXNldFRpbWVvdXQoKCgpPT57dGhpcy5kaSgpfSksNSkpfXZpKCl7Y2xlYXJUaW1lb3V0KHRoaXMuaGkpLHRoaXMuaGk9dm9pZCAwfWVuc3VyZUZsYWdzTG9hZGVkKCl7dGhpcy5laXx8dGhpcy5yaXx8dGhpcy5oaXx8dGhpcy5yZWxvYWRGZWF0dXJlRmxhZ3MoKX1zZXRBbm9ueW1vdXNEaXN0aW5jdElkKHQpe3RoaXMuJGFub25fZGlzdGluY3RfaWQ9dH1zZXRSZWxvYWRpbmdQYXVzZWQodCl7dGhpcy5zaT10fWRpKHQpe3ZhciBpO2lmKHRoaXMudmkoKSwhdGhpcy5faW5zdGFuY2UuTSgpKWlmKHRoaXMucmkpdGhpcy5uaT0hMDtlbHNle3ZhciBlPXt0b2tlbjp0aGlzLl9pbnN0YW5jZS5jb25maWcudG9rZW4sZGlzdGluY3RfaWQ6dGhpcy5faW5zdGFuY2UuZ2V0X2Rpc3RpbmN0X2lkKCksZ3JvdXBzOnRoaXMuX2luc3RhbmNlLmdldEdyb3VwcygpLCRhbm9uX2Rpc3RpbmN0X2lkOnRoaXMuJGFub25fZGlzdGluY3RfaWQscGVyc29uX3Byb3BlcnRpZXM6Zyh7fSwobnVsbD09KGk9dGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UpP3ZvaWQgMDppLmdldF9pbml0aWFsX3Byb3BzKCkpfHx7fSx0aGlzLl9pbnN0YW5jZS5nZXRfcHJvcGVydHkobGkpfHx7fSksZ3JvdXBfcHJvcGVydGllczp0aGlzLl9pbnN0YW5jZS5nZXRfcHJvcGVydHkodWkpfTsobnVsbCE9dCYmdC5kaXNhYmxlRmxhZ3N8fHRoaXMuX2luc3RhbmNlLmNvbmZpZy5hZHZhbmNlZF9kaXNhYmxlX2ZlYXR1cmVfZmxhZ3MpJiYoZS5kaXNhYmxlX2ZsYWdzPSEwKSx0aGlzLnVpKCkmJihlLmV2YWx1YXRpb25fZW52aXJvbm1lbnRzPXRoaXMubGkoKSk7dmFyIHI9dGhpcy5faW5zdGFuY2UuY29uZmlnLl9fcHJldmlld19yZW1vdGVfY29uZmlnLHM9cj9cIi9mbGFncy8/dj0yXCI6XCIvZmxhZ3MvP3Y9MiZjb25maWc9dHJ1ZVwiLG49dGhpcy5faW5zdGFuY2UuY29uZmlnLmFkdmFuY2VkX29ubHlfZXZhbHVhdGVfc3VydmV5X2ZlYXR1cmVfZmxhZ3M/XCImb25seV9ldmFsdWF0ZV9zdXJ2ZXlfZmVhdHVyZV9mbGFncz10cnVlXCI6XCJcIixvPXRoaXMuX2luc3RhbmNlLnJlcXVlc3RSb3V0ZXIuZW5kcG9pbnRGb3IoXCJmbGFnc1wiLHMrbik7ciYmKGUudGltZXpvbmU9dnMoKSksdGhpcy5yaT0hMCx0aGlzLl9pbnN0YW5jZS5jaSh7bWV0aG9kOlwiUE9TVFwiLHVybDpvLGRhdGE6ZSxjb21wcmVzc2lvbjp0aGlzLl9pbnN0YW5jZS5jb25maWcuZGlzYWJsZV9jb21wcmVzc2lvbj92b2lkIDA6cmUuQmFzZTY0LHRpbWVvdXQ6dGhpcy5faW5zdGFuY2UuY29uZmlnLmZlYXR1cmVfZmxhZ19yZXF1ZXN0X3RpbWVvdXRfbXMsY2FsbGJhY2s6dD0+e3ZhciBpLHIscz0hMDsoMjAwPT09dC5zdGF0dXNDb2RlJiYodGhpcy5uaXx8KHRoaXMuJGFub25fZGlzdGluY3RfaWQ9dm9pZCAwKSxzPSExKSx0aGlzLnJpPSExLHRoaXMub2kpfHwodGhpcy5vaT0hMCx0aGlzLl9pbnN0YW5jZS5maShudWxsIT09KHI9dC5qc29uKSYmdm9pZCAwIT09cj9yOnt9KSk7aWYoIWUuZGlzYWJsZV9mbGFnc3x8dGhpcy5uaSlpZih0aGlzLmFpPSFzLHQuanNvbiYmbnVsbCE9KGk9dC5qc29uLnF1b3RhTGltaXRlZCkmJmkuaW5jbHVkZXMoU24uRmVhdHVyZUZsYWdzKSlnbi53YXJuKFwiWW91IGhhdmUgaGl0IHlvdXIgZmVhdHVyZSBmbGFncyBxdW90YSBsaW1pdCwgYW5kIHdpbGwgbm90IGJlIGFibGUgdG8gbG9hZCBmZWF0dXJlIGZsYWdzIHVudGlsIHRoZSBxdW90YSBpcyByZXNldC4gIFBsZWFzZSB2aXNpdCBodHRwczovL3Bvc3Rob2cuY29tL2RvY3MvYmlsbGluZy9saW1pdHMtYWxlcnRzIHRvIGxlYXJuIG1vcmUuXCIpO2Vsc2V7dmFyIG47aWYoIWUuZGlzYWJsZV9mbGFncyl0aGlzLnJlY2VpdmVkRmVhdHVyZUZsYWdzKG51bGwhPT0obj10Lmpzb24pJiZ2b2lkIDAhPT1uP246e30scyk7dGhpcy5uaSYmKHRoaXMubmk9ITEsdGhpcy5kaSgpKX19fSl9fWdldEZlYXR1cmVGbGFnKHQsaSl7aWYodm9pZCAwPT09aSYmKGk9e30pLHRoaXMuZWl8fHRoaXMuZ2V0RmxhZ3MoKSYmdGhpcy5nZXRGbGFncygpLmxlbmd0aD4wKXt2YXIgZT10aGlzLmdldEZsYWdWYXJpYW50cygpW3RdLHI9XCJcIitlLHM9dGhpcy5faW5zdGFuY2UuZ2V0X3Byb3BlcnR5KHduKXx8dm9pZCAwLG49dGhpcy5faW5zdGFuY2UuZ2V0X3Byb3BlcnR5KHZpKXx8e307aWYoKGkuc2VuZF9ldmVudHx8IShcInNlbmRfZXZlbnRcImluIGkpKSYmKCEodCBpbiBuKXx8IW5bdF0uaW5jbHVkZXMocikpKXt2YXIgbyxhLGwsdSxoLGQsdixjLGY7SShuW3RdKT9uW3RdLnB1c2gocik6blt0XT1bcl0sbnVsbD09KG89dGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UpfHxvLnJlZ2lzdGVyKHtbdmldOm59KTt2YXIgcD10aGlzLmdldEZlYXR1cmVGbGFnRGV0YWlscyh0KSxnPXskZmVhdHVyZV9mbGFnOnQsJGZlYXR1cmVfZmxhZ19yZXNwb25zZTplLCRmZWF0dXJlX2ZsYWdfcGF5bG9hZDp0aGlzLmdldEZlYXR1cmVGbGFnUGF5bG9hZCh0KXx8bnVsbCwkZmVhdHVyZV9mbGFnX3JlcXVlc3RfaWQ6cywkZmVhdHVyZV9mbGFnX2Jvb3RzdHJhcHBlZF9yZXNwb25zZToobnVsbD09KGE9dGhpcy5faW5zdGFuY2UuY29uZmlnLmJvb3RzdHJhcCl8fG51bGw9PShhPWEuZmVhdHVyZUZsYWdzKT92b2lkIDA6YVt0XSl8fG51bGwsJGZlYXR1cmVfZmxhZ19ib290c3RyYXBwZWRfcGF5bG9hZDoobnVsbD09KGw9dGhpcy5faW5zdGFuY2UuY29uZmlnLmJvb3RzdHJhcCl8fG51bGw9PShsPWwuZmVhdHVyZUZsYWdQYXlsb2Fkcyk/dm9pZCAwOmxbdF0pfHxudWxsLCR1c2VkX2Jvb3RzdHJhcF92YWx1ZTohdGhpcy5haX07RihudWxsPT1wfHxudWxsPT0odT1wLm1ldGFkYXRhKT92b2lkIDA6dS52ZXJzaW9uKXx8KGcuJGZlYXR1cmVfZmxhZ192ZXJzaW9uPXAubWV0YWRhdGEudmVyc2lvbik7dmFyIF8sbT1udWxsIT09KGg9bnVsbD09cHx8bnVsbD09KGQ9cC5yZWFzb24pP3ZvaWQgMDpkLmRlc2NyaXB0aW9uKSYmdm9pZCAwIT09aD9oOm51bGw9PXB8fG51bGw9PSh2PXAucmVhc29uKT92b2lkIDA6di5jb2RlO2lmKG0mJihnLiRmZWF0dXJlX2ZsYWdfcmVhc29uPW0pLG51bGwhPXAmJm51bGwhPShjPXAubWV0YWRhdGEpJiZjLmlkJiYoZy4kZmVhdHVyZV9mbGFnX2lkPXAubWV0YWRhdGEuaWQpLEYobnVsbD09cD92b2lkIDA6cC5vcmlnaW5hbF92YXJpYW50KSYmRihudWxsPT1wP3ZvaWQgMDpwLm9yaWdpbmFsX2VuYWJsZWQpfHwoZy4kZmVhdHVyZV9mbGFnX29yaWdpbmFsX3Jlc3BvbnNlPUYocC5vcmlnaW5hbF92YXJpYW50KT9wLm9yaWdpbmFsX2VuYWJsZWQ6cC5vcmlnaW5hbF92YXJpYW50KSxudWxsIT1wJiZudWxsIT0oZj1wLm1ldGFkYXRhKSYmZi5vcmlnaW5hbF9wYXlsb2FkKWcuJGZlYXR1cmVfZmxhZ19vcmlnaW5hbF9wYXlsb2FkPW51bGw9PXB8fG51bGw9PShfPXAubWV0YWRhdGEpP3ZvaWQgMDpfLm9yaWdpbmFsX3BheWxvYWQ7dGhpcy5faW5zdGFuY2UuY2FwdHVyZShcIiRmZWF0dXJlX2ZsYWdfY2FsbGVkXCIsZyl9cmV0dXJuIGV9Z24ud2FybignZ2V0RmVhdHVyZUZsYWcgZm9yIGtleSBcIicrdCtcIlxcXCIgZmFpbGVkLiBGZWF0dXJlIGZsYWdzIGRpZG4ndCBsb2FkIGluIHRpbWUuXCIpfWdldEZlYXR1cmVGbGFnRGV0YWlscyh0KXtyZXR1cm4gdGhpcy5nZXRGbGFnc1dpdGhEZXRhaWxzKClbdF19Z2V0RmVhdHVyZUZsYWdQYXlsb2FkKHQpe3JldHVybiB0aGlzLmdldEZsYWdQYXlsb2FkcygpW3RdfWdldFJlbW90ZUNvbmZpZ1BheWxvYWQodCxpKXt2YXIgZT10aGlzLl9pbnN0YW5jZS5jb25maWcudG9rZW4scj17ZGlzdGluY3RfaWQ6dGhpcy5faW5zdGFuY2UuZ2V0X2Rpc3RpbmN0X2lkKCksdG9rZW46ZX07dGhpcy51aSgpJiYoci5ldmFsdWF0aW9uX2Vudmlyb25tZW50cz10aGlzLmxpKCkpLHRoaXMuX2luc3RhbmNlLmNpKHttZXRob2Q6XCJQT1NUXCIsdXJsOnRoaXMuX2luc3RhbmNlLnJlcXVlc3RSb3V0ZXIuZW5kcG9pbnRGb3IoXCJmbGFnc1wiLFwiL2ZsYWdzLz92PTImY29uZmlnPXRydWVcIiksZGF0YTpyLGNvbXByZXNzaW9uOnRoaXMuX2luc3RhbmNlLmNvbmZpZy5kaXNhYmxlX2NvbXByZXNzaW9uP3ZvaWQgMDpyZS5CYXNlNjQsdGltZW91dDp0aGlzLl9pbnN0YW5jZS5jb25maWcuZmVhdHVyZV9mbGFnX3JlcXVlc3RfdGltZW91dF9tcyxjYWxsYmFjazplPT57dmFyIHIscz1udWxsPT0ocj1lLmpzb24pP3ZvaWQgMDpyLmZlYXR1cmVGbGFnUGF5bG9hZHM7aSgobnVsbD09cz92b2lkIDA6c1t0XSl8fHZvaWQgMCl9fSl9aXNGZWF0dXJlRW5hYmxlZCh0LGkpe2lmKHZvaWQgMD09PWkmJihpPXt9KSx0aGlzLmVpfHx0aGlzLmdldEZsYWdzKCkmJnRoaXMuZ2V0RmxhZ3MoKS5sZW5ndGg+MCl7dmFyIGU9dGhpcy5nZXRGZWF0dXJlRmxhZyh0LGkpO3JldHVybiBGKGUpP3ZvaWQgMDohIWV9Z24ud2FybignaXNGZWF0dXJlRW5hYmxlZCBmb3Iga2V5IFwiJyt0K1wiXFxcIiBmYWlsZWQuIEZlYXR1cmUgZmxhZ3MgZGlkbid0IGxvYWQgaW4gdGltZS5cIil9YWRkRmVhdHVyZUZsYWdzSGFuZGxlcih0KXt0aGlzLmZlYXR1cmVGbGFnRXZlbnRIYW5kbGVycy5wdXNoKHQpfXJlbW92ZUZlYXR1cmVGbGFnc0hhbmRsZXIodCl7dGhpcy5mZWF0dXJlRmxhZ0V2ZW50SGFuZGxlcnM9dGhpcy5mZWF0dXJlRmxhZ0V2ZW50SGFuZGxlcnMuZmlsdGVyKChpPT5pIT09dCkpfXJlY2VpdmVkRmVhdHVyZUZsYWdzKHQsaSl7aWYodGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2Upe3RoaXMuZWk9ITA7dmFyIGU9dGhpcy5nZXRGbGFnVmFyaWFudHMoKSxyPXRoaXMuZ2V0RmxhZ1BheWxvYWRzKCkscz10aGlzLmdldEZsYWdzV2l0aERldGFpbHMoKTshZnVuY3Rpb24odCxpLGUscixzKXt2b2lkIDA9PT1lJiYoZT17fSksdm9pZCAwPT09ciYmKHI9e30pLHZvaWQgMD09PXMmJihzPXt9KTt2YXIgbj0kbih0KSxvPW4uZmxhZ3MsYT1uLmZlYXR1cmVGbGFncyxsPW4uZmVhdHVyZUZsYWdQYXlsb2FkcztpZihhKXt2YXIgdT10LnJlcXVlc3RJZDtpZihJKGEpKXtnbi53YXJuKFwidjEgb2YgdGhlIGZlYXR1cmUgZmxhZ3MgZW5kcG9pbnQgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSB0aGUgbGF0ZXN0IHZlcnNpb24uXCIpO3ZhciBoPXt9O2lmKGEpZm9yKHZhciBkPTA7ZDxhLmxlbmd0aDtkKyspaFthW2RdXT0hMDtpJiZpLnJlZ2lzdGVyKHtbX25dOmEsW25pXTpofSl9ZWxzZXt2YXIgdj1hLGM9bCxmPW87dC5lcnJvcnNXaGlsZUNvbXB1dGluZ0ZsYWdzJiYodj1nKHt9LGUsdiksYz1nKHt9LHIsYyksZj1nKHt9LHMsZikpLGkmJmkucmVnaXN0ZXIoZyh7W19uXTpPYmplY3Qua2V5cyh4bih2KSksW25pXTp2fHx7fSxbeW5dOmN8fHt9LFthaV06Znx8e319LHU/e1t3bl06dX06e30pKX19fSh0LHRoaXMuX2luc3RhbmNlLnBlcnNpc3RlbmNlLGUscixzKSx0aGlzLnBpKGkpfX1vdmVycmlkZSh0LGkpe3ZvaWQgMD09PWkmJihpPSExKSxnbi53YXJuKFwib3ZlcnJpZGUgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSBvdmVycmlkZUZlYXR1cmVGbGFncyBpbnN0ZWFkLlwiKSx0aGlzLm92ZXJyaWRlRmVhdHVyZUZsYWdzKHtmbGFnczp0LHN1cHByZXNzV2FybmluZzppfSl9b3ZlcnJpZGVGZWF0dXJlRmxhZ3ModCl7aWYoIXRoaXMuX2luc3RhbmNlLl9fbG9hZGVkfHwhdGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UpcmV0dXJuIGduLnVuaW5pdGlhbGl6ZWRXYXJuaW5nKFwicG9zdGhvZy5mZWF0dXJlRmxhZ3Mub3ZlcnJpZGVGZWF0dXJlRmxhZ3NcIik7aWYoITE9PT10KXJldHVybiB0aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZS51bnJlZ2lzdGVyKG1uKSx0aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZS51bnJlZ2lzdGVyKGJuKSx2b2lkIHRoaXMucGkoKTtpZih0JiZcIm9iamVjdFwiPT10eXBlb2YgdCYmKFwiZmxhZ3NcImluIHR8fFwicGF5bG9hZHNcImluIHQpKXt2YXIgaSxlPXQ7aWYodGhpcy5paT1Cb29sZWFuKG51bGwhPT0oaT1lLnN1cHByZXNzV2FybmluZykmJnZvaWQgMCE9PWkmJmkpLFwiZmxhZ3NcImluIGUpaWYoITE9PT1lLmZsYWdzKXRoaXMuX2luc3RhbmNlLnBlcnNpc3RlbmNlLnVucmVnaXN0ZXIobW4pO2Vsc2UgaWYoZS5mbGFncylpZihJKGUuZmxhZ3MpKXtmb3IodmFyIHI9e30scz0wO3M8ZS5mbGFncy5sZW5ndGg7cysrKXJbZS5mbGFnc1tzXV09ITA7dGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UucmVnaXN0ZXIoe1ttbl06cn0pfWVsc2UgdGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UucmVnaXN0ZXIoe1ttbl06ZS5mbGFnc30pO3JldHVyblwicGF5bG9hZHNcImluIGUmJighMT09PWUucGF5bG9hZHM/dGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UudW5yZWdpc3Rlcihibik6ZS5wYXlsb2FkcyYmdGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UucmVnaXN0ZXIoe1tibl06ZS5wYXlsb2Fkc30pKSx2b2lkIHRoaXMucGkoKX10aGlzLnBpKCl9b25GZWF0dXJlRmxhZ3ModCl7aWYodGhpcy5hZGRGZWF0dXJlRmxhZ3NIYW5kbGVyKHQpLHRoaXMuZWkpe3ZhcntmbGFnczppLGZsYWdWYXJpYW50czplfT10aGlzLmdpKCk7dChpLGUpfXJldHVybigpPT50aGlzLnJlbW92ZUZlYXR1cmVGbGFnc0hhbmRsZXIodCl9dXBkYXRlRWFybHlBY2Nlc3NGZWF0dXJlRW5yb2xsbWVudCh0LGksZSl7dmFyIHIscz0odGhpcy5faW5zdGFuY2UuZ2V0X3Byb3BlcnR5KG9pKXx8W10pLmZpbmQoKGk9PmkuZmxhZ0tleT09PXQpKSxuPXtbXCIkZmVhdHVyZV9lbnJvbGxtZW50L1wiK3RdOml9LG89eyRmZWF0dXJlX2ZsYWc6dCwkZmVhdHVyZV9lbnJvbGxtZW50OmksJHNldDpufTtzJiYoby4kZWFybHlfYWNjZXNzX2ZlYXR1cmVfbmFtZT1zLm5hbWUpLGUmJihvLiRmZWF0dXJlX2Vucm9sbG1lbnRfc3RhZ2U9ZSksdGhpcy5faW5zdGFuY2UuY2FwdHVyZShcIiRmZWF0dXJlX2Vucm9sbG1lbnRfdXBkYXRlXCIsbyksdGhpcy5zZXRQZXJzb25Qcm9wZXJ0aWVzRm9yRmxhZ3MobiwhMSk7dmFyIGE9Zyh7fSx0aGlzLmdldEZsYWdWYXJpYW50cygpLHtbdF06aX0pO251bGw9PShyPXRoaXMuX2luc3RhbmNlLnBlcnNpc3RlbmNlKXx8ci5yZWdpc3Rlcih7W19uXTpPYmplY3Qua2V5cyh4bihhKSksW25pXTphfSksdGhpcy5waSgpfWdldEVhcmx5QWNjZXNzRmVhdHVyZXModCxpLGUpe3ZvaWQgMD09PWkmJihpPSExKTt2YXIgcj10aGlzLl9pbnN0YW5jZS5nZXRfcHJvcGVydHkob2kpLHM9ZT9cIiZcIitlLm1hcCgodD0+XCJzdGFnZT1cIit0KSkuam9pbihcIiZcIik6XCJcIjtpZihyJiYhaSlyZXR1cm4gdChyKTt0aGlzLl9pbnN0YW5jZS5jaSh7dXJsOnRoaXMuX2luc3RhbmNlLnJlcXVlc3RSb3V0ZXIuZW5kcG9pbnRGb3IoXCJhcGlcIixcIi9hcGkvZWFybHlfYWNjZXNzX2ZlYXR1cmVzLz90b2tlbj1cIit0aGlzLl9pbnN0YW5jZS5jb25maWcudG9rZW4rcyksbWV0aG9kOlwiR0VUXCIsY2FsbGJhY2s6aT0+e3ZhciBlLHI7aWYoaS5qc29uKXt2YXIgcz1pLmpzb24uZWFybHlBY2Nlc3NGZWF0dXJlcztyZXR1cm4gbnVsbD09KGU9dGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UpfHxlLnVucmVnaXN0ZXIob2kpLG51bGw9PShyPXRoaXMuX2luc3RhbmNlLnBlcnNpc3RlbmNlKXx8ci5yZWdpc3Rlcih7W29pXTpzfSksdChzKX19fSl9Z2koKXt2YXIgdD10aGlzLmdldEZsYWdzKCksaT10aGlzLmdldEZsYWdWYXJpYW50cygpO3JldHVybntmbGFnczp0LmZpbHRlcigodD0+aVt0XSkpLGZsYWdWYXJpYW50czpPYmplY3Qua2V5cyhpKS5maWx0ZXIoKHQ9PmlbdF0pKS5yZWR1Y2UoKCh0LGUpPT4odFtlXT1pW2VdLHQpKSx7fSl9fXBpKHQpe3ZhcntmbGFnczppLGZsYWdWYXJpYW50czplfT10aGlzLmdpKCk7dGhpcy5mZWF0dXJlRmxhZ0V2ZW50SGFuZGxlcnMuZm9yRWFjaCgocj0+cihpLGUse2Vycm9yc0xvYWRpbmc6dH0pKSl9c2V0UGVyc29uUHJvcGVydGllc0ZvckZsYWdzKHQsaSl7dm9pZCAwPT09aSYmKGk9ITApO3ZhciBlPXRoaXMuX2luc3RhbmNlLmdldF9wcm9wZXJ0eShsaSl8fHt9O3RoaXMuX2luc3RhbmNlLnJlZ2lzdGVyKHtbbGldOmcoe30sZSx0KX0pLGkmJnRoaXMuX2luc3RhbmNlLnJlbG9hZEZlYXR1cmVGbGFncygpfXJlc2V0UGVyc29uUHJvcGVydGllc0ZvckZsYWdzKCl7dGhpcy5faW5zdGFuY2UudW5yZWdpc3RlcihsaSl9c2V0R3JvdXBQcm9wZXJ0aWVzRm9yRmxhZ3ModCxpKXt2b2lkIDA9PT1pJiYoaT0hMCk7dmFyIGU9dGhpcy5faW5zdGFuY2UuZ2V0X3Byb3BlcnR5KHVpKXx8e307MCE9PU9iamVjdC5rZXlzKGUpLmxlbmd0aCYmT2JqZWN0LmtleXMoZSkuZm9yRWFjaCgoaT0+e2VbaV09Zyh7fSxlW2ldLHRbaV0pLGRlbGV0ZSB0W2ldfSkpLHRoaXMuX2luc3RhbmNlLnJlZ2lzdGVyKHtbdWldOmcoe30sZSx0KX0pLGkmJnRoaXMuX2luc3RhbmNlLnJlbG9hZEZlYXR1cmVGbGFncygpfXJlc2V0R3JvdXBQcm9wZXJ0aWVzRm9yRmxhZ3ModCl7aWYodCl7dmFyIGk9dGhpcy5faW5zdGFuY2UuZ2V0X3Byb3BlcnR5KHVpKXx8e307dGhpcy5faW5zdGFuY2UucmVnaXN0ZXIoe1t1aV06Zyh7fSxpLHtbdF06e319KX0pfWVsc2UgdGhpcy5faW5zdGFuY2UudW5yZWdpc3Rlcih1aSl9cmVzZXQoKXt0aGlzLmVpPSExLHRoaXMucmk9ITEsdGhpcy5zaT0hMSx0aGlzLm5pPSExLHRoaXMub2k9ITEsdGhpcy5haT0hMSx0aGlzLiRhbm9uX2Rpc3RpbmN0X2lkPXZvaWQgMCx0aGlzLnZpKCksdGhpcy5paT0hMX19dmFyIGtuPVtcImNvb2tpZVwiLFwibG9jYWxzdG9yYWdlXCIsXCJsb2NhbHN0b3JhZ2UrY29va2llXCIsXCJzZXNzaW9uc3RvcmFnZVwiLFwibWVtb3J5XCJdO2NsYXNzIFBue2NvbnN0cnVjdG9yKHQsaSl7dGhpcy5DPXQsdGhpcy5wcm9wcz17fSx0aGlzLm1pPSExLHRoaXMueWk9KHQ9Pnt2YXIgaT1cIlwiO3JldHVybiB0LnRva2VuJiYoaT10LnRva2VuLnJlcGxhY2UoL1xcKy9nLFwiUExcIikucmVwbGFjZSgvXFwvL2csXCJTTFwiKS5yZXBsYWNlKC89L2csXCJFUVwiKSksdC5wZXJzaXN0ZW5jZV9uYW1lP1wicGhfXCIrdC5wZXJzaXN0ZW5jZV9uYW1lOlwicGhfXCIraStcIl9wb3N0aG9nXCJ9KSh0KSx0aGlzLlk9dGhpcy5iaSh0KSx0aGlzLmxvYWQoKSx0LmRlYnVnJiZQdC5pbmZvKFwiUGVyc2lzdGVuY2UgbG9hZGVkXCIsdC5wZXJzaXN0ZW5jZSxnKHt9LHRoaXMucHJvcHMpKSx0aGlzLnVwZGF0ZV9jb25maWcodCx0LGkpLHRoaXMuc2F2ZSgpfWlzRGlzYWJsZWQoKXtyZXR1cm4hIXRoaXMud2l9YmkodCl7LTE9PT1rbi5pbmRleE9mKHQucGVyc2lzdGVuY2UudG9Mb3dlckNhc2UoKSkmJihQdC5jcml0aWNhbChcIlVua25vd24gcGVyc2lzdGVuY2UgdHlwZSBcIit0LnBlcnNpc3RlbmNlK1wiOyBmYWxsaW5nIGJhY2sgdG8gbG9jYWxTdG9yYWdlK2Nvb2tpZVwiKSx0LnBlcnNpc3RlbmNlPVwibG9jYWxTdG9yYWdlK2Nvb2tpZVwiKTt2YXIgaT10LnBlcnNpc3RlbmNlLnRvTG93ZXJDYXNlKCk7cmV0dXJuXCJsb2NhbHN0b3JhZ2VcIj09PWkmJkllLkgoKT9JZTpcImxvY2Fsc3RvcmFnZStjb29raWVcIj09PWkmJkNlLkgoKT9DZTpcInNlc3Npb25zdG9yYWdlXCI9PT1pJiZBZS5IKCk/QWU6XCJtZW1vcnlcIj09PWk/RmU6XCJjb29raWVcIj09PWk/UGU6Q2UuSCgpP0NlOlBlfXByb3BlcnRpZXMoKXt2YXIgdD17fTtyZXR1cm4gRnQodGhpcy5wcm9wcywoZnVuY3Rpb24oaSxlKXtpZihlPT09bmkmJkMoaSkpZm9yKHZhciByPU9iamVjdC5rZXlzKGkpLG49MDtuPHIubGVuZ3RoO24rKyl0W1wiJGZlYXR1cmUvXCIrcltuXV09aVtyW25dXTtlbHNlIGE9ZSxsPSExLChEKG89eGkpP2w6cyYmby5pbmRleE9mPT09cz8tMSE9by5pbmRleE9mKGEpOihGdChvLChmdW5jdGlvbih0KXtpZihsfHwobD10PT09YSkpcmV0dXJuIEN0fSkpLGwpKXx8KHRbZV09aSk7dmFyIG8sYSxsfSkpLHR9bG9hZCgpe2lmKCF0aGlzLndpKXt2YXIgdD10aGlzLlkuVyh0aGlzLnlpKTt0JiYodGhpcy5wcm9wcz1NdCh7fSx0KSl9fXNhdmUoKXt0aGlzLndpfHx0aGlzLlkuRyh0aGlzLnlpLHRoaXMucHJvcHMsdGhpcy54aSx0aGlzLiRpLHRoaXMuU2ksdGhpcy5DLmRlYnVnKX1yZW1vdmUoKXt0aGlzLlkuVih0aGlzLnlpLCExKSx0aGlzLlkuVih0aGlzLnlpLCEwKX1jbGVhcigpe3RoaXMucmVtb3ZlKCksdGhpcy5wcm9wcz17fX1yZWdpc3Rlcl9vbmNlKHQsaSxlKXtpZihDKHQpKXtGKGkpJiYoaT1cIk5vbmVcIiksdGhpcy54aT1GKGUpP3RoaXMuRWk6ZTt2YXIgcj0hMTtpZihGdCh0LCgodCxlKT0+e3RoaXMucHJvcHMuaGFzT3duUHJvcGVydHkoZSkmJnRoaXMucHJvcHNbZV0hPT1pfHwodGhpcy5wcm9wc1tlXT10LHI9ITApfSkpLHIpcmV0dXJuIHRoaXMuc2F2ZSgpLCEwfXJldHVybiExfXJlZ2lzdGVyKHQsaSl7aWYoQyh0KSl7dGhpcy54aT1GKGkpP3RoaXMuRWk6aTt2YXIgZT0hMTtpZihGdCh0LCgoaSxyKT0+e3QuaGFzT3duUHJvcGVydHkocikmJnRoaXMucHJvcHNbcl0hPT1pJiYodGhpcy5wcm9wc1tyXT1pLGU9ITApfSkpLGUpcmV0dXJuIHRoaXMuc2F2ZSgpLCEwfXJldHVybiExfXVucmVnaXN0ZXIodCl7dCBpbiB0aGlzLnByb3BzJiYoZGVsZXRlIHRoaXMucHJvcHNbdF0sdGhpcy5zYXZlKCkpfXVwZGF0ZV9jYW1wYWlnbl9wYXJhbXMoKXtpZighdGhpcy5taSl7dmFyIHQ9bnModGhpcy5DLmN1c3RvbV9jYW1wYWlnbl9wYXJhbXMsdGhpcy5DLm1hc2tfcGVyc29uYWxfZGF0YV9wcm9wZXJ0aWVzLHRoaXMuQy5jdXN0b21fcGVyc29uYWxfZGF0YV9wcm9wZXJ0aWVzKTtPKE50KHQpKXx8dGhpcy5yZWdpc3Rlcih0KSx0aGlzLm1pPSEwfX11cGRhdGVfc2VhcmNoX2tleXdvcmQoKXt2YXIgdDt0aGlzLnJlZ2lzdGVyKCh0PW51bGw9PW8/dm9pZCAwOm8ucmVmZXJyZXIpP2FzKHQpOnt9KX11cGRhdGVfcmVmZXJyZXJfaW5mbygpe3ZhciB0O3RoaXMucmVnaXN0ZXJfb25jZSh7JHJlZmVycmVyOnVzKCksJHJlZmVycmluZ19kb21haW46bnVsbCE9byYmby5yZWZlcnJlciYmKG51bGw9PSh0PW5lKG8ucmVmZXJyZXIpKT92b2lkIDA6dC5ob3N0KXx8XCIkZGlyZWN0XCJ9LHZvaWQgMCl9c2V0X2luaXRpYWxfcGVyc29uX2luZm8oKXt0aGlzLnByb3BzW2dpXXx8dGhpcy5wcm9wc1tfaV18fHRoaXMucmVnaXN0ZXJfb25jZSh7W21pXTpocyh0aGlzLkMubWFza19wZXJzb25hbF9kYXRhX3Byb3BlcnRpZXMsdGhpcy5DLmN1c3RvbV9wZXJzb25hbF9kYXRhX3Byb3BlcnRpZXMpfSx2b2lkIDApfWdldF9pbml0aWFsX3Byb3BzKCl7dmFyIHQ9e307RnQoW19pLGdpXSwoaT0+e3ZhciBlPXRoaXMucHJvcHNbaV07ZSYmRnQoZSwoZnVuY3Rpb24oaSxlKXt0W1wiJGluaXRpYWxfXCIrUyhlKV09aX0pKX0pKTt2YXIgaSxlLHI9dGhpcy5wcm9wc1ttaV07aWYocil7dmFyIHM9KGk9ZHMociksZT17fSxGdChpLChmdW5jdGlvbih0LGkpe2VbXCIkaW5pdGlhbF9cIitTKGkpXT10fSkpLGUpO010KHQscyl9cmV0dXJuIHR9c2FmZV9tZXJnZSh0KXtyZXR1cm4gRnQodGhpcy5wcm9wcywoZnVuY3Rpb24oaSxlKXtlIGluIHR8fCh0W2VdPWkpfSkpLHR9dXBkYXRlX2NvbmZpZyh0LGksZSl7aWYodGhpcy5FaT10aGlzLnhpPXQuY29va2llX2V4cGlyYXRpb24sdGhpcy5zZXRfZGlzYWJsZWQodC5kaXNhYmxlX3BlcnNpc3RlbmNlfHwhIWUpLHRoaXMuc2V0X2Nyb3NzX3N1YmRvbWFpbih0LmNyb3NzX3N1YmRvbWFpbl9jb29raWUpLHRoaXMuc2V0X3NlY3VyZSh0LnNlY3VyZV9jb29raWUpLHQucGVyc2lzdGVuY2UhPT1pLnBlcnNpc3RlbmNlKXt2YXIgcj10aGlzLmJpKHQpLHM9dGhpcy5wcm9wczt0aGlzLmNsZWFyKCksdGhpcy5ZPXIsdGhpcy5wcm9wcz1zLHRoaXMuc2F2ZSgpfX1zZXRfZGlzYWJsZWQodCl7dGhpcy53aT10LHRoaXMud2k/dGhpcy5yZW1vdmUoKTp0aGlzLnNhdmUoKX1zZXRfY3Jvc3Nfc3ViZG9tYWluKHQpe3QhPT10aGlzLiRpJiYodGhpcy4kaT10LHRoaXMucmVtb3ZlKCksdGhpcy5zYXZlKCkpfXNldF9zZWN1cmUodCl7dCE9PXRoaXMuU2kmJih0aGlzLlNpPXQsdGhpcy5yZW1vdmUoKSx0aGlzLnNhdmUoKSl9c2V0X2V2ZW50X3RpbWVyKHQsaSl7dmFyIGU9dGhpcy5wcm9wc1tWdF18fHt9O2VbdF09aSx0aGlzLnByb3BzW1Z0XT1lLHRoaXMuc2F2ZSgpfXJlbW92ZV9ldmVudF90aW1lcih0KXt2YXIgaT0odGhpcy5wcm9wc1tWdF18fHt9KVt0XTtyZXR1cm4gRihpKXx8KGRlbGV0ZSB0aGlzLnByb3BzW1Z0XVt0XSx0aGlzLnNhdmUoKSksaX1nZXRfcHJvcGVydHkodCl7cmV0dXJuIHRoaXMucHJvcHNbdF19c2V0X3Byb3BlcnR5KHQsaSl7dGhpcy5wcm9wc1t0XT1pLHRoaXMuc2F2ZSgpfX12YXIgVG49ZnVuY3Rpb24odCl7cmV0dXJuIHQuQnV0dG9uPVwiYnV0dG9uXCIsdC5UYWI9XCJ0YWJcIix0LlNlbGVjdG9yPVwic2VsZWN0b3JcIix0fSh7fSksSW49ZnVuY3Rpb24odCl7cmV0dXJuIHQuVG9wTGVmdD1cInRvcF9sZWZ0XCIsdC5Ub3BSaWdodD1cInRvcF9yaWdodFwiLHQuVG9wQ2VudGVyPVwidG9wX2NlbnRlclwiLHQuTWlkZGxlTGVmdD1cIm1pZGRsZV9sZWZ0XCIsdC5NaWRkbGVSaWdodD1cIm1pZGRsZV9yaWdodFwiLHQuTWlkZGxlQ2VudGVyPVwibWlkZGxlX2NlbnRlclwiLHQuTGVmdD1cImxlZnRcIix0LkNlbnRlcj1cImNlbnRlclwiLHQuUmlnaHQ9XCJyaWdodFwiLHQuTmV4dFRvVHJpZ2dlcj1cIm5leHRfdG9fdHJpZ2dlclwiLHR9KHt9KSxSbj1mdW5jdGlvbih0KXtyZXR1cm4gdC5Qb3BvdmVyPVwicG9wb3ZlclwiLHQuQVBJPVwiYXBpXCIsdC5XaWRnZXQ9XCJ3aWRnZXRcIix0LkV4dGVybmFsU3VydmV5PVwiZXh0ZXJuYWxfc3VydmV5XCIsdH0oe30pLENuPWZ1bmN0aW9uKHQpe3JldHVybiB0Lk9wZW49XCJvcGVuXCIsdC5NdWx0aXBsZUNob2ljZT1cIm11bHRpcGxlX2Nob2ljZVwiLHQuU2luZ2xlQ2hvaWNlPVwic2luZ2xlX2Nob2ljZVwiLHQuUmF0aW5nPVwicmF0aW5nXCIsdC5MaW5rPVwibGlua1wiLHR9KHt9KSxPbj1mdW5jdGlvbih0KXtyZXR1cm4gdC5OZXh0UXVlc3Rpb249XCJuZXh0X3F1ZXN0aW9uXCIsdC5FbmQ9XCJlbmRcIix0LlJlc3BvbnNlQmFzZWQ9XCJyZXNwb25zZV9iYXNlZFwiLHQuU3BlY2lmaWNRdWVzdGlvbj1cInNwZWNpZmljX3F1ZXN0aW9uXCIsdH0oe30pLEZuPWZ1bmN0aW9uKHQpe3JldHVybiB0Lk9uY2U9XCJvbmNlXCIsdC5SZWN1cnJpbmc9XCJyZWN1cnJpbmdcIix0LkFsd2F5cz1cImFsd2F5c1wiLHR9KHt9KSxNbj1mdW5jdGlvbih0KXtyZXR1cm4gdC5TSE9XTj1cInN1cnZleSBzaG93blwiLHQuRElTTUlTU0VEPVwic3VydmV5IGRpc21pc3NlZFwiLHQuU0VOVD1cInN1cnZleSBzZW50XCIsdH0oe30pLEFuPWZ1bmN0aW9uKHQpe3JldHVybiB0LlNVUlZFWV9JRD1cIiRzdXJ2ZXlfaWRcIix0LlNVUlZFWV9OQU1FPVwiJHN1cnZleV9uYW1lXCIsdC5TVVJWRVlfUkVTUE9OU0U9XCIkc3VydmV5X3Jlc3BvbnNlXCIsdC5TVVJWRVlfSVRFUkFUSU9OPVwiJHN1cnZleV9pdGVyYXRpb25cIix0LlNVUlZFWV9JVEVSQVRJT05fU1RBUlRfREFURT1cIiRzdXJ2ZXlfaXRlcmF0aW9uX3N0YXJ0X2RhdGVcIix0LlNVUlZFWV9QQVJUSUFMTFlfQ09NUExFVEVEPVwiJHN1cnZleV9wYXJ0aWFsbHlfY29tcGxldGVkXCIsdC5TVVJWRVlfU1VCTUlTU0lPTl9JRD1cIiRzdXJ2ZXlfc3VibWlzc2lvbl9pZFwiLHQuU1VSVkVZX1FVRVNUSU9OUz1cIiRzdXJ2ZXlfcXVlc3Rpb25zXCIsdC5TVVJWRVlfQ09NUExFVEVEPVwiJHN1cnZleV9jb21wbGV0ZWRcIix0fSh7fSksRG49ZnVuY3Rpb24odCl7cmV0dXJuIHQuUG9wb3Zlcj1cInBvcG92ZXJcIix0LklubGluZT1cImlubGluZVwiLHR9KHt9KTtjbGFzcyBqbntjb25zdHJ1Y3Rvcigpe3RoaXMua2k9e30sdGhpcy5raT17fX1vbih0LGkpe3JldHVybiB0aGlzLmtpW3RdfHwodGhpcy5raVt0XT1bXSksdGhpcy5raVt0XS5wdXNoKGkpLCgpPT57dGhpcy5raVt0XT10aGlzLmtpW3RdLmZpbHRlcigodD0+dCE9PWkpKX19ZW1pdCh0LGkpe2Zvcih2YXIgZSBvZiB0aGlzLmtpW3RdfHxbXSllKGkpO2Zvcih2YXIgciBvZiB0aGlzLmtpW1wiKlwiXXx8W10pcih0LGkpfX1jbGFzcyBMbntjb25zdHJ1Y3Rvcih0KXt0aGlzLlBpPW5ldyBqbix0aGlzLlRpPSh0LGkpPT50aGlzLklpKHQsaSkmJnRoaXMuUmkodCxpKSYmdGhpcy5DaSh0LGkpLHRoaXMuSWk9KHQsaSk9Pm51bGw9PWl8fCFpLmV2ZW50fHwobnVsbD09dD92b2lkIDA6dC5ldmVudCk9PT0obnVsbD09aT92b2lkIDA6aS5ldmVudCksdGhpcy5faW5zdGFuY2U9dCx0aGlzLk9pPW5ldyBTZXQsdGhpcy5GaT1uZXcgU2V0fWluaXQoKXt2YXIgdDtpZighRihudWxsPT0odD10aGlzLl9pbnN0YW5jZSk/dm9pZCAwOnQuTWkpKXt2YXIgaTtudWxsPT0oaT10aGlzLl9pbnN0YW5jZSl8fGkuTWkoKCh0LGkpPT57dGhpcy5vbih0LGkpfSkpfX1yZWdpc3Rlcih0KXt2YXIgaSxlO2lmKCFGKG51bGw9PShpPXRoaXMuX2luc3RhbmNlKT92b2lkIDA6aS5NaSkmJih0LmZvckVhY2goKHQ9Pnt2YXIgaSxlO251bGw9PShpPXRoaXMuRmkpfHxpLmFkZCh0KSxudWxsPT0oZT10LnN0ZXBzKXx8ZS5mb3JFYWNoKCh0PT57dmFyIGk7bnVsbD09KGk9dGhpcy5PaSl8fGkuYWRkKChudWxsPT10P3ZvaWQgMDp0LmV2ZW50KXx8XCJcIil9KSl9KSksbnVsbCE9KGU9dGhpcy5faW5zdGFuY2UpJiZlLmF1dG9jYXB0dXJlKSl7dmFyIHIscz1uZXcgU2V0O3QuZm9yRWFjaCgodD0+e3ZhciBpO251bGw9PShpPXQuc3RlcHMpfHxpLmZvckVhY2goKHQ9PntudWxsIT10JiZ0LnNlbGVjdG9yJiZzLmFkZChudWxsPT10P3ZvaWQgMDp0LnNlbGVjdG9yKX0pKX0pKSxudWxsPT0ocj10aGlzLl9pbnN0YW5jZSl8fHIuYXV0b2NhcHR1cmUuc2V0RWxlbWVudFNlbGVjdG9ycyhzKX19b24odCxpKXt2YXIgZTtudWxsIT1pJiYwIT10Lmxlbmd0aCYmKHRoaXMuT2kuaGFzKHQpfHx0aGlzLk9pLmhhcyhudWxsPT1pP3ZvaWQgMDppLmV2ZW50KSkmJnRoaXMuRmkmJihudWxsPT0oZT10aGlzLkZpKT92b2lkIDA6ZS5zaXplKT4wJiZ0aGlzLkZpLmZvckVhY2goKHQ9Pnt0aGlzLkFpKGksdCkmJnRoaXMuUGkuZW1pdChcImFjdGlvbkNhcHR1cmVkXCIsdC5uYW1lKX0pKX1EaSh0KXt0aGlzLm9uQWN0aW9uKFwiYWN0aW9uQ2FwdHVyZWRcIiwoaT0+dChpKSkpfUFpKHQsaSl7aWYobnVsbD09KG51bGw9PWk/dm9pZCAwOmkuc3RlcHMpKXJldHVybiExO2Zvcih2YXIgZSBvZiBpLnN0ZXBzKWlmKHRoaXMuVGkodCxlKSlyZXR1cm4hMDtyZXR1cm4hMX1vbkFjdGlvbih0LGkpe3JldHVybiB0aGlzLlBpLm9uKHQsaSl9UmkodCxpKXtpZihudWxsIT1pJiZpLnVybCl7dmFyIGUscj1udWxsPT10fHxudWxsPT0oZT10LnByb3BlcnRpZXMpP3ZvaWQgMDplLiRjdXJyZW50X3VybDtpZighcnx8XCJzdHJpbmdcIiE9dHlwZW9mIHIpcmV0dXJuITE7aWYoIUxuLmppKHIsbnVsbD09aT92b2lkIDA6aS51cmwsKG51bGw9PWk/dm9pZCAwOmkudXJsX21hdGNoaW5nKXx8XCJjb250YWluc1wiKSlyZXR1cm4hMX1yZXR1cm4hMH1zdGF0aWMgamkoaSxlLHIpe3N3aXRjaChyKXtjYXNlXCJyZWdleFwiOnJldHVybiEhdCYmaG4oaSxlKTtjYXNlXCJleGFjdFwiOnJldHVybiBlPT09aTtjYXNlXCJjb250YWluc1wiOnZhciBzPUxuLkxpKGUpLnJlcGxhY2UoL18vZyxcIi5cIikucmVwbGFjZSgvJS9nLFwiLipcIik7cmV0dXJuIGhuKGkscyk7ZGVmYXVsdDpyZXR1cm4hMX19c3RhdGljIExpKHQpe3JldHVybiB0LnJlcGxhY2UoL1t8XFxcXHt9KClbXFxdXiQrKj8uXS9nLFwiXFxcXCQmXCIpLnJlcGxhY2UoLy0vZyxcIlxcXFx4MmRcIil9Q2kodCxpKXtpZigobnVsbCE9aSYmaS5ocmVmfHxudWxsIT1pJiZpLnRhZ19uYW1lfHxudWxsIT1pJiZpLnRleHQpJiYhdGhpcy5OaSh0KS5zb21lKCh0PT4hKG51bGwhPWkmJmkuaHJlZiYmIUxuLmppKHQuaHJlZnx8XCJcIixudWxsPT1pP3ZvaWQgMDppLmhyZWYsKG51bGw9PWk/dm9pZCAwOmkuaHJlZl9tYXRjaGluZyl8fFwiZXhhY3RcIikpJiYoKG51bGw9PWl8fCFpLnRhZ19uYW1lfHx0LnRhZ19uYW1lPT09KG51bGw9PWk/dm9pZCAwOmkudGFnX25hbWUpKSYmIShudWxsIT1pJiZpLnRleHQmJiFMbi5qaSh0LnRleHR8fFwiXCIsbnVsbD09aT92b2lkIDA6aS50ZXh0LChudWxsPT1pP3ZvaWQgMDppLnRleHRfbWF0Y2hpbmcpfHxcImV4YWN0XCIpJiYhTG4uamkodC4kZWxfdGV4dHx8XCJcIixudWxsPT1pP3ZvaWQgMDppLnRleHQsKG51bGw9PWk/dm9pZCAwOmkudGV4dF9tYXRjaGluZyl8fFwiZXhhY3RcIikpKSkpKXJldHVybiExO2lmKG51bGwhPWkmJmkuc2VsZWN0b3Ipe3ZhciBlLHI9bnVsbD09dHx8bnVsbD09KGU9dC5wcm9wZXJ0aWVzKT92b2lkIDA6ZS4kZWxlbWVudF9zZWxlY3RvcnM7aWYoIXIpcmV0dXJuITE7aWYoIXIuaW5jbHVkZXMobnVsbD09aT92b2lkIDA6aS5zZWxlY3RvcikpcmV0dXJuITF9cmV0dXJuITB9TmkodCl7cmV0dXJuIG51bGw9PShudWxsPT10P3ZvaWQgMDp0LnByb3BlcnRpZXMuJGVsZW1lbnRzKT9bXTpudWxsPT10P3ZvaWQgMDp0LnByb3BlcnRpZXMuJGVsZW1lbnRzfX12YXIgTm49VHQoXCJbU3VydmV5c11cIik7dmFyIFVuPVwic2VlblN1cnZleV9cIix6bj0odCxpKT0+e3ZhciBlPVwiJHN1cnZleV9cIitpK1wiL1wiK3QuaWQ7cmV0dXJuIHQuY3VycmVudF9pdGVyYXRpb24mJnQuY3VycmVudF9pdGVyYXRpb24+MCYmKGU9XCIkc3VydmV5X1wiK2krXCIvXCIrdC5pZCtcIi9cIit0LmN1cnJlbnRfaXRlcmF0aW9uKSxlfSxIbj10PT57dmFyIGk9XCJcIitVbit0LmlkO3JldHVybiB0LmN1cnJlbnRfaXRlcmF0aW9uJiZ0LmN1cnJlbnRfaXRlcmF0aW9uPjAmJihpPVwiXCIrVW4rdC5pZCtcIl9cIit0LmN1cnJlbnRfaXRlcmF0aW9uKSxpfSxCbj1bUm4uUG9wb3ZlcixSbi5XaWRnZXQsUm4uQVBJXSxxbj17aWdub3JlQ29uZGl0aW9uczohMSxpZ25vcmVEZWxheTohMSxkaXNwbGF5VHlwZTpEbi5Qb3BvdmVyfTtjbGFzcyBXbntjb25zdHJ1Y3Rvcih0KXt0aGlzLl9pbnN0YW5jZT10LHRoaXMuVWk9bmV3IE1hcCx0aGlzLnppPW5ldyBNYXB9cmVnaXN0ZXIodCl7dmFyIGk7RihudWxsPT0oaT10aGlzLl9pbnN0YW5jZSk/dm9pZCAwOmkuTWkpfHwodGhpcy5IaSh0KSx0aGlzLkJpKHQpKX1CaSh0KXt2YXIgaT10LmZpbHRlcigodD0+e3ZhciBpLGU7cmV0dXJuKG51bGw9PShpPXQuY29uZGl0aW9ucyk/dm9pZCAwOmkuYWN0aW9ucykmJihudWxsPT0oZT10LmNvbmRpdGlvbnMpfHxudWxsPT0oZT1lLmFjdGlvbnMpfHxudWxsPT0oZT1lLnZhbHVlcyk/dm9pZCAwOmUubGVuZ3RoKT4wfSkpO2lmKDAhPT1pLmxlbmd0aCl7aWYobnVsbD09dGhpcy5xaSl7dGhpcy5xaT1uZXcgTG4odGhpcy5faW5zdGFuY2UpLHRoaXMucWkuaW5pdCgpO3RoaXMucWkuRGkoKHQ9Pnt0aGlzLm9uQWN0aW9uKHQpfSkpfWkuZm9yRWFjaCgodD0+e3ZhciBpLGUscixzLG47dC5jb25kaXRpb25zJiZudWxsIT0oaT10LmNvbmRpdGlvbnMpJiZpLmFjdGlvbnMmJm51bGwhPShlPXQuY29uZGl0aW9ucykmJm51bGwhPShlPWUuYWN0aW9ucykmJmUudmFsdWVzJiYobnVsbD09KHI9dC5jb25kaXRpb25zKXx8bnVsbD09KHI9ci5hY3Rpb25zKXx8bnVsbD09KHI9ci52YWx1ZXMpP3ZvaWQgMDpyLmxlbmd0aCk+MCYmKG51bGw9PShzPXRoaXMucWkpfHxzLnJlZ2lzdGVyKHQuY29uZGl0aW9ucy5hY3Rpb25zLnZhbHVlcyksbnVsbD09KG49dC5jb25kaXRpb25zKXx8bnVsbD09KG49bi5hY3Rpb25zKXx8bnVsbD09KG49bi52YWx1ZXMpfHxuLmZvckVhY2goKGk9PntpZihpJiZpLm5hbWUpe3ZhciBlPXRoaXMuemkuZ2V0KGkubmFtZSk7ZSYmZS5wdXNoKHQuaWQpLHRoaXMuemkuc2V0KGkubmFtZSxlfHxbdC5pZF0pfX0pKSl9KSl9fUhpKHQpe3ZhciBpO2lmKDAhPT10LmZpbHRlcigodD0+e3ZhciBpLGU7cmV0dXJuKG51bGw9PShpPXQuY29uZGl0aW9ucyk/dm9pZCAwOmkuZXZlbnRzKSYmKG51bGw9PShlPXQuY29uZGl0aW9ucyl8fG51bGw9PShlPWUuZXZlbnRzKXx8bnVsbD09KGU9ZS52YWx1ZXMpP3ZvaWQgMDplLmxlbmd0aCk+MH0pKS5sZW5ndGgpe251bGw9PShpPXRoaXMuX2luc3RhbmNlKXx8aS5NaSgoKHQsaSk9Pnt0aGlzLm9uRXZlbnQodCxpKX0pKSx0LmZvckVhY2goKHQ9Pnt2YXIgaTtudWxsPT0oaT10LmNvbmRpdGlvbnMpfHxudWxsPT0oaT1pLmV2ZW50cyl8fG51bGw9PShpPWkudmFsdWVzKXx8aS5mb3JFYWNoKChpPT57aWYoaSYmaS5uYW1lKXt2YXIgZT10aGlzLlVpLmdldChpLm5hbWUpO2UmJmUucHVzaCh0LmlkKSx0aGlzLlVpLnNldChpLm5hbWUsZXx8W3QuaWRdKX19KSl9KSl9fW9uRXZlbnQodCxpKXt2YXIgZSxyLHM9KG51bGw9PShlPXRoaXMuX2luc3RhbmNlKXx8bnVsbD09KGU9ZS5wZXJzaXN0ZW5jZSk/dm9pZCAwOmUucHJvcHNbZGldKXx8W107aWYoTW4uU0hPV049PT10JiZpJiZzLmxlbmd0aD4wKXt2YXIgbjtObi5pbmZvKFwic3VydmV5IGV2ZW50IG1hdGNoZWQsIHJlbW92aW5nIHN1cnZleSBmcm9tIGFjdGl2YXRlZCBzdXJ2ZXlzXCIse2V2ZW50OnQsZXZlbnRQYXlsb2FkOmksZXhpc3RpbmdBY3RpdmF0ZWRTdXJ2ZXlzOnN9KTt2YXIgbz1udWxsPT1pfHxudWxsPT0obj1pLnByb3BlcnRpZXMpP3ZvaWQgMDpuLiRzdXJ2ZXlfaWQ7aWYobyl7dmFyIGE9cy5pbmRleE9mKG8pO2E+PTAmJihzLnNwbGljZShhLDEpLHRoaXMuV2kocykpfX1lbHNlIGlmKHRoaXMuVWkuaGFzKHQpKXtObi5pbmZvKFwic3VydmV5IGV2ZW50IG5hbWUgbWF0Y2hlZFwiLHtldmVudDp0LGV2ZW50UGF5bG9hZDppLHN1cnZleXM6dGhpcy5VaS5nZXQodCl9KTt2YXIgbD1bXTtudWxsPT0ocj10aGlzLl9pbnN0YW5jZSl8fHIuZ2V0U3VydmV5cygoaT0+e2w9aS5maWx0ZXIoKGk9Pnt2YXIgZTtyZXR1cm4gbnVsbD09KGU9dGhpcy5VaS5nZXQodCkpP3ZvaWQgMDplLmluY2x1ZGVzKGkuaWQpfSkpfSkpO3ZhciB1PWwuZmlsdGVyKChlPT57dmFyIHIscz1udWxsPT0ocj1lLmNvbmRpdGlvbnMpfHxudWxsPT0ocj1yLmV2ZW50cyl8fG51bGw9PShyPXIudmFsdWVzKT92b2lkIDA6ci5maW5kKChpPT5pLm5hbWU9PT10KSk7cmV0dXJuISFzJiYoIXMucHJvcGVydHlGaWx0ZXJzfHxPYmplY3QuZW50cmllcyhzLnByb3BlcnR5RmlsdGVycykuZXZlcnkoKHQ9Pnt2YXIgZSxbcixzXT10LG49bnVsbD09aXx8bnVsbD09KGU9aS5wcm9wZXJ0aWVzKT92b2lkIDA6ZVtyXTtpZihGKG4pfHxEKG4pKXJldHVybiExO3ZhciBvPVtTdHJpbmcobildLGE9dm5bcy5vcGVyYXRvcl07cmV0dXJuIGE/YShzLnZhbHVlcyxvKTooTm4ud2FybihcIlVua25vd24gcHJvcGVydHkgY29tcGFyaXNvbiBvcGVyYXRvcjogXCIrcy5vcGVyYXRvciksITEpfSkpKX0pKTt0aGlzLldpKHMuY29uY2F0KHUubWFwKCh0PT50LmlkKSl8fFtdKSl9fW9uQWN0aW9uKHQpe3ZhciBpLGU9KG51bGw9PShpPXRoaXMuX2luc3RhbmNlKXx8bnVsbD09KGk9aS5wZXJzaXN0ZW5jZSk/dm9pZCAwOmkucHJvcHNbZGldKXx8W107dGhpcy56aS5oYXModCkmJnRoaXMuV2koZS5jb25jYXQodGhpcy56aS5nZXQodCl8fFtdKSl9V2kodCl7dmFyIGk7Tm4uaW5mbyhcInVwZGF0aW5nIGFjdGl2YXRlZCBzdXJ2ZXlzXCIse2FjdGl2YXRlZFN1cnZleXM6dH0pLG51bGw9PShpPXRoaXMuX2luc3RhbmNlKXx8bnVsbD09KGk9aS5wZXJzaXN0ZW5jZSl8fGkucmVnaXN0ZXIoe1tkaV06Wy4uLm5ldyBTZXQodCldfSl9Z2V0U3VydmV5cygpe3ZhciB0LGk9bnVsbD09KHQ9dGhpcy5faW5zdGFuY2UpfHxudWxsPT0odD10LnBlcnNpc3RlbmNlKT92b2lkIDA6dC5wcm9wc1tkaV07cmV0dXJuIGl8fFtdfWdldEV2ZW50VG9TdXJ2ZXlzKCl7cmV0dXJuIHRoaXMuVWl9R2koKXtyZXR1cm4gdGhpcy5xaX19Y2xhc3MgR257Y29uc3RydWN0b3IodCl7dGhpcy5WaT12b2lkIDAsdGhpcy5fc3VydmV5TWFuYWdlcj1udWxsLHRoaXMuSmk9ITEsdGhpcy5LaT0hMSx0aGlzLllpPVtdLHRoaXMuX2luc3RhbmNlPXQsdGhpcy5fc3VydmV5RXZlbnRSZWNlaXZlcj1udWxsfW9uUmVtb3RlQ29uZmlnKHQpe2lmKCF0aGlzLl9pbnN0YW5jZS5jb25maWcuZGlzYWJsZV9zdXJ2ZXlzKXt2YXIgaT10LnN1cnZleXM7aWYoaihpKSlyZXR1cm4gTm4ud2FybihcIkZsYWdzIG5vdCBsb2FkZWQgeWV0LiBOb3QgbG9hZGluZyBzdXJ2ZXlzLlwiKTt2YXIgZT1JKGkpO3RoaXMuVmk9ZT9pLmxlbmd0aD4wOmksTm4uaW5mbyhcImZsYWdzIHJlc3BvbnNlIHJlY2VpdmVkLCBpc1N1cnZleXNFbmFibGVkOiBcIit0aGlzLlZpKSx0aGlzLmxvYWRJZkVuYWJsZWQoKX19cmVzZXQoKXtsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcImxhc3RTZWVuU3VydmV5RGF0ZVwiKTtmb3IodmFyIHQ9W10saT0wO2k8bG9jYWxTdG9yYWdlLmxlbmd0aDtpKyspe3ZhciBlPWxvY2FsU3RvcmFnZS5rZXkoaSk7KG51bGwhPWUmJmUuc3RhcnRzV2l0aChVbil8fG51bGwhPWUmJmUuc3RhcnRzV2l0aChcImluUHJvZ3Jlc3NTdXJ2ZXlfXCIpKSYmdC5wdXNoKGUpfXQuZm9yRWFjaCgodD0+bG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0odCkpKX1sb2FkSWZFbmFibGVkKCl7aWYoIXRoaXMuX3N1cnZleU1hbmFnZXIpaWYodGhpcy5LaSlObi5pbmZvKFwiQWxyZWFkeSBpbml0aWFsaXppbmcgc3VydmV5cywgc2tpcHBpbmcuLi5cIik7ZWxzZSBpZih0aGlzLl9pbnN0YW5jZS5jb25maWcuZGlzYWJsZV9zdXJ2ZXlzKU5uLmluZm8oXCJEaXNhYmxlZC4gTm90IGxvYWRpbmcgc3VydmV5cy5cIik7ZWxzZSBpZih0aGlzLl9pbnN0YW5jZS5jb25maWcuY29va2llbGVzc19tb2RlJiZ0aGlzLl9pbnN0YW5jZS5jb25zZW50LmlzT3B0ZWRPdXQoKSlObi5pbmZvKFwiTm90IGxvYWRpbmcgc3VydmV5cyBpbiBjb29raWVsZXNzIG1vZGUgd2l0aG91dCBjb25zZW50LlwiKTtlbHNle3ZhciB0PW51bGw9PXY/dm9pZCAwOnYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fO2lmKHQpe2lmKCFGKHRoaXMuVmkpfHx0aGlzLl9pbnN0YW5jZS5jb25maWcuYWR2YW5jZWRfZW5hYmxlX3N1cnZleXMpe3ZhciBpPXRoaXMuVml8fHRoaXMuX2luc3RhbmNlLmNvbmZpZy5hZHZhbmNlZF9lbmFibGVfc3VydmV5czt0aGlzLktpPSEwO3RyeXt2YXIgZT10LmdlbmVyYXRlU3VydmV5cztpZihlKXJldHVybiB2b2lkIHRoaXMuWGkoZSxpKTt2YXIgcj10LmxvYWRFeHRlcm5hbERlcGVuZGVuY3k7aWYoIXIpcmV0dXJuIHZvaWQgdGhpcy5RaShcIlBvc3RIb2cgbG9hZEV4dGVybmFsRGVwZW5kZW5jeSBleHRlbnNpb24gbm90IGZvdW5kLlwiKTtyKHRoaXMuX2luc3RhbmNlLFwic3VydmV5c1wiLChlPT57ZXx8IXQuZ2VuZXJhdGVTdXJ2ZXlzP3RoaXMuUWkoXCJDb3VsZCBub3QgbG9hZCBzdXJ2ZXlzIHNjcmlwdFwiLGUpOnRoaXMuWGkodC5nZW5lcmF0ZVN1cnZleXMsaSl9KSl9Y2F0Y2godCl7dGhyb3cgdGhpcy5RaShcIkVycm9yIGluaXRpYWxpemluZyBzdXJ2ZXlzXCIsdCksdH1maW5hbGx5e3RoaXMuS2k9ITF9fX1lbHNlIE5uLmVycm9yKFwiUG9zdEhvZyBFeHRlbnNpb25zIG5vdCBmb3VuZC5cIil9fVhpKHQsaSl7dGhpcy5fc3VydmV5TWFuYWdlcj10KHRoaXMuX2luc3RhbmNlLGkpLHRoaXMuX3N1cnZleUV2ZW50UmVjZWl2ZXI9bmV3IFduKHRoaXMuX2luc3RhbmNlKSxObi5pbmZvKFwiU3VydmV5cyBsb2FkZWQgc3VjY2Vzc2Z1bGx5XCIpLHRoaXMuWmkoe2lzTG9hZGVkOiEwfSl9UWkodCxpKXtObi5lcnJvcih0LGkpLHRoaXMuWmkoe2lzTG9hZGVkOiExLGVycm9yOnR9KX1vblN1cnZleXNMb2FkZWQodCl7cmV0dXJuIHRoaXMuWWkucHVzaCh0KSx0aGlzLl9zdXJ2ZXlNYW5hZ2VyJiZ0aGlzLlppKHtpc0xvYWRlZDohMH0pLCgpPT57dGhpcy5ZaT10aGlzLllpLmZpbHRlcigoaT0+aSE9PXQpKX19Z2V0U3VydmV5cyh0LGkpe2lmKHZvaWQgMD09PWkmJihpPSExKSx0aGlzLl9pbnN0YW5jZS5jb25maWcuZGlzYWJsZV9zdXJ2ZXlzKXJldHVybiBObi5pbmZvKFwiRGlzYWJsZWQuIE5vdCBsb2FkaW5nIHN1cnZleXMuXCIpLHQoW10pO3ZhciBlPXRoaXMuX2luc3RhbmNlLmdldF9wcm9wZXJ0eShoaSk7aWYoZSYmIWkpcmV0dXJuIHQoZSx7aXNMb2FkZWQ6ITB9KTtpZih0aGlzLkppKXJldHVybiB0KFtdLHtpc0xvYWRlZDohMSxlcnJvcjpcIlN1cnZleXMgYXJlIGFscmVhZHkgYmVpbmcgbG9hZGVkXCJ9KTt0cnl7dGhpcy5KaT0hMCx0aGlzLl9pbnN0YW5jZS5jaSh7dXJsOnRoaXMuX2luc3RhbmNlLnJlcXVlc3RSb3V0ZXIuZW5kcG9pbnRGb3IoXCJhcGlcIixcIi9hcGkvc3VydmV5cy8/dG9rZW49XCIrdGhpcy5faW5zdGFuY2UuY29uZmlnLnRva2VuKSxtZXRob2Q6XCJHRVRcIix0aW1lb3V0OnRoaXMuX2luc3RhbmNlLmNvbmZpZy5zdXJ2ZXlzX3JlcXVlc3RfdGltZW91dF9tcyxjYWxsYmFjazppPT57dmFyIGU7dGhpcy5KaT0hMTt2YXIgcj1pLnN0YXR1c0NvZGU7aWYoMjAwIT09cnx8IWkuanNvbil7dmFyIHM9XCJTdXJ2ZXlzIEFQSSBjb3VsZCBub3QgYmUgbG9hZGVkLCBzdGF0dXM6IFwiK3I7cmV0dXJuIE5uLmVycm9yKHMpLHQoW10se2lzTG9hZGVkOiExLGVycm9yOnN9KX12YXIgbixvPWkuanNvbi5zdXJ2ZXlzfHxbXSxhPW8uZmlsdGVyKCh0PT5mdW5jdGlvbih0KXtyZXR1cm4hKCF0LnN0YXJ0X2RhdGV8fHQuZW5kX2RhdGUpfSh0KSYmKGZ1bmN0aW9uKHQpe3ZhciBpO3JldHVybiEobnVsbD09KGk9dC5jb25kaXRpb25zKXx8bnVsbD09KGk9aS5ldmVudHMpfHxudWxsPT0oaT1pLnZhbHVlcyl8fCFpLmxlbmd0aCl9KHQpfHxmdW5jdGlvbih0KXt2YXIgaTtyZXR1cm4hKG51bGw9PShpPXQuY29uZGl0aW9ucyl8fG51bGw9PShpPWkuYWN0aW9ucyl8fG51bGw9PShpPWkudmFsdWVzKXx8IWkubGVuZ3RoKX0odCkpKSk7YS5sZW5ndGg+MCYmKG51bGw9PShuPXRoaXMuX3N1cnZleUV2ZW50UmVjZWl2ZXIpfHxuLnJlZ2lzdGVyKGEpKTtyZXR1cm4gbnVsbD09KGU9dGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UpfHxlLnJlZ2lzdGVyKHtbaGldOm99KSx0KG8se2lzTG9hZGVkOiEwfSl9fSl9Y2F0Y2godCl7dGhyb3cgdGhpcy5KaT0hMSx0fX1aaSh0KXtmb3IodmFyIGkgb2YgdGhpcy5ZaSl0cnl7aWYoIXQuaXNMb2FkZWQpcmV0dXJuIGkoW10sdCk7dGhpcy5nZXRTdXJ2ZXlzKGkpfWNhdGNoKHQpe05uLmVycm9yKFwiRXJyb3IgaW4gc3VydmV5IGNhbGxiYWNrXCIsdCl9fWdldEFjdGl2ZU1hdGNoaW5nU3VydmV5cyh0LGkpe2lmKHZvaWQgMD09PWkmJihpPSExKSwhaih0aGlzLl9zdXJ2ZXlNYW5hZ2VyKSlyZXR1cm4gdGhpcy5fc3VydmV5TWFuYWdlci5nZXRBY3RpdmVNYXRjaGluZ1N1cnZleXModCxpKTtObi53YXJuKFwiaW5pdCB3YXMgbm90IGNhbGxlZFwiKX10ZSh0KXt2YXIgaT1udWxsO3JldHVybiB0aGlzLmdldFN1cnZleXMoKGU9Pnt2YXIgcjtpPW51bGwhPT0ocj1lLmZpbmQoKGk9PmkuaWQ9PT10KSkpJiZ2b2lkIDAhPT1yP3I6bnVsbH0pKSxpfWllKHQpe2lmKGoodGhpcy5fc3VydmV5TWFuYWdlcikpcmV0dXJue2VsaWdpYmxlOiExLHJlYXNvbjpcIlNESyBpcyBub3QgZW5hYmxlZCBvciBzdXJ2ZXkgZnVuY3Rpb25hbGl0eSBpcyBub3QgeWV0IGxvYWRlZFwifTt2YXIgaT1cInN0cmluZ1wiPT10eXBlb2YgdD90aGlzLnRlKHQpOnQ7cmV0dXJuIGk/dGhpcy5fc3VydmV5TWFuYWdlci5jaGVja1N1cnZleUVsaWdpYmlsaXR5KGkpOntlbGlnaWJsZTohMSxyZWFzb246XCJTdXJ2ZXkgbm90IGZvdW5kXCJ9fWNhblJlbmRlclN1cnZleSh0KXtpZihqKHRoaXMuX3N1cnZleU1hbmFnZXIpKXJldHVybiBObi53YXJuKFwiaW5pdCB3YXMgbm90IGNhbGxlZFwiKSx7dmlzaWJsZTohMSxkaXNhYmxlZFJlYXNvbjpcIlNESyBpcyBub3QgZW5hYmxlZCBvciBzdXJ2ZXkgZnVuY3Rpb25hbGl0eSBpcyBub3QgeWV0IGxvYWRlZFwifTt2YXIgaT10aGlzLmllKHQpO3JldHVybnt2aXNpYmxlOmkuZWxpZ2libGUsZGlzYWJsZWRSZWFzb246aS5yZWFzb259fWNhblJlbmRlclN1cnZleUFzeW5jKHQsaSl7cmV0dXJuIGoodGhpcy5fc3VydmV5TWFuYWdlcik/KE5uLndhcm4oXCJpbml0IHdhcyBub3QgY2FsbGVkXCIpLFByb21pc2UucmVzb2x2ZSh7dmlzaWJsZTohMSxkaXNhYmxlZFJlYXNvbjpcIlNESyBpcyBub3QgZW5hYmxlZCBvciBzdXJ2ZXkgZnVuY3Rpb25hbGl0eSBpcyBub3QgeWV0IGxvYWRlZFwifSkpOm5ldyBQcm9taXNlKChlPT57dGhpcy5nZXRTdXJ2ZXlzKChpPT57dmFyIHIscz1udWxsIT09KHI9aS5maW5kKChpPT5pLmlkPT09dCkpKSYmdm9pZCAwIT09cj9yOm51bGw7aWYocyl7dmFyIG49dGhpcy5pZShzKTtlKHt2aXNpYmxlOm4uZWxpZ2libGUsZGlzYWJsZWRSZWFzb246bi5yZWFzb259KX1lbHNlIGUoe3Zpc2libGU6ITEsZGlzYWJsZWRSZWFzb246XCJTdXJ2ZXkgbm90IGZvdW5kXCJ9KX0pLGkpfSkpfXJlbmRlclN1cnZleSh0LGkpe3ZhciBlO2lmKGoodGhpcy5fc3VydmV5TWFuYWdlcikpTm4ud2FybihcImluaXQgd2FzIG5vdCBjYWxsZWRcIik7ZWxzZXt2YXIgcj1cInN0cmluZ1wiPT10eXBlb2YgdD90aGlzLnRlKHQpOnQ7aWYobnVsbCE9ciYmci5pZClpZihCbi5pbmNsdWRlcyhyLnR5cGUpKXt2YXIgcz1udWxsPT1vP3ZvaWQgMDpvLnF1ZXJ5U2VsZWN0b3IoaSk7aWYocylyZXR1cm4gbnVsbCE9KGU9ci5hcHBlYXJhbmNlKSYmZS5zdXJ2ZXlQb3B1cERlbGF5U2Vjb25kcz8oTm4uaW5mbyhcIlJlbmRlcmluZyBzdXJ2ZXkgXCIrci5pZCtcIiB3aXRoIGRlbGF5IG9mIFwiK3IuYXBwZWFyYW5jZS5zdXJ2ZXlQb3B1cERlbGF5U2Vjb25kcytcIiBzZWNvbmRzXCIpLHZvaWQgc2V0VGltZW91dCgoKCk9Pnt2YXIgdCxpO05uLmluZm8oXCJSZW5kZXJpbmcgc3VydmV5IFwiK3IuaWQrXCIgd2l0aCBkZWxheSBvZiBcIisobnVsbD09KHQ9ci5hcHBlYXJhbmNlKT92b2lkIDA6dC5zdXJ2ZXlQb3B1cERlbGF5U2Vjb25kcykrXCIgc2Vjb25kc1wiKSxudWxsPT0oaT10aGlzLl9zdXJ2ZXlNYW5hZ2VyKXx8aS5yZW5kZXJTdXJ2ZXkocixzKSxObi5pbmZvKFwiU3VydmV5IFwiK3IuaWQrXCIgcmVuZGVyZWRcIil9KSwxZTMqci5hcHBlYXJhbmNlLnN1cnZleVBvcHVwRGVsYXlTZWNvbmRzKSk6dm9pZCB0aGlzLl9zdXJ2ZXlNYW5hZ2VyLnJlbmRlclN1cnZleShyLHMpO05uLndhcm4oXCJTdXJ2ZXkgZWxlbWVudCBub3QgZm91bmRcIil9ZWxzZSBObi53YXJuKFwiU3VydmV5cyBvZiB0eXBlIFwiK3IudHlwZStcIiBjYW5ub3QgYmUgcmVuZGVyZWQgaW4gdGhlIGFwcFwiKTtlbHNlIE5uLndhcm4oXCJTdXJ2ZXkgbm90IGZvdW5kXCIpfX1kaXNwbGF5U3VydmV5KHQsaSl7dmFyIGU7aWYoaih0aGlzLl9zdXJ2ZXlNYW5hZ2VyKSlObi53YXJuKFwiaW5pdCB3YXMgbm90IGNhbGxlZFwiKTtlbHNle3ZhciByPXRoaXMudGUodCk7aWYocil7dmFyIHM9cjtpZihudWxsIT0oZT1yLmFwcGVhcmFuY2UpJiZlLnN1cnZleVBvcHVwRGVsYXlTZWNvbmRzJiZpLmlnbm9yZURlbGF5JiYocz1nKHt9LHIse2FwcGVhcmFuY2U6Zyh7fSxyLmFwcGVhcmFuY2Use3N1cnZleVBvcHVwRGVsYXlTZWNvbmRzOjB9KX0pKSwhMT09PWkuaWdub3JlQ29uZGl0aW9ucyl7dmFyIG49dGhpcy5jYW5SZW5kZXJTdXJ2ZXkocik7aWYoIW4udmlzaWJsZSlyZXR1cm4gdm9pZCBObi53YXJuKFwiU3VydmV5IGlzIG5vdCBlbGlnaWJsZSB0byBiZSBkaXNwbGF5ZWQ6IFwiLG4uZGlzYWJsZWRSZWFzb24pfWkuZGlzcGxheVR5cGUhPT1Ebi5JbmxpbmU/dGhpcy5fc3VydmV5TWFuYWdlci5oYW5kbGVQb3BvdmVyU3VydmV5KHMpOnRoaXMucmVuZGVyU3VydmV5KHMsaS5zZWxlY3Rvcil9ZWxzZSBObi53YXJuKFwiU3VydmV5IG5vdCBmb3VuZFwiKX19fXZhciBWbj1UdChcIltSYXRlTGltaXRlcl1cIik7Y2xhc3MgSm57Y29uc3RydWN0b3IodCl7dmFyIGksZTt0aGlzLnNlcnZlckxpbWl0cz17fSx0aGlzLmxhc3RFdmVudFJhdGVMaW1pdGVkPSExLHRoaXMuY2hlY2tGb3JMaW1pdGluZz10PT57dmFyIGk9dC50ZXh0O2lmKGkmJmkubGVuZ3RoKXRyeXsoSlNPTi5wYXJzZShpKS5xdW90YV9saW1pdGVkfHxbXSkuZm9yRWFjaCgodD0+e1ZuLmluZm8oKHR8fFwiZXZlbnRzXCIpK1wiIGlzIHF1b3RhIGxpbWl0ZWQuXCIpLHRoaXMuc2VydmVyTGltaXRzW3RdPShuZXcgRGF0ZSkuZ2V0VGltZSgpKzZlNH0pKX1jYXRjaCh0KXtyZXR1cm4gdm9pZCBWbi53YXJuKCdjb3VsZCBub3QgcmF0ZSBsaW1pdCAtIGNvbnRpbnVpbmcuIEVycm9yOiBcIicrKG51bGw9PXQ/dm9pZCAwOnQubWVzc2FnZSkrJ1wiJyx7dGV4dDppfSl9fSx0aGlzLmluc3RhbmNlPXQsdGhpcy5jYXB0dXJlRXZlbnRzUGVyU2Vjb25kPShudWxsPT0oaT10LmNvbmZpZy5yYXRlX2xpbWl0aW5nKT92b2lkIDA6aS5ldmVudHNfcGVyX3NlY29uZCl8fDEwLHRoaXMuY2FwdHVyZUV2ZW50c0J1cnN0TGltaXQ9TWF0aC5tYXgoKG51bGw9PShlPXQuY29uZmlnLnJhdGVfbGltaXRpbmcpP3ZvaWQgMDplLmV2ZW50c19idXJzdF9saW1pdCl8fDEwKnRoaXMuY2FwdHVyZUV2ZW50c1BlclNlY29uZCx0aGlzLmNhcHR1cmVFdmVudHNQZXJTZWNvbmQpLHRoaXMubGFzdEV2ZW50UmF0ZUxpbWl0ZWQ9dGhpcy5jbGllbnRSYXRlTGltaXRDb250ZXh0KCEwKS5pc1JhdGVMaW1pdGVkfWNsaWVudFJhdGVMaW1pdENvbnRleHQodCl7dmFyIGksZSxyO3ZvaWQgMD09PXQmJih0PSExKTt2YXIgcz0obmV3IERhdGUpLmdldFRpbWUoKSxuPW51bGwhPT0oaT1udWxsPT0oZT10aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlKT92b2lkIDA6ZS5nZXRfcHJvcGVydHkocGkpKSYmdm9pZCAwIT09aT9pOnt0b2tlbnM6dGhpcy5jYXB0dXJlRXZlbnRzQnVyc3RMaW1pdCxsYXN0OnN9O24udG9rZW5zKz0ocy1uLmxhc3QpLzFlMyp0aGlzLmNhcHR1cmVFdmVudHNQZXJTZWNvbmQsbi5sYXN0PXMsbi50b2tlbnM+dGhpcy5jYXB0dXJlRXZlbnRzQnVyc3RMaW1pdCYmKG4udG9rZW5zPXRoaXMuY2FwdHVyZUV2ZW50c0J1cnN0TGltaXQpO3ZhciBvPW4udG9rZW5zPDE7cmV0dXJuIG98fHR8fChuLnRva2Vucz1NYXRoLm1heCgwLG4udG9rZW5zLTEpKSwhb3x8dGhpcy5sYXN0RXZlbnRSYXRlTGltaXRlZHx8dHx8dGhpcy5pbnN0YW5jZS5jYXB0dXJlKFwiJCRjbGllbnRfaW5nZXN0aW9uX3dhcm5pbmdcIix7JCRjbGllbnRfaW5nZXN0aW9uX3dhcm5pbmdfbWVzc2FnZTpcInBvc3Rob2ctanMgY2xpZW50IHJhdGUgbGltaXRlZC4gQ29uZmlnIGlzIHNldCB0byBcIit0aGlzLmNhcHR1cmVFdmVudHNQZXJTZWNvbmQrXCIgZXZlbnRzIHBlciBzZWNvbmQgYW5kIFwiK3RoaXMuY2FwdHVyZUV2ZW50c0J1cnN0TGltaXQrXCIgZXZlbnRzIGJ1cnN0IGxpbWl0LlwifSx7c2tpcF9jbGllbnRfcmF0ZV9saW1pdGluZzohMH0pLHRoaXMubGFzdEV2ZW50UmF0ZUxpbWl0ZWQ9byxudWxsPT0ocj10aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlKXx8ci5zZXRfcHJvcGVydHkocGksbikse2lzUmF0ZUxpbWl0ZWQ6byxyZW1haW5pbmdUb2tlbnM6bi50b2tlbnN9fWlzU2VydmVyUmF0ZUxpbWl0ZWQodCl7dmFyIGk9dGhpcy5zZXJ2ZXJMaW1pdHNbdHx8XCJldmVudHNcIl18fCExO3JldHVybiExIT09aSYmKG5ldyBEYXRlKS5nZXRUaW1lKCk8aX19dmFyIEtuPVR0KFwiW1JlbW90ZUNvbmZpZ11cIik7Y2xhc3MgWW57Y29uc3RydWN0b3IodCl7dGhpcy5faW5zdGFuY2U9dH1nZXQgcmVtb3RlQ29uZmlnKCl7dmFyIHQ7cmV0dXJuIG51bGw9PSh0PXYuX1BPU1RIT0dfUkVNT1RFX0NPTkZJRyl8fG51bGw9PSh0PXRbdGhpcy5faW5zdGFuY2UuY29uZmlnLnRva2VuXSk/dm9pZCAwOnQuY29uZmlnfWVlKHQpe3ZhciBpLGU7bnVsbCE9KGk9di5fX1Bvc3Rob2dFeHRlbnNpb25zX18pJiZpLmxvYWRFeHRlcm5hbERlcGVuZGVuY3k/bnVsbD09KGU9di5fX1Bvc3Rob2dFeHRlbnNpb25zX18pfHxudWxsPT1lLmxvYWRFeHRlcm5hbERlcGVuZGVuY3l8fGUubG9hZEV4dGVybmFsRGVwZW5kZW5jeSh0aGlzLl9pbnN0YW5jZSxcInJlbW90ZS1jb25maWdcIiwoKCk9PnQodGhpcy5yZW1vdGVDb25maWcpKSk6KEtuLmVycm9yKFwiUG9zdEhvZyBFeHRlbnNpb25zIG5vdCBmb3VuZC4gQ2Fubm90IGxvYWQgcmVtb3RlIGNvbmZpZy5cIiksdCgpKX1yZSh0KXt0aGlzLl9pbnN0YW5jZS5jaSh7bWV0aG9kOlwiR0VUXCIsdXJsOnRoaXMuX2luc3RhbmNlLnJlcXVlc3RSb3V0ZXIuZW5kcG9pbnRGb3IoXCJhc3NldHNcIixcIi9hcnJheS9cIit0aGlzLl9pbnN0YW5jZS5jb25maWcudG9rZW4rXCIvY29uZmlnXCIpLGNhbGxiYWNrOmk9Pnt0KGkuanNvbil9fSl9bG9hZCgpe3RyeXtpZih0aGlzLnJlbW90ZUNvbmZpZylyZXR1cm4gS24uaW5mbyhcIlVzaW5nIHByZWxvYWRlZCByZW1vdGUgY29uZmlnXCIsdGhpcy5yZW1vdGVDb25maWcpLHZvaWQgdGhpcy5maSh0aGlzLnJlbW90ZUNvbmZpZyk7aWYodGhpcy5faW5zdGFuY2UuTSgpKXJldHVybiB2b2lkIEtuLndhcm4oXCJSZW1vdGUgY29uZmlnIGlzIGRpc2FibGVkLiBGYWxsaW5nIGJhY2sgdG8gbG9jYWwgY29uZmlnLlwiKTt0aGlzLmVlKCh0PT57aWYoIXQpcmV0dXJuIEtuLmluZm8oXCJObyBjb25maWcgZm91bmQgYWZ0ZXIgbG9hZGluZyByZW1vdGUgSlMgY29uZmlnLiBGYWxsaW5nIGJhY2sgdG8gSlNPTi5cIiksdm9pZCB0aGlzLnJlKCh0PT57dGhpcy5maSh0KX0pKTt0aGlzLmZpKHQpfSkpfWNhdGNoKHQpe0tuLmVycm9yKFwiRXJyb3IgbG9hZGluZyByZW1vdGUgY29uZmlnXCIsdCl9fWZpKHQpe3Q/dGhpcy5faW5zdGFuY2UuY29uZmlnLl9fcHJldmlld19yZW1vdGVfY29uZmlnPyh0aGlzLl9pbnN0YW5jZS5maSh0KSwhMSE9PXQuaGFzRmVhdHVyZUZsYWdzJiZ0aGlzLl9pbnN0YW5jZS5mZWF0dXJlRmxhZ3MuZW5zdXJlRmxhZ3NMb2FkZWQoKSk6S24uaW5mbyhcIl9fcHJldmlld19yZW1vdGVfY29uZmlnIGlzIGRpc2FibGVkLiBMb2dnaW5nIGNvbmZpZyBpbnN0ZWFkXCIsdCk6S24uZXJyb3IoXCJGYWlsZWQgdG8gZmV0Y2ggcmVtb3RlIGNvbmZpZyBmcm9tIFBvc3RIb2cuXCIpfX12YXIgWG49M2UzO2NsYXNzIFFue2NvbnN0cnVjdG9yKHQsaSl7dGhpcy5zZT0hMCx0aGlzLm5lPVtdLHRoaXMub2U9SigobnVsbD09aT92b2lkIDA6aS5mbHVzaF9pbnRlcnZhbF9tcyl8fFhuLDI1MCw1ZTMsUHQuY3JlYXRlTG9nZ2VyKFwiZmx1c2ggaW50ZXJ2YWxcIiksWG4pLHRoaXMuYWU9dH1lbnF1ZXVlKHQpe3RoaXMubmUucHVzaCh0KSx0aGlzLmxlfHx0aGlzLnVlKCl9dW5sb2FkKCl7dGhpcy5oZSgpO3ZhciB0PXRoaXMubmUubGVuZ3RoPjA/dGhpcy5kZSgpOnt9LGk9T2JqZWN0LnZhbHVlcyh0KTtbLi4uaS5maWx0ZXIoKHQ9PjA9PT10LnVybC5pbmRleE9mKFwiL2VcIikpKSwuLi5pLmZpbHRlcigodD0+MCE9PXQudXJsLmluZGV4T2YoXCIvZVwiKSkpXS5tYXAoKHQ9Pnt0aGlzLmFlKGcoe30sdCx7dHJhbnNwb3J0Olwic2VuZEJlYWNvblwifSkpfSkpfWVuYWJsZSgpe3RoaXMuc2U9ITEsdGhpcy51ZSgpfXVlKCl7dmFyIHQ9dGhpczt0aGlzLnNlfHwodGhpcy5sZT1zZXRUaW1lb3V0KCgoKT0+e2lmKHRoaXMuaGUoKSx0aGlzLm5lLmxlbmd0aD4wKXt2YXIgaT10aGlzLmRlKCksZT1mdW5jdGlvbigpe3ZhciBlPWlbcl0scz0obmV3IERhdGUpLmdldFRpbWUoKTtlLmRhdGEmJkkoZS5kYXRhKSYmRnQoZS5kYXRhLCh0PT57dC5vZmZzZXQ9TWF0aC5hYnModC50aW1lc3RhbXAtcyksZGVsZXRlIHQudGltZXN0YW1wfSkpLHQuYWUoZSl9O2Zvcih2YXIgciBpbiBpKWUoKX19KSx0aGlzLm9lKSl9aGUoKXtjbGVhclRpbWVvdXQodGhpcy5sZSksdGhpcy5sZT12b2lkIDB9ZGUoKXt2YXIgdD17fTtyZXR1cm4gRnQodGhpcy5uZSwoaT0+e3ZhciBlLHI9aSxzPShyP3IuYmF0Y2hLZXk6bnVsbCl8fHIudXJsO0YodFtzXSkmJih0W3NdPWcoe30scix7ZGF0YTpbXX0pKSxudWxsPT0oZT10W3NdLmRhdGEpfHxlLnB1c2goci5kYXRhKX0pKSx0aGlzLm5lPVtdLHR9fXZhciBabj1bXCJyZXRyaWVzUGVyZm9ybWVkU29GYXJcIl07Y2xhc3MgdG97Y29uc3RydWN0b3IoaSl7dGhpcy52ZT0hMSx0aGlzLmNlPTNlMyx0aGlzLm5lPVtdLHRoaXMuX2luc3RhbmNlPWksdGhpcy5uZT1bXSx0aGlzLmZlPSEwLCFGKHQpJiZcIm9uTGluZVwiaW4gdC5uYXZpZ2F0b3ImJih0aGlzLmZlPXQubmF2aWdhdG9yLm9uTGluZSx0aGlzLnBlPSgpPT57dGhpcy5mZT0hMCx0aGlzLkR0KCl9LHRoaXMuZ2U9KCk9Pnt0aGlzLmZlPSExfSxxdCh0LFwib25saW5lXCIsdGhpcy5wZSkscXQodCxcIm9mZmxpbmVcIix0aGlzLmdlKSl9Z2V0IGxlbmd0aCgpe3JldHVybiB0aGlzLm5lLmxlbmd0aH1yZXRyaWFibGVSZXF1ZXN0KHQpe3ZhcntyZXRyaWVzUGVyZm9ybWVkU29GYXI6aX09dCxlPV8odCxabik7TChpKSYmaT4wJiYoZS51cmw9b24oZS51cmwse3JldHJ5X2NvdW50Oml9KSksdGhpcy5faW5zdGFuY2UuY2koZyh7fSxlLHtjYWxsYmFjazp0PT57MjAwIT09dC5zdGF0dXNDb2RlJiYodC5zdGF0dXNDb2RlPDQwMHx8dC5zdGF0dXNDb2RlPj01MDApJiYobnVsbCE9aT9pOjApPDEwP3RoaXMuX2UoZyh7cmV0cmllc1BlcmZvcm1lZFNvRmFyOml9LGUpKTpudWxsPT1lLmNhbGxiYWNrfHxlLmNhbGxiYWNrKHQpfX0pKX1fZSh0KXt2YXIgaT10LnJldHJpZXNQZXJmb3JtZWRTb0Zhcnx8MDt0LnJldHJpZXNQZXJmb3JtZWRTb0Zhcj1pKzE7dmFyIGU9ZnVuY3Rpb24odCl7dmFyIGk9M2UzKk1hdGgucG93KDIsdCksZT1pLzIscj1NYXRoLm1pbigxOGU1LGkpLHM9KE1hdGgucmFuZG9tKCktLjUpKihyLWUpO3JldHVybiBNYXRoLmNlaWwocitzKX0oaSkscj1EYXRlLm5vdygpK2U7dGhpcy5uZS5wdXNoKHtyZXRyeUF0OnIscmVxdWVzdE9wdGlvbnM6dH0pO3ZhciBzPVwiRW5xdWV1ZWQgZmFpbGVkIHJlcXVlc3QgZm9yIHJldHJ5IGluIFwiK2U7bmF2aWdhdG9yLm9uTGluZXx8KHMrPVwiIChCcm93c2VyIGlzIG9mZmxpbmUpXCIpLFB0Lndhcm4ocyksdGhpcy52ZXx8KHRoaXMudmU9ITAsdGhpcy5tZSgpKX1tZSgpe2lmKHRoaXMueWUmJmNsZWFyVGltZW91dCh0aGlzLnllKSwwPT09dGhpcy5uZS5sZW5ndGgpcmV0dXJuIHRoaXMudmU9ITEsdm9pZCh0aGlzLnllPXZvaWQgMCk7dGhpcy55ZT1zZXRUaW1lb3V0KCgoKT0+e3RoaXMuZmUmJnRoaXMubmUubGVuZ3RoPjAmJnRoaXMuRHQoKSx0aGlzLm1lKCl9KSx0aGlzLmNlKX1EdCgpe3ZhciB0PURhdGUubm93KCksaT1bXSxlPXRoaXMubmUuZmlsdGVyKChlPT5lLnJldHJ5QXQ8dHx8KGkucHVzaChlKSwhMSkpKTtpZih0aGlzLm5lPWksZS5sZW5ndGg+MClmb3IodmFye3JlcXVlc3RPcHRpb25zOnJ9b2YgZSl0aGlzLnJldHJpYWJsZVJlcXVlc3Qocil9dW5sb2FkKCl7Zm9yKHZhcntyZXF1ZXN0T3B0aW9uczppfW9mKHRoaXMueWUmJihjbGVhclRpbWVvdXQodGhpcy55ZSksdGhpcy55ZT12b2lkIDApLHRoaXMudmU9ITEsRih0KXx8KHRoaXMucGUmJih0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJvbmxpbmVcIix0aGlzLnBlKSx0aGlzLnBlPXZvaWQgMCksdGhpcy5nZSYmKHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm9mZmxpbmVcIix0aGlzLmdlKSx0aGlzLmdlPXZvaWQgMCkpLHRoaXMubmUpKXRyeXt0aGlzLl9pbnN0YW5jZS5jaShnKHt9LGkse3RyYW5zcG9ydDpcInNlbmRCZWFjb25cIn0pKX1jYXRjaCh0KXtQdC5lcnJvcih0KX10aGlzLm5lPVtdfX1jbGFzcyBpb3tjb25zdHJ1Y3Rvcih0KXt0aGlzLmJlPSgpPT57dmFyIHQsaSxlLHI7dGhpcy53ZXx8KHRoaXMud2U9e30pO3ZhciBzPXRoaXMuc2Nyb2xsRWxlbWVudCgpLG49dGhpcy5zY3JvbGxZKCksbz1zP01hdGgubWF4KDAscy5zY3JvbGxIZWlnaHQtcy5jbGllbnRIZWlnaHQpOjAsYT1uKygobnVsbD09cz92b2lkIDA6cy5jbGllbnRIZWlnaHQpfHwwKSxsPShudWxsPT1zP3ZvaWQgMDpzLnNjcm9sbEhlaWdodCl8fDA7dGhpcy53ZS5sYXN0U2Nyb2xsWT1NYXRoLmNlaWwobiksdGhpcy53ZS5tYXhTY3JvbGxZPU1hdGgubWF4KG4sbnVsbCE9PSh0PXRoaXMud2UubWF4U2Nyb2xsWSkmJnZvaWQgMCE9PXQ/dDowKSx0aGlzLndlLm1heFNjcm9sbEhlaWdodD1NYXRoLm1heChvLG51bGwhPT0oaT10aGlzLndlLm1heFNjcm9sbEhlaWdodCkmJnZvaWQgMCE9PWk/aTowKSx0aGlzLndlLmxhc3RDb250ZW50WT1hLHRoaXMud2UubWF4Q29udGVudFk9TWF0aC5tYXgoYSxudWxsIT09KGU9dGhpcy53ZS5tYXhDb250ZW50WSkmJnZvaWQgMCE9PWU/ZTowKSx0aGlzLndlLm1heENvbnRlbnRIZWlnaHQ9TWF0aC5tYXgobCxudWxsIT09KHI9dGhpcy53ZS5tYXhDb250ZW50SGVpZ2h0KSYmdm9pZCAwIT09cj9yOjApfSx0aGlzLl9pbnN0YW5jZT10fWdldENvbnRleHQoKXtyZXR1cm4gdGhpcy53ZX1yZXNldENvbnRleHQoKXt2YXIgdD10aGlzLndlO3JldHVybiBzZXRUaW1lb3V0KHRoaXMuYmUsMCksdH1zdGFydE1lYXN1cmluZ1Njcm9sbFBvc2l0aW9uKCl7cXQodCxcInNjcm9sbFwiLHRoaXMuYmUse2NhcHR1cmU6ITB9KSxxdCh0LFwic2Nyb2xsZW5kXCIsdGhpcy5iZSx7Y2FwdHVyZTohMH0pLHF0KHQsXCJyZXNpemVcIix0aGlzLmJlKX1zY3JvbGxFbGVtZW50KCl7aWYoIXRoaXMuX2luc3RhbmNlLmNvbmZpZy5zY3JvbGxfcm9vdF9zZWxlY3RvcilyZXR1cm4gbnVsbD09dD92b2lkIDA6dC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7dmFyIGk9SSh0aGlzLl9pbnN0YW5jZS5jb25maWcuc2Nyb2xsX3Jvb3Rfc2VsZWN0b3IpP3RoaXMuX2luc3RhbmNlLmNvbmZpZy5zY3JvbGxfcm9vdF9zZWxlY3RvcjpbdGhpcy5faW5zdGFuY2UuY29uZmlnLnNjcm9sbF9yb290X3NlbGVjdG9yXTtmb3IodmFyIGUgb2YgaSl7dmFyIHI9bnVsbD09dD92b2lkIDA6dC5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGUpO2lmKHIpcmV0dXJuIHJ9fXNjcm9sbFkoKXtpZih0aGlzLl9pbnN0YW5jZS5jb25maWcuc2Nyb2xsX3Jvb3Rfc2VsZWN0b3Ipe3ZhciBpPXRoaXMuc2Nyb2xsRWxlbWVudCgpO3JldHVybiBpJiZpLnNjcm9sbFRvcHx8MH1yZXR1cm4gdCYmKHQuc2Nyb2xsWXx8dC5wYWdlWU9mZnNldHx8dC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wKXx8MH1zY3JvbGxYKCl7aWYodGhpcy5faW5zdGFuY2UuY29uZmlnLnNjcm9sbF9yb290X3NlbGVjdG9yKXt2YXIgaT10aGlzLnNjcm9sbEVsZW1lbnQoKTtyZXR1cm4gaSYmaS5zY3JvbGxMZWZ0fHwwfXJldHVybiB0JiYodC5zY3JvbGxYfHx0LnBhZ2VYT2Zmc2V0fHx0LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0KXx8MH19dmFyIGVvPXQ9PmhzKG51bGw9PXQ/dm9pZCAwOnQuY29uZmlnLm1hc2tfcGVyc29uYWxfZGF0YV9wcm9wZXJ0aWVzLG51bGw9PXQ/dm9pZCAwOnQuY29uZmlnLmN1c3RvbV9wZXJzb25hbF9kYXRhX3Byb3BlcnRpZXMpO2NsYXNzIHJve2NvbnN0cnVjdG9yKHQsaSxlLHIpe3RoaXMueGU9dD0+e3ZhciBpPXRoaXMuJGUoKTtpZighaXx8aS5zZXNzaW9uSWQhPT10KXt2YXIgZT17c2Vzc2lvbklkOnQscHJvcHM6dGhpcy5TZSh0aGlzLl9pbnN0YW5jZSl9O3RoaXMuRWUucmVnaXN0ZXIoe1tmaV06ZX0pfX0sdGhpcy5faW5zdGFuY2U9dCx0aGlzLmtlPWksdGhpcy5FZT1lLHRoaXMuU2U9cnx8ZW8sdGhpcy5rZS5vblNlc3Npb25JZCh0aGlzLnhlKX0kZSgpe3JldHVybiB0aGlzLkVlLnByb3BzW2ZpXX1nZXRTZXRPbmNlUHJvcHMoKXt2YXIgdCxpPW51bGw9PSh0PXRoaXMuJGUoKSk/dm9pZCAwOnQucHJvcHM7cmV0dXJuIGk/XCJyXCJpbiBpP2RzKGkpOnskcmVmZXJyaW5nX2RvbWFpbjppLnJlZmVycmluZ0RvbWFpbiwkcGF0aG5hbWU6aS5pbml0aWFsUGF0aE5hbWUsdXRtX3NvdXJjZTppLnV0bV9zb3VyY2UsdXRtX2NhbXBhaWduOmkudXRtX2NhbXBhaWduLHV0bV9tZWRpdW06aS51dG1fbWVkaXVtLHV0bV9jb250ZW50OmkudXRtX2NvbnRlbnQsdXRtX3Rlcm06aS51dG1fdGVybX06e319Z2V0U2Vzc2lvblByb3BzKCl7dmFyIHQ9e307cmV0dXJuIEZ0KE50KHRoaXMuZ2V0U2V0T25jZVByb3BzKCkpLCgoaSxlKT0+e1wiJGN1cnJlbnRfdXJsXCI9PT1lJiYoZT1cInVybFwiKSx0W1wiJHNlc3Npb25fZW50cnlfXCIrUyhlKV09aX0pKSx0fX12YXIgc289VHQoXCJbU2Vzc2lvbklkXVwiKTtjbGFzcyBub3tvbih0LGkpe3JldHVybiB0aGlzLlBlLm9uKHQsaSl9Y29uc3RydWN0b3IodCxpLGUpe3ZhciByO2lmKHRoaXMuVGU9W10sdGhpcy5JZT12b2lkIDAsdGhpcy5QZT1uZXcgam4sdGhpcy5SZT0odCxpKT0+TWF0aC5hYnModC1pKT50aGlzLnNlc3Npb25UaW1lb3V0TXMsIXQucGVyc2lzdGVuY2UpdGhyb3cgbmV3IEVycm9yKFwiU2Vzc2lvbklkTWFuYWdlciByZXF1aXJlcyBhIFBvc3RIb2dQZXJzaXN0ZW5jZSBpbnN0YW5jZVwiKTtpZihcImFsd2F5c1wiPT09dC5jb25maWcuY29va2llbGVzc19tb2RlKXRocm93IG5ldyBFcnJvcignU2Vzc2lvbklkTWFuYWdlciBjYW5ub3QgYmUgdXNlZCB3aXRoIGNvb2tpZWxlc3NfbW9kZT1cImFsd2F5c1wiJyk7dGhpcy5DPXQuY29uZmlnLHRoaXMuRWU9dC5wZXJzaXN0ZW5jZSx0aGlzLkNlPXZvaWQgMCx0aGlzLk9lPXZvaWQgMCx0aGlzLl9zZXNzaW9uU3RhcnRUaW1lc3RhbXA9bnVsbCx0aGlzLl9zZXNzaW9uQWN0aXZpdHlUaW1lc3RhbXA9bnVsbCx0aGlzLkZlPWl8fHhlLHRoaXMuTWU9ZXx8eGU7dmFyIHM9dGhpcy5DLnBlcnNpc3RlbmNlX25hbWV8fHRoaXMuQy50b2tlbixuPXRoaXMuQy5zZXNzaW9uX2lkbGVfdGltZW91dF9zZWNvbmRzfHwxODAwO2lmKHRoaXMuX3Nlc3Npb25UaW1lb3V0TXM9MWUzKkoobiw2MCwzNmUzLHNvLmNyZWF0ZUxvZ2dlcihcInNlc3Npb25faWRsZV90aW1lb3V0X3NlY29uZHNcIiksMTgwMCksdC5yZWdpc3Rlcih7JGNvbmZpZ3VyZWRfc2Vzc2lvbl90aW1lb3V0X21zOnRoaXMuX3Nlc3Npb25UaW1lb3V0TXN9KSx0aGlzLkFlKCksdGhpcy5EZT1cInBoX1wiK3MrXCJfd2luZG93X2lkXCIsdGhpcy5qZT1cInBoX1wiK3MrXCJfcHJpbWFyeV93aW5kb3dfZXhpc3RzXCIsdGhpcy5MZSgpKXt2YXIgbz1BZS5XKHRoaXMuRGUpLGE9QWUuVyh0aGlzLmplKTtvJiYhYT90aGlzLkNlPW86QWUuVih0aGlzLkRlKSxBZS5HKHRoaXMuamUsITApfWlmKG51bGwhPShyPXRoaXMuQy5ib290c3RyYXApJiZyLnNlc3Npb25JRCl0cnl7dmFyIGw9KHQ9Pnt2YXIgaT10LnJlcGxhY2UoLy0vZyxcIlwiKTtpZigzMiE9PWkubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIk5vdCBhIHZhbGlkIFVVSURcIik7aWYoXCI3XCIhPT1pWzEyXSl0aHJvdyBuZXcgRXJyb3IoXCJOb3QgYSBVVUlEdjdcIik7cmV0dXJuIHBhcnNlSW50KGkuc3Vic3RyaW5nKDAsMTIpLDE2KX0pKHRoaXMuQy5ib290c3RyYXAuc2Vzc2lvbklEKTt0aGlzLk5lKHRoaXMuQy5ib290c3RyYXAuc2Vzc2lvbklELChuZXcgRGF0ZSkuZ2V0VGltZSgpLGwpfWNhdGNoKHQpe3NvLmVycm9yKFwiSW52YWxpZCBzZXNzaW9uSUQgaW4gYm9vdHN0cmFwXCIsdCl9dGhpcy5VZSgpfWdldCBzZXNzaW9uVGltZW91dE1zKCl7cmV0dXJuIHRoaXMuX3Nlc3Npb25UaW1lb3V0TXN9b25TZXNzaW9uSWQodCl7cmV0dXJuIEYodGhpcy5UZSkmJih0aGlzLlRlPVtdKSx0aGlzLlRlLnB1c2godCksdGhpcy5PZSYmdCh0aGlzLk9lLHRoaXMuQ2UpLCgpPT57dGhpcy5UZT10aGlzLlRlLmZpbHRlcigoaT0+aSE9PXQpKX19TGUoKXtyZXR1cm5cIm1lbW9yeVwiIT09dGhpcy5DLnBlcnNpc3RlbmNlJiYhdGhpcy5FZS53aSYmQWUuSCgpfXplKHQpe3QhPT10aGlzLkNlJiYodGhpcy5DZT10LHRoaXMuTGUoKSYmQWUuRyh0aGlzLkRlLHQpKX1IZSgpe3JldHVybiB0aGlzLkNlP3RoaXMuQ2U6dGhpcy5MZSgpP0FlLlcodGhpcy5EZSk6bnVsbH1OZSh0LGksZSl7dD09PXRoaXMuT2UmJmk9PT10aGlzLl9zZXNzaW9uQWN0aXZpdHlUaW1lc3RhbXAmJmU9PT10aGlzLl9zZXNzaW9uU3RhcnRUaW1lc3RhbXB8fCh0aGlzLl9zZXNzaW9uU3RhcnRUaW1lc3RhbXA9ZSx0aGlzLl9zZXNzaW9uQWN0aXZpdHlUaW1lc3RhbXA9aSx0aGlzLk9lPXQsdGhpcy5FZS5yZWdpc3Rlcih7W3JpXTpbaSx0LGVdfSkpfUJlKCl7aWYodGhpcy5PZSYmdGhpcy5fc2Vzc2lvbkFjdGl2aXR5VGltZXN0YW1wJiZ0aGlzLl9zZXNzaW9uU3RhcnRUaW1lc3RhbXApcmV0dXJuW3RoaXMuX3Nlc3Npb25BY3Rpdml0eVRpbWVzdGFtcCx0aGlzLk9lLHRoaXMuX3Nlc3Npb25TdGFydFRpbWVzdGFtcF07dmFyIHQ9dGhpcy5FZS5wcm9wc1tyaV07cmV0dXJuIEkodCkmJjI9PT10Lmxlbmd0aCYmdC5wdXNoKHRbMF0pLHR8fFswLG51bGwsMF19cmVzZXRTZXNzaW9uSWQoKXt0aGlzLk5lKG51bGwsbnVsbCxudWxsKX1kZXN0cm95KCl7Y2xlYXJUaW1lb3V0KHRoaXMucWUpLHRoaXMucWU9dm9pZCAwLHRoaXMuSWUmJnQmJih0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJiZWZvcmV1bmxvYWRcIix0aGlzLkllLHtjYXB0dXJlOiExfSksdGhpcy5JZT12b2lkIDApLHRoaXMuVGU9W119VWUoKXt0aGlzLkllPSgpPT57dGhpcy5MZSgpJiZBZS5WKHRoaXMuamUpfSxxdCh0LFwiYmVmb3JldW5sb2FkXCIsdGhpcy5JZSx7Y2FwdHVyZTohMX0pfWNoZWNrQW5kR2V0U2Vzc2lvbkFuZFdpbmRvd0lkKHQsaSl7aWYodm9pZCAwPT09dCYmKHQ9ITEpLHZvaWQgMD09PWkmJihpPW51bGwpLFwiYWx3YXlzXCI9PT10aGlzLkMuY29va2llbGVzc19tb2RlKXRocm93IG5ldyBFcnJvcignY2hlY2tBbmRHZXRTZXNzaW9uQW5kV2luZG93SWQgc2hvdWxkIG5vdCBiZSBjYWxsZWQgd2l0aCBjb29raWVsZXNzX21vZGU9XCJhbHdheXNcIicpO3ZhciBlPWl8fChuZXcgRGF0ZSkuZ2V0VGltZSgpLFtyLHMsbl09dGhpcy5CZSgpLG89dGhpcy5IZSgpLGE9TChuKSYmbj4wJiZNYXRoLmFicyhlLW4pPjg2NGU1LGw9ITEsdT0hcyxoPSF1JiYhdCYmdGhpcy5SZShlLHIpO3V8fGh8fGE/KHM9dGhpcy5GZSgpLG89dGhpcy5NZSgpLHNvLmluZm8oXCJuZXcgc2Vzc2lvbiBJRCBnZW5lcmF0ZWRcIix7c2Vzc2lvbklkOnMsd2luZG93SWQ6byxjaGFuZ2VSZWFzb246e25vU2Vzc2lvbklkOnUsYWN0aXZpdHlUaW1lb3V0Omgsc2Vzc2lvblBhc3RNYXhpbXVtTGVuZ3RoOmF9fSksbj1lLGw9ITApOm98fChvPXRoaXMuTWUoKSxsPSEwKTt2YXIgZD0wPT09cnx8IXR8fGE/ZTpyLHY9MD09PW4/KG5ldyBEYXRlKS5nZXRUaW1lKCk6bjtyZXR1cm4gdGhpcy56ZShvKSx0aGlzLk5lKHMsZCx2KSx0fHx0aGlzLkFlKCksbCYmdGhpcy5UZS5mb3JFYWNoKCh0PT50KHMsbyxsP3tub1Nlc3Npb25JZDp1LGFjdGl2aXR5VGltZW91dDpoLHNlc3Npb25QYXN0TWF4aW11bUxlbmd0aDphfTp2b2lkIDApKSkse3Nlc3Npb25JZDpzLHdpbmRvd0lkOm8sc2Vzc2lvblN0YXJ0VGltZXN0YW1wOnYsY2hhbmdlUmVhc29uOmw/e25vU2Vzc2lvbklkOnUsYWN0aXZpdHlUaW1lb3V0Omgsc2Vzc2lvblBhc3RNYXhpbXVtTGVuZ3RoOmF9OnZvaWQgMCxsYXN0QWN0aXZpdHlUaW1lc3RhbXA6cn19QWUoKXtjbGVhclRpbWVvdXQodGhpcy5xZSksdGhpcy5xZT1zZXRUaW1lb3V0KCgoKT0+e3Zhclt0XT10aGlzLkJlKCk7aWYodGhpcy5SZSgobmV3IERhdGUpLmdldFRpbWUoKSx0KSl7dmFyIGk9dGhpcy5PZTt0aGlzLnJlc2V0U2Vzc2lvbklkKCksdGhpcy5QZS5lbWl0KFwiZm9yY2VkSWRsZVJlc2V0XCIse2lkbGVTZXNzaW9uSWQ6aX0pfX0pLDEuMSp0aGlzLnNlc3Npb25UaW1lb3V0TXMpfX12YXIgb289W1wiJHNldF9vbmNlXCIsXCIkc2V0XCJdLGFvPVR0KFwiW1NpdGVBcHBzXVwiKTtjbGFzcyBsb3tjb25zdHJ1Y3Rvcih0KXt0aGlzLl9pbnN0YW5jZT10LHRoaXMuV2U9W10sdGhpcy5hcHBzPXt9fWdldCBpc0VuYWJsZWQoKXtyZXR1cm4hIXRoaXMuX2luc3RhbmNlLmNvbmZpZy5vcHRfaW5fc2l0ZV9hcHBzfUdlKHQsaSl7aWYoaSl7dmFyIGU9dGhpcy5nbG9iYWxzRm9yRXZlbnQoaSk7dGhpcy5XZS5wdXNoKGUpLHRoaXMuV2UubGVuZ3RoPjFlMyYmKHRoaXMuV2U9dGhpcy5XZS5zbGljZSgxMCkpfX1nZXQgc2l0ZUFwcExvYWRlcnMoKXt2YXIgdDtyZXR1cm4gbnVsbD09KHQ9di5fUE9TVEhPR19SRU1PVEVfQ09ORklHKXx8bnVsbD09KHQ9dFt0aGlzLl9pbnN0YW5jZS5jb25maWcudG9rZW5dKT92b2lkIDA6dC5zaXRlQXBwc31pbml0KCl7aWYodGhpcy5pc0VuYWJsZWQpe3ZhciB0PXRoaXMuX2luc3RhbmNlLk1pKHRoaXMuR2UuYmluZCh0aGlzKSk7dGhpcy5WZT0oKT0+e3QoKSx0aGlzLldlPVtdLHRoaXMuVmU9dm9pZCAwfX19Z2xvYmFsc0ZvckV2ZW50KHQpe3ZhciBpLGUscixzLG4sbyxhO2lmKCF0KXRocm93IG5ldyBFcnJvcihcIkV2ZW50IHBheWxvYWQgaXMgcmVxdWlyZWRcIik7dmFyIGw9e30sdT10aGlzLl9pbnN0YW5jZS5nZXRfcHJvcGVydHkoXCIkZ3JvdXBzXCIpfHxbXSxoPXRoaXMuX2luc3RhbmNlLmdldF9wcm9wZXJ0eShcIiRzdG9yZWRfZ3JvdXBfcHJvcGVydGllc1wiKXx8e307Zm9yKHZhcltkLHZdb2YgT2JqZWN0LmVudHJpZXMoaCkpbFtkXT17aWQ6dVtkXSx0eXBlOmQscHJvcGVydGllczp2fTt2YXJ7JHNldF9vbmNlOmMsJHNldDpmfT10O3JldHVybntldmVudDpnKHt9LF8odCxvbykse3Byb3BlcnRpZXM6Zyh7fSx0LnByb3BlcnRpZXMsZj97JHNldDpnKHt9LG51bGwhPT0oaT1udWxsPT0oZT10LnByb3BlcnRpZXMpP3ZvaWQgMDplLiRzZXQpJiZ2b2lkIDAhPT1pP2k6e30sZil9Ont9LGM/eyRzZXRfb25jZTpnKHt9LG51bGwhPT0ocj1udWxsPT0ocz10LnByb3BlcnRpZXMpP3ZvaWQgMDpzLiRzZXRfb25jZSkmJnZvaWQgMCE9PXI/cjp7fSxjKX06e30pLGVsZW1lbnRzX2NoYWluOm51bGwhPT0obj1udWxsPT0obz10LnByb3BlcnRpZXMpP3ZvaWQgMDpvLiRlbGVtZW50c19jaGFpbikmJnZvaWQgMCE9PW4/bjpcIlwiLGRpc3RpbmN0X2lkOm51bGw9PShhPXQucHJvcGVydGllcyk/dm9pZCAwOmEuZGlzdGluY3RfaWR9KSxwZXJzb246e3Byb3BlcnRpZXM6dGhpcy5faW5zdGFuY2UuZ2V0X3Byb3BlcnR5KFwiJHN0b3JlZF9wZXJzb25fcHJvcGVydGllc1wiKX0sZ3JvdXBzOmx9fXNldHVwU2l0ZUFwcCh0KXt2YXIgaT10aGlzLmFwcHNbdC5pZF0sZT0oKT0+e3ZhciBlOyghaS5lcnJvcmVkJiZ0aGlzLldlLmxlbmd0aCYmKGFvLmluZm8oXCJQcm9jZXNzaW5nIFwiK3RoaXMuV2UubGVuZ3RoK1wiIGV2ZW50cyBmb3Igc2l0ZSBhcHAgd2l0aCBpZCBcIit0LmlkKSx0aGlzLldlLmZvckVhY2goKHQ9Pm51bGw9PWkucHJvY2Vzc0V2ZW50P3ZvaWQgMDppLnByb2Nlc3NFdmVudCh0KSkpLGkucHJvY2Vzc2VkQnVmZmVyPSEwKSxPYmplY3QudmFsdWVzKHRoaXMuYXBwcykuZXZlcnkoKHQ9PnQucHJvY2Vzc2VkQnVmZmVyfHx0LmVycm9yZWQpKSkmJihudWxsPT0oZT10aGlzLlZlKXx8ZS5jYWxsKHRoaXMpKX0scj0hMSxzPXM9PntpLmVycm9yZWQ9IXMsaS5sb2FkZWQ9ITAsYW8uaW5mbyhcIlNpdGUgYXBwIHdpdGggaWQgXCIrdC5pZCtcIiBcIisocz9cImxvYWRlZFwiOlwiZXJyb3JlZFwiKSksciYmZSgpfTt0cnl7dmFye3Byb2Nlc3NFdmVudDpufT10LmluaXQoe3Bvc3Rob2c6dGhpcy5faW5zdGFuY2UsY2FsbGJhY2s6dD0+e3ModCl9fSk7biYmKGkucHJvY2Vzc0V2ZW50PW4pLHI9ITB9Y2F0Y2goaSl7YW8uZXJyb3IoXCJFcnJvciB3aGlsZSBpbml0aWFsaXppbmcgUG9zdEhvZyBhcHAgd2l0aCBjb25maWcgaWQgXCIrdC5pZCxpKSxzKCExKX1pZihyJiZpLmxvYWRlZCl0cnl7ZSgpfWNhdGNoKGUpe2FvLmVycm9yKFwiRXJyb3Igd2hpbGUgcHJvY2Vzc2luZyBidWZmZXJlZCBldmVudHMgUG9zdEhvZyBhcHAgd2l0aCBjb25maWcgaWQgXCIrdC5pZCxlKSxpLmVycm9yZWQ9ITB9fUplKCl7dmFyIHQ9dGhpcy5zaXRlQXBwTG9hZGVyc3x8W107Zm9yKHZhciBpIG9mIHQpdGhpcy5hcHBzW2kuaWRdPXtpZDppLmlkLGxvYWRlZDohMSxlcnJvcmVkOiExLHByb2Nlc3NlZEJ1ZmZlcjohMX07Zm9yKHZhciBlIG9mIHQpdGhpcy5zZXR1cFNpdGVBcHAoZSl9S2UodCl7aWYoMCE9PU9iamVjdC5rZXlzKHRoaXMuYXBwcykubGVuZ3RoKXt2YXIgaT10aGlzLmdsb2JhbHNGb3JFdmVudCh0KTtmb3IodmFyIGUgb2YgT2JqZWN0LnZhbHVlcyh0aGlzLmFwcHMpKXRyeXtudWxsPT1lLnByb2Nlc3NFdmVudHx8ZS5wcm9jZXNzRXZlbnQoaSl9Y2F0Y2goaSl7YW8uZXJyb3IoXCJFcnJvciB3aGlsZSBwcm9jZXNzaW5nIGV2ZW50IFwiK3QuZXZlbnQrXCIgZm9yIHNpdGUgYXBwIFwiK2UuaWQsaSl9fX1vblJlbW90ZUNvbmZpZyh0KXt2YXIgaSxlLHIscz10aGlzO2lmKG51bGwhPShpPXRoaXMuc2l0ZUFwcExvYWRlcnMpJiZpLmxlbmd0aClyZXR1cm4gdGhpcy5pc0VuYWJsZWQ/KHRoaXMuSmUoKSx2b2lkIHRoaXMuX2luc3RhbmNlLm9uKFwiZXZlbnRDYXB0dXJlZFwiLCh0PT50aGlzLktlKHQpKSkpOnZvaWQgYW8uZXJyb3IoJ1Bvc3RIb2cgc2l0ZSBhcHBzIGFyZSBkaXNhYmxlZC4gRW5hYmxlIHRoZSBcIm9wdF9pbl9zaXRlX2FwcHNcIiBjb25maWcgdG8gcHJvY2VlZC4nKTtpZihudWxsPT0oZT10aGlzLlZlKXx8ZS5jYWxsKHRoaXMpLG51bGwhPShyPXQuc2l0ZUFwcHMpJiZyLmxlbmd0aClpZih0aGlzLmlzRW5hYmxlZCl7dmFyIG49ZnVuY3Rpb24odCl7dmFyIGk7dltcIl9fJCRwaF9zaXRlX2FwcF9cIit0XT1zLl9pbnN0YW5jZSxudWxsPT0oaT12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXyl8fG51bGw9PWkubG9hZFNpdGVBcHB8fGkubG9hZFNpdGVBcHAocy5faW5zdGFuY2UsYSwoaT0+e2lmKGkpcmV0dXJuIGFvLmVycm9yKFwiRXJyb3Igd2hpbGUgaW5pdGlhbGl6aW5nIFBvc3RIb2cgYXBwIHdpdGggY29uZmlnIGlkIFwiK3QsaSl9KSl9O2Zvcih2YXJ7aWQ6byx1cmw6YX1vZiB0LnNpdGVBcHBzKW4obyl9ZWxzZSBhby5lcnJvcignUG9zdEhvZyBzaXRlIGFwcHMgYXJlIGRpc2FibGVkLiBFbmFibGUgdGhlIFwib3B0X2luX3NpdGVfYXBwc1wiIGNvbmZpZyB0byBwcm9jZWVkLicpfX12YXIgdW89ZnVuY3Rpb24odCxpKXtpZighdClyZXR1cm4hMTt2YXIgZT10LnVzZXJBZ2VudDtpZihlJiZ5KGUsaSkpcmV0dXJuITA7dHJ5e3ZhciByPW51bGw9PXQ/dm9pZCAwOnQudXNlckFnZW50RGF0YTtpZihudWxsIT1yJiZyLmJyYW5kcyYmci5icmFuZHMuc29tZSgodD0+eShudWxsPT10P3ZvaWQgMDp0LmJyYW5kLGkpKSkpcmV0dXJuITB9Y2F0Y2godCl7fXJldHVybiEhdC53ZWJkcml2ZXJ9LGhvPWZ1bmN0aW9uKHQpe3JldHVybiB0LlVTPVwidXNcIix0LkVVPVwiZXVcIix0LkNVU1RPTT1cImN1c3RvbVwiLHR9KHt9KSx2bz1cImkucG9zdGhvZy5jb21cIjtjbGFzcyBjb3tjb25zdHJ1Y3Rvcih0KXt0aGlzLlllPXt9LHRoaXMuaW5zdGFuY2U9dH1nZXQgYXBpSG9zdCgpe3ZhciB0PXRoaXMuaW5zdGFuY2UuY29uZmlnLmFwaV9ob3N0LnRyaW0oKS5yZXBsYWNlKC9cXC8kLyxcIlwiKTtyZXR1cm5cImh0dHBzOi8vYXBwLnBvc3Rob2cuY29tXCI9PT10P1wiaHR0cHM6Ly91cy5pLnBvc3Rob2cuY29tXCI6dH1nZXQgZmxhZ3NBcGlIb3N0KCl7dmFyIHQ9dGhpcy5pbnN0YW5jZS5jb25maWcuZmxhZ3NfYXBpX2hvc3Q7cmV0dXJuIHQ/dC50cmltKCkucmVwbGFjZSgvXFwvJC8sXCJcIik6dGhpcy5hcGlIb3N0fWdldCB1aUhvc3QoKXt2YXIgdCxpPW51bGw9PSh0PXRoaXMuaW5zdGFuY2UuY29uZmlnLnVpX2hvc3QpP3ZvaWQgMDp0LnJlcGxhY2UoL1xcLyQvLFwiXCIpO3JldHVybiBpfHwoaT10aGlzLmFwaUhvc3QucmVwbGFjZShcIi5cIit2byxcIi5wb3N0aG9nLmNvbVwiKSksXCJodHRwczovL2FwcC5wb3N0aG9nLmNvbVwiPT09aT9cImh0dHBzOi8vdXMucG9zdGhvZy5jb21cIjppfWdldCByZWdpb24oKXtyZXR1cm4gdGhpcy5ZZVt0aGlzLmFwaUhvc3RdfHwoL2h0dHBzOlxcL1xcLyhhcHB8dXN8dXMtYXNzZXRzKShcXC5pKT9cXC5wb3N0aG9nXFwuY29tL2kudGVzdCh0aGlzLmFwaUhvc3QpP3RoaXMuWWVbdGhpcy5hcGlIb3N0XT1oby5VUzovaHR0cHM6XFwvXFwvKGV1fGV1LWFzc2V0cykoXFwuaSk/XFwucG9zdGhvZ1xcLmNvbS9pLnRlc3QodGhpcy5hcGlIb3N0KT90aGlzLlllW3RoaXMuYXBpSG9zdF09aG8uRVU6dGhpcy5ZZVt0aGlzLmFwaUhvc3RdPWhvLkNVU1RPTSksdGhpcy5ZZVt0aGlzLmFwaUhvc3RdfWVuZHBvaW50Rm9yKHQsaSl7aWYodm9pZCAwPT09aSYmKGk9XCJcIiksaSYmKGk9XCIvXCI9PT1pWzBdP2k6XCIvXCIraSksXCJ1aVwiPT09dClyZXR1cm4gdGhpcy51aUhvc3QraTtpZihcImZsYWdzXCI9PT10KXJldHVybiB0aGlzLmZsYWdzQXBpSG9zdCtpO2lmKHRoaXMucmVnaW9uPT09aG8uQ1VTVE9NKXJldHVybiB0aGlzLmFwaUhvc3QraTt2YXIgZT12bytpO3N3aXRjaCh0KXtjYXNlXCJhc3NldHNcIjpyZXR1cm5cImh0dHBzOi8vXCIrdGhpcy5yZWdpb24rXCItYXNzZXRzLlwiK2U7Y2FzZVwiYXBpXCI6cmV0dXJuXCJodHRwczovL1wiK3RoaXMucmVnaW9uK1wiLlwiK2V9fX12YXIgZm89e2ljb250YWluczooaSxlKT0+ISF0JiZlLmhyZWYudG9Mb3dlckNhc2UoKS5pbmRleE9mKGkudG9Mb3dlckNhc2UoKSk+LTEsbm90X2ljb250YWluczooaSxlKT0+ISF0JiYtMT09PWUuaHJlZi50b0xvd2VyQ2FzZSgpLmluZGV4T2YoaS50b0xvd2VyQ2FzZSgpKSxyZWdleDooaSxlKT0+ISF0JiZobihlLmhyZWYsaSksbm90X3JlZ2V4OihpLGUpPT4hIXQmJiFobihlLmhyZWYsaSksZXhhY3Q6KHQsaSk9PmkuaHJlZj09PXQsaXNfbm90Oih0LGkpPT5pLmhyZWYhPT10fTtjbGFzcyBwb3tjb25zdHJ1Y3Rvcih0KXt2YXIgaT10aGlzO3RoaXMuZ2V0V2ViRXhwZXJpbWVudHNBbmRFdmFsdWF0ZURpc3BsYXlMb2dpYz1mdW5jdGlvbih0KXt2b2lkIDA9PT10JiYodD0hMSksaS5nZXRXZWJFeHBlcmltZW50cygodD0+e3BvLlhlKFwicmV0cmlldmVkIHdlYiBleHBlcmltZW50cyBmcm9tIHRoZSBzZXJ2ZXJcIiksaS5RZT1uZXcgTWFwLHQuZm9yRWFjaCgodD0+e2lmKHQuZmVhdHVyZV9mbGFnX2tleSl7dmFyIGU7aWYoaS5RZSlwby5YZShcInNldHRpbmcgZmxhZyBrZXkgXCIsdC5mZWF0dXJlX2ZsYWdfa2V5LFwiIHRvIHdlYiBleHBlcmltZW50IFwiLHQpLG51bGw9PShlPWkuUWUpfHxlLnNldCh0LmZlYXR1cmVfZmxhZ19rZXksdCk7dmFyIHI9aS5faW5zdGFuY2UuZ2V0RmVhdHVyZUZsYWcodC5mZWF0dXJlX2ZsYWdfa2V5KTtNKHIpJiZ0LnZhcmlhbnRzW3JdJiZpLlplKHQubmFtZSxyLHQudmFyaWFudHNbcl0udHJhbnNmb3Jtcyl9ZWxzZSBpZih0LnZhcmlhbnRzKWZvcih2YXIgcyBpbiB0LnZhcmlhbnRzKXt2YXIgbj10LnZhcmlhbnRzW3NdO3BvLnRyKG4pJiZpLlplKHQubmFtZSxzLG4udHJhbnNmb3Jtcyl9fSkpfSksdCl9LHRoaXMuX2luc3RhbmNlPXQsdGhpcy5faW5zdGFuY2Uub25GZWF0dXJlRmxhZ3MoKHQ9Pnt0aGlzLm9uRmVhdHVyZUZsYWdzKHQpfSkpfW9uRmVhdHVyZUZsYWdzKHQpe2lmKHRoaXMuX2lzX2JvdCgpKXBvLlhlKFwiUmVmdXNpbmcgdG8gcmVuZGVyIHdlYiBleHBlcmltZW50IHNpbmNlIHRoZSB2aWV3ZXIgaXMgYSBsaWtlbHkgYm90XCIpO2Vsc2UgaWYoIXRoaXMuX2luc3RhbmNlLmNvbmZpZy5kaXNhYmxlX3dlYl9leHBlcmltZW50cyl7aWYoaih0aGlzLlFlKSlyZXR1cm4gdGhpcy5RZT1uZXcgTWFwLHRoaXMubG9hZElmRW5hYmxlZCgpLHZvaWQgdGhpcy5wcmV2aWV3V2ViRXhwZXJpbWVudCgpO3BvLlhlKFwiYXBwbHlpbmcgZmVhdHVyZSBmbGFnc1wiLHQpLHQuZm9yRWFjaCgodD0+e3ZhciBpO2lmKHRoaXMuUWUmJm51bGwhPShpPXRoaXMuUWUpJiZpLmhhcyh0KSl7dmFyIGUscj10aGlzLl9pbnN0YW5jZS5nZXRGZWF0dXJlRmxhZyh0KSxzPW51bGw9PShlPXRoaXMuUWUpP3ZvaWQgMDplLmdldCh0KTtyJiZudWxsIT1zJiZzLnZhcmlhbnRzW3JdJiZ0aGlzLlplKHMubmFtZSxyLHMudmFyaWFudHNbcl0udHJhbnNmb3Jtcyl9fSkpfX1wcmV2aWV3V2ViRXhwZXJpbWVudCgpe3ZhciB0PXBvLmdldFdpbmRvd0xvY2F0aW9uKCk7aWYobnVsbCE9dCYmdC5zZWFyY2gpe3ZhciBpPWFlKG51bGw9PXQ/dm9pZCAwOnQuc2VhcmNoLFwiX19leHBlcmltZW50X2lkXCIpLGU9YWUobnVsbD09dD92b2lkIDA6dC5zZWFyY2gsXCJfX2V4cGVyaW1lbnRfdmFyaWFudFwiKTtpJiZlJiYocG8uWGUoXCJwcmV2aWV3aW5nIHdlYiBleHBlcmltZW50cyBcIitpK1wiICYmIFwiK2UpLHRoaXMuZ2V0V2ViRXhwZXJpbWVudHMoKHQ9Pnt0aGlzLmlyKHBhcnNlSW50KGkpLGUsdCl9KSwhMSwhMCkpfX1sb2FkSWZFbmFibGVkKCl7dGhpcy5faW5zdGFuY2UuY29uZmlnLmRpc2FibGVfd2ViX2V4cGVyaW1lbnRzfHx0aGlzLmdldFdlYkV4cGVyaW1lbnRzQW5kRXZhbHVhdGVEaXNwbGF5TG9naWMoKX1nZXRXZWJFeHBlcmltZW50cyh0LGksZSl7aWYodGhpcy5faW5zdGFuY2UuY29uZmlnLmRpc2FibGVfd2ViX2V4cGVyaW1lbnRzJiYhZSlyZXR1cm4gdChbXSk7dmFyIHI9dGhpcy5faW5zdGFuY2UuZ2V0X3Byb3BlcnR5KFwiJHdlYl9leHBlcmltZW50c1wiKTtpZihyJiYhaSlyZXR1cm4gdChyKTt0aGlzLl9pbnN0YW5jZS5jaSh7dXJsOnRoaXMuX2luc3RhbmNlLnJlcXVlc3RSb3V0ZXIuZW5kcG9pbnRGb3IoXCJhcGlcIixcIi9hcGkvd2ViX2V4cGVyaW1lbnRzLz90b2tlbj1cIit0aGlzLl9pbnN0YW5jZS5jb25maWcudG9rZW4pLG1ldGhvZDpcIkdFVFwiLGNhbGxiYWNrOmk9PntpZigyMDAhPT1pLnN0YXR1c0NvZGV8fCFpLmpzb24pcmV0dXJuIHQoW10pO3ZhciBlPWkuanNvbi5leHBlcmltZW50c3x8W107cmV0dXJuIHQoZSl9fSl9aXIodCxpLGUpe3ZhciByPWUuZmlsdGVyKChpPT5pLmlkPT09dCkpO3ImJnIubGVuZ3RoPjAmJihwby5YZShcIlByZXZpZXdpbmcgd2ViIGV4cGVyaW1lbnQgW1wiK3JbMF0ubmFtZStcIl0gd2l0aCB2YXJpYW50IFtcIitpK1wiXVwiKSx0aGlzLlplKHJbMF0ubmFtZSxpLHJbMF0udmFyaWFudHNbaV0udHJhbnNmb3JtcykpfXN0YXRpYyB0cih0KXtyZXR1cm4haih0LmNvbmRpdGlvbnMpJiYocG8uZXIodCkmJnBvLnJyKHQpKX1zdGF0aWMgZXIodCl7dmFyIGk7aWYoaih0LmNvbmRpdGlvbnMpfHxqKG51bGw9PShpPXQuY29uZGl0aW9ucyk/dm9pZCAwOmkudXJsKSlyZXR1cm4hMDt2YXIgZSxyLHMsbj1wby5nZXRXaW5kb3dMb2NhdGlvbigpO3JldHVybiEhbiYmKG51bGw9PShlPXQuY29uZGl0aW9ucyl8fCFlLnVybHx8Zm9bbnVsbCE9PShyPW51bGw9PShzPXQuY29uZGl0aW9ucyk/dm9pZCAwOnMudXJsTWF0Y2hUeXBlKSYmdm9pZCAwIT09cj9yOlwiaWNvbnRhaW5zXCJdKHQuY29uZGl0aW9ucy51cmwsbikpfXN0YXRpYyBnZXRXaW5kb3dMb2NhdGlvbigpe3JldHVybiBudWxsPT10P3ZvaWQgMDp0LmxvY2F0aW9ufXN0YXRpYyBycih0KXt2YXIgaTtpZihqKHQuY29uZGl0aW9ucyl8fGoobnVsbD09KGk9dC5jb25kaXRpb25zKT92b2lkIDA6aS51dG0pKXJldHVybiEwO3ZhciBlPW5zKCk7aWYoZS51dG1fc291cmNlKXt2YXIgcixzLG4sbyxhLGwsdSxoLGQ9bnVsbD09KHI9dC5jb25kaXRpb25zKXx8bnVsbD09KHI9ci51dG0pfHwhci51dG1fY2FtcGFpZ258fChudWxsPT0ocz10LmNvbmRpdGlvbnMpfHxudWxsPT0ocz1zLnV0bSk/dm9pZCAwOnMudXRtX2NhbXBhaWduKT09ZS51dG1fY2FtcGFpZ24sdj1udWxsPT0obj10LmNvbmRpdGlvbnMpfHxudWxsPT0obj1uLnV0bSl8fCFuLnV0bV9zb3VyY2V8fChudWxsPT0obz10LmNvbmRpdGlvbnMpfHxudWxsPT0obz1vLnV0bSk/dm9pZCAwOm8udXRtX3NvdXJjZSk9PWUudXRtX3NvdXJjZSxjPW51bGw9PShhPXQuY29uZGl0aW9ucyl8fG51bGw9PShhPWEudXRtKXx8IWEudXRtX21lZGl1bXx8KG51bGw9PShsPXQuY29uZGl0aW9ucyl8fG51bGw9PShsPWwudXRtKT92b2lkIDA6bC51dG1fbWVkaXVtKT09ZS51dG1fbWVkaXVtLGY9bnVsbD09KHU9dC5jb25kaXRpb25zKXx8bnVsbD09KHU9dS51dG0pfHwhdS51dG1fdGVybXx8KG51bGw9PShoPXQuY29uZGl0aW9ucyl8fG51bGw9PShoPWgudXRtKT92b2lkIDA6aC51dG1fdGVybSk9PWUudXRtX3Rlcm07cmV0dXJuIGQmJmMmJmYmJnZ9cmV0dXJuITF9c3RhdGljIFhlKHQpe2Zvcih2YXIgaT1hcmd1bWVudHMubGVuZ3RoLGU9bmV3IEFycmF5KGk+MT9pLTE6MCkscj0xO3I8aTtyKyspZVtyLTFdPWFyZ3VtZW50c1tyXTtQdC5pbmZvKFwiW1dlYkV4cGVyaW1lbnRzXSBcIit0LGUpfVplKHQsaSxlKXt0aGlzLl9pc19ib3QoKT9wby5YZShcIlJlZnVzaW5nIHRvIHJlbmRlciB3ZWIgZXhwZXJpbWVudCBzaW5jZSB0aGUgdmlld2VyIGlzIGEgbGlrZWx5IGJvdFwiKTpcImNvbnRyb2xcIiE9PWk/ZS5mb3JFYWNoKChlPT57aWYoZS5zZWxlY3Rvcil7dmFyIHI7cG8uWGUoXCJhcHBseWluZyB0cmFuc2Zvcm0gb2YgdmFyaWFudCBcIitpK1wiIGZvciBleHBlcmltZW50IFwiK3QrXCIgXCIsZSk7dmFyIHM9bnVsbD09KHI9ZG9jdW1lbnQpP3ZvaWQgMDpyLnF1ZXJ5U2VsZWN0b3JBbGwoZS5zZWxlY3Rvcik7bnVsbD09c3x8cy5mb3JFYWNoKCh0PT57dmFyIGk9dDtlLmh0bWwmJihpLmlubmVySFRNTD1lLmh0bWwpLGUuY3NzJiZpLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsZS5jc3MpfSkpfX0pKTpwby5YZShcIkNvbnRyb2wgdmFyaWFudHMgbGVhdmUgdGhlIHBhZ2UgdW5tb2RpZmllZC5cIil9X2lzX2JvdCgpe3JldHVybiBuJiZ0aGlzLl9pbnN0YW5jZT91byhuLHRoaXMuX2luc3RhbmNlLmNvbmZpZy5jdXN0b21fYmxvY2tlZF91c2VyYWdlbnRzKTp2b2lkIDB9fXZhciBnbz1UdChcIltQb3N0SG9nIEV4dGVybmFsSW50ZWdyYXRpb25zXVwiKSxfbz17aW50ZXJjb206XCJpbnRlcmNvbS1pbnRlZ3JhdGlvblwiLGNyaXNwQ2hhdDpcImNyaXNwLWNoYXQtaW50ZWdyYXRpb25cIn07Y2xhc3MgbW97Y29uc3RydWN0b3IodCl7dGhpcy5faW5zdGFuY2U9dH1pdCh0LGkpe3ZhciBlO251bGw9PShlPXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fKXx8bnVsbD09ZS5sb2FkRXh0ZXJuYWxEZXBlbmRlbmN5fHxlLmxvYWRFeHRlcm5hbERlcGVuZGVuY3kodGhpcy5faW5zdGFuY2UsdCwodD0+e2lmKHQpcmV0dXJuIGdvLmVycm9yKFwiZmFpbGVkIHRvIGxvYWQgc2NyaXB0XCIsdCk7aSgpfSkpfXN0YXJ0SWZFbmFibGVkT3JTdG9wKCl7dmFyIHQ9dGhpcyxpPWZ1bmN0aW9uKGkpe3ZhciBlLHMsbjsoIXJ8fG51bGwhPShlPXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fKSYmbnVsbCE9KGU9ZS5pbnRlZ3JhdGlvbnMpJiZlW2ldfHx0Lml0KF9vW2ldLCgoKT0+e3ZhciBlO251bGw9PShlPXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fKXx8bnVsbD09KGU9ZS5pbnRlZ3JhdGlvbnMpfHxudWxsPT0oZT1lW2ldKXx8ZS5zdGFydCh0Ll9pbnN0YW5jZSl9KSksIXImJm51bGwhPShzPXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fKSYmbnVsbCE9KHM9cy5pbnRlZ3JhdGlvbnMpJiZzW2ldKSYmKG51bGw9PShuPXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fKXx8bnVsbD09KG49bi5pbnRlZ3JhdGlvbnMpfHxudWxsPT0obj1uW2ldKXx8bi5zdG9wKCkpfTtmb3IodmFyW2Uscl1vZiBPYmplY3QuZW50cmllcyhudWxsIT09KHM9dGhpcy5faW5zdGFuY2UuY29uZmlnLmludGVncmF0aW9ucykmJnZvaWQgMCE9PXM/czp7fSkpe3ZhciBzO2koZSl9fX12YXIgeW89XCJbU2Vzc2lvblJlY29yZGluZ11cIixibz1UdCh5byk7Y2xhc3Mgd297Z2V0IHN0YXJ0ZWQoKXt2YXIgdDtyZXR1cm4hKG51bGw9PSh0PXRoaXMuc3IpfHwhdC5pc1N0YXJ0ZWQpfWdldCBzdGF0dXMoKXtyZXR1cm4gdGhpcy5zcj90aGlzLnNyLnN0YXR1czp0aGlzLm5yJiYhdGhpcy5hcj9cImRpc2FibGVkXCI6XCJsYXp5X2xvYWRpbmdcIn1jb25zdHJ1Y3Rvcih0KXtpZih0aGlzLl9mb3JjZUFsbG93TG9jYWxob3N0TmV0d29ya0NhcHR1cmU9ITEsdGhpcy5ucj0hMSx0aGlzLmxyPXZvaWQgMCx0aGlzLl9pbnN0YW5jZT10LCF0aGlzLl9pbnN0YW5jZS5zZXNzaW9uTWFuYWdlcil0aHJvdyBiby5lcnJvcihcInN0YXJ0ZWQgd2l0aG91dCB2YWxpZCBzZXNzaW9uTWFuYWdlclwiKSxuZXcgRXJyb3IoeW8rXCIgc3RhcnRlZCB3aXRob3V0IHZhbGlkIHNlc3Npb25NYW5hZ2VyLiBUaGlzIGlzIGEgYnVnLlwiKTtpZihcImFsd2F5c1wiPT09dGhpcy5faW5zdGFuY2UuY29uZmlnLmNvb2tpZWxlc3NfbW9kZSl0aHJvdyBuZXcgRXJyb3IoeW8rJyBjYW5ub3QgYmUgdXNlZCB3aXRoIGNvb2tpZWxlc3NfbW9kZT1cImFsd2F5c1wiJyl9Z2V0IGFyKCl7dmFyIGksZT0hKG51bGw9PShpPXRoaXMuX2luc3RhbmNlLmdldF9wcm9wZXJ0eShlaSkpfHwhaS5lbmFibGVkKSxyPSF0aGlzLl9pbnN0YW5jZS5jb25maWcuZGlzYWJsZV9zZXNzaW9uX3JlY29yZGluZyxzPXRoaXMuX2luc3RhbmNlLmNvbmZpZy5kaXNhYmxlX3Nlc3Npb25fcmVjb3JkaW5nfHx0aGlzLl9pbnN0YW5jZS5jb25zZW50LmlzT3B0ZWRPdXQoKTtyZXR1cm4gdCYmZSYmciYmIXN9c3RhcnRJZkVuYWJsZWRPclN0b3AodCl7dmFyIGk7aWYoIXRoaXMuYXJ8fG51bGw9PShpPXRoaXMuc3IpfHwhaS5pc1N0YXJ0ZWQpe3ZhciBlPSFGKE9iamVjdC5hc3NpZ24pJiYhRihBcnJheS5mcm9tKTt0aGlzLmFyJiZlPyh0aGlzLnVyKHQpLGJvLmluZm8oXCJzdGFydGluZ1wiKSk6dGhpcy5zdG9wUmVjb3JkaW5nKCl9fXVyKHQpe3ZhciBpLGUscjt0aGlzLmFyJiYobnVsbCE9diYmbnVsbCE9KGk9di5fX1Bvc3Rob2dFeHRlbnNpb25zX18pJiZudWxsIT0oaT1pLnJyd2ViKSYmaS5yZWNvcmQmJm51bGwhPShlPXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fKSYmZS5pbml0U2Vzc2lvblJlY29yZGluZz90aGlzLmhyKHQpOm51bGw9PShyPXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fKXx8bnVsbD09ci5sb2FkRXh0ZXJuYWxEZXBlbmRlbmN5fHxyLmxvYWRFeHRlcm5hbERlcGVuZGVuY3kodGhpcy5faW5zdGFuY2UsdGhpcy5kciwoaT0+e2lmKGkpcmV0dXJuIGJvLmVycm9yKFwiY291bGQgbm90IGxvYWQgcmVjb3JkZXJcIixpKTt0aGlzLmhyKHQpfSkpKX1zdG9wUmVjb3JkaW5nKCl7dmFyIHQsaTtudWxsPT0odD10aGlzLmxyKXx8dC5jYWxsKHRoaXMpLHRoaXMubHI9dm9pZCAwLG51bGw9PShpPXRoaXMuc3IpfHxpLnN0b3AoKX12cigpe3ZhciB0O251bGw9PSh0PXRoaXMuX2luc3RhbmNlLnBlcnNpc3RlbmNlKXx8dC51bnJlZ2lzdGVyKHNpKX1jcih0KXtpZih0aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZSl7dmFyIGksZSxyPXRoaXMuX2luc3RhbmNlLnBlcnNpc3RlbmNlLHM9KCk9Pnt2YXIgaT0hMT09PXQuc2Vzc2lvblJlY29yZGluZz92b2lkIDA6dC5zZXNzaW9uUmVjb3JkaW5nLGU9bnVsbD09aT92b2lkIDA6aS5zYW1wbGVSYXRlLHM9aihlKT9udWxsOnBhcnNlRmxvYXQoZSk7aihzKSYmdGhpcy52cigpO3ZhciBuPW51bGw9PWk/dm9pZCAwOmkubWluaW11bUR1cmF0aW9uTWlsbGlzZWNvbmRzO3IucmVnaXN0ZXIoe1tlaV06Zyh7ZW5hYmxlZDohIWl9LGkse25ldHdvcmtQYXlsb2FkQ2FwdHVyZTpnKHtjYXB0dXJlUGVyZm9ybWFuY2U6dC5jYXB0dXJlUGVyZm9ybWFuY2V9LG51bGw9PWk/dm9pZCAwOmkubmV0d29ya1BheWxvYWRDYXB0dXJlKSxjYW52YXNSZWNvcmRpbmc6e2VuYWJsZWQ6bnVsbD09aT92b2lkIDA6aS5yZWNvcmRDYW52YXMsZnBzOm51bGw9PWk/dm9pZCAwOmkuY2FudmFzRnBzLHF1YWxpdHk6bnVsbD09aT92b2lkIDA6aS5jYW52YXNRdWFsaXR5fSxzYW1wbGVSYXRlOnMsbWluaW11bUR1cmF0aW9uTWlsbGlzZWNvbmRzOkYobik/bnVsbDpuLGVuZHBvaW50Om51bGw9PWk/dm9pZCAwOmkuZW5kcG9pbnQsdHJpZ2dlck1hdGNoVHlwZTpudWxsPT1pP3ZvaWQgMDppLnRyaWdnZXJNYXRjaFR5cGUsbWFza2luZzpudWxsPT1pP3ZvaWQgMDppLm1hc2tpbmcsdXJsVHJpZ2dlcnM6bnVsbD09aT92b2lkIDA6aS51cmxUcmlnZ2Vyc30pfSl9O3MoKSxudWxsPT0oaT10aGlzLmxyKXx8aS5jYWxsKHRoaXMpLHRoaXMubHI9bnVsbD09KGU9dGhpcy5faW5zdGFuY2Uuc2Vzc2lvbk1hbmFnZXIpP3ZvaWQgMDplLm9uU2Vzc2lvbklkKHMpfX1vblJlbW90ZUNvbmZpZyh0KXtcInNlc3Npb25SZWNvcmRpbmdcImluIHQ/ITEhPT10LnNlc3Npb25SZWNvcmRpbmc/KHRoaXMuY3IodCksdGhpcy5ucj0hMCx0aGlzLnN0YXJ0SWZFbmFibGVkT3JTdG9wKCkpOnRoaXMubnI9ITA6Ym8uaW5mbyhcInNraXBwaW5nIHJlbW90ZSBjb25maWcgd2l0aCBubyBzZXNzaW9uUmVjb3JkaW5nXCIsdCl9bG9nKHQsaSl7dmFyIGU7dm9pZCAwPT09aSYmKGk9XCJsb2dcIiksbnVsbCE9KGU9dGhpcy5zcikmJmUubG9nP3RoaXMuc3IubG9nKHQsaSk6Ym8ud2FybihcImxvZyBjYWxsZWQgYmVmb3JlIHJlY29yZGVyIHdhcyByZWFkeVwiKX1nZXQgZHIoKXt2YXIgdCxpLGU9bnVsbD09KHQ9dGhpcy5faW5zdGFuY2UpfHxudWxsPT0odD10LnBlcnNpc3RlbmNlKT92b2lkIDA6dC5nZXRfcHJvcGVydHkoZWkpO3JldHVybihudWxsPT1lfHxudWxsPT0oaT1lLnNjcmlwdENvbmZpZyk/dm9pZCAwOmkuc2NyaXB0KXx8XCJsYXp5LXJlY29yZGVyXCJ9aHIodCl7dmFyIGksZTtpZihudWxsPT0oaT12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXyl8fCFpLmluaXRTZXNzaW9uUmVjb3JkaW5nKXRocm93IEVycm9yKFwiQ2FsbGVkIG9uIHNjcmlwdCBsb2FkZWQgYmVmb3JlIHNlc3Npb24gcmVjb3JkaW5nIGlzIGF2YWlsYWJsZVwiKTt0aGlzLnNyfHwodGhpcy5zcj1udWxsPT0oZT12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXyk/dm9pZCAwOmUuaW5pdFNlc3Npb25SZWNvcmRpbmcodGhpcy5faW5zdGFuY2UpLHRoaXMuc3IuX2ZvcmNlQWxsb3dMb2NhbGhvc3ROZXR3b3JrQ2FwdHVyZT10aGlzLl9mb3JjZUFsbG93TG9jYWxob3N0TmV0d29ya0NhcHR1cmUpO3RoaXMuc3Iuc3RhcnQodCl9b25SUndlYkVtaXQodCl7dmFyIGk7bnVsbD09KGk9dGhpcy5zcil8fG51bGw9PWkub25SUndlYkVtaXR8fGkub25SUndlYkVtaXQodCl9b3ZlcnJpZGVMaW5rZWRGbGFnKCl7dmFyIHQsaTt0aGlzLnNyfHwobnVsbD09KGk9dGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UpfHxpLnJlZ2lzdGVyKHskcmVwbGF5X292ZXJyaWRlX2xpbmtlZF9mbGFnOiEwfSkpO251bGw9PSh0PXRoaXMuc3IpfHx0Lm92ZXJyaWRlTGlua2VkRmxhZygpfW92ZXJyaWRlU2FtcGxpbmcoKXt2YXIgdCxpO3RoaXMuc3J8fChudWxsPT0oaT10aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZSl8fGkucmVnaXN0ZXIoeyRyZXBsYXlfb3ZlcnJpZGVfc2FtcGxpbmc6ITB9KSk7bnVsbD09KHQ9dGhpcy5zcil8fHQub3ZlcnJpZGVTYW1wbGluZygpfW92ZXJyaWRlVHJpZ2dlcih0KXt2YXIgaSxlO3RoaXMuc3J8fChudWxsPT0oZT10aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZSl8fGUucmVnaXN0ZXIoe1tcInVybFwiPT09dD9cIiRyZXBsYXlfb3ZlcnJpZGVfdXJsX3RyaWdnZXJcIjpcIiRyZXBsYXlfb3ZlcnJpZGVfZXZlbnRfdHJpZ2dlclwiXTohMH0pKTtudWxsPT0oaT10aGlzLnNyKXx8aS5vdmVycmlkZVRyaWdnZXIodCl9Z2V0IHNka0RlYnVnUHJvcGVydGllcygpe3ZhciB0O3JldHVybihudWxsPT0odD10aGlzLnNyKT92b2lkIDA6dC5zZGtEZWJ1Z1Byb3BlcnRpZXMpfHx7JHJlY29yZGluZ19zdGF0dXM6dGhpcy5zdGF0dXN9fXRyeUFkZEN1c3RvbUV2ZW50KHQsaSl7dmFyIGU7cmV0dXJuIShudWxsPT0oZT10aGlzLnNyKXx8IWUudHJ5QWRkQ3VzdG9tRXZlbnQodCxpKSl9fXZhciB4bz17fSwkbz0oKT0+e30sU289XCJwb3N0aG9nXCIsRW89IXNuJiYtMT09PShudWxsPT1kP3ZvaWQgMDpkLmluZGV4T2YoXCJNU0lFXCIpKSYmLTE9PT0obnVsbD09ZD92b2lkIDA6ZC5pbmRleE9mKFwiTW96aWxsYVwiKSksa289aT0+e3ZhciBlO3JldHVybnthcGlfaG9zdDpcImh0dHBzOi8vdXMuaS5wb3N0aG9nLmNvbVwiLGZsYWdzX2FwaV9ob3N0Om51bGwsdWlfaG9zdDpudWxsLHRva2VuOlwiXCIsYXV0b2NhcHR1cmU6ITAscmFnZWNsaWNrOiEwLGNyb3NzX3N1YmRvbWFpbl9jb29raWU6SHQobnVsbD09bz92b2lkIDA6by5sb2NhdGlvbikscGVyc2lzdGVuY2U6XCJsb2NhbFN0b3JhZ2UrY29va2llXCIscGVyc2lzdGVuY2VfbmFtZTpcIlwiLGxvYWRlZDokbyxzYXZlX2NhbXBhaWduX3BhcmFtczohMCxjdXN0b21fY2FtcGFpZ25fcGFyYW1zOltdLGN1c3RvbV9ibG9ja2VkX3VzZXJhZ2VudHM6W10sc2F2ZV9yZWZlcnJlcjohMCxjYXB0dXJlX3BhZ2V2aWV3OlwiMjAyNS0wNS0yNFwiIT09aXx8XCJoaXN0b3J5X2NoYW5nZVwiLGNhcHR1cmVfcGFnZWxlYXZlOlwiaWZfY2FwdHVyZV9wYWdldmlld1wiLGRlZmF1bHRzOm51bGwhPWk/aTpcInVuc2V0XCIsX19wcmV2aWV3X2RlZmVycmVkX2luaXRfZXh0ZW5zaW9uczohMSxkZWJ1ZzphJiZNKG51bGw9PWE/dm9pZCAwOmEuc2VhcmNoKSYmLTEhPT1hLnNlYXJjaC5pbmRleE9mKFwiX19wb3N0aG9nX2RlYnVnPXRydWVcIil8fCExLGNvb2tpZV9leHBpcmF0aW9uOjM2NSx1cGdyYWRlOiExLGRpc2FibGVfc2Vzc2lvbl9yZWNvcmRpbmc6ITEsZGlzYWJsZV9wZXJzaXN0ZW5jZTohMSxkaXNhYmxlX3dlYl9leHBlcmltZW50czohMCxkaXNhYmxlX3N1cnZleXM6ITEsZGlzYWJsZV9zdXJ2ZXlzX2F1dG9tYXRpY19kaXNwbGF5OiExLGRpc2FibGVfZXh0ZXJuYWxfZGVwZW5kZW5jeV9sb2FkaW5nOiExLGVuYWJsZV9yZWNvcmRpbmdfY29uc29sZV9sb2c6dm9pZCAwLHNlY3VyZV9jb29raWU6XCJodHRwczpcIj09PShudWxsPT10fHxudWxsPT0oZT10LmxvY2F0aW9uKT92b2lkIDA6ZS5wcm90b2NvbCksaXA6ITEsb3B0X291dF9jYXB0dXJpbmdfYnlfZGVmYXVsdDohMSxvcHRfb3V0X3BlcnNpc3RlbmNlX2J5X2RlZmF1bHQ6ITEsb3B0X291dF91c2VyYWdlbnRfZmlsdGVyOiExLG9wdF9vdXRfY2FwdHVyaW5nX3BlcnNpc3RlbmNlX3R5cGU6XCJsb2NhbFN0b3JhZ2VcIixjb25zZW50X3BlcnNpc3RlbmNlX25hbWU6bnVsbCxvcHRfb3V0X2NhcHR1cmluZ19jb29raWVfcHJlZml4Om51bGwsb3B0X2luX3NpdGVfYXBwczohMSxwcm9wZXJ0eV9kZW55bGlzdDpbXSxyZXNwZWN0X2RudDohMSxzYW5pdGl6ZV9wcm9wZXJ0aWVzOm51bGwscmVxdWVzdF9oZWFkZXJzOnt9LHJlcXVlc3RfYmF0Y2hpbmc6ITAscHJvcGVydGllc19zdHJpbmdfbWF4X2xlbmd0aDo2NTUzNSxzZXNzaW9uX3JlY29yZGluZzp7fSxtYXNrX2FsbF9lbGVtZW50X2F0dHJpYnV0ZXM6ITEsbWFza19hbGxfdGV4dDohMSxtYXNrX3BlcnNvbmFsX2RhdGFfcHJvcGVydGllczohMSxjdXN0b21fcGVyc29uYWxfZGF0YV9wcm9wZXJ0aWVzOltdLGFkdmFuY2VkX2Rpc2FibGVfZmxhZ3M6ITEsYWR2YW5jZWRfZGlzYWJsZV9kZWNpZGU6ITEsYWR2YW5jZWRfZGlzYWJsZV9mZWF0dXJlX2ZsYWdzOiExLGFkdmFuY2VkX2Rpc2FibGVfZmVhdHVyZV9mbGFnc19vbl9maXJzdF9sb2FkOiExLGFkdmFuY2VkX29ubHlfZXZhbHVhdGVfc3VydmV5X2ZlYXR1cmVfZmxhZ3M6ITEsYWR2YW5jZWRfZW5hYmxlX3N1cnZleXM6ITEsYWR2YW5jZWRfZGlzYWJsZV90b29sYmFyX21ldHJpY3M6ITEsZmVhdHVyZV9mbGFnX3JlcXVlc3RfdGltZW91dF9tczozZTMsc3VydmV5c19yZXF1ZXN0X3RpbWVvdXRfbXM6MWU0LG9uX3JlcXVlc3RfZXJyb3I6dD0+e3ZhciBpPVwiQmFkIEhUVFAgc3RhdHVzOiBcIit0LnN0YXR1c0NvZGUrXCIgXCIrdC50ZXh0O1B0LmVycm9yKGkpfSxnZXRfZGV2aWNlX2lkOnQ9PnQsY2FwdHVyZV9wZXJmb3JtYW5jZTp2b2lkIDAsbmFtZTpcInBvc3Rob2dcIixib290c3RyYXA6e30sZGlzYWJsZV9jb21wcmVzc2lvbjohMSxzZXNzaW9uX2lkbGVfdGltZW91dF9zZWNvbmRzOjE4MDAscGVyc29uX3Byb2ZpbGVzOlwiaWRlbnRpZmllZF9vbmx5XCIsYmVmb3JlX3NlbmQ6dm9pZCAwLHJlcXVlc3RfcXVldWVfY29uZmlnOntmbHVzaF9pbnRlcnZhbF9tczpYbn0sZXJyb3JfdHJhY2tpbmc6e30sX29uQ2FwdHVyZTokbyxfX3ByZXZpZXdfZWFnZXJfbG9hZF9yZXBsYXk6ITF9fSxQbz10PT57dmFyIGk9e307Rih0LnByb2Nlc3NfcGVyc29uKXx8KGkucGVyc29uX3Byb2ZpbGVzPXQucHJvY2Vzc19wZXJzb24pLEYodC54aHJfaGVhZGVycyl8fChpLnJlcXVlc3RfaGVhZGVycz10Lnhocl9oZWFkZXJzKSxGKHQuY29va2llX25hbWUpfHwoaS5wZXJzaXN0ZW5jZV9uYW1lPXQuY29va2llX25hbWUpLEYodC5kaXNhYmxlX2Nvb2tpZSl8fChpLmRpc2FibGVfcGVyc2lzdGVuY2U9dC5kaXNhYmxlX2Nvb2tpZSksRih0LnN0b3JlX2dvb2dsZSl8fChpLnNhdmVfY2FtcGFpZ25fcGFyYW1zPXQuc3RvcmVfZ29vZ2xlKSxGKHQudmVyYm9zZSl8fChpLmRlYnVnPXQudmVyYm9zZSk7dmFyIGU9TXQoe30saSx0KTtyZXR1cm4gSSh0LnByb3BlcnR5X2JsYWNrbGlzdCkmJihGKHQucHJvcGVydHlfZGVueWxpc3QpP2UucHJvcGVydHlfZGVueWxpc3Q9dC5wcm9wZXJ0eV9ibGFja2xpc3Q6SSh0LnByb3BlcnR5X2RlbnlsaXN0KT9lLnByb3BlcnR5X2RlbnlsaXN0PVsuLi50LnByb3BlcnR5X2JsYWNrbGlzdCwuLi50LnByb3BlcnR5X2RlbnlsaXN0XTpQdC5lcnJvcihcIkludmFsaWQgdmFsdWUgZm9yIHByb3BlcnR5X2RlbnlsaXN0IGNvbmZpZzogXCIrdC5wcm9wZXJ0eV9kZW55bGlzdCkpLGV9O2NsYXNzIFRve2NvbnN0cnVjdG9yKCl7dGhpcy5fX2ZvcmNlQWxsb3dMb2NhbGhvc3Q9ITF9Z2V0IHByKCl7cmV0dXJuIHRoaXMuX19mb3JjZUFsbG93TG9jYWxob3N0fXNldCBwcih0KXtQdC5lcnJvcihcIldlYlBlcmZvcm1hbmNlT2JzZXJ2ZXIgaXMgZGVwcmVjYXRlZCBhbmQgaGFzIG5vIGltcGFjdCBvbiBuZXR3b3JrIGNhcHR1cmUuIFVzZSBgX2ZvcmNlQWxsb3dMb2NhbGhvc3ROZXR3b3JrQ2FwdHVyZWAgb24gYHBvc3Rob2cuc2Vzc2lvblJlY29yZGluZ2BcIiksdGhpcy5fX2ZvcmNlQWxsb3dMb2NhbGhvc3Q9dH19Y2xhc3MgSW97Z2V0IGRlY2lkZUVuZHBvaW50V2FzSGl0KCl7dmFyIHQsaTtyZXR1cm4gbnVsbCE9PSh0PW51bGw9PShpPXRoaXMuZmVhdHVyZUZsYWdzKT92b2lkIDA6aS5oYXNMb2FkZWRGbGFncykmJnZvaWQgMCE9PXQmJnR9Z2V0IGZsYWdzRW5kcG9pbnRXYXNIaXQoKXt2YXIgdCxpO3JldHVybiBudWxsIT09KHQ9bnVsbD09KGk9dGhpcy5mZWF0dXJlRmxhZ3MpP3ZvaWQgMDppLmhhc0xvYWRlZEZsYWdzKSYmdm9pZCAwIT09dCYmdH1jb25zdHJ1Y3Rvcigpe3RoaXMud2ViUGVyZm9ybWFuY2U9bmV3IFRvLHRoaXMuZ3I9ITEsdGhpcy52ZXJzaW9uPWMuTElCX1ZFUlNJT04sdGhpcy5fcj1uZXcgam4sdGhpcy5fY2FsY3VsYXRlX2V2ZW50X3Byb3BlcnRpZXM9dGhpcy5jYWxjdWxhdGVFdmVudFByb3BlcnRpZXMuYmluZCh0aGlzKSx0aGlzLmNvbmZpZz1rbygpLHRoaXMuU2VudHJ5SW50ZWdyYXRpb249WWUsdGhpcy5zZW50cnlJbnRlZ3JhdGlvbj10PT5mdW5jdGlvbih0LGkpe3ZhciBlPUtlKHQsaSk7cmV0dXJue25hbWU6SmUscHJvY2Vzc0V2ZW50OnQ9PmUodCl9fSh0aGlzLHQpLHRoaXMuX19yZXF1ZXN0X3F1ZXVlPVtdLHRoaXMuX19sb2FkZWQ9ITEsdGhpcy5hbmFseXRpY3NEZWZhdWx0RW5kcG9pbnQ9XCIvZS9cIix0aGlzLm1yPSExLHRoaXMueXI9bnVsbCx0aGlzLmJyPW51bGwsdGhpcy53cj1udWxsLHRoaXMuZmVhdHVyZUZsYWdzPW5ldyBFbih0aGlzKSx0aGlzLnRvb2xiYXI9bmV3IGlyKHRoaXMpLHRoaXMuc2Nyb2xsTWFuYWdlcj1uZXcgaW8odGhpcyksdGhpcy5wYWdlVmlld01hbmFnZXI9bmV3IHdzKHRoaXMpLHRoaXMuc3VydmV5cz1uZXcgR24odGhpcyksdGhpcy5leHBlcmltZW50cz1uZXcgcG8odGhpcyksdGhpcy5leGNlcHRpb25zPW5ldyBwbih0aGlzKSx0aGlzLnJhdGVMaW1pdGVyPW5ldyBKbih0aGlzKSx0aGlzLnJlcXVlc3RSb3V0ZXI9bmV3IGNvKHRoaXMpLHRoaXMuY29uc2VudD1uZXcgamUodGhpcyksdGhpcy5leHRlcm5hbEludGVncmF0aW9ucz1uZXcgbW8odGhpcyksdGhpcy5wZW9wbGU9e3NldDoodCxpLGUpPT57dmFyIHI9TSh0KT97W3RdOml9OnQ7dGhpcy5zZXRQZXJzb25Qcm9wZXJ0aWVzKHIpLG51bGw9PWV8fGUoe30pfSxzZXRfb25jZToodCxpLGUpPT57dmFyIHI9TSh0KT97W3RdOml9OnQ7dGhpcy5zZXRQZXJzb25Qcm9wZXJ0aWVzKHZvaWQgMCxyKSxudWxsPT1lfHxlKHt9KX19LHRoaXMub24oXCJldmVudENhcHR1cmVkXCIsKHQ9PlB0LmluZm8oJ3NlbmQgXCInKyhudWxsPT10P3ZvaWQgMDp0LmV2ZW50KSsnXCInLHQpKSl9aW5pdCh0LGksZSl7aWYoZSYmZSE9PVNvKXt2YXIgcixzPW51bGwhPT0ocj14b1tlXSkmJnZvaWQgMCE9PXI/cjpuZXcgSW87cmV0dXJuIHMuX2luaXQodCxpLGUpLHhvW2VdPXMseG9bU29dW2VdPXMsc31yZXR1cm4gdGhpcy5faW5pdCh0LGksZSl9X2luaXQoaSxlLHIpe3ZhciBzO2lmKHZvaWQgMD09PWUmJihlPXt9KSxGKGkpfHxBKGkpKXJldHVybiBQdC5jcml0aWNhbChcIlBvc3RIb2cgd2FzIGluaXRpYWxpemVkIHdpdGhvdXQgYSB0b2tlbi4gVGhpcyBsaWtlbHkgaW5kaWNhdGVzIGEgbWlzY29uZmlndXJhdGlvbi4gUGxlYXNlIGNoZWNrIHRoZSBmaXJzdCBhcmd1bWVudCBwYXNzZWQgdG8gcG9zdGhvZy5pbml0KClcIiksdGhpcztpZih0aGlzLl9fbG9hZGVkKXJldHVybiBjb25zb2xlLndhcm4oXCJbUG9zdEhvZy5qc11cIixcIllvdSBoYXZlIGFscmVhZHkgaW5pdGlhbGl6ZWQgUG9zdEhvZyEgUmUtaW5pdGlhbGl6aW5nIGlzIGEgbm8tb3BcIiksdGhpczt0aGlzLl9fbG9hZGVkPSEwLHRoaXMuY29uZmlnPXt9LGUuZGVidWc9dGhpcy4kcihlLmRlYnVnKSx0aGlzLlNyPWUsdGhpcy5Fcj1bXSxlLnBlcnNvbl9wcm9maWxlcyYmKHRoaXMuYnI9ZS5wZXJzb25fcHJvZmlsZXMpLHRoaXMuc2V0X2NvbmZpZyhNdCh7fSxrbyhlLmRlZmF1bHRzKSxQbyhlKSx7bmFtZTpyLHRva2VuOml9KSksdGhpcy5jb25maWcub25feGhyX2Vycm9yJiZQdC5lcnJvcihcIm9uX3hocl9lcnJvciBpcyBkZXByZWNhdGVkLiBVc2Ugb25fcmVxdWVzdF9lcnJvciBpbnN0ZWFkXCIpLHRoaXMuY29tcHJlc3Npb249ZS5kaXNhYmxlX2NvbXByZXNzaW9uP3ZvaWQgMDpyZS5HWmlwSlM7dmFyIG49dGhpcy5rcigpO3RoaXMucGVyc2lzdGVuY2U9bmV3IFBuKHRoaXMuY29uZmlnLG4pLHRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlPVwic2Vzc2lvblN0b3JhZ2VcIj09PXRoaXMuY29uZmlnLnBlcnNpc3RlbmNlfHxcIm1lbW9yeVwiPT09dGhpcy5jb25maWcucGVyc2lzdGVuY2U/dGhpcy5wZXJzaXN0ZW5jZTpuZXcgUG4oZyh7fSx0aGlzLmNvbmZpZyx7cGVyc2lzdGVuY2U6XCJzZXNzaW9uU3RvcmFnZVwifSksbik7dmFyIG89Zyh7fSx0aGlzLnBlcnNpc3RlbmNlLnByb3BzKSxhPWcoe30sdGhpcy5zZXNzaW9uUGVyc2lzdGVuY2UucHJvcHMpO3RoaXMucmVnaXN0ZXIoeyRpbml0aWFsaXphdGlvbl90aW1lOihuZXcgRGF0ZSkudG9JU09TdHJpbmcoKX0pLHRoaXMuUHI9bmV3IFFuKCh0PT50aGlzLlRyKHQpKSx0aGlzLmNvbmZpZy5yZXF1ZXN0X3F1ZXVlX2NvbmZpZyksdGhpcy5Jcj1uZXcgdG8odGhpcyksdGhpcy5fX3JlcXVlc3RfcXVldWU9W107dmFyIGw9XCJhbHdheXNcIj09PXRoaXMuY29uZmlnLmNvb2tpZWxlc3NfbW9kZXx8XCJvbl9yZWplY3RcIj09PXRoaXMuY29uZmlnLmNvb2tpZWxlc3NfbW9kZSYmdGhpcy5jb25zZW50LmlzRXhwbGljaXRseU9wdGVkT3V0KCk7aWYobHx8KHRoaXMuc2Vzc2lvbk1hbmFnZXI9bmV3IG5vKHRoaXMpLHRoaXMuc2Vzc2lvblByb3BzTWFuYWdlcj1uZXcgcm8odGhpcyx0aGlzLnNlc3Npb25NYW5hZ2VyLHRoaXMucGVyc2lzdGVuY2UpKSx0aGlzLmNvbmZpZy5fX3ByZXZpZXdfZGVmZXJyZWRfaW5pdF9leHRlbnNpb25zPyhQdC5pbmZvKFwiRGVmZXJyaW5nIGV4dGVuc2lvbiBpbml0aWFsaXphdGlvbiB0byBpbXByb3ZlIHN0YXJ0dXAgcGVyZm9ybWFuY2VcIiksc2V0VGltZW91dCgoKCk9Pnt0aGlzLlJyKGwpfSksMCkpOihQdC5pbmZvKFwiSW5pdGlhbGl6aW5nIGV4dGVuc2lvbnMgc3luY2hyb25vdXNseVwiKSx0aGlzLlJyKGwpKSxjLkRFQlVHPWMuREVCVUd8fHRoaXMuY29uZmlnLmRlYnVnLGMuREVCVUcmJlB0LmluZm8oXCJTdGFydGluZyBpbiBkZWJ1ZyBtb2RlXCIse3RoaXM6dGhpcyxjb25maWc6ZSx0aGlzQzpnKHt9LHRoaXMuY29uZmlnKSxwOm8sczphfSksdm9pZCAwIT09KG51bGw9PShzPWUuYm9vdHN0cmFwKT92b2lkIDA6cy5kaXN0aW5jdElEKSl7dmFyIHUsaCxkPXRoaXMuY29uZmlnLmdldF9kZXZpY2VfaWQoeGUoKSksdj1udWxsIT0odT1lLmJvb3RzdHJhcCkmJnUuaXNJZGVudGlmaWVkSUQ/ZDplLmJvb3RzdHJhcC5kaXN0aW5jdElEO3RoaXMucGVyc2lzdGVuY2Uuc2V0X3Byb3BlcnR5KGNpLG51bGwhPShoPWUuYm9vdHN0cmFwKSYmaC5pc0lkZW50aWZpZWRJRD9cImlkZW50aWZpZWRcIjpcImFub255bW91c1wiKSx0aGlzLnJlZ2lzdGVyKHtkaXN0aW5jdF9pZDplLmJvb3RzdHJhcC5kaXN0aW5jdElELCRkZXZpY2VfaWQ6dn0pfWlmKHRoaXMuQ3IoKSl7dmFyIGYscCxfPU9iamVjdC5rZXlzKChudWxsPT0oZj1lLmJvb3RzdHJhcCk/dm9pZCAwOmYuZmVhdHVyZUZsYWdzKXx8e30pLmZpbHRlcigodD0+e3ZhciBpO3JldHVybiEobnVsbD09KGk9ZS5ib290c3RyYXApfHxudWxsPT0oaT1pLmZlYXR1cmVGbGFncyl8fCFpW3RdKX0pKS5yZWR1Y2UoKCh0LGkpPT57dmFyIHI7cmV0dXJuIHRbaV09KG51bGw9PShyPWUuYm9vdHN0cmFwKXx8bnVsbD09KHI9ci5mZWF0dXJlRmxhZ3MpP3ZvaWQgMDpyW2ldKXx8ITEsdH0pLHt9KSxtPU9iamVjdC5rZXlzKChudWxsPT0ocD1lLmJvb3RzdHJhcCk/dm9pZCAwOnAuZmVhdHVyZUZsYWdQYXlsb2Fkcyl8fHt9KS5maWx0ZXIoKHQ9Pl9bdF0pKS5yZWR1Y2UoKCh0LGkpPT57dmFyIHIscztudWxsIT0ocj1lLmJvb3RzdHJhcCkmJm51bGwhPShyPXIuZmVhdHVyZUZsYWdQYXlsb2FkcykmJnJbaV0mJih0W2ldPW51bGw9PShzPWUuYm9vdHN0cmFwKXx8bnVsbD09KHM9cy5mZWF0dXJlRmxhZ1BheWxvYWRzKT92b2lkIDA6c1tpXSk7cmV0dXJuIHR9KSx7fSk7dGhpcy5mZWF0dXJlRmxhZ3MucmVjZWl2ZWRGZWF0dXJlRmxhZ3Moe2ZlYXR1cmVGbGFnczpfLGZlYXR1cmVGbGFnUGF5bG9hZHM6bX0pfWlmKGwpdGhpcy5yZWdpc3Rlcl9vbmNlKHtkaXN0aW5jdF9pZDp3aSwkZGV2aWNlX2lkOm51bGx9LFwiXCIpO2Vsc2UgaWYoIXRoaXMuZ2V0X2Rpc3RpbmN0X2lkKCkpe3ZhciB5PXRoaXMuY29uZmlnLmdldF9kZXZpY2VfaWQoeGUoKSk7dGhpcy5yZWdpc3Rlcl9vbmNlKHtkaXN0aW5jdF9pZDp5LCRkZXZpY2VfaWQ6eX0sXCJcIiksdGhpcy5wZXJzaXN0ZW5jZS5zZXRfcHJvcGVydHkoY2ksXCJhbm9ueW1vdXNcIil9cmV0dXJuIHF0KHQsXCJvbnBhZ2VoaWRlXCJpbiBzZWxmP1wicGFnZWhpZGVcIjpcInVubG9hZFwiLHRoaXMuX2hhbmRsZV91bmxvYWQuYmluZCh0aGlzKSx7cGFzc2l2ZTohMX0pLHRoaXMudG9vbGJhci5tYXliZUxvYWRUb29sYmFyKCksZS5zZWdtZW50P1ZlKHRoaXMsKCgpPT50aGlzLk9yKCkpKTp0aGlzLk9yKCksUih0aGlzLmNvbmZpZy5fb25DYXB0dXJlKSYmdGhpcy5jb25maWcuX29uQ2FwdHVyZSE9PSRvJiYoUHQud2FybihcIm9uQ2FwdHVyZSBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIGBiZWZvcmVfc2VuZGAgaW5zdGVhZFwiKSx0aGlzLm9uKFwiZXZlbnRDYXB0dXJlZFwiLCh0PT50aGlzLmNvbmZpZy5fb25DYXB0dXJlKHQuZXZlbnQsdCkpKSksdGhpcy5jb25maWcuaXAmJlB0Lndhcm4oJ1RoZSBgaXBgIGNvbmZpZyBvcHRpb24gaGFzIE5PIEVGRkVDVCBBVCBBTEwgYW5kIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSBhIGN1c3RvbSB0cmFuc2Zvcm1hdGlvbiBvciBcIkRpc2NhcmQgSVAgZGF0YVwiIHByb2plY3Qgc2V0dGluZyBpbnN0ZWFkLiBTZWUgaHR0cHM6Ly9wb3N0aG9nLmNvbS90dXRvcmlhbHMvd2ViLXJlZGFjdC1wcm9wZXJ0aWVzI2hpZGluZy1jdXN0b21lci1pcC1hZGRyZXNzIGZvciBtb3JlIGluZm9ybWF0aW9uLicpLHRoaXN9UnIodCl7dmFyIGk9cGVyZm9ybWFuY2Uubm93KCk7dGhpcy5oaXN0b3J5QXV0b2NhcHR1cmU9bmV3IFdlKHRoaXMpLHRoaXMuaGlzdG9yeUF1dG9jYXB0dXJlLnN0YXJ0SWZFbmFibGVkKCk7dmFyIGU9W107ZS5wdXNoKCgoKT0+e25ldyBycih0aGlzKS5zdGFydElmRW5hYmxlZE9yU3RvcCgpfSkpLGUucHVzaCgoKCk9Pnt2YXIgdDt0aGlzLnNpdGVBcHBzPW5ldyBsbyh0aGlzKSxudWxsPT0odD10aGlzLnNpdGVBcHBzKXx8dC5pbml0KCl9KSksdHx8ZS5wdXNoKCgoKT0+e3RoaXMuc2Vzc2lvblJlY29yZGluZz1uZXcgd28odGhpcyksdGhpcy5zZXNzaW9uUmVjb3JkaW5nLnN0YXJ0SWZFbmFibGVkT3JTdG9wKCl9KSksdGhpcy5jb25maWcuZGlzYWJsZV9zY3JvbGxfcHJvcGVydGllc3x8ZS5wdXNoKCgoKT0+e3RoaXMuc2Nyb2xsTWFuYWdlci5zdGFydE1lYXN1cmluZ1Njcm9sbFBvc2l0aW9uKCl9KSksZS5wdXNoKCgoKT0+e3RoaXMuYXV0b2NhcHR1cmU9bmV3IHBlKHRoaXMpLHRoaXMuYXV0b2NhcHR1cmUuc3RhcnRJZkVuYWJsZWQoKX0pKSxlLnB1c2goKCgpPT57dGhpcy5zdXJ2ZXlzLmxvYWRJZkVuYWJsZWQoKX0pKSxlLnB1c2goKCgpPT57dGhpcy5oZWF0bWFwcz1uZXcgYnModGhpcyksdGhpcy5oZWF0bWFwcy5zdGFydElmRW5hYmxlZCgpfSkpLGUucHVzaCgoKCk9Pnt0aGlzLndlYlZpdGFsc0F1dG9jYXB0dXJlPW5ldyBfcyh0aGlzKX0pKSxlLnB1c2goKCgpPT57dGhpcy5leGNlcHRpb25PYnNlcnZlcj1uZXcgQmUodGhpcyksdGhpcy5leGNlcHRpb25PYnNlcnZlci5zdGFydElmRW5hYmxlZCgpfSkpLGUucHVzaCgoKCk9Pnt0aGlzLmRlYWRDbGlja3NBdXRvY2FwdHVyZT1uZXcgemUodGhpcyxVZSksdGhpcy5kZWFkQ2xpY2tzQXV0b2NhcHR1cmUuc3RhcnRJZkVuYWJsZWQoKX0pKSxlLnB1c2goKCgpPT57aWYodGhpcy5Gcil7dmFyIHQ9dGhpcy5Gcjt0aGlzLkZyPXZvaWQgMCx0aGlzLmZpKHQpfX0pKSx0aGlzLk1yKGUsaSl9TXIodCxpKXtmb3IoO3QubGVuZ3RoPjA7KXtpZih0aGlzLmNvbmZpZy5fX3ByZXZpZXdfZGVmZXJyZWRfaW5pdF9leHRlbnNpb25zKWlmKHBlcmZvcm1hbmNlLm5vdygpLWk+PTMwJiZ0Lmxlbmd0aD4wKXJldHVybiB2b2lkIHNldFRpbWVvdXQoKCgpPT57dGhpcy5Ncih0LGkpfSksMCk7dmFyIGU9dC5zaGlmdCgpO2lmKGUpdHJ5e2UoKX1jYXRjaCh0KXtQdC5lcnJvcihcIkVycm9yIGluaXRpYWxpemluZyBleHRlbnNpb246XCIsdCl9fXZhciByPU1hdGgucm91bmQocGVyZm9ybWFuY2Uubm93KCktaSk7dGhpcy5yZWdpc3Rlcl9mb3Jfc2Vzc2lvbih7JHNka19kZWJ1Z19leHRlbnNpb25zX2luaXRfbWV0aG9kOnRoaXMuY29uZmlnLl9fcHJldmlld19kZWZlcnJlZF9pbml0X2V4dGVuc2lvbnM/XCJkZWZlcnJlZFwiOlwic3luY2hyb25vdXNcIiwkc2RrX2RlYnVnX2V4dGVuc2lvbnNfaW5pdF90aW1lX21zOnJ9KSx0aGlzLmNvbmZpZy5fX3ByZXZpZXdfZGVmZXJyZWRfaW5pdF9leHRlbnNpb25zJiZQdC5pbmZvKFwiUG9zdEhvZyBleHRlbnNpb25zIGluaXRpYWxpemVkIChcIityK1wibXMpXCIpfWZpKHQpe3ZhciBpLGUscixzLG4sYSxsLHU7aWYoIW98fCFvLmJvZHkpcmV0dXJuIFB0LmluZm8oXCJkb2N1bWVudCBub3QgcmVhZHkgeWV0LCB0cnlpbmcgYWdhaW4gaW4gNTAwIG1pbGxpc2Vjb25kcy4uLlwiKSx2b2lkIHNldFRpbWVvdXQoKCgpPT57dGhpcy5maSh0KX0pLDUwMCk7dGhpcy5jb25maWcuX19wcmV2aWV3X2RlZmVycmVkX2luaXRfZXh0ZW5zaW9ucyYmKHRoaXMuRnI9dCksdGhpcy5jb21wcmVzc2lvbj12b2lkIDAsdC5zdXBwb3J0ZWRDb21wcmVzc2lvbiYmIXRoaXMuY29uZmlnLmRpc2FibGVfY29tcHJlc3Npb24mJih0aGlzLmNvbXByZXNzaW9uPXcodC5zdXBwb3J0ZWRDb21wcmVzc2lvbixyZS5HWmlwSlMpP3JlLkdaaXBKUzp3KHQuc3VwcG9ydGVkQ29tcHJlc3Npb24scmUuQmFzZTY0KT9yZS5CYXNlNjQ6dm9pZCAwKSxudWxsIT0oaT10LmFuYWx5dGljcykmJmkuZW5kcG9pbnQmJih0aGlzLmFuYWx5dGljc0RlZmF1bHRFbmRwb2ludD10LmFuYWx5dGljcy5lbmRwb2ludCksdGhpcy5zZXRfY29uZmlnKHtwZXJzb25fcHJvZmlsZXM6dGhpcy5icj90aGlzLmJyOlwiaWRlbnRpZmllZF9vbmx5XCJ9KSxudWxsPT0oZT10aGlzLnNpdGVBcHBzKXx8ZS5vblJlbW90ZUNvbmZpZyh0KSxudWxsPT0ocj10aGlzLnNlc3Npb25SZWNvcmRpbmcpfHxyLm9uUmVtb3RlQ29uZmlnKHQpLG51bGw9PShzPXRoaXMuYXV0b2NhcHR1cmUpfHxzLm9uUmVtb3RlQ29uZmlnKHQpLG51bGw9PShuPXRoaXMuaGVhdG1hcHMpfHxuLm9uUmVtb3RlQ29uZmlnKHQpLHRoaXMuc3VydmV5cy5vblJlbW90ZUNvbmZpZyh0KSxudWxsPT0oYT10aGlzLndlYlZpdGFsc0F1dG9jYXB0dXJlKXx8YS5vblJlbW90ZUNvbmZpZyh0KSxudWxsPT0obD10aGlzLmV4Y2VwdGlvbk9ic2VydmVyKXx8bC5vblJlbW90ZUNvbmZpZyh0KSx0aGlzLmV4Y2VwdGlvbnMub25SZW1vdGVDb25maWcodCksbnVsbD09KHU9dGhpcy5kZWFkQ2xpY2tzQXV0b2NhcHR1cmUpfHx1Lm9uUmVtb3RlQ29uZmlnKHQpfU9yKCl7dHJ5e3RoaXMuY29uZmlnLmxvYWRlZCh0aGlzKX1jYXRjaCh0KXtQdC5jcml0aWNhbChcImBsb2FkZWRgIGZ1bmN0aW9uIGZhaWxlZFwiLHQpfXRoaXMuQXIoKSx0aGlzLmNvbmZpZy5jYXB0dXJlX3BhZ2V2aWV3JiZzZXRUaW1lb3V0KCgoKT0+eyh0aGlzLmNvbnNlbnQuaXNPcHRlZEluKCl8fFwiYWx3YXlzXCI9PT10aGlzLmNvbmZpZy5jb29raWVsZXNzX21vZGUpJiZ0aGlzLkRyKCl9KSwxKSxuZXcgWW4odGhpcykubG9hZCgpLHRoaXMuZmVhdHVyZUZsYWdzLmZsYWdzKCl9QXIoKXt2YXIgdDt0aGlzLmlzX2NhcHR1cmluZygpJiYodGhpcy5jb25maWcucmVxdWVzdF9iYXRjaGluZyYmKG51bGw9PSh0PXRoaXMuUHIpfHx0LmVuYWJsZSgpKSl9X2RvbV9sb2FkZWQoKXt0aGlzLmlzX2NhcHR1cmluZygpJiZPdCh0aGlzLl9fcmVxdWVzdF9xdWV1ZSwodD0+dGhpcy5Ucih0KSkpLHRoaXMuX19yZXF1ZXN0X3F1ZXVlPVtdLHRoaXMuQXIoKX1faGFuZGxlX3VubG9hZCgpe3ZhciB0LGk7dGhpcy5jb25maWcucmVxdWVzdF9iYXRjaGluZz8odGhpcy5qcigpJiZ0aGlzLmNhcHR1cmUoXCIkcGFnZWxlYXZlXCIpLG51bGw9PSh0PXRoaXMuUHIpfHx0LnVubG9hZCgpLG51bGw9PShpPXRoaXMuSXIpfHxpLnVubG9hZCgpKTp0aGlzLmpyKCkmJnRoaXMuY2FwdHVyZShcIiRwYWdlbGVhdmVcIixudWxsLHt0cmFuc3BvcnQ6XCJzZW5kQmVhY29uXCJ9KX1jaSh0KXt0aGlzLl9fbG9hZGVkJiYoRW8/dGhpcy5fX3JlcXVlc3RfcXVldWUucHVzaCh0KTp0aGlzLnJhdGVMaW1pdGVyLmlzU2VydmVyUmF0ZUxpbWl0ZWQodC5iYXRjaEtleSl8fCh0LnRyYW5zcG9ydD10LnRyYW5zcG9ydHx8dGhpcy5jb25maWcuYXBpX3RyYW5zcG9ydCx0LnVybD1vbih0LnVybCx7aXA6dGhpcy5jb25maWcuaXA/MTowfSksdC5oZWFkZXJzPWcoe30sdGhpcy5jb25maWcucmVxdWVzdF9oZWFkZXJzKSx0LmNvbXByZXNzaW9uPVwiYmVzdC1hdmFpbGFibGVcIj09PXQuY29tcHJlc3Npb24/dGhpcy5jb21wcmVzc2lvbjp0LmNvbXByZXNzaW9uLHQuZGlzYWJsZVhIUkNyZWRlbnRpYWxzPXRoaXMuY29uZmlnLl9fcHJldmlld19kaXNhYmxlX3hocl9jcmVkZW50aWFscyx0aGlzLmNvbmZpZy5fX3ByZXZpZXdfZGlzYWJsZV9iZWFjb24mJih0LmRpc2FibGVUcmFuc3BvcnQ9W1wic2VuZEJlYWNvblwiXSksdC5mZXRjaE9wdGlvbnM9dC5mZXRjaE9wdGlvbnN8fHRoaXMuY29uZmlnLmZldGNoX29wdGlvbnMsKHQ9Pnt2YXIgaSxlLHIscz1nKHt9LHQpO3MudGltZW91dD1zLnRpbWVvdXR8fDZlNCxzLnVybD1vbihzLnVybCx7XzoobmV3IERhdGUpLmdldFRpbWUoKS50b1N0cmluZygpLHZlcjpjLkxJQl9WRVJTSU9OLGNvbXByZXNzaW9uOnMuY29tcHJlc3Npb259KTt2YXIgbj1udWxsIT09KGk9cy50cmFuc3BvcnQpJiZ2b2lkIDAhPT1pP2k6XCJmZXRjaFwiLG89dW4uZmlsdGVyKCh0PT4hcy5kaXNhYmxlVHJhbnNwb3J0fHwhdC50cmFuc3BvcnR8fCFzLmRpc2FibGVUcmFuc3BvcnQuaW5jbHVkZXModC50cmFuc3BvcnQpKSksYT1udWxsIT09KGU9bnVsbD09KHI9QnQobywodD0+dC50cmFuc3BvcnQ9PT1uKSkpP3ZvaWQgMDpyLm1ldGhvZCkmJnZvaWQgMCE9PWU/ZTpvWzBdLm1ldGhvZDtpZighYSl0aHJvdyBuZXcgRXJyb3IoXCJObyBhdmFpbGFibGUgdHJhbnNwb3J0IG1ldGhvZFwiKTthKHMpfSkoZyh7fSx0LHtjYWxsYmFjazppPT57dmFyIGUscjsodGhpcy5yYXRlTGltaXRlci5jaGVja0ZvckxpbWl0aW5nKGkpLGkuc3RhdHVzQ29kZT49NDAwKSYmKG51bGw9PShlPShyPXRoaXMuY29uZmlnKS5vbl9yZXF1ZXN0X2Vycm9yKXx8ZS5jYWxsKHIsaSkpO251bGw9PXQuY2FsbGJhY2t8fHQuY2FsbGJhY2soaSl9fSkpKSl9VHIodCl7dGhpcy5Jcj90aGlzLklyLnJldHJpYWJsZVJlcXVlc3QodCk6dGhpcy5jaSh0KX1fZXhlY3V0ZV9hcnJheSh0KXt2YXIgaSxlPVtdLHI9W10scz1bXTtPdCh0LCh0PT57dCYmKGk9dFswXSxJKGkpP3MucHVzaCh0KTpSKHQpP3QuY2FsbCh0aGlzKTpJKHQpJiZcImFsaWFzXCI9PT1pP2UucHVzaCh0KTpJKHQpJiYtMSE9PWkuaW5kZXhPZihcImNhcHR1cmVcIikmJlIodGhpc1tpXSk/cy5wdXNoKHQpOnIucHVzaCh0KSl9KSk7dmFyIG49ZnVuY3Rpb24odCxpKXtPdCh0LChmdW5jdGlvbih0KXtpZihJKHRbMF0pKXt2YXIgZT1pO0Z0KHQsKGZ1bmN0aW9uKHQpe2U9ZVt0WzBdXS5hcHBseShlLHQuc2xpY2UoMSkpfSkpfWVsc2UgdGhpc1t0WzBdXS5hcHBseSh0aGlzLHQuc2xpY2UoMSkpfSksaSl9O24oZSx0aGlzKSxuKHIsdGhpcyksbihzLHRoaXMpfUNyKCl7dmFyIHQsaTtyZXR1cm4obnVsbD09KHQ9dGhpcy5jb25maWcuYm9vdHN0cmFwKT92b2lkIDA6dC5mZWF0dXJlRmxhZ3MpJiZPYmplY3Qua2V5cyhudWxsPT0oaT10aGlzLmNvbmZpZy5ib290c3RyYXApP3ZvaWQgMDppLmZlYXR1cmVGbGFncykubGVuZ3RoPjB8fCExfXB1c2godCl7dGhpcy5fZXhlY3V0ZV9hcnJheShbdF0pfWNhcHR1cmUodCxpLGUpe3ZhciByO2lmKHRoaXMuX19sb2FkZWQmJnRoaXMucGVyc2lzdGVuY2UmJnRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlJiZ0aGlzLlByKXtpZih0aGlzLmlzX2NhcHR1cmluZygpKWlmKCFGKHQpJiZNKHQpKXt2YXIgcz0hdGhpcy5jb25maWcub3B0X291dF91c2VyYWdlbnRfZmlsdGVyJiZ0aGlzLl9pc19ib3QoKTtpZighKHMmJiF0aGlzLmNvbmZpZy5fX3ByZXZpZXdfY2FwdHVyZV9ib3RfcGFnZXZpZXdzKSl7dmFyIG49bnVsbCE9ZSYmZS5za2lwX2NsaWVudF9yYXRlX2xpbWl0aW5nP3ZvaWQgMDp0aGlzLnJhdGVMaW1pdGVyLmNsaWVudFJhdGVMaW1pdENvbnRleHQoKTtpZihudWxsPT1ufHwhbi5pc1JhdGVMaW1pdGVkKXtudWxsIT1pJiZpLiRjdXJyZW50X3VybCYmIU0obnVsbD09aT92b2lkIDA6aS4kY3VycmVudF91cmwpJiYoUHQuZXJyb3IoXCJJbnZhbGlkIGAkY3VycmVudF91cmxgIHByb3BlcnR5IHByb3ZpZGVkIHRvIGBwb3N0aG9nLmNhcHR1cmVgLiBJbnB1dCBtdXN0IGJlIGEgc3RyaW5nLiBJZ25vcmluZyBwcm92aWRlZCB2YWx1ZS5cIiksbnVsbD09aXx8ZGVsZXRlIGkuJGN1cnJlbnRfdXJsKSx0aGlzLnNlc3Npb25QZXJzaXN0ZW5jZS51cGRhdGVfc2VhcmNoX2tleXdvcmQoKSx0aGlzLmNvbmZpZy5zYXZlX2NhbXBhaWduX3BhcmFtcyYmdGhpcy5zZXNzaW9uUGVyc2lzdGVuY2UudXBkYXRlX2NhbXBhaWduX3BhcmFtcygpLHRoaXMuY29uZmlnLnNhdmVfcmVmZXJyZXImJnRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlLnVwZGF0ZV9yZWZlcnJlcl9pbmZvKCksKHRoaXMuY29uZmlnLnNhdmVfY2FtcGFpZ25fcGFyYW1zfHx0aGlzLmNvbmZpZy5zYXZlX3JlZmVycmVyKSYmdGhpcy5wZXJzaXN0ZW5jZS5zZXRfaW5pdGlhbF9wZXJzb25faW5mbygpO3ZhciBvPW5ldyBEYXRlLGE9KG51bGw9PWU/dm9pZCAwOmUudGltZXN0YW1wKXx8byxsPXhlKCksdT17dXVpZDpsLGV2ZW50OnQscHJvcGVydGllczp0aGlzLmNhbGN1bGF0ZUV2ZW50UHJvcGVydGllcyh0LGl8fHt9LGEsbCl9O1wiJHBhZ2V2aWV3XCI9PT10JiZ0aGlzLmNvbmZpZy5fX3ByZXZpZXdfY2FwdHVyZV9ib3RfcGFnZXZpZXdzJiZzJiYodS5ldmVudD1cIiRib3RfcGFnZXZpZXdcIix1LnByb3BlcnRpZXMuJGJyb3dzZXJfdHlwZT1cImJvdFwiKSxuJiYodS5wcm9wZXJ0aWVzLiRsaWJfcmF0ZV9saW1pdF9yZW1haW5pbmdfdG9rZW5zPW4ucmVtYWluaW5nVG9rZW5zKSwobnVsbD09ZT92b2lkIDA6ZS4kc2V0KSYmKHUuJHNldD1udWxsPT1lP3ZvaWQgMDplLiRzZXQpO3ZhciBoLGQ9dGhpcy5McihudWxsPT1lP3ZvaWQgMDplLiRzZXRfb25jZSk7aWYoZCYmKHUuJHNldF9vbmNlPWQpLCh1PVV0KHUsbnVsbCE9ZSYmZS5fbm9UcnVuY2F0ZT9udWxsOnRoaXMuY29uZmlnLnByb3BlcnRpZXNfc3RyaW5nX21heF9sZW5ndGgpKS50aW1lc3RhbXA9YSxGKG51bGw9PWU/dm9pZCAwOmUudGltZXN0YW1wKXx8KHUucHJvcGVydGllcy4kZXZlbnRfdGltZV9vdmVycmlkZV9wcm92aWRlZD0hMCx1LnByb3BlcnRpZXMuJGV2ZW50X3RpbWVfb3ZlcnJpZGVfc3lzdGVtX3RpbWU9byksdD09PU1uLkRJU01JU1NFRHx8dD09PU1uLlNFTlQpe3ZhciB2PW51bGw9PWk/dm9pZCAwOmlbQW4uU1VSVkVZX0lEXSxjPW51bGw9PWk/dm9pZCAwOmlbQW4uU1VSVkVZX0lURVJBVElPTl07aD17aWQ6dixjdXJyZW50X2l0ZXJhdGlvbjpjfSxsb2NhbFN0b3JhZ2UuZ2V0SXRlbShIbihoKSl8fGxvY2FsU3RvcmFnZS5zZXRJdGVtKEhuKGgpLFwidHJ1ZVwiKSx1LiRzZXQ9Zyh7fSx1LiRzZXQse1t6bih7aWQ6dixjdXJyZW50X2l0ZXJhdGlvbjpjfSx0PT09TW4uU0VOVD9cInJlc3BvbmRlZFwiOlwiZGlzbWlzc2VkXCIpXTohMH0pfXZhciBmPWcoe30sdS5wcm9wZXJ0aWVzLiRzZXQsdS4kc2V0KTtpZihPKGYpfHx0aGlzLnNldFBlcnNvblByb3BlcnRpZXNGb3JGbGFncyhmKSwhaih0aGlzLmNvbmZpZy5iZWZvcmVfc2VuZCkpe3ZhciBwPXRoaXMuTnIodSk7aWYoIXApcmV0dXJuO3U9cH10aGlzLl9yLmVtaXQoXCJldmVudENhcHR1cmVkXCIsdSk7dmFyIF89e21ldGhvZDpcIlBPU1RcIix1cmw6bnVsbCE9PShyPW51bGw9PWU/dm9pZCAwOmUuX3VybCkmJnZvaWQgMCE9PXI/cjp0aGlzLnJlcXVlc3RSb3V0ZXIuZW5kcG9pbnRGb3IoXCJhcGlcIix0aGlzLmFuYWx5dGljc0RlZmF1bHRFbmRwb2ludCksZGF0YTp1LGNvbXByZXNzaW9uOlwiYmVzdC1hdmFpbGFibGVcIixiYXRjaEtleTpudWxsPT1lP3ZvaWQgMDplLl9iYXRjaEtleX07cmV0dXJuIXRoaXMuY29uZmlnLnJlcXVlc3RfYmF0Y2hpbmd8fGUmJihudWxsPT1lfHwhZS5fYmF0Y2hLZXkpfHxudWxsIT1lJiZlLnNlbmRfaW5zdGFudGx5P3RoaXMuVHIoXyk6dGhpcy5Qci5lbnF1ZXVlKF8pLHV9UHQuY3JpdGljYWwoXCJUaGlzIGNhcHR1cmUgY2FsbCBpcyBpZ25vcmVkIGR1ZSB0byBjbGllbnQgcmF0ZSBsaW1pdGluZy5cIil9fWVsc2UgUHQuZXJyb3IoXCJObyBldmVudCBuYW1lIHByb3ZpZGVkIHRvIHBvc3Rob2cuY2FwdHVyZVwiKX1lbHNlIFB0LnVuaW5pdGlhbGl6ZWRXYXJuaW5nKFwicG9zdGhvZy5jYXB0dXJlXCIpfU1pKHQpe3JldHVybiB0aGlzLm9uKFwiZXZlbnRDYXB0dXJlZFwiLChpPT50KGkuZXZlbnQsaSkpKX1jYWxjdWxhdGVFdmVudFByb3BlcnRpZXModCxpLGUscixzKXtpZihlPWV8fG5ldyBEYXRlLCF0aGlzLnBlcnNpc3RlbmNlfHwhdGhpcy5zZXNzaW9uUGVyc2lzdGVuY2UpcmV0dXJuIGk7dmFyIG49cz92b2lkIDA6dGhpcy5wZXJzaXN0ZW5jZS5yZW1vdmVfZXZlbnRfdGltZXIodCksYT1nKHt9LGkpO2lmKGEudG9rZW49dGhpcy5jb25maWcudG9rZW4sYS4kY29uZmlnX2RlZmF1bHRzPXRoaXMuY29uZmlnLmRlZmF1bHRzLChcImFsd2F5c1wiPT10aGlzLmNvbmZpZy5jb29raWVsZXNzX21vZGV8fFwib25fcmVqZWN0XCI9PXRoaXMuY29uZmlnLmNvb2tpZWxlc3NfbW9kZSYmdGhpcy5jb25zZW50LmlzRXhwbGljaXRseU9wdGVkT3V0KCkpJiYoYS4kY29va2llbGVzc19tb2RlPSEwKSxcIiRzbmFwc2hvdFwiPT09dCl7dmFyIGw9Zyh7fSx0aGlzLnBlcnNpc3RlbmNlLnByb3BlcnRpZXMoKSx0aGlzLnNlc3Npb25QZXJzaXN0ZW5jZS5wcm9wZXJ0aWVzKCkpO3JldHVybiBhLmRpc3RpbmN0X2lkPWwuZGlzdGluY3RfaWQsKCFNKGEuZGlzdGluY3RfaWQpJiYhTChhLmRpc3RpbmN0X2lkKXx8QShhLmRpc3RpbmN0X2lkKSkmJlB0LmVycm9yKFwiSW52YWxpZCBkaXN0aW5jdF9pZCBmb3IgcmVwbGF5IGV2ZW50LiBUaGlzIGluZGljYXRlcyBhIGJ1ZyBpbiB5b3VyIGltcGxlbWVudGF0aW9uXCIpLGF9dmFyIHUsaD1mcyh0aGlzLmNvbmZpZy5tYXNrX3BlcnNvbmFsX2RhdGFfcHJvcGVydGllcyx0aGlzLmNvbmZpZy5jdXN0b21fcGVyc29uYWxfZGF0YV9wcm9wZXJ0aWVzKTtpZih0aGlzLnNlc3Npb25NYW5hZ2VyKXt2YXJ7c2Vzc2lvbklkOnYsd2luZG93SWQ6Y309dGhpcy5zZXNzaW9uTWFuYWdlci5jaGVja0FuZEdldFNlc3Npb25BbmRXaW5kb3dJZChzLGUuZ2V0VGltZSgpKTthLiRzZXNzaW9uX2lkPXYsYS4kd2luZG93X2lkPWN9dGhpcy5zZXNzaW9uUHJvcHNNYW5hZ2VyJiZNdChhLHRoaXMuc2Vzc2lvblByb3BzTWFuYWdlci5nZXRTZXNzaW9uUHJvcHMoKSk7dHJ5e3ZhciBmO3RoaXMuc2Vzc2lvblJlY29yZGluZyYmTXQoYSx0aGlzLnNlc3Npb25SZWNvcmRpbmcuc2RrRGVidWdQcm9wZXJ0aWVzKSxhLiRzZGtfZGVidWdfcmV0cnlfcXVldWVfc2l6ZT1udWxsPT0oZj10aGlzLklyKT92b2lkIDA6Zi5sZW5ndGh9Y2F0Y2godCl7YS4kc2RrX2RlYnVnX2Vycm9yX2NhcHR1cmluZ19wcm9wZXJ0aWVzPVN0cmluZyh0KX1pZih0aGlzLnJlcXVlc3RSb3V0ZXIucmVnaW9uPT09aG8uQ1VTVE9NJiYoYS4kbGliX2N1c3RvbV9hcGlfaG9zdD10aGlzLmNvbmZpZy5hcGlfaG9zdCksdT1cIiRwYWdldmlld1wiIT09dHx8cz9cIiRwYWdlbGVhdmVcIiE9PXR8fHM/dGhpcy5wYWdlVmlld01hbmFnZXIuZG9FdmVudCgpOnRoaXMucGFnZVZpZXdNYW5hZ2VyLmRvUGFnZUxlYXZlKGUpOnRoaXMucGFnZVZpZXdNYW5hZ2VyLmRvUGFnZVZpZXcoZSxyKSxhPU10KGEsdSksXCIkcGFnZXZpZXdcIj09PXQmJm8mJihhLnRpdGxlPW8udGl0bGUpLCFGKG4pKXt2YXIgcD1lLmdldFRpbWUoKS1uO2EuJGR1cmF0aW9uPXBhcnNlRmxvYXQoKHAvMWUzKS50b0ZpeGVkKDMpKX1kJiZ0aGlzLmNvbmZpZy5vcHRfb3V0X3VzZXJhZ2VudF9maWx0ZXImJihhLiRicm93c2VyX3R5cGU9dGhpcy5faXNfYm90KCk/XCJib3RcIjpcImJyb3dzZXJcIiksKGE9TXQoe30saCx0aGlzLnBlcnNpc3RlbmNlLnByb3BlcnRpZXMoKSx0aGlzLnNlc3Npb25QZXJzaXN0ZW5jZS5wcm9wZXJ0aWVzKCksYSkpLiRpc19pZGVudGlmaWVkPXRoaXMuX2lzSWRlbnRpZmllZCgpLEkodGhpcy5jb25maWcucHJvcGVydHlfZGVueWxpc3QpP0Z0KHRoaXMuY29uZmlnLnByb3BlcnR5X2RlbnlsaXN0LChmdW5jdGlvbih0KXtkZWxldGUgYVt0XX0pKTpQdC5lcnJvcihcIkludmFsaWQgdmFsdWUgZm9yIHByb3BlcnR5X2RlbnlsaXN0IGNvbmZpZzogXCIrdGhpcy5jb25maWcucHJvcGVydHlfZGVueWxpc3QrXCIgb3IgcHJvcGVydHlfYmxhY2tsaXN0IGNvbmZpZzogXCIrdGhpcy5jb25maWcucHJvcGVydHlfYmxhY2tsaXN0KTt2YXIgXz10aGlzLmNvbmZpZy5zYW5pdGl6ZV9wcm9wZXJ0aWVzO18mJihQdC5lcnJvcihcInNhbml0aXplX3Byb3BlcnRpZXMgaXMgZGVwcmVjYXRlZC4gVXNlIGJlZm9yZV9zZW5kIGluc3RlYWRcIiksYT1fKGEsdCkpO3ZhciBtPXRoaXMuVXIoKTtyZXR1cm4gYS4kcHJvY2Vzc19wZXJzb25fcHJvZmlsZT1tLG0mJiFzJiZ0aGlzLnpyKFwiX2NhbGN1bGF0ZV9ldmVudF9wcm9wZXJ0aWVzXCIpLGF9THIodCl7dmFyIGk7aWYoIXRoaXMucGVyc2lzdGVuY2V8fCF0aGlzLlVyKCkpcmV0dXJuIHQ7aWYodGhpcy5ncilyZXR1cm4gdDt2YXIgZT10aGlzLnBlcnNpc3RlbmNlLmdldF9pbml0aWFsX3Byb3BzKCkscj1udWxsPT0oaT10aGlzLnNlc3Npb25Qcm9wc01hbmFnZXIpP3ZvaWQgMDppLmdldFNldE9uY2VQcm9wcygpLHM9TXQoe30sZSxyfHx7fSx0fHx7fSksbj10aGlzLmNvbmZpZy5zYW5pdGl6ZV9wcm9wZXJ0aWVzO3JldHVybiBuJiYoUHQuZXJyb3IoXCJzYW5pdGl6ZV9wcm9wZXJ0aWVzIGlzIGRlcHJlY2F0ZWQuIFVzZSBiZWZvcmVfc2VuZCBpbnN0ZWFkXCIpLHM9bihzLFwiJHNldF9vbmNlXCIpKSx0aGlzLmdyPSEwLE8ocyk/dm9pZCAwOnN9cmVnaXN0ZXIodCxpKXt2YXIgZTtudWxsPT0oZT10aGlzLnBlcnNpc3RlbmNlKXx8ZS5yZWdpc3Rlcih0LGkpfXJlZ2lzdGVyX29uY2UodCxpLGUpe3ZhciByO251bGw9PShyPXRoaXMucGVyc2lzdGVuY2UpfHxyLnJlZ2lzdGVyX29uY2UodCxpLGUpfXJlZ2lzdGVyX2Zvcl9zZXNzaW9uKHQpe3ZhciBpO251bGw9PShpPXRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlKXx8aS5yZWdpc3Rlcih0KX11bnJlZ2lzdGVyKHQpe3ZhciBpO251bGw9PShpPXRoaXMucGVyc2lzdGVuY2UpfHxpLnVucmVnaXN0ZXIodCl9dW5yZWdpc3Rlcl9mb3Jfc2Vzc2lvbih0KXt2YXIgaTtudWxsPT0oaT10aGlzLnNlc3Npb25QZXJzaXN0ZW5jZSl8fGkudW5yZWdpc3Rlcih0KX1Icih0LGkpe3RoaXMucmVnaXN0ZXIoe1t0XTppfSl9Z2V0RmVhdHVyZUZsYWcodCxpKXtyZXR1cm4gdGhpcy5mZWF0dXJlRmxhZ3MuZ2V0RmVhdHVyZUZsYWcodCxpKX1nZXRGZWF0dXJlRmxhZ1BheWxvYWQodCl7dmFyIGk9dGhpcy5mZWF0dXJlRmxhZ3MuZ2V0RmVhdHVyZUZsYWdQYXlsb2FkKHQpO3RyeXtyZXR1cm4gSlNPTi5wYXJzZShpKX1jYXRjaCh0KXtyZXR1cm4gaX19aXNGZWF0dXJlRW5hYmxlZCh0LGkpe3JldHVybiB0aGlzLmZlYXR1cmVGbGFncy5pc0ZlYXR1cmVFbmFibGVkKHQsaSl9cmVsb2FkRmVhdHVyZUZsYWdzKCl7dGhpcy5mZWF0dXJlRmxhZ3MucmVsb2FkRmVhdHVyZUZsYWdzKCl9dXBkYXRlRWFybHlBY2Nlc3NGZWF0dXJlRW5yb2xsbWVudCh0LGksZSl7dGhpcy5mZWF0dXJlRmxhZ3MudXBkYXRlRWFybHlBY2Nlc3NGZWF0dXJlRW5yb2xsbWVudCh0LGksZSl9Z2V0RWFybHlBY2Nlc3NGZWF0dXJlcyh0LGksZSl7cmV0dXJuIHZvaWQgMD09PWkmJihpPSExKSx0aGlzLmZlYXR1cmVGbGFncy5nZXRFYXJseUFjY2Vzc0ZlYXR1cmVzKHQsaSxlKX1vbih0LGkpe3JldHVybiB0aGlzLl9yLm9uKHQsaSl9b25GZWF0dXJlRmxhZ3ModCl7cmV0dXJuIHRoaXMuZmVhdHVyZUZsYWdzLm9uRmVhdHVyZUZsYWdzKHQpfW9uU3VydmV5c0xvYWRlZCh0KXtyZXR1cm4gdGhpcy5zdXJ2ZXlzLm9uU3VydmV5c0xvYWRlZCh0KX1vblNlc3Npb25JZCh0KXt2YXIgaSxlO3JldHVybiBudWxsIT09KGk9bnVsbD09KGU9dGhpcy5zZXNzaW9uTWFuYWdlcik/dm9pZCAwOmUub25TZXNzaW9uSWQodCkpJiZ2b2lkIDAhPT1pP2k6KCk9Pnt9fWdldFN1cnZleXModCxpKXt2b2lkIDA9PT1pJiYoaT0hMSksdGhpcy5zdXJ2ZXlzLmdldFN1cnZleXModCxpKX1nZXRBY3RpdmVNYXRjaGluZ1N1cnZleXModCxpKXt2b2lkIDA9PT1pJiYoaT0hMSksdGhpcy5zdXJ2ZXlzLmdldEFjdGl2ZU1hdGNoaW5nU3VydmV5cyh0LGkpfXJlbmRlclN1cnZleSh0LGkpe3RoaXMuc3VydmV5cy5yZW5kZXJTdXJ2ZXkodCxpKX1kaXNwbGF5U3VydmV5KHQsaSl7dm9pZCAwPT09aSYmKGk9cW4pLHRoaXMuc3VydmV5cy5kaXNwbGF5U3VydmV5KHQsaSl9Y2FuUmVuZGVyU3VydmV5KHQpe3JldHVybiB0aGlzLnN1cnZleXMuY2FuUmVuZGVyU3VydmV5KHQpfWNhblJlbmRlclN1cnZleUFzeW5jKHQsaSl7cmV0dXJuIHZvaWQgMD09PWkmJihpPSExKSx0aGlzLnN1cnZleXMuY2FuUmVuZGVyU3VydmV5QXN5bmModCxpKX1pZGVudGlmeSh0LGksZSl7aWYoIXRoaXMuX19sb2FkZWR8fCF0aGlzLnBlcnNpc3RlbmNlKXJldHVybiBQdC51bmluaXRpYWxpemVkV2FybmluZyhcInBvc3Rob2cuaWRlbnRpZnlcIik7aWYoTCh0KSYmKHQ9dC50b1N0cmluZygpLFB0Lndhcm4oXCJUaGUgZmlyc3QgYXJndW1lbnQgdG8gcG9zdGhvZy5pZGVudGlmeSB3YXMgYSBudW1iZXIsIGJ1dCBpdCBzaG91bGQgYmUgYSBzdHJpbmcuIEl0IGhhcyBiZWVuIGNvbnZlcnRlZCB0byBhIHN0cmluZy5cIikpLHQpaWYoW1wiZGlzdGluY3RfaWRcIixcImRpc3RpbmN0aWRcIl0uaW5jbHVkZXModC50b0xvd2VyQ2FzZSgpKSlQdC5jcml0aWNhbCgnVGhlIHN0cmluZyBcIicrdCsnXCIgd2FzIHNldCBpbiBwb3N0aG9nLmlkZW50aWZ5IHdoaWNoIGluZGljYXRlcyBhbiBlcnJvci4gVGhpcyBJRCBzaG91bGQgYmUgdW5pcXVlIHRvIHRoZSB1c2VyIGFuZCBub3QgYSBoYXJkY29kZWQgc3RyaW5nLicpO2Vsc2UgaWYodCE9PXdpKXtpZih0aGlzLnpyKFwicG9zdGhvZy5pZGVudGlmeVwiKSl7dmFyIHI9dGhpcy5nZXRfZGlzdGluY3RfaWQoKTtpZih0aGlzLnJlZ2lzdGVyKHskdXNlcl9pZDp0fSksIXRoaXMuZ2V0X3Byb3BlcnR5KFwiJGRldmljZV9pZFwiKSl7dmFyIHM9cjt0aGlzLnJlZ2lzdGVyX29uY2UoeyRoYWRfcGVyc2lzdGVkX2Rpc3RpbmN0X2lkOiEwLCRkZXZpY2VfaWQ6c30sXCJcIil9dCE9PXImJnQhPT10aGlzLmdldF9wcm9wZXJ0eShHdCkmJih0aGlzLnVucmVnaXN0ZXIoR3QpLHRoaXMucmVnaXN0ZXIoe2Rpc3RpbmN0X2lkOnR9KSk7dmFyIG49XCJhbm9ueW1vdXNcIj09PSh0aGlzLnBlcnNpc3RlbmNlLmdldF9wcm9wZXJ0eShjaSl8fFwiYW5vbnltb3VzXCIpO3QhPT1yJiZuPyh0aGlzLnBlcnNpc3RlbmNlLnNldF9wcm9wZXJ0eShjaSxcImlkZW50aWZpZWRcIiksdGhpcy5zZXRQZXJzb25Qcm9wZXJ0aWVzRm9yRmxhZ3MoZyh7fSxlfHx7fSxpfHx7fSksITEpLHRoaXMuY2FwdHVyZShcIiRpZGVudGlmeVwiLHtkaXN0aW5jdF9pZDp0LCRhbm9uX2Rpc3RpbmN0X2lkOnJ9LHskc2V0Oml8fHt9LCRzZXRfb25jZTplfHx7fX0pLHRoaXMud3I9ZG4odCxpLGUpLHRoaXMuZmVhdHVyZUZsYWdzLnNldEFub255bW91c0Rpc3RpbmN0SWQocikpOihpfHxlKSYmdGhpcy5zZXRQZXJzb25Qcm9wZXJ0aWVzKGksZSksdCE9PXImJih0aGlzLnJlbG9hZEZlYXR1cmVGbGFncygpLHRoaXMudW5yZWdpc3Rlcih2aSkpfX1lbHNlIFB0LmNyaXRpY2FsKCdUaGUgc3RyaW5nIFwiJyt3aSsnXCIgd2FzIHNldCBpbiBwb3N0aG9nLmlkZW50aWZ5IHdoaWNoIGluZGljYXRlcyBhbiBlcnJvci4gVGhpcyBJRCBpcyBvbmx5IHVzZWQgYXMgYSBzZW50aW5lbCB2YWx1ZS4nKTtlbHNlIFB0LmVycm9yKFwiVW5pcXVlIHVzZXIgaWQgaGFzIG5vdCBiZWVuIHNldCBpbiBwb3N0aG9nLmlkZW50aWZ5XCIpfXNldFBlcnNvblByb3BlcnRpZXModCxpKXtpZigodHx8aSkmJnRoaXMuenIoXCJwb3N0aG9nLnNldFBlcnNvblByb3BlcnRpZXNcIikpe3ZhciBlPWRuKHRoaXMuZ2V0X2Rpc3RpbmN0X2lkKCksdCxpKTt0aGlzLndyIT09ZT8odGhpcy5zZXRQZXJzb25Qcm9wZXJ0aWVzRm9yRmxhZ3MoZyh7fSxpfHx7fSx0fHx7fSkpLHRoaXMuY2FwdHVyZShcIiRzZXRcIix7JHNldDp0fHx7fSwkc2V0X29uY2U6aXx8e319KSx0aGlzLndyPWUpOlB0LmluZm8oXCJBIGR1cGxpY2F0ZSBzZXRQZXJzb25Qcm9wZXJ0aWVzIGNhbGwgd2FzIG1hZGUgd2l0aCB0aGUgc2FtZSBwcm9wZXJ0aWVzLiBJdCBoYXMgYmVlbiBpZ25vcmVkLlwiKX19Z3JvdXAodCxpLGUpe2lmKHQmJmkpe2lmKHRoaXMuenIoXCJwb3N0aG9nLmdyb3VwXCIpKXt2YXIgcj10aGlzLmdldEdyb3VwcygpO3JbdF0hPT1pJiZ0aGlzLnJlc2V0R3JvdXBQcm9wZXJ0aWVzRm9yRmxhZ3ModCksdGhpcy5yZWdpc3Rlcih7JGdyb3VwczpnKHt9LHIse1t0XTppfSl9KSxlJiYodGhpcy5jYXB0dXJlKFwiJGdyb3VwaWRlbnRpZnlcIix7JGdyb3VwX3R5cGU6dCwkZ3JvdXBfa2V5OmksJGdyb3VwX3NldDplfSksdGhpcy5zZXRHcm91cFByb3BlcnRpZXNGb3JGbGFncyh7W3RdOmV9KSksclt0XT09PWl8fGV8fHRoaXMucmVsb2FkRmVhdHVyZUZsYWdzKCl9fWVsc2UgUHQuZXJyb3IoXCJwb3N0aG9nLmdyb3VwIHJlcXVpcmVzIGEgZ3JvdXAgdHlwZSBhbmQgZ3JvdXAga2V5XCIpfXJlc2V0R3JvdXBzKCl7dGhpcy5yZWdpc3Rlcih7JGdyb3Vwczp7fX0pLHRoaXMucmVzZXRHcm91cFByb3BlcnRpZXNGb3JGbGFncygpLHRoaXMucmVsb2FkRmVhdHVyZUZsYWdzKCl9c2V0UGVyc29uUHJvcGVydGllc0ZvckZsYWdzKHQsaSl7dm9pZCAwPT09aSYmKGk9ITApLHRoaXMuZmVhdHVyZUZsYWdzLnNldFBlcnNvblByb3BlcnRpZXNGb3JGbGFncyh0LGkpfXJlc2V0UGVyc29uUHJvcGVydGllc0ZvckZsYWdzKCl7dGhpcy5mZWF0dXJlRmxhZ3MucmVzZXRQZXJzb25Qcm9wZXJ0aWVzRm9yRmxhZ3MoKX1zZXRHcm91cFByb3BlcnRpZXNGb3JGbGFncyh0LGkpe3ZvaWQgMD09PWkmJihpPSEwKSx0aGlzLnpyKFwicG9zdGhvZy5zZXRHcm91cFByb3BlcnRpZXNGb3JGbGFnc1wiKSYmdGhpcy5mZWF0dXJlRmxhZ3Muc2V0R3JvdXBQcm9wZXJ0aWVzRm9yRmxhZ3ModCxpKX1yZXNldEdyb3VwUHJvcGVydGllc0ZvckZsYWdzKHQpe3RoaXMuZmVhdHVyZUZsYWdzLnJlc2V0R3JvdXBQcm9wZXJ0aWVzRm9yRmxhZ3ModCl9cmVzZXQodCl7dmFyIGksZSxyLHM7aWYoUHQuaW5mbyhcInJlc2V0XCIpLCF0aGlzLl9fbG9hZGVkKXJldHVybiBQdC51bmluaXRpYWxpemVkV2FybmluZyhcInBvc3Rob2cucmVzZXRcIik7dmFyIG49dGhpcy5nZXRfcHJvcGVydHkoXCIkZGV2aWNlX2lkXCIpO2lmKHRoaXMuY29uc2VudC5yZXNldCgpLG51bGw9PShpPXRoaXMucGVyc2lzdGVuY2UpfHxpLmNsZWFyKCksbnVsbD09KGU9dGhpcy5zZXNzaW9uUGVyc2lzdGVuY2UpfHxlLmNsZWFyKCksdGhpcy5zdXJ2ZXlzLnJlc2V0KCksdGhpcy5mZWF0dXJlRmxhZ3MucmVzZXQoKSxudWxsPT0ocj10aGlzLnBlcnNpc3RlbmNlKXx8ci5zZXRfcHJvcGVydHkoY2ksXCJhbm9ueW1vdXNcIiksbnVsbD09KHM9dGhpcy5zZXNzaW9uTWFuYWdlcil8fHMucmVzZXRTZXNzaW9uSWQoKSx0aGlzLndyPW51bGwsXCJhbHdheXNcIj09PXRoaXMuY29uZmlnLmNvb2tpZWxlc3NfbW9kZSl0aGlzLnJlZ2lzdGVyX29uY2Uoe2Rpc3RpbmN0X2lkOndpLCRkZXZpY2VfaWQ6bnVsbH0sXCJcIik7ZWxzZXt2YXIgbz10aGlzLmNvbmZpZy5nZXRfZGV2aWNlX2lkKHhlKCkpO3RoaXMucmVnaXN0ZXJfb25jZSh7ZGlzdGluY3RfaWQ6bywkZGV2aWNlX2lkOnQ/bzpufSxcIlwiKX10aGlzLnJlZ2lzdGVyKHskbGFzdF9wb3N0aG9nX3Jlc2V0OihuZXcgRGF0ZSkudG9JU09TdHJpbmcoKX0sMSl9Z2V0X2Rpc3RpbmN0X2lkKCl7cmV0dXJuIHRoaXMuZ2V0X3Byb3BlcnR5KFwiZGlzdGluY3RfaWRcIil9Z2V0R3JvdXBzKCl7cmV0dXJuIHRoaXMuZ2V0X3Byb3BlcnR5KFwiJGdyb3Vwc1wiKXx8e319Z2V0X3Nlc3Npb25faWQoKXt2YXIgdCxpO3JldHVybiBudWxsIT09KHQ9bnVsbD09KGk9dGhpcy5zZXNzaW9uTWFuYWdlcik/dm9pZCAwOmkuY2hlY2tBbmRHZXRTZXNzaW9uQW5kV2luZG93SWQoITApLnNlc3Npb25JZCkmJnZvaWQgMCE9PXQ/dDpcIlwifWdldF9zZXNzaW9uX3JlcGxheV91cmwodCl7aWYoIXRoaXMuc2Vzc2lvbk1hbmFnZXIpcmV0dXJuXCJcIjt2YXJ7c2Vzc2lvbklkOmksc2Vzc2lvblN0YXJ0VGltZXN0YW1wOmV9PXRoaXMuc2Vzc2lvbk1hbmFnZXIuY2hlY2tBbmRHZXRTZXNzaW9uQW5kV2luZG93SWQoITApLHI9dGhpcy5yZXF1ZXN0Um91dGVyLmVuZHBvaW50Rm9yKFwidWlcIixcIi9wcm9qZWN0L1wiK3RoaXMuY29uZmlnLnRva2VuK1wiL3JlcGxheS9cIitpKTtpZihudWxsIT10JiZ0LndpdGhUaW1lc3RhbXAmJmUpe3ZhciBzLG49bnVsbCE9PShzPXQudGltZXN0YW1wTG9va0JhY2spJiZ2b2lkIDAhPT1zP3M6MTA7aWYoIWUpcmV0dXJuIHI7cis9XCI/dD1cIitNYXRoLm1heChNYXRoLmZsb29yKCgobmV3IERhdGUpLmdldFRpbWUoKS1lKS8xZTMpLW4sMCl9cmV0dXJuIHJ9YWxpYXModCxpKXtyZXR1cm4gdD09PXRoaXMuZ2V0X3Byb3BlcnR5KFd0KT8oUHQuY3JpdGljYWwoXCJBdHRlbXB0aW5nIHRvIGNyZWF0ZSBhbGlhcyBmb3IgZXhpc3RpbmcgUGVvcGxlIHVzZXIgLSBhYm9ydGluZy5cIiksLTIpOnRoaXMuenIoXCJwb3N0aG9nLmFsaWFzXCIpPyhGKGkpJiYoaT10aGlzLmdldF9kaXN0aW5jdF9pZCgpKSx0IT09aT8odGhpcy5IcihHdCx0KSx0aGlzLmNhcHR1cmUoXCIkY3JlYXRlX2FsaWFzXCIse2FsaWFzOnQsZGlzdGluY3RfaWQ6aX0pKTooUHQud2FybihcImFsaWFzIG1hdGNoZXMgY3VycmVudCBkaXN0aW5jdF9pZCAtIHNraXBwaW5nIGFwaSBjYWxsLlwiKSx0aGlzLmlkZW50aWZ5KHQpLC0xKSk6dm9pZCAwfXNldF9jb25maWcodCl7dmFyIGk9Zyh7fSx0aGlzLmNvbmZpZyk7aWYoQyh0KSl7dmFyIGUscixzLG4sbztNdCh0aGlzLmNvbmZpZyxQbyh0KSk7dmFyIGE9dGhpcy5rcigpO251bGw9PShlPXRoaXMucGVyc2lzdGVuY2UpfHxlLnVwZGF0ZV9jb25maWcodGhpcy5jb25maWcsaSxhKSx0aGlzLnNlc3Npb25QZXJzaXN0ZW5jZT1cInNlc3Npb25TdG9yYWdlXCI9PT10aGlzLmNvbmZpZy5wZXJzaXN0ZW5jZXx8XCJtZW1vcnlcIj09PXRoaXMuY29uZmlnLnBlcnNpc3RlbmNlP3RoaXMucGVyc2lzdGVuY2U6bmV3IFBuKGcoe30sdGhpcy5jb25maWcse3BlcnNpc3RlbmNlOlwic2Vzc2lvblN0b3JhZ2VcIn0pLGEpO3ZhciBsPXRoaXMuJHIodGhpcy5jb25maWcuZGVidWcpO04obCkmJih0aGlzLmNvbmZpZy5kZWJ1Zz1sKSxOKHRoaXMuY29uZmlnLmRlYnVnKSYmKHRoaXMuY29uZmlnLmRlYnVnPyhjLkRFQlVHPSEwLEllLkgoKSYmSWUuRyhcInBoX2RlYnVnXCIsXCJ0cnVlXCIpLFB0LmluZm8oXCJzZXRfY29uZmlnXCIse2NvbmZpZzp0LG9sZENvbmZpZzppLG5ld0NvbmZpZzpnKHt9LHRoaXMuY29uZmlnKX0pKTooYy5ERUJVRz0hMSxJZS5IKCkmJkllLlYoXCJwaF9kZWJ1Z1wiKSkpLG51bGw9PShyPXRoaXMuc2Vzc2lvblJlY29yZGluZyl8fHIuc3RhcnRJZkVuYWJsZWRPclN0b3AoKSxudWxsPT0ocz10aGlzLmF1dG9jYXB0dXJlKXx8cy5zdGFydElmRW5hYmxlZCgpLG51bGw9PShuPXRoaXMuaGVhdG1hcHMpfHxuLnN0YXJ0SWZFbmFibGVkKCksdGhpcy5zdXJ2ZXlzLmxvYWRJZkVuYWJsZWQoKSx0aGlzLkJyKCksbnVsbD09KG89dGhpcy5leHRlcm5hbEludGVncmF0aW9ucyl8fG8uc3RhcnRJZkVuYWJsZWRPclN0b3AoKX19c3RhcnRTZXNzaW9uUmVjb3JkaW5nKHQpe3ZhciBpPSEwPT09dCxlPXtzYW1wbGluZzppfHwhKG51bGw9PXR8fCF0LnNhbXBsaW5nKSxsaW5rZWRfZmxhZzppfHwhKG51bGw9PXR8fCF0LmxpbmtlZF9mbGFnKSx1cmxfdHJpZ2dlcjppfHwhKG51bGw9PXR8fCF0LnVybF90cmlnZ2VyKSxldmVudF90cmlnZ2VyOml8fCEobnVsbD09dHx8IXQuZXZlbnRfdHJpZ2dlcil9O2lmKE9iamVjdC52YWx1ZXMoZSkuc29tZShCb29sZWFuKSl7dmFyIHIscyxuLG8sYTtpZihudWxsPT0ocj10aGlzLnNlc3Npb25NYW5hZ2VyKXx8ci5jaGVja0FuZEdldFNlc3Npb25BbmRXaW5kb3dJZCgpLGUuc2FtcGxpbmcpbnVsbD09KHM9dGhpcy5zZXNzaW9uUmVjb3JkaW5nKXx8cy5vdmVycmlkZVNhbXBsaW5nKCk7aWYoZS5saW5rZWRfZmxhZyludWxsPT0obj10aGlzLnNlc3Npb25SZWNvcmRpbmcpfHxuLm92ZXJyaWRlTGlua2VkRmxhZygpO2lmKGUudXJsX3RyaWdnZXIpbnVsbD09KG89dGhpcy5zZXNzaW9uUmVjb3JkaW5nKXx8by5vdmVycmlkZVRyaWdnZXIoXCJ1cmxcIik7aWYoZS5ldmVudF90cmlnZ2VyKW51bGw9PShhPXRoaXMuc2Vzc2lvblJlY29yZGluZyl8fGEub3ZlcnJpZGVUcmlnZ2VyKFwiZXZlbnRcIil9dGhpcy5zZXRfY29uZmlnKHtkaXNhYmxlX3Nlc3Npb25fcmVjb3JkaW5nOiExfSl9c3RvcFNlc3Npb25SZWNvcmRpbmcoKXt0aGlzLnNldF9jb25maWcoe2Rpc2FibGVfc2Vzc2lvbl9yZWNvcmRpbmc6ITB9KX1zZXNzaW9uUmVjb3JkaW5nU3RhcnRlZCgpe3ZhciB0O3JldHVybiEobnVsbD09KHQ9dGhpcy5zZXNzaW9uUmVjb3JkaW5nKXx8IXQuc3RhcnRlZCl9Y2FwdHVyZUV4Y2VwdGlvbih0LGkpe3ZhciBlPW5ldyBFcnJvcihcIlBvc3RIb2cgc3ludGhldGljRXhjZXB0aW9uXCIpLHI9dGhpcy5leGNlcHRpb25zLmJ1aWxkUHJvcGVydGllcyh0LHtoYW5kbGVkOiEwLHN5bnRoZXRpY0V4Y2VwdGlvbjplfSk7cmV0dXJuIHRoaXMuZXhjZXB0aW9ucy5zZW5kRXhjZXB0aW9uRXZlbnQoZyh7fSxyLGkpKX1sb2FkVG9vbGJhcih0KXtyZXR1cm4gdGhpcy50b29sYmFyLmxvYWRUb29sYmFyKHQpfWdldF9wcm9wZXJ0eSh0KXt2YXIgaTtyZXR1cm4gbnVsbD09KGk9dGhpcy5wZXJzaXN0ZW5jZSk/dm9pZCAwOmkucHJvcHNbdF19Z2V0U2Vzc2lvblByb3BlcnR5KHQpe3ZhciBpO3JldHVybiBudWxsPT0oaT10aGlzLnNlc3Npb25QZXJzaXN0ZW5jZSk/dm9pZCAwOmkucHJvcHNbdF19dG9TdHJpbmcoKXt2YXIgdCxpPW51bGwhPT0odD10aGlzLmNvbmZpZy5uYW1lKSYmdm9pZCAwIT09dD90OlNvO3JldHVybiBpIT09U28mJihpPVNvK1wiLlwiK2kpLGl9X2lzSWRlbnRpZmllZCgpe3ZhciB0LGk7cmV0dXJuXCJpZGVudGlmaWVkXCI9PT0obnVsbD09KHQ9dGhpcy5wZXJzaXN0ZW5jZSk/dm9pZCAwOnQuZ2V0X3Byb3BlcnR5KGNpKSl8fFwiaWRlbnRpZmllZFwiPT09KG51bGw9PShpPXRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlKT92b2lkIDA6aS5nZXRfcHJvcGVydHkoY2kpKX1Vcigpe3ZhciB0LGk7cmV0dXJuIShcIm5ldmVyXCI9PT10aGlzLmNvbmZpZy5wZXJzb25fcHJvZmlsZXN8fFwiaWRlbnRpZmllZF9vbmx5XCI9PT10aGlzLmNvbmZpZy5wZXJzb25fcHJvZmlsZXMmJiF0aGlzLl9pc0lkZW50aWZpZWQoKSYmTyh0aGlzLmdldEdyb3VwcygpKSYmKG51bGw9PSh0PXRoaXMucGVyc2lzdGVuY2UpfHxudWxsPT0odD10LnByb3BzKXx8IXRbR3RdKSYmKG51bGw9PShpPXRoaXMucGVyc2lzdGVuY2UpfHxudWxsPT0oaT1pLnByb3BzKXx8IWlbeWldKSl9anIoKXtyZXR1cm4hMD09PXRoaXMuY29uZmlnLmNhcHR1cmVfcGFnZWxlYXZlfHxcImlmX2NhcHR1cmVfcGFnZXZpZXdcIj09PXRoaXMuY29uZmlnLmNhcHR1cmVfcGFnZWxlYXZlJiYoITA9PT10aGlzLmNvbmZpZy5jYXB0dXJlX3BhZ2V2aWV3fHxcImhpc3RvcnlfY2hhbmdlXCI9PT10aGlzLmNvbmZpZy5jYXB0dXJlX3BhZ2V2aWV3KX1jcmVhdGVQZXJzb25Qcm9maWxlKCl7dGhpcy5VcigpfHx0aGlzLnpyKFwicG9zdGhvZy5jcmVhdGVQZXJzb25Qcm9maWxlXCIpJiZ0aGlzLnNldFBlcnNvblByb3BlcnRpZXMoe30se30pfXpyKHQpe3JldHVyblwibmV2ZXJcIj09PXRoaXMuY29uZmlnLnBlcnNvbl9wcm9maWxlcz8oUHQuZXJyb3IodCsnIHdhcyBjYWxsZWQsIGJ1dCBwcm9jZXNzX3BlcnNvbiBpcyBzZXQgdG8gXCJuZXZlclwiLiBUaGlzIGNhbGwgd2lsbCBiZSBpZ25vcmVkLicpLCExKToodGhpcy5Icih5aSwhMCksITApfWtyKCl7aWYoXCJhbHdheXNcIj09PXRoaXMuY29uZmlnLmNvb2tpZWxlc3NfbW9kZSlyZXR1cm4hMDt2YXIgdD10aGlzLmNvbnNlbnQuaXNPcHRlZE91dCgpLGk9dGhpcy5jb25maWcub3B0X291dF9wZXJzaXN0ZW5jZV9ieV9kZWZhdWx0fHxcIm9uX3JlamVjdFwiPT09dGhpcy5jb25maWcuY29va2llbGVzc19tb2RlO3JldHVybiB0aGlzLmNvbmZpZy5kaXNhYmxlX3BlcnNpc3RlbmNlfHx0JiYhIWl9QnIoKXt2YXIgdCxpLGUscixzPXRoaXMua3IoKTsobnVsbD09KHQ9dGhpcy5wZXJzaXN0ZW5jZSk/dm9pZCAwOnQud2kpIT09cyYmKG51bGw9PShlPXRoaXMucGVyc2lzdGVuY2UpfHxlLnNldF9kaXNhYmxlZChzKSk7KG51bGw9PShpPXRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlKT92b2lkIDA6aS53aSkhPT1zJiYobnVsbD09KHI9dGhpcy5zZXNzaW9uUGVyc2lzdGVuY2UpfHxyLnNldF9kaXNhYmxlZChzKSk7cmV0dXJuIHN9b3B0X2luX2NhcHR1cmluZyh0KXtpZihcImFsd2F5c1wiIT09dGhpcy5jb25maWcuY29va2llbGVzc19tb2RlKXt2YXIgaSxlO2lmKFwib25fcmVqZWN0XCI9PT10aGlzLmNvbmZpZy5jb29raWVsZXNzX21vZGUmJnRoaXMuY29uc2VudC5pc0V4cGxpY2l0bHlPcHRlZE91dCgpKXRoaXMucmVzZXQoITApLG51bGw9PShpPXRoaXMuc2Vzc2lvbk1hbmFnZXIpfHxpLmRlc3Ryb3koKSx0aGlzLnNlc3Npb25NYW5hZ2VyPW5ldyBubyh0aGlzKSx0aGlzLnBlcnNpc3RlbmNlJiYodGhpcy5zZXNzaW9uUHJvcHNNYW5hZ2VyPW5ldyBybyh0aGlzLHRoaXMuc2Vzc2lvbk1hbmFnZXIsdGhpcy5wZXJzaXN0ZW5jZSkpLHRoaXMuc2Vzc2lvblJlY29yZGluZz1uZXcgd28odGhpcyksdGhpcy5zZXNzaW9uUmVjb3JkaW5nLnN0YXJ0SWZFbmFibGVkT3JTdG9wKCk7aWYodGhpcy5jb25zZW50Lm9wdEluT3V0KCEwKSx0aGlzLkJyKCksdGhpcy5BcigpLFwib25fcmVqZWN0XCI9PXRoaXMuY29uZmlnLmNvb2tpZWxlc3NfbW9kZSYmdGhpcy5zdXJ2ZXlzLmxvYWRJZkVuYWJsZWQoKSxGKG51bGw9PXQ/dm9pZCAwOnQuY2FwdHVyZUV2ZW50TmFtZSl8fG51bGwhPXQmJnQuY2FwdHVyZUV2ZW50TmFtZSl0aGlzLmNhcHR1cmUobnVsbCE9PShlPW51bGw9PXQ/dm9pZCAwOnQuY2FwdHVyZUV2ZW50TmFtZSkmJnZvaWQgMCE9PWU/ZTpcIiRvcHRfaW5cIixudWxsPT10P3ZvaWQgMDp0LmNhcHR1cmVQcm9wZXJ0aWVzLHtzZW5kX2luc3RhbnRseTohMH0pO3RoaXMuY29uZmlnLmNhcHR1cmVfcGFnZXZpZXcmJnRoaXMuRHIoKX1lbHNlIFB0Lndhcm4oJ0NvbnNlbnQgb3B0IGluL291dCBpcyBub3QgdmFsaWQgd2l0aCBjb29raWVsZXNzX21vZGU9XCJhbHdheXNcIiBhbmQgd2lsbCBiZSBpZ25vcmVkJyl9b3B0X291dF9jYXB0dXJpbmcoKXt2YXIgdCxpO1wiYWx3YXlzXCIhPT10aGlzLmNvbmZpZy5jb29raWVsZXNzX21vZGU/KFwib25fcmVqZWN0XCI9PT10aGlzLmNvbmZpZy5jb29raWVsZXNzX21vZGUmJnRoaXMuY29uc2VudC5pc09wdGVkSW4oKSYmdGhpcy5yZXNldCghMCksdGhpcy5jb25zZW50Lm9wdEluT3V0KCExKSx0aGlzLkJyKCksXCJvbl9yZWplY3RcIj09PXRoaXMuY29uZmlnLmNvb2tpZWxlc3NfbW9kZSYmKHRoaXMucmVnaXN0ZXIoe2Rpc3RpbmN0X2lkOndpLCRkZXZpY2VfaWQ6bnVsbH0pLG51bGw9PSh0PXRoaXMuc2Vzc2lvbk1hbmFnZXIpfHx0LmRlc3Ryb3koKSx0aGlzLnNlc3Npb25NYW5hZ2VyPXZvaWQgMCx0aGlzLnNlc3Npb25Qcm9wc01hbmFnZXI9dm9pZCAwLG51bGw9PShpPXRoaXMuc2Vzc2lvblJlY29yZGluZyl8fGkuc3RvcFJlY29yZGluZygpLHRoaXMuc2Vzc2lvblJlY29yZGluZz12b2lkIDAsdGhpcy5EcigpKSk6UHQud2FybignQ29uc2VudCBvcHQgaW4vb3V0IGlzIG5vdCB2YWxpZCB3aXRoIGNvb2tpZWxlc3NfbW9kZT1cImFsd2F5c1wiIGFuZCB3aWxsIGJlIGlnbm9yZWQnKX1oYXNfb3B0ZWRfaW5fY2FwdHVyaW5nKCl7cmV0dXJuIHRoaXMuY29uc2VudC5pc09wdGVkSW4oKX1oYXNfb3B0ZWRfb3V0X2NhcHR1cmluZygpe3JldHVybiB0aGlzLmNvbnNlbnQuaXNPcHRlZE91dCgpfWdldF9leHBsaWNpdF9jb25zZW50X3N0YXR1cygpe3ZhciB0PXRoaXMuY29uc2VudC5jb25zZW50O3JldHVybiB0PT09RGUuR1JBTlRFRD9cImdyYW50ZWRcIjp0PT09RGUuREVOSUVEP1wiZGVuaWVkXCI6XCJwZW5kaW5nXCJ9aXNfY2FwdHVyaW5nKCl7cmV0dXJuXCJhbHdheXNcIj09PXRoaXMuY29uZmlnLmNvb2tpZWxlc3NfbW9kZXx8KFwib25fcmVqZWN0XCI9PT10aGlzLmNvbmZpZy5jb29raWVsZXNzX21vZGU/dGhpcy5jb25zZW50LmlzRXhwbGljaXRseU9wdGVkT3V0KCl8fHRoaXMuY29uc2VudC5pc09wdGVkSW4oKTohdGhpcy5oYXNfb3B0ZWRfb3V0X2NhcHR1cmluZygpKX1jbGVhcl9vcHRfaW5fb3V0X2NhcHR1cmluZygpe3RoaXMuY29uc2VudC5yZXNldCgpLHRoaXMuQnIoKX1faXNfYm90KCl7cmV0dXJuIG4/dW8obix0aGlzLmNvbmZpZy5jdXN0b21fYmxvY2tlZF91c2VyYWdlbnRzKTp2b2lkIDB9RHIoKXtvJiYoXCJ2aXNpYmxlXCI9PT1vLnZpc2liaWxpdHlTdGF0ZT90aGlzLm1yfHwodGhpcy5tcj0hMCx0aGlzLmNhcHR1cmUoXCIkcGFnZXZpZXdcIix7dGl0bGU6by50aXRsZX0se3NlbmRfaW5zdGFudGx5OiEwfSksdGhpcy55ciYmKG8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIix0aGlzLnlyKSx0aGlzLnlyPW51bGwpKTp0aGlzLnlyfHwodGhpcy55cj10aGlzLkRyLmJpbmQodGhpcykscXQobyxcInZpc2liaWxpdHljaGFuZ2VcIix0aGlzLnlyKSkpfWRlYnVnKGkpeyExPT09aT8obnVsbD09dHx8dC5jb25zb2xlLmxvZyhcIllvdSd2ZSBkaXNhYmxlZCBkZWJ1ZyBtb2RlLlwiKSx0aGlzLnNldF9jb25maWcoe2RlYnVnOiExfSkpOihudWxsPT10fHx0LmNvbnNvbGUubG9nKFwiWW91J3JlIG5vdyBpbiBkZWJ1ZyBtb2RlLiBBbGwgY2FsbHMgdG8gUG9zdEhvZyB3aWxsIGJlIGxvZ2dlZCBpbiB5b3VyIGNvbnNvbGUuXFxuWW91IGNhbiBkaXNhYmxlIHRoaXMgd2l0aCBgcG9zdGhvZy5kZWJ1ZyhmYWxzZSlgLlwiKSx0aGlzLnNldF9jb25maWcoe2RlYnVnOiEwfSkpfU0oKXt2YXIgdCxpLGUscixzLG4sbyxhPXRoaXMuU3J8fHt9O3JldHVyblwiYWR2YW5jZWRfZGlzYWJsZV9mbGFnc1wiaW4gYT8hIWEuYWR2YW5jZWRfZGlzYWJsZV9mbGFnczohMSE9PXRoaXMuY29uZmlnLmFkdmFuY2VkX2Rpc2FibGVfZmxhZ3M/ISF0aGlzLmNvbmZpZy5hZHZhbmNlZF9kaXNhYmxlX2ZsYWdzOiEwPT09dGhpcy5jb25maWcuYWR2YW5jZWRfZGlzYWJsZV9kZWNpZGU/KFB0Lndhcm4oXCJDb25maWcgZmllbGQgJ2FkdmFuY2VkX2Rpc2FibGVfZGVjaWRlJyBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlICdhZHZhbmNlZF9kaXNhYmxlX2ZsYWdzJyBpbnN0ZWFkLiBUaGUgb2xkIGZpZWxkIHdpbGwgYmUgcmVtb3ZlZCBpbiBhIGZ1dHVyZSBtYWpvciB2ZXJzaW9uLlwiKSwhMCk6KGU9XCJhZHZhbmNlZF9kaXNhYmxlX2RlY2lkZVwiLHI9ITEscz1QdCxuPShpPVwiYWR2YW5jZWRfZGlzYWJsZV9mbGFnc1wiKWluKHQ9YSkmJiFGKHRbaV0pLG89ZSBpbiB0JiYhRih0W2VdKSxuP3RbaV06bz8ocyYmcy53YXJuKFwiQ29uZmlnIGZpZWxkICdcIitlK1wiJyBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlICdcIitpK1wiJyBpbnN0ZWFkLiBUaGUgb2xkIGZpZWxkIHdpbGwgYmUgcmVtb3ZlZCBpbiBhIGZ1dHVyZSBtYWpvciB2ZXJzaW9uLlwiKSx0W2VdKTpyKX1Ocih0KXtpZihqKHRoaXMuY29uZmlnLmJlZm9yZV9zZW5kKSlyZXR1cm4gdDt2YXIgaT1JKHRoaXMuY29uZmlnLmJlZm9yZV9zZW5kKT90aGlzLmNvbmZpZy5iZWZvcmVfc2VuZDpbdGhpcy5jb25maWcuYmVmb3JlX3NlbmRdLGU9dDtmb3IodmFyIHIgb2YgaSl7aWYoZT1yKGUpLGooZSkpe3ZhciBzPVwiRXZlbnQgJ1wiK3QuZXZlbnQrXCInIHdhcyByZWplY3RlZCBpbiBiZWZvcmVTZW5kIGZ1bmN0aW9uXCI7cmV0dXJuIHoodC5ldmVudCk/UHQud2FybihzK1wiLiBUaGlzIGNhbiBjYXVzZSB1bmV4cGVjdGVkIGJlaGF2aW9yLlwiKTpQdC5pbmZvKHMpLG51bGx9ZS5wcm9wZXJ0aWVzJiYhTyhlLnByb3BlcnRpZXMpfHxQdC53YXJuKFwiRXZlbnQgJ1wiK3QuZXZlbnQrXCInIGhhcyBubyBwcm9wZXJ0aWVzIGFmdGVyIGJlZm9yZVNlbmQgZnVuY3Rpb24sIHRoaXMgaXMgbGlrZWx5IGFuIGVycm9yLlwiKX1yZXR1cm4gZX1nZXRQYWdlVmlld0lkKCl7dmFyIHQ7cmV0dXJuIG51bGw9PSh0PXRoaXMucGFnZVZpZXdNYW5hZ2VyLlZ0KT92b2lkIDA6dC5wYWdlVmlld0lkfWNhcHR1cmVUcmFjZUZlZWRiYWNrKHQsaSl7dGhpcy5jYXB0dXJlKFwiJGFpX2ZlZWRiYWNrXCIseyRhaV90cmFjZV9pZDpTdHJpbmcodCksJGFpX2ZlZWRiYWNrX3RleHQ6aX0pfWNhcHR1cmVUcmFjZU1ldHJpYyh0LGksZSl7dGhpcy5jYXB0dXJlKFwiJGFpX21ldHJpY1wiLHskYWlfdHJhY2VfaWQ6U3RyaW5nKHQpLCRhaV9tZXRyaWNfbmFtZTppLCRhaV9tZXRyaWNfdmFsdWU6U3RyaW5nKGUpfSl9JHIodCl7dmFyIGk9Tih0KSYmIXQsZT1JZS5IKCkmJlwidHJ1ZVwiPT09SWUucShcInBoX2RlYnVnXCIpO3JldHVybiFpJiYoISFlfHx0KX19IWZ1bmN0aW9uKHQsaSl7Zm9yKHZhciBlPTA7ZTxpLmxlbmd0aDtlKyspdC5wcm90b3R5cGVbaVtlXV09THQodC5wcm90b3R5cGVbaVtlXV0pfShJbyxbXCJpZGVudGlmeVwiXSk7dmFyIFJvLENvPShSbz14b1tTb109bmV3IElvLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gaSgpe2kuZG9uZXx8KGkuZG9uZT0hMCxFbz0hMSxGdCh4bywoZnVuY3Rpb24odCl7dC5fZG9tX2xvYWRlZCgpfSkpKX1udWxsIT1vJiZvLmFkZEV2ZW50TGlzdGVuZXI/XCJjb21wbGV0ZVwiPT09by5yZWFkeVN0YXRlP2koKTpxdChvLFwiRE9NQ29udGVudExvYWRlZFwiLGkse2NhcHR1cmU6ITF9KTp0JiZQdC5lcnJvcihcIkJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IGBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyYCBzbyBQb3N0SG9nIGNvdWxkbid0IGJlIGluaXRpYWxpemVkXCIpfSgpLFJvKTtleHBvcnR7ZWUgYXMgQ09QWV9BVVRPQ0FQVFVSRV9FVkVOVCxyZSBhcyBDb21wcmVzc2lvbixEbiBhcyBEaXNwbGF5U3VydmV5VHlwZSxJbyBhcyBQb3N0SG9nLE1uIGFzIFN1cnZleUV2ZW50TmFtZSxBbiBhcyBTdXJ2ZXlFdmVudFByb3BlcnRpZXMsSW4gYXMgU3VydmV5UG9zaXRpb24sT24gYXMgU3VydmV5UXVlc3Rpb25CcmFuY2hpbmdUeXBlLENuIGFzIFN1cnZleVF1ZXN0aW9uVHlwZSxGbiBhcyBTdXJ2ZXlTY2hlZHVsZSxSbiBhcyBTdXJ2ZXlUeXBlLFRuIGFzIFN1cnZleVdpZGdldFR5cGUsQ28gYXMgZGVmYXVsdCxDbyBhcyBwb3N0aG9nLHNlIGFzIHNldmVyaXR5TGV2ZWxzfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1vZHVsZS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/posthog-js/dist/module.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/posthog-js/react/dist/esm/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/posthog-js/react/dist/esm/index.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PostHogCaptureOnViewed: () => (/* binding */ PostHogCaptureOnViewed),\n/* harmony export */   PostHogContext: () => (/* binding */ PostHogContext),\n/* harmony export */   PostHogErrorBoundary: () => (/* binding */ PostHogErrorBoundary),\n/* harmony export */   PostHogFeature: () => (/* binding */ PostHogFeature),\n/* harmony export */   PostHogProvider: () => (/* binding */ PostHogProvider),\n/* harmony export */   captureFeatureInteraction: () => (/* binding */ captureFeatureInteraction),\n/* harmony export */   captureFeatureView: () => (/* binding */ captureFeatureView),\n/* harmony export */   setupReactErrorHandler: () => (/* binding */ setupReactErrorHandler),\n/* harmony export */   useActiveFeatureFlags: () => (/* binding */ useActiveFeatureFlags),\n/* harmony export */   useFeatureFlagEnabled: () => (/* binding */ useFeatureFlagEnabled),\n/* harmony export */   useFeatureFlagPayload: () => (/* binding */ useFeatureFlagPayload),\n/* harmony export */   useFeatureFlagVariantKey: () => (/* binding */ useFeatureFlagVariantKey),\n/* harmony export */   usePostHog: () => (/* binding */ usePostHog)\n/* harmony export */ });\n/* harmony import */ var posthog_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! posthog-js */ \"(ssr)/./node_modules/posthog-js/dist/module.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\n\nvar PostHogContext = (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)({\n    client: posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n    bootstrap: undefined,\n});\n\nfunction isDeepEqual(obj1, obj2, visited) {\n    if (visited === void 0) { visited = new WeakMap(); }\n    if (obj1 === obj2) {\n        return true;\n    }\n    if (typeof obj1 !== 'object' || obj1 === null || typeof obj2 !== 'object' || obj2 === null) {\n        return false;\n    }\n    if (visited.has(obj1) && visited.get(obj1) === obj2) {\n        return true;\n    }\n    visited.set(obj1, obj2);\n    var keys1 = Object.keys(obj1);\n    var keys2 = Object.keys(obj2);\n    if (keys1.length !== keys2.length) {\n        return false;\n    }\n    for (var _i = 0, keys1_1 = keys1; _i < keys1_1.length; _i++) {\n        var key = keys1_1[_i];\n        if (!keys2.includes(key)) {\n            return false;\n        }\n        if (!isDeepEqual(obj1[key], obj2[key], visited)) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction PostHogProvider(_a) {\n    var _b, _c;\n    var children = _a.children, client = _a.client, apiKey = _a.apiKey, options = _a.options;\n    var previousInitializationRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    var posthog = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {\n        if (client) {\n            if (apiKey) {\n                console.warn('[PostHog.js] You have provided both `client` and `apiKey` to `PostHogProvider`. `apiKey` will be ignored in favour of `client`.');\n            }\n            if (options) {\n                console.warn('[PostHog.js] You have provided both `client` and `options` to `PostHogProvider`. `options` will be ignored in favour of `client`.');\n            }\n            return client;\n        }\n        if (apiKey) {\n            return posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n        }\n        console.warn('[PostHog.js] No `apiKey` or `client` were provided to `PostHogProvider`. Using default global `window.posthog` instance. You must initialize it manually. This is not recommended behavior.');\n        return posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n    }, [client, apiKey, JSON.stringify(options)]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\n        if (client) {\n            return;\n        }\n        var previousInitialization = previousInitializationRef.current;\n        if (!previousInitialization) {\n            if (posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].__loaded) {\n                console.warn('[PostHog.js] `posthog` was already loaded elsewhere. This may cause issues.');\n            }\n            posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].init(apiKey, options);\n            previousInitializationRef.current = {\n                apiKey: apiKey,\n                options: options !== null && options !== void 0 ? options : {},\n            };\n        }\n        else {\n            if (apiKey !== previousInitialization.apiKey) {\n                console.warn(\"[PostHog.js] You have provided a different `apiKey` to `PostHogProvider` than the one that was already initialized. This is not supported by our provider and we'll keep using the previous key. If you need to toggle between API Keys you need to control the `client` yourself and pass it in as a prop rather than an `apiKey` prop.\");\n            }\n            if (options && !isDeepEqual(options, previousInitialization.options)) {\n                posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].set_config(options);\n            }\n            previousInitializationRef.current = {\n                apiKey: apiKey,\n                options: options !== null && options !== void 0 ? options : {},\n            };\n        }\n    }, [client, apiKey, JSON.stringify(options)]);\n    return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(PostHogContext.Provider, { value: { client: posthog, bootstrap: (_b = options === null || options === void 0 ? void 0 : options.bootstrap) !== null && _b !== void 0 ? _b : (_c = client === null || client === void 0 ? void 0 : client.config) === null || _c === void 0 ? void 0 : _c.bootstrap } }, children));\n}\n\nvar isFunction = function (f) {\n    return typeof f === 'function';\n};\nvar isUndefined = function (x) {\n    return x === void 0;\n};\nvar isNull = function (x) {\n    return x === null;\n};\n\nfunction useFeatureFlagEnabled(flag) {\n    var _a;\n    var _b = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(PostHogContext), client = _b.client, bootstrap = _b.bootstrap;\n    var _c = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(function () { return client.isFeatureEnabled(flag); }), featureEnabled = _c[0], setFeatureEnabled = _c[1];\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\n        return client.onFeatureFlags(function () {\n            setFeatureEnabled(client.isFeatureEnabled(flag));\n        });\n    }, [client, flag]);\n    var bootstrapped = (_a = bootstrap === null || bootstrap === void 0 ? void 0 : bootstrap.featureFlags) === null || _a === void 0 ? void 0 : _a[flag];\n    if (!client.featureFlags.hasLoadedFlags && (bootstrap === null || bootstrap === void 0 ? void 0 : bootstrap.featureFlags)) {\n        return isUndefined(bootstrapped) ? undefined : !!bootstrapped;\n    }\n    return featureEnabled;\n}\n\nfunction useFeatureFlagPayload(flag) {\n    var _a = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(PostHogContext), client = _a.client, bootstrap = _a.bootstrap;\n    var _b = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(function () { return client.getFeatureFlagPayload(flag); }), featureFlagPayload = _b[0], setFeatureFlagPayload = _b[1];\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\n        return client.onFeatureFlags(function () {\n            setFeatureFlagPayload(client.getFeatureFlagPayload(flag));\n        });\n    }, [client, flag]);\n    if (!client.featureFlags.hasLoadedFlags && (bootstrap === null || bootstrap === void 0 ? void 0 : bootstrap.featureFlagPayloads)) {\n        return bootstrap.featureFlagPayloads[flag];\n    }\n    return featureFlagPayload;\n}\n\nfunction useActiveFeatureFlags() {\n    var _a = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(PostHogContext), client = _a.client, bootstrap = _a.bootstrap;\n    var _b = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(function () { return client.featureFlags.getFlags(); }), featureFlags = _b[0], setFeatureFlags = _b[1];\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\n        return client.onFeatureFlags(function (flags) {\n            setFeatureFlags(flags);\n        });\n    }, [client]);\n    if (!client.featureFlags.hasLoadedFlags && (bootstrap === null || bootstrap === void 0 ? void 0 : bootstrap.featureFlags)) {\n        return Object.keys(bootstrap.featureFlags);\n    }\n    return featureFlags;\n}\n\nfunction useFeatureFlagVariantKey(flag) {\n    var _a = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(PostHogContext), client = _a.client, bootstrap = _a.bootstrap;\n    var _b = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(function () {\n        return client.getFeatureFlag(flag);\n    }), featureFlagVariantKey = _b[0], setFeatureFlagVariantKey = _b[1];\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\n        return client.onFeatureFlags(function () {\n            setFeatureFlagVariantKey(client.getFeatureFlag(flag));\n        });\n    }, [client, flag]);\n    if (!client.featureFlags.hasLoadedFlags && (bootstrap === null || bootstrap === void 0 ? void 0 : bootstrap.featureFlags)) {\n        return bootstrap.featureFlags[flag];\n    }\n    return featureFlagVariantKey;\n}\n\nvar usePostHog = function () {\n    var client = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(PostHogContext).client;\n    return client;\n};\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\ntypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\n\nfunction VisibilityAndClickTracker(_a) {\n    var children = _a.children, onIntersect = _a.onIntersect, onClick = _a.onClick, trackView = _a.trackView, options = _a.options, props = __rest(_a, [\"children\", \"onIntersect\", \"onClick\", \"trackView\", \"options\"]);\n    var ref = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    var observerOptions = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () { return (__assign({ threshold: 0.1 }, options)); }, [options === null || options === void 0 ? void 0 : options.threshold, options === null || options === void 0 ? void 0 : options.root, options === null || options === void 0 ? void 0 : options.rootMargin]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\n        if (isNull(ref.current) || !trackView)\n            return;\n        var observer = new IntersectionObserver(function (_a) {\n            var entry = _a[0];\n            return onIntersect(entry);\n        }, observerOptions);\n        observer.observe(ref.current);\n        return function () { return observer.disconnect(); };\n    }, [observerOptions, trackView, onIntersect]);\n    return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", __assign({ ref: ref }, props, { onClick: onClick }), children));\n}\n\nfunction VisibilityAndClickTrackers(_a) {\n    var children = _a.children, trackInteraction = _a.trackInteraction, trackView = _a.trackView, options = _a.options, onInteract = _a.onInteract, onView = _a.onView, props = __rest(_a, [\"children\", \"trackInteraction\", \"trackView\", \"options\", \"onInteract\", \"onView\"]);\n    var clickTrackedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    var visibilityTrackedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    var cachedOnClick = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function () {\n        if (!clickTrackedRef.current && trackInteraction && onInteract) {\n            onInteract();\n            clickTrackedRef.current = true;\n        }\n    }, [trackInteraction, onInteract]);\n    var onIntersect = function (entry) {\n        if (!visibilityTrackedRef.current && entry.isIntersecting && onView) {\n            onView();\n            visibilityTrackedRef.current = true;\n        }\n    };\n    var trackedChildren = react__WEBPACK_IMPORTED_MODULE_1__.Children.map(children, function (child) {\n        return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(VisibilityAndClickTracker, __assign({ onClick: cachedOnClick, onIntersect: onIntersect, trackView: trackView, options: options }, props), child));\n    });\n    return react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null, trackedChildren);\n}\n\nfunction PostHogFeature(_a) {\n    var flag = _a.flag, match = _a.match, children = _a.children, fallback = _a.fallback, visibilityObserverOptions = _a.visibilityObserverOptions, trackInteraction = _a.trackInteraction, trackView = _a.trackView, props = __rest(_a, [\"flag\", \"match\", \"children\", \"fallback\", \"visibilityObserverOptions\", \"trackInteraction\", \"trackView\"]);\n    var payload = useFeatureFlagPayload(flag);\n    var variant = useFeatureFlagVariantKey(flag);\n    var posthog = usePostHog();\n    var shouldTrackInteraction = trackInteraction !== null && trackInteraction !== void 0 ? trackInteraction : true;\n    var shouldTrackView = trackView !== null && trackView !== void 0 ? trackView : true;\n    if (isUndefined(match) || variant === match) {\n        var childNode = isFunction(children) ? children(payload) : children;\n        return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(VisibilityAndClickTrackers, __assign({ flag: flag, options: visibilityObserverOptions, trackInteraction: shouldTrackInteraction, trackView: shouldTrackView, onInteract: function () { return captureFeatureInteraction({ flag: flag, posthog: posthog, flagVariant: variant }); }, onView: function () { return captureFeatureView({ flag: flag, posthog: posthog, flagVariant: variant }); } }, props), childNode));\n    }\n    return react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null, fallback);\n}\nfunction captureFeatureInteraction(_a) {\n    var _b;\n    var flag = _a.flag, posthog = _a.posthog, flagVariant = _a.flagVariant;\n    var properties = {\n        feature_flag: flag,\n        $set: (_b = {}, _b[\"$feature_interaction/\".concat(flag)] = flagVariant !== null && flagVariant !== void 0 ? flagVariant : true, _b),\n    };\n    if (typeof flagVariant === 'string') {\n        properties.feature_flag_variant = flagVariant;\n    }\n    posthog.capture('$feature_interaction', properties);\n}\nfunction captureFeatureView(_a) {\n    var _b;\n    var flag = _a.flag, posthog = _a.posthog, flagVariant = _a.flagVariant;\n    var properties = {\n        feature_flag: flag,\n        $set: (_b = {}, _b[\"$feature_view/\".concat(flag)] = flagVariant !== null && flagVariant !== void 0 ? flagVariant : true, _b),\n    };\n    if (typeof flagVariant === 'string') {\n        properties.feature_flag_variant = flagVariant;\n    }\n    posthog.capture('$feature_view', properties);\n}\n\nfunction TrackedChild(_a) {\n    var child = _a.child, index = _a.index, name = _a.name, properties = _a.properties, observerOptions = _a.observerOptions;\n    var trackedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    var posthog = usePostHog();\n    var onIntersect = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function (entry) {\n        if (entry.isIntersecting && !trackedRef.current) {\n            posthog.capture('$element_viewed', __assign({ element_name: name, child_index: index }, properties));\n            trackedRef.current = true;\n        }\n    }, [posthog, name, index, properties]);\n    return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(VisibilityAndClickTracker, { onIntersect: onIntersect, trackView: true, options: observerOptions }, child));\n}\nfunction PostHogCaptureOnViewed(_a) {\n    var name = _a.name, properties = _a.properties, observerOptions = _a.observerOptions, trackAllChildren = _a.trackAllChildren, children = _a.children, props = __rest(_a, [\"name\", \"properties\", \"observerOptions\", \"trackAllChildren\", \"children\"]);\n    var trackedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    var posthog = usePostHog();\n    var onIntersect = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function (entry) {\n        if (entry.isIntersecting && !trackedRef.current) {\n            posthog.capture('$element_viewed', __assign({ element_name: name }, properties));\n            trackedRef.current = true;\n        }\n    }, [posthog, name, properties]);\n    if (trackAllChildren) {\n        var trackedChildren = react__WEBPACK_IMPORTED_MODULE_1__.Children.map(children, function (child, index) {\n            return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(TrackedChild, { key: index, child: child, index: index, name: name, properties: properties, observerOptions: observerOptions }));\n        });\n        return react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", __assign({}, props), trackedChildren);\n    }\n    return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(VisibilityAndClickTracker, __assign({ onIntersect: onIntersect, trackView: true, options: observerOptions }, props), children));\n}\n\nvar INITIAL_STATE = {\n    componentStack: null,\n    exceptionEvent: null,\n    error: null,\n};\nvar __POSTHOG_ERROR_MESSAGES = {\n    INVALID_FALLBACK: '[PostHog.js][PostHogErrorBoundary] Invalid fallback prop, provide a valid React element or a function that returns a valid React element.',\n};\nvar PostHogErrorBoundary = (function (_super) {\n    __extends(PostHogErrorBoundary, _super);\n    function PostHogErrorBoundary(props) {\n        var _this = _super.call(this, props) || this;\n        _this.state = INITIAL_STATE;\n        return _this;\n    }\n    PostHogErrorBoundary.prototype.componentDidCatch = function (error, errorInfo) {\n        var additionalProperties = this.props.additionalProperties;\n        var currentProperties;\n        if (isFunction(additionalProperties)) {\n            currentProperties = additionalProperties(error);\n        }\n        else if (typeof additionalProperties === 'object') {\n            currentProperties = additionalProperties;\n        }\n        var client = this.context.client;\n        var exceptionEvent = client.captureException(error, currentProperties);\n        var componentStack = errorInfo.componentStack;\n        this.setState({\n            error: error,\n            componentStack: componentStack,\n            exceptionEvent: exceptionEvent,\n        });\n    };\n    PostHogErrorBoundary.prototype.render = function () {\n        var _a = this.props, children = _a.children, fallback = _a.fallback;\n        var state = this.state;\n        if (state.componentStack == null) {\n            return isFunction(children) ? children() : children;\n        }\n        var element = isFunction(fallback)\n            ? react__WEBPACK_IMPORTED_MODULE_1___default().createElement(fallback, {\n                error: state.error,\n                componentStack: state.componentStack,\n                exceptionEvent: state.exceptionEvent,\n            })\n            : fallback;\n        if (react__WEBPACK_IMPORTED_MODULE_1___default().isValidElement(element)) {\n            return element;\n        }\n        console.warn(__POSTHOG_ERROR_MESSAGES.INVALID_FALLBACK);\n        return react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null);\n    };\n    PostHogErrorBoundary.contextType = PostHogContext;\n    return PostHogErrorBoundary;\n}((react__WEBPACK_IMPORTED_MODULE_1___default().Component)));\n\nvar setupReactErrorHandler = function (client, callback) {\n    return function (error, errorInfo) {\n        var event = client.captureException(error);\n        if (callback) {\n            callback(event, error, errorInfo);\n        }\n    };\n};\n\n\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcG9zdGhvZy1qcy9yZWFjdC9kaXN0L2VzbS9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQW1DO0FBQ21GOztBQUV0SCxxQkFBcUIsb0RBQWE7QUFDbEMsWUFBWSxrREFBUztBQUNyQjtBQUNBLENBQUM7O0FBRUQ7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLHFCQUFxQjtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsNkNBQU07QUFDMUMsa0JBQWtCLDhDQUFPO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGtEQUFTO0FBQzVCO0FBQ0E7QUFDQSxlQUFlLGtEQUFTO0FBQ3hCLEtBQUs7QUFDTCxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixrREFBUztBQUN6QjtBQUNBO0FBQ0EsWUFBWSxrREFBUztBQUNyQjtBQUNBO0FBQ0EsOEVBQThFO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGtEQUFTO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLDhFQUE4RTtBQUM5RTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVksMERBQW1CLDRCQUE0QixTQUFTLGtRQUFrUTtBQUN0VTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWEsaURBQVU7QUFDdkIsYUFBYSwrQ0FBUSxlQUFlLHVDQUF1QztBQUMzRSxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFL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QWlCLDhHQUE4RztBQUN0SyxTQUFTO0FBQ1QsZUFBZSwwREFBbUIsbUJBQW1CO0FBQ3JEO0FBQ0EsWUFBWSwwREFBbUIsdUNBQXVDLHFFQUFxRTtBQUMzSTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYywwREFBbUI7QUFDakM7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsWUFBWSwyREFBb0I7QUFDaEM7QUFDQTtBQUNBO0FBQ0EsZUFBZSwwREFBbUIsQ0FBQyx1REFBYztBQUNqRDtBQUNBO0FBQ0E7QUFDQSxDQUFDLENBQUMsd0RBQWU7O0FBRWpCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRTJSO0FBQzNSIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVwcmFsbHktb25ib2FyZGluZy8uL25vZGVfbW9kdWxlcy9wb3N0aG9nLWpzL3JlYWN0L2Rpc3QvZXNtL2luZGV4LmpzP2FjZTgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHBvc3Rob2dKcyBmcm9tICdwb3N0aG9nLWpzJztcbmltcG9ydCBSZWFjdCwgeyBjcmVhdGVDb250ZXh0LCB1c2VSZWYsIHVzZU1lbW8sIHVzZUVmZmVjdCwgdXNlQ29udGV4dCwgdXNlU3RhdGUsIHVzZUNhbGxiYWNrLCBDaGlsZHJlbiB9IGZyb20gJ3JlYWN0JztcblxudmFyIFBvc3RIb2dDb250ZXh0ID0gY3JlYXRlQ29udGV4dCh7XG4gICAgY2xpZW50OiBwb3N0aG9nSnMsXG4gICAgYm9vdHN0cmFwOiB1bmRlZmluZWQsXG59KTtcblxuZnVuY3Rpb24gaXNEZWVwRXF1YWwob2JqMSwgb2JqMiwgdmlzaXRlZCkge1xuICAgIGlmICh2aXNpdGVkID09PSB2b2lkIDApIHsgdmlzaXRlZCA9IG5ldyBXZWFrTWFwKCk7IH1cbiAgICBpZiAob2JqMSA9PT0gb2JqMikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvYmoxICE9PSAnb2JqZWN0JyB8fCBvYmoxID09PSBudWxsIHx8IHR5cGVvZiBvYmoyICE9PSAnb2JqZWN0JyB8fCBvYmoyID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHZpc2l0ZWQuaGFzKG9iajEpICYmIHZpc2l0ZWQuZ2V0KG9iajEpID09PSBvYmoyKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICB2aXNpdGVkLnNldChvYmoxLCBvYmoyKTtcbiAgICB2YXIga2V5czEgPSBPYmplY3Qua2V5cyhvYmoxKTtcbiAgICB2YXIga2V5czIgPSBPYmplY3Qua2V5cyhvYmoyKTtcbiAgICBpZiAoa2V5czEubGVuZ3RoICE9PSBrZXlzMi5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmb3IgKHZhciBfaSA9IDAsIGtleXMxXzEgPSBrZXlzMTsgX2kgPCBrZXlzMV8xLmxlbmd0aDsgX2krKykge1xuICAgICAgICB2YXIga2V5ID0ga2V5czFfMVtfaV07XG4gICAgICAgIGlmICgha2V5czIuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNEZWVwRXF1YWwob2JqMVtrZXldLCBvYmoyW2tleV0sIHZpc2l0ZWQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIFBvc3RIb2dQcm92aWRlcihfYSkge1xuICAgIHZhciBfYiwgX2M7XG4gICAgdmFyIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sIGNsaWVudCA9IF9hLmNsaWVudCwgYXBpS2V5ID0gX2EuYXBpS2V5LCBvcHRpb25zID0gX2Eub3B0aW9ucztcbiAgICB2YXIgcHJldmlvdXNJbml0aWFsaXphdGlvblJlZiA9IHVzZVJlZihudWxsKTtcbiAgICB2YXIgcG9zdGhvZyA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoY2xpZW50KSB7XG4gICAgICAgICAgICBpZiAoYXBpS2V5KSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdbUG9zdEhvZy5qc10gWW91IGhhdmUgcHJvdmlkZWQgYm90aCBgY2xpZW50YCBhbmQgYGFwaUtleWAgdG8gYFBvc3RIb2dQcm92aWRlcmAuIGBhcGlLZXlgIHdpbGwgYmUgaWdub3JlZCBpbiBmYXZvdXIgb2YgYGNsaWVudGAuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0aW9ucykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignW1Bvc3RIb2cuanNdIFlvdSBoYXZlIHByb3ZpZGVkIGJvdGggYGNsaWVudGAgYW5kIGBvcHRpb25zYCB0byBgUG9zdEhvZ1Byb3ZpZGVyYC4gYG9wdGlvbnNgIHdpbGwgYmUgaWdub3JlZCBpbiBmYXZvdXIgb2YgYGNsaWVudGAuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY2xpZW50O1xuICAgICAgICB9XG4gICAgICAgIGlmIChhcGlLZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBwb3N0aG9nSnM7XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS53YXJuKCdbUG9zdEhvZy5qc10gTm8gYGFwaUtleWAgb3IgYGNsaWVudGAgd2VyZSBwcm92aWRlZCB0byBgUG9zdEhvZ1Byb3ZpZGVyYC4gVXNpbmcgZGVmYXVsdCBnbG9iYWwgYHdpbmRvdy5wb3N0aG9nYCBpbnN0YW5jZS4gWW91IG11c3QgaW5pdGlhbGl6ZSBpdCBtYW51YWxseS4gVGhpcyBpcyBub3QgcmVjb21tZW5kZWQgYmVoYXZpb3IuJyk7XG4gICAgICAgIHJldHVybiBwb3N0aG9nSnM7XG4gICAgfSwgW2NsaWVudCwgYXBpS2V5LCBKU09OLnN0cmluZ2lmeShvcHRpb25zKV0pO1xuICAgIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChjbGllbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcHJldmlvdXNJbml0aWFsaXphdGlvbiA9IHByZXZpb3VzSW5pdGlhbGl6YXRpb25SZWYuY3VycmVudDtcbiAgICAgICAgaWYgKCFwcmV2aW91c0luaXRpYWxpemF0aW9uKSB7XG4gICAgICAgICAgICBpZiAocG9zdGhvZ0pzLl9fbG9hZGVkKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdbUG9zdEhvZy5qc10gYHBvc3Rob2dgIHdhcyBhbHJlYWR5IGxvYWRlZCBlbHNld2hlcmUuIFRoaXMgbWF5IGNhdXNlIGlzc3Vlcy4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBvc3Rob2dKcy5pbml0KGFwaUtleSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBwcmV2aW91c0luaXRpYWxpemF0aW9uUmVmLmN1cnJlbnQgPSB7XG4gICAgICAgICAgICAgICAgYXBpS2V5OiBhcGlLZXksXG4gICAgICAgICAgICAgICAgb3B0aW9uczogb3B0aW9ucyAhPT0gbnVsbCAmJiBvcHRpb25zICE9PSB2b2lkIDAgPyBvcHRpb25zIDoge30sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGFwaUtleSAhPT0gcHJldmlvdXNJbml0aWFsaXphdGlvbi5hcGlLZXkpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJbUG9zdEhvZy5qc10gWW91IGhhdmUgcHJvdmlkZWQgYSBkaWZmZXJlbnQgYGFwaUtleWAgdG8gYFBvc3RIb2dQcm92aWRlcmAgdGhhbiB0aGUgb25lIHRoYXQgd2FzIGFscmVhZHkgaW5pdGlhbGl6ZWQuIFRoaXMgaXMgbm90IHN1cHBvcnRlZCBieSBvdXIgcHJvdmlkZXIgYW5kIHdlJ2xsIGtlZXAgdXNpbmcgdGhlIHByZXZpb3VzIGtleS4gSWYgeW91IG5lZWQgdG8gdG9nZ2xlIGJldHdlZW4gQVBJIEtleXMgeW91IG5lZWQgdG8gY29udHJvbCB0aGUgYGNsaWVudGAgeW91cnNlbGYgYW5kIHBhc3MgaXQgaW4gYXMgYSBwcm9wIHJhdGhlciB0aGFuIGFuIGBhcGlLZXlgIHByb3AuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdGlvbnMgJiYgIWlzRGVlcEVxdWFsKG9wdGlvbnMsIHByZXZpb3VzSW5pdGlhbGl6YXRpb24ub3B0aW9ucykpIHtcbiAgICAgICAgICAgICAgICBwb3N0aG9nSnMuc2V0X2NvbmZpZyhvcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByZXZpb3VzSW5pdGlhbGl6YXRpb25SZWYuY3VycmVudCA9IHtcbiAgICAgICAgICAgICAgICBhcGlLZXk6IGFwaUtleSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBvcHRpb25zICE9PSBudWxsICYmIG9wdGlvbnMgIT09IHZvaWQgMCA/IG9wdGlvbnMgOiB7fSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9LCBbY2xpZW50LCBhcGlLZXksIEpTT04uc3RyaW5naWZ5KG9wdGlvbnMpXSk7XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFBvc3RIb2dDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiB7IGNsaWVudDogcG9zdGhvZywgYm9vdHN0cmFwOiAoX2IgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMuYm9vdHN0cmFwKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAoX2MgPSBjbGllbnQgPT09IG51bGwgfHwgY2xpZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjbGllbnQuY29uZmlnKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuYm9vdHN0cmFwIH0gfSwgY2hpbGRyZW4pKTtcbn1cblxudmFyIGlzRnVuY3Rpb24gPSBmdW5jdGlvbiAoZikge1xuICAgIHJldHVybiB0eXBlb2YgZiA9PT0gJ2Z1bmN0aW9uJztcbn07XG52YXIgaXNVbmRlZmluZWQgPSBmdW5jdGlvbiAoeCkge1xuICAgIHJldHVybiB4ID09PSB2b2lkIDA7XG59O1xudmFyIGlzTnVsbCA9IGZ1bmN0aW9uICh4KSB7XG4gICAgcmV0dXJuIHggPT09IG51bGw7XG59O1xuXG5mdW5jdGlvbiB1c2VGZWF0dXJlRmxhZ0VuYWJsZWQoZmxhZykge1xuICAgIHZhciBfYTtcbiAgICB2YXIgX2IgPSB1c2VDb250ZXh0KFBvc3RIb2dDb250ZXh0KSwgY2xpZW50ID0gX2IuY2xpZW50LCBib290c3RyYXAgPSBfYi5ib290c3RyYXA7XG4gICAgdmFyIF9jID0gdXNlU3RhdGUoZnVuY3Rpb24gKCkgeyByZXR1cm4gY2xpZW50LmlzRmVhdHVyZUVuYWJsZWQoZmxhZyk7IH0pLCBmZWF0dXJlRW5hYmxlZCA9IF9jWzBdLCBzZXRGZWF0dXJlRW5hYmxlZCA9IF9jWzFdO1xuICAgIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBjbGllbnQub25GZWF0dXJlRmxhZ3MoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc2V0RmVhdHVyZUVuYWJsZWQoY2xpZW50LmlzRmVhdHVyZUVuYWJsZWQoZmxhZykpO1xuICAgICAgICB9KTtcbiAgICB9LCBbY2xpZW50LCBmbGFnXSk7XG4gICAgdmFyIGJvb3RzdHJhcHBlZCA9IChfYSA9IGJvb3RzdHJhcCA9PT0gbnVsbCB8fCBib290c3RyYXAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGJvb3RzdHJhcC5mZWF0dXJlRmxhZ3MpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYVtmbGFnXTtcbiAgICBpZiAoIWNsaWVudC5mZWF0dXJlRmxhZ3MuaGFzTG9hZGVkRmxhZ3MgJiYgKGJvb3RzdHJhcCA9PT0gbnVsbCB8fCBib290c3RyYXAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGJvb3RzdHJhcC5mZWF0dXJlRmxhZ3MpKSB7XG4gICAgICAgIHJldHVybiBpc1VuZGVmaW5lZChib290c3RyYXBwZWQpID8gdW5kZWZpbmVkIDogISFib290c3RyYXBwZWQ7XG4gICAgfVxuICAgIHJldHVybiBmZWF0dXJlRW5hYmxlZDtcbn1cblxuZnVuY3Rpb24gdXNlRmVhdHVyZUZsYWdQYXlsb2FkKGZsYWcpIHtcbiAgICB2YXIgX2EgPSB1c2VDb250ZXh0KFBvc3RIb2dDb250ZXh0KSwgY2xpZW50ID0gX2EuY2xpZW50LCBib290c3RyYXAgPSBfYS5ib290c3RyYXA7XG4gICAgdmFyIF9iID0gdXNlU3RhdGUoZnVuY3Rpb24gKCkgeyByZXR1cm4gY2xpZW50LmdldEZlYXR1cmVGbGFnUGF5bG9hZChmbGFnKTsgfSksIGZlYXR1cmVGbGFnUGF5bG9hZCA9IF9iWzBdLCBzZXRGZWF0dXJlRmxhZ1BheWxvYWQgPSBfYlsxXTtcbiAgICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gY2xpZW50Lm9uRmVhdHVyZUZsYWdzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNldEZlYXR1cmVGbGFnUGF5bG9hZChjbGllbnQuZ2V0RmVhdHVyZUZsYWdQYXlsb2FkKGZsYWcpKTtcbiAgICAgICAgfSk7XG4gICAgfSwgW2NsaWVudCwgZmxhZ10pO1xuICAgIGlmICghY2xpZW50LmZlYXR1cmVGbGFncy5oYXNMb2FkZWRGbGFncyAmJiAoYm9vdHN0cmFwID09PSBudWxsIHx8IGJvb3RzdHJhcCA9PT0gdm9pZCAwID8gdm9pZCAwIDogYm9vdHN0cmFwLmZlYXR1cmVGbGFnUGF5bG9hZHMpKSB7XG4gICAgICAgIHJldHVybiBib290c3RyYXAuZmVhdHVyZUZsYWdQYXlsb2Fkc1tmbGFnXTtcbiAgICB9XG4gICAgcmV0dXJuIGZlYXR1cmVGbGFnUGF5bG9hZDtcbn1cblxuZnVuY3Rpb24gdXNlQWN0aXZlRmVhdHVyZUZsYWdzKCkge1xuICAgIHZhciBfYSA9IHVzZUNvbnRleHQoUG9zdEhvZ0NvbnRleHQpLCBjbGllbnQgPSBfYS5jbGllbnQsIGJvb3RzdHJhcCA9IF9hLmJvb3RzdHJhcDtcbiAgICB2YXIgX2IgPSB1c2VTdGF0ZShmdW5jdGlvbiAoKSB7IHJldHVybiBjbGllbnQuZmVhdHVyZUZsYWdzLmdldEZsYWdzKCk7IH0pLCBmZWF0dXJlRmxhZ3MgPSBfYlswXSwgc2V0RmVhdHVyZUZsYWdzID0gX2JbMV07XG4gICAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGNsaWVudC5vbkZlYXR1cmVGbGFncyhmdW5jdGlvbiAoZmxhZ3MpIHtcbiAgICAgICAgICAgIHNldEZlYXR1cmVGbGFncyhmbGFncyk7XG4gICAgICAgIH0pO1xuICAgIH0sIFtjbGllbnRdKTtcbiAgICBpZiAoIWNsaWVudC5mZWF0dXJlRmxhZ3MuaGFzTG9hZGVkRmxhZ3MgJiYgKGJvb3RzdHJhcCA9PT0gbnVsbCB8fCBib290c3RyYXAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGJvb3RzdHJhcC5mZWF0dXJlRmxhZ3MpKSB7XG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhib290c3RyYXAuZmVhdHVyZUZsYWdzKTtcbiAgICB9XG4gICAgcmV0dXJuIGZlYXR1cmVGbGFncztcbn1cblxuZnVuY3Rpb24gdXNlRmVhdHVyZUZsYWdWYXJpYW50S2V5KGZsYWcpIHtcbiAgICB2YXIgX2EgPSB1c2VDb250ZXh0KFBvc3RIb2dDb250ZXh0KSwgY2xpZW50ID0gX2EuY2xpZW50LCBib290c3RyYXAgPSBfYS5ib290c3RyYXA7XG4gICAgdmFyIF9iID0gdXNlU3RhdGUoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gY2xpZW50LmdldEZlYXR1cmVGbGFnKGZsYWcpO1xuICAgIH0pLCBmZWF0dXJlRmxhZ1ZhcmlhbnRLZXkgPSBfYlswXSwgc2V0RmVhdHVyZUZsYWdWYXJpYW50S2V5ID0gX2JbMV07XG4gICAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGNsaWVudC5vbkZlYXR1cmVGbGFncyhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzZXRGZWF0dXJlRmxhZ1ZhcmlhbnRLZXkoY2xpZW50LmdldEZlYXR1cmVGbGFnKGZsYWcpKTtcbiAgICAgICAgfSk7XG4gICAgfSwgW2NsaWVudCwgZmxhZ10pO1xuICAgIGlmICghY2xpZW50LmZlYXR1cmVGbGFncy5oYXNMb2FkZWRGbGFncyAmJiAoYm9vdHN0cmFwID09PSBudWxsIHx8IGJvb3RzdHJhcCA9PT0gdm9pZCAwID8gdm9pZCAwIDogYm9vdHN0cmFwLmZlYXR1cmVGbGFncykpIHtcbiAgICAgICAgcmV0dXJuIGJvb3RzdHJhcC5mZWF0dXJlRmxhZ3NbZmxhZ107XG4gICAgfVxuICAgIHJldHVybiBmZWF0dXJlRmxhZ1ZhcmlhbnRLZXk7XG59XG5cbnZhciB1c2VQb3N0SG9nID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBjbGllbnQgPSB1c2VDb250ZXh0KFBvc3RIb2dDb250ZXh0KS5jbGllbnQ7XG4gICAgcmV0dXJuIGNsaWVudDtcbn07XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXHJcblxyXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxyXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cclxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSwgU3VwcHJlc3NlZEVycm9yLCBTeW1ib2wsIEl0ZXJhdG9yICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG52YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfTtcclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcclxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG50eXBlb2YgU3VwcHJlc3NlZEVycm9yID09PSBcImZ1bmN0aW9uXCIgPyBTdXBwcmVzc2VkRXJyb3IgOiBmdW5jdGlvbiAoZXJyb3IsIHN1cHByZXNzZWQsIG1lc3NhZ2UpIHtcclxuICAgIHZhciBlID0gbmV3IEVycm9yKG1lc3NhZ2UpO1xyXG4gICAgcmV0dXJuIGUubmFtZSA9IFwiU3VwcHJlc3NlZEVycm9yXCIsIGUuZXJyb3IgPSBlcnJvciwgZS5zdXBwcmVzc2VkID0gc3VwcHJlc3NlZCwgZTtcclxufTtcblxuZnVuY3Rpb24gVmlzaWJpbGl0eUFuZENsaWNrVHJhY2tlcihfYSkge1xuICAgIHZhciBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLCBvbkludGVyc2VjdCA9IF9hLm9uSW50ZXJzZWN0LCBvbkNsaWNrID0gX2Eub25DbGljaywgdHJhY2tWaWV3ID0gX2EudHJhY2tWaWV3LCBvcHRpb25zID0gX2Eub3B0aW9ucywgcHJvcHMgPSBfX3Jlc3QoX2EsIFtcImNoaWxkcmVuXCIsIFwib25JbnRlcnNlY3RcIiwgXCJvbkNsaWNrXCIsIFwidHJhY2tWaWV3XCIsIFwib3B0aW9uc1wiXSk7XG4gICAgdmFyIHJlZiA9IHVzZVJlZihudWxsKTtcbiAgICB2YXIgb2JzZXJ2ZXJPcHRpb25zID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7IHJldHVybiAoX19hc3NpZ24oeyB0aHJlc2hvbGQ6IDAuMSB9LCBvcHRpb25zKSk7IH0sIFtvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMudGhyZXNob2xkLCBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMucm9vdCwgb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnJvb3RNYXJnaW5dKTtcbiAgICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoaXNOdWxsKHJlZi5jdXJyZW50KSB8fCAhdHJhY2tWaWV3KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB2YXIgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICB2YXIgZW50cnkgPSBfYVswXTtcbiAgICAgICAgICAgIHJldHVybiBvbkludGVyc2VjdChlbnRyeSk7XG4gICAgICAgIH0sIG9ic2VydmVyT3B0aW9ucyk7XG4gICAgICAgIG9ic2VydmVyLm9ic2VydmUocmVmLmN1cnJlbnQpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgeyByZXR1cm4gb2JzZXJ2ZXIuZGlzY29ubmVjdCgpOyB9O1xuICAgIH0sIFtvYnNlcnZlck9wdGlvbnMsIHRyYWNrVmlldywgb25JbnRlcnNlY3RdKTtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgX19hc3NpZ24oeyByZWY6IHJlZiB9LCBwcm9wcywgeyBvbkNsaWNrOiBvbkNsaWNrIH0pLCBjaGlsZHJlbikpO1xufVxuXG5mdW5jdGlvbiBWaXNpYmlsaXR5QW5kQ2xpY2tUcmFja2VycyhfYSkge1xuICAgIHZhciBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLCB0cmFja0ludGVyYWN0aW9uID0gX2EudHJhY2tJbnRlcmFjdGlvbiwgdHJhY2tWaWV3ID0gX2EudHJhY2tWaWV3LCBvcHRpb25zID0gX2Eub3B0aW9ucywgb25JbnRlcmFjdCA9IF9hLm9uSW50ZXJhY3QsIG9uVmlldyA9IF9hLm9uVmlldywgcHJvcHMgPSBfX3Jlc3QoX2EsIFtcImNoaWxkcmVuXCIsIFwidHJhY2tJbnRlcmFjdGlvblwiLCBcInRyYWNrVmlld1wiLCBcIm9wdGlvbnNcIiwgXCJvbkludGVyYWN0XCIsIFwib25WaWV3XCJdKTtcbiAgICB2YXIgY2xpY2tUcmFja2VkUmVmID0gdXNlUmVmKGZhbHNlKTtcbiAgICB2YXIgdmlzaWJpbGl0eVRyYWNrZWRSZWYgPSB1c2VSZWYoZmFsc2UpO1xuICAgIHZhciBjYWNoZWRPbkNsaWNrID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIWNsaWNrVHJhY2tlZFJlZi5jdXJyZW50ICYmIHRyYWNrSW50ZXJhY3Rpb24gJiYgb25JbnRlcmFjdCkge1xuICAgICAgICAgICAgb25JbnRlcmFjdCgpO1xuICAgICAgICAgICAgY2xpY2tUcmFja2VkUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfSwgW3RyYWNrSW50ZXJhY3Rpb24sIG9uSW50ZXJhY3RdKTtcbiAgICB2YXIgb25JbnRlcnNlY3QgPSBmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgaWYgKCF2aXNpYmlsaXR5VHJhY2tlZFJlZi5jdXJyZW50ICYmIGVudHJ5LmlzSW50ZXJzZWN0aW5nICYmIG9uVmlldykge1xuICAgICAgICAgICAgb25WaWV3KCk7XG4gICAgICAgICAgICB2aXNpYmlsaXR5VHJhY2tlZFJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdmFyIHRyYWNrZWRDaGlsZHJlbiA9IENoaWxkcmVuLm1hcChjaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChWaXNpYmlsaXR5QW5kQ2xpY2tUcmFja2VyLCBfX2Fzc2lnbih7IG9uQ2xpY2s6IGNhY2hlZE9uQ2xpY2ssIG9uSW50ZXJzZWN0OiBvbkludGVyc2VjdCwgdHJhY2tWaWV3OiB0cmFja1ZpZXcsIG9wdGlvbnM6IG9wdGlvbnMgfSwgcHJvcHMpLCBjaGlsZCkpO1xuICAgIH0pO1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCB0cmFja2VkQ2hpbGRyZW4pO1xufVxuXG5mdW5jdGlvbiBQb3N0SG9nRmVhdHVyZShfYSkge1xuICAgIHZhciBmbGFnID0gX2EuZmxhZywgbWF0Y2ggPSBfYS5tYXRjaCwgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbiwgZmFsbGJhY2sgPSBfYS5mYWxsYmFjaywgdmlzaWJpbGl0eU9ic2VydmVyT3B0aW9ucyA9IF9hLnZpc2liaWxpdHlPYnNlcnZlck9wdGlvbnMsIHRyYWNrSW50ZXJhY3Rpb24gPSBfYS50cmFja0ludGVyYWN0aW9uLCB0cmFja1ZpZXcgPSBfYS50cmFja1ZpZXcsIHByb3BzID0gX19yZXN0KF9hLCBbXCJmbGFnXCIsIFwibWF0Y2hcIiwgXCJjaGlsZHJlblwiLCBcImZhbGxiYWNrXCIsIFwidmlzaWJpbGl0eU9ic2VydmVyT3B0aW9uc1wiLCBcInRyYWNrSW50ZXJhY3Rpb25cIiwgXCJ0cmFja1ZpZXdcIl0pO1xuICAgIHZhciBwYXlsb2FkID0gdXNlRmVhdHVyZUZsYWdQYXlsb2FkKGZsYWcpO1xuICAgIHZhciB2YXJpYW50ID0gdXNlRmVhdHVyZUZsYWdWYXJpYW50S2V5KGZsYWcpO1xuICAgIHZhciBwb3N0aG9nID0gdXNlUG9zdEhvZygpO1xuICAgIHZhciBzaG91bGRUcmFja0ludGVyYWN0aW9uID0gdHJhY2tJbnRlcmFjdGlvbiAhPT0gbnVsbCAmJiB0cmFja0ludGVyYWN0aW9uICE9PSB2b2lkIDAgPyB0cmFja0ludGVyYWN0aW9uIDogdHJ1ZTtcbiAgICB2YXIgc2hvdWxkVHJhY2tWaWV3ID0gdHJhY2tWaWV3ICE9PSBudWxsICYmIHRyYWNrVmlldyAhPT0gdm9pZCAwID8gdHJhY2tWaWV3IDogdHJ1ZTtcbiAgICBpZiAoaXNVbmRlZmluZWQobWF0Y2gpIHx8IHZhcmlhbnQgPT09IG1hdGNoKSB7XG4gICAgICAgIHZhciBjaGlsZE5vZGUgPSBpc0Z1bmN0aW9uKGNoaWxkcmVuKSA/IGNoaWxkcmVuKHBheWxvYWQpIDogY2hpbGRyZW47XG4gICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChWaXNpYmlsaXR5QW5kQ2xpY2tUcmFja2VycywgX19hc3NpZ24oeyBmbGFnOiBmbGFnLCBvcHRpb25zOiB2aXNpYmlsaXR5T2JzZXJ2ZXJPcHRpb25zLCB0cmFja0ludGVyYWN0aW9uOiBzaG91bGRUcmFja0ludGVyYWN0aW9uLCB0cmFja1ZpZXc6IHNob3VsZFRyYWNrVmlldywgb25JbnRlcmFjdDogZnVuY3Rpb24gKCkgeyByZXR1cm4gY2FwdHVyZUZlYXR1cmVJbnRlcmFjdGlvbih7IGZsYWc6IGZsYWcsIHBvc3Rob2c6IHBvc3Rob2csIGZsYWdWYXJpYW50OiB2YXJpYW50IH0pOyB9LCBvblZpZXc6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNhcHR1cmVGZWF0dXJlVmlldyh7IGZsYWc6IGZsYWcsIHBvc3Rob2c6IHBvc3Rob2csIGZsYWdWYXJpYW50OiB2YXJpYW50IH0pOyB9IH0sIHByb3BzKSwgY2hpbGROb2RlKSk7XG4gICAgfVxuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCBmYWxsYmFjayk7XG59XG5mdW5jdGlvbiBjYXB0dXJlRmVhdHVyZUludGVyYWN0aW9uKF9hKSB7XG4gICAgdmFyIF9iO1xuICAgIHZhciBmbGFnID0gX2EuZmxhZywgcG9zdGhvZyA9IF9hLnBvc3Rob2csIGZsYWdWYXJpYW50ID0gX2EuZmxhZ1ZhcmlhbnQ7XG4gICAgdmFyIHByb3BlcnRpZXMgPSB7XG4gICAgICAgIGZlYXR1cmVfZmxhZzogZmxhZyxcbiAgICAgICAgJHNldDogKF9iID0ge30sIF9iW1wiJGZlYXR1cmVfaW50ZXJhY3Rpb24vXCIuY29uY2F0KGZsYWcpXSA9IGZsYWdWYXJpYW50ICE9PSBudWxsICYmIGZsYWdWYXJpYW50ICE9PSB2b2lkIDAgPyBmbGFnVmFyaWFudCA6IHRydWUsIF9iKSxcbiAgICB9O1xuICAgIGlmICh0eXBlb2YgZmxhZ1ZhcmlhbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHByb3BlcnRpZXMuZmVhdHVyZV9mbGFnX3ZhcmlhbnQgPSBmbGFnVmFyaWFudDtcbiAgICB9XG4gICAgcG9zdGhvZy5jYXB0dXJlKCckZmVhdHVyZV9pbnRlcmFjdGlvbicsIHByb3BlcnRpZXMpO1xufVxuZnVuY3Rpb24gY2FwdHVyZUZlYXR1cmVWaWV3KF9hKSB7XG4gICAgdmFyIF9iO1xuICAgIHZhciBmbGFnID0gX2EuZmxhZywgcG9zdGhvZyA9IF9hLnBvc3Rob2csIGZsYWdWYXJpYW50ID0gX2EuZmxhZ1ZhcmlhbnQ7XG4gICAgdmFyIHByb3BlcnRpZXMgPSB7XG4gICAgICAgIGZlYXR1cmVfZmxhZzogZmxhZyxcbiAgICAgICAgJHNldDogKF9iID0ge30sIF9iW1wiJGZlYXR1cmVfdmlldy9cIi5jb25jYXQoZmxhZyldID0gZmxhZ1ZhcmlhbnQgIT09IG51bGwgJiYgZmxhZ1ZhcmlhbnQgIT09IHZvaWQgMCA/IGZsYWdWYXJpYW50IDogdHJ1ZSwgX2IpLFxuICAgIH07XG4gICAgaWYgKHR5cGVvZiBmbGFnVmFyaWFudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcHJvcGVydGllcy5mZWF0dXJlX2ZsYWdfdmFyaWFudCA9IGZsYWdWYXJpYW50O1xuICAgIH1cbiAgICBwb3N0aG9nLmNhcHR1cmUoJyRmZWF0dXJlX3ZpZXcnLCBwcm9wZXJ0aWVzKTtcbn1cblxuZnVuY3Rpb24gVHJhY2tlZENoaWxkKF9hKSB7XG4gICAgdmFyIGNoaWxkID0gX2EuY2hpbGQsIGluZGV4ID0gX2EuaW5kZXgsIG5hbWUgPSBfYS5uYW1lLCBwcm9wZXJ0aWVzID0gX2EucHJvcGVydGllcywgb2JzZXJ2ZXJPcHRpb25zID0gX2Eub2JzZXJ2ZXJPcHRpb25zO1xuICAgIHZhciB0cmFja2VkUmVmID0gdXNlUmVmKGZhbHNlKTtcbiAgICB2YXIgcG9zdGhvZyA9IHVzZVBvc3RIb2coKTtcbiAgICB2YXIgb25JbnRlcnNlY3QgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgaWYgKGVudHJ5LmlzSW50ZXJzZWN0aW5nICYmICF0cmFja2VkUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIHBvc3Rob2cuY2FwdHVyZSgnJGVsZW1lbnRfdmlld2VkJywgX19hc3NpZ24oeyBlbGVtZW50X25hbWU6IG5hbWUsIGNoaWxkX2luZGV4OiBpbmRleCB9LCBwcm9wZXJ0aWVzKSk7XG4gICAgICAgICAgICB0cmFja2VkUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfSwgW3Bvc3Rob2csIG5hbWUsIGluZGV4LCBwcm9wZXJ0aWVzXSk7XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFZpc2liaWxpdHlBbmRDbGlja1RyYWNrZXIsIHsgb25JbnRlcnNlY3Q6IG9uSW50ZXJzZWN0LCB0cmFja1ZpZXc6IHRydWUsIG9wdGlvbnM6IG9ic2VydmVyT3B0aW9ucyB9LCBjaGlsZCkpO1xufVxuZnVuY3Rpb24gUG9zdEhvZ0NhcHR1cmVPblZpZXdlZChfYSkge1xuICAgIHZhciBuYW1lID0gX2EubmFtZSwgcHJvcGVydGllcyA9IF9hLnByb3BlcnRpZXMsIG9ic2VydmVyT3B0aW9ucyA9IF9hLm9ic2VydmVyT3B0aW9ucywgdHJhY2tBbGxDaGlsZHJlbiA9IF9hLnRyYWNrQWxsQ2hpbGRyZW4sIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sIHByb3BzID0gX19yZXN0KF9hLCBbXCJuYW1lXCIsIFwicHJvcGVydGllc1wiLCBcIm9ic2VydmVyT3B0aW9uc1wiLCBcInRyYWNrQWxsQ2hpbGRyZW5cIiwgXCJjaGlsZHJlblwiXSk7XG4gICAgdmFyIHRyYWNrZWRSZWYgPSB1c2VSZWYoZmFsc2UpO1xuICAgIHZhciBwb3N0aG9nID0gdXNlUG9zdEhvZygpO1xuICAgIHZhciBvbkludGVyc2VjdCA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgICBpZiAoZW50cnkuaXNJbnRlcnNlY3RpbmcgJiYgIXRyYWNrZWRSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgcG9zdGhvZy5jYXB0dXJlKCckZWxlbWVudF92aWV3ZWQnLCBfX2Fzc2lnbih7IGVsZW1lbnRfbmFtZTogbmFtZSB9LCBwcm9wZXJ0aWVzKSk7XG4gICAgICAgICAgICB0cmFja2VkUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfSwgW3Bvc3Rob2csIG5hbWUsIHByb3BlcnRpZXNdKTtcbiAgICBpZiAodHJhY2tBbGxDaGlsZHJlbikge1xuICAgICAgICB2YXIgdHJhY2tlZENoaWxkcmVuID0gQ2hpbGRyZW4ubWFwKGNoaWxkcmVuLCBmdW5jdGlvbiAoY2hpbGQsIGluZGV4KSB7XG4gICAgICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoVHJhY2tlZENoaWxkLCB7IGtleTogaW5kZXgsIGNoaWxkOiBjaGlsZCwgaW5kZXg6IGluZGV4LCBuYW1lOiBuYW1lLCBwcm9wZXJ0aWVzOiBwcm9wZXJ0aWVzLCBvYnNlcnZlck9wdGlvbnM6IG9ic2VydmVyT3B0aW9ucyB9KSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBfX2Fzc2lnbih7fSwgcHJvcHMpLCB0cmFja2VkQ2hpbGRyZW4pO1xuICAgIH1cbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoVmlzaWJpbGl0eUFuZENsaWNrVHJhY2tlciwgX19hc3NpZ24oeyBvbkludGVyc2VjdDogb25JbnRlcnNlY3QsIHRyYWNrVmlldzogdHJ1ZSwgb3B0aW9uczogb2JzZXJ2ZXJPcHRpb25zIH0sIHByb3BzKSwgY2hpbGRyZW4pKTtcbn1cblxudmFyIElOSVRJQUxfU1RBVEUgPSB7XG4gICAgY29tcG9uZW50U3RhY2s6IG51bGwsXG4gICAgZXhjZXB0aW9uRXZlbnQ6IG51bGwsXG4gICAgZXJyb3I6IG51bGwsXG59O1xudmFyIF9fUE9TVEhPR19FUlJPUl9NRVNTQUdFUyA9IHtcbiAgICBJTlZBTElEX0ZBTExCQUNLOiAnW1Bvc3RIb2cuanNdW1Bvc3RIb2dFcnJvckJvdW5kYXJ5XSBJbnZhbGlkIGZhbGxiYWNrIHByb3AsIHByb3ZpZGUgYSB2YWxpZCBSZWFjdCBlbGVtZW50IG9yIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgdmFsaWQgUmVhY3QgZWxlbWVudC4nLFxufTtcbnZhciBQb3N0SG9nRXJyb3JCb3VuZGFyeSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFBvc3RIb2dFcnJvckJvdW5kYXJ5LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFBvc3RIb2dFcnJvckJvdW5kYXJ5KHByb3BzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHByb3BzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zdGF0ZSA9IElOSVRJQUxfU1RBVEU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgUG9zdEhvZ0Vycm9yQm91bmRhcnkucHJvdG90eXBlLmNvbXBvbmVudERpZENhdGNoID0gZnVuY3Rpb24gKGVycm9yLCBlcnJvckluZm8pIHtcbiAgICAgICAgdmFyIGFkZGl0aW9uYWxQcm9wZXJ0aWVzID0gdGhpcy5wcm9wcy5hZGRpdGlvbmFsUHJvcGVydGllcztcbiAgICAgICAgdmFyIGN1cnJlbnRQcm9wZXJ0aWVzO1xuICAgICAgICBpZiAoaXNGdW5jdGlvbihhZGRpdGlvbmFsUHJvcGVydGllcykpIHtcbiAgICAgICAgICAgIGN1cnJlbnRQcm9wZXJ0aWVzID0gYWRkaXRpb25hbFByb3BlcnRpZXMoZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBhZGRpdGlvbmFsUHJvcGVydGllcyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGN1cnJlbnRQcm9wZXJ0aWVzID0gYWRkaXRpb25hbFByb3BlcnRpZXM7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNsaWVudCA9IHRoaXMuY29udGV4dC5jbGllbnQ7XG4gICAgICAgIHZhciBleGNlcHRpb25FdmVudCA9IGNsaWVudC5jYXB0dXJlRXhjZXB0aW9uKGVycm9yLCBjdXJyZW50UHJvcGVydGllcyk7XG4gICAgICAgIHZhciBjb21wb25lbnRTdGFjayA9IGVycm9ySW5mby5jb21wb25lbnRTdGFjaztcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBlcnJvcjogZXJyb3IsXG4gICAgICAgICAgICBjb21wb25lbnRTdGFjazogY29tcG9uZW50U3RhY2ssXG4gICAgICAgICAgICBleGNlcHRpb25FdmVudDogZXhjZXB0aW9uRXZlbnQsXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgUG9zdEhvZ0Vycm9yQm91bmRhcnkucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcywgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbiwgZmFsbGJhY2sgPSBfYS5mYWxsYmFjaztcbiAgICAgICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgaWYgKHN0YXRlLmNvbXBvbmVudFN0YWNrID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBpc0Z1bmN0aW9uKGNoaWxkcmVuKSA/IGNoaWxkcmVuKCkgOiBjaGlsZHJlbjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZWxlbWVudCA9IGlzRnVuY3Rpb24oZmFsbGJhY2spXG4gICAgICAgICAgICA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoZmFsbGJhY2ssIHtcbiAgICAgICAgICAgICAgICBlcnJvcjogc3RhdGUuZXJyb3IsXG4gICAgICAgICAgICAgICAgY29tcG9uZW50U3RhY2s6IHN0YXRlLmNvbXBvbmVudFN0YWNrLFxuICAgICAgICAgICAgICAgIGV4Y2VwdGlvbkV2ZW50OiBzdGF0ZS5leGNlcHRpb25FdmVudCxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICA6IGZhbGxiYWNrO1xuICAgICAgICBpZiAoUmVhY3QuaXNWYWxpZEVsZW1lbnQoZWxlbWVudCkpIHtcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUud2FybihfX1BPU1RIT0dfRVJST1JfTUVTU0FHRVMuSU5WQUxJRF9GQUxMQkFDSyk7XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsKTtcbiAgICB9O1xuICAgIFBvc3RIb2dFcnJvckJvdW5kYXJ5LmNvbnRleHRUeXBlID0gUG9zdEhvZ0NvbnRleHQ7XG4gICAgcmV0dXJuIFBvc3RIb2dFcnJvckJvdW5kYXJ5O1xufShSZWFjdC5Db21wb25lbnQpKTtcblxudmFyIHNldHVwUmVhY3RFcnJvckhhbmRsZXIgPSBmdW5jdGlvbiAoY2xpZW50LCBjYWxsYmFjaykge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZXJyb3IsIGVycm9ySW5mbykge1xuICAgICAgICB2YXIgZXZlbnQgPSBjbGllbnQuY2FwdHVyZUV4Y2VwdGlvbihlcnJvcik7XG4gICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgY2FsbGJhY2soZXZlbnQsIGVycm9yLCBlcnJvckluZm8pO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5cbmV4cG9ydCB7IFBvc3RIb2dDYXB0dXJlT25WaWV3ZWQsIFBvc3RIb2dDb250ZXh0LCBQb3N0SG9nRXJyb3JCb3VuZGFyeSwgUG9zdEhvZ0ZlYXR1cmUsIFBvc3RIb2dQcm92aWRlciwgY2FwdHVyZUZlYXR1cmVJbnRlcmFjdGlvbiwgY2FwdHVyZUZlYXR1cmVWaWV3LCBzZXR1cFJlYWN0RXJyb3JIYW5kbGVyLCB1c2VBY3RpdmVGZWF0dXJlRmxhZ3MsIHVzZUZlYXR1cmVGbGFnRW5hYmxlZCwgdXNlRmVhdHVyZUZsYWdQYXlsb2FkLCB1c2VGZWF0dXJlRmxhZ1ZhcmlhbnRLZXksIHVzZVBvc3RIb2cgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/posthog-js/react/dist/esm/index.js\n");

/***/ })

};
;