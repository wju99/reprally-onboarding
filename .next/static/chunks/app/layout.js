/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["app/layout"],{

/***/ "(app-pages-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fwju99%2Fappdo%2Finterview%2Freprally%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fwju99%2Fappdo%2Finterview%2Freprally%2Fcomponents%2Fproviders%2FPostHogClientProvider.tsx%22%2C%22ids%22%3A%5B%22PostHogClientProvider%22%5D%7D&server=false!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fwju99%2Fappdo%2Finterview%2Freprally%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fwju99%2Fappdo%2Finterview%2Freprally%2Fcomponents%2Fproviders%2FPostHogClientProvider.tsx%22%2C%22ids%22%3A%5B%22PostHogClientProvider%22%5D%7D&server=false! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("Promise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./app/globals.css */ \"(app-pages-browser)/./app/globals.css\"));\n;\nPromise.resolve(/*! import() eager */).then(__webpack_require__.bind(__webpack_require__, /*! ./components/providers/PostHogClientProvider.tsx */ \"(app-pages-browser)/./components/providers/PostHogClientProvider.tsx\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtZmxpZ2h0LWNsaWVudC1lbnRyeS1sb2FkZXIuanM/bW9kdWxlcz0lN0IlMjJyZXF1ZXN0JTIyJTNBJTIyJTJGVXNlcnMlMkZ3anU5OSUyRmFwcGRvJTJGaW50ZXJ2aWV3JTJGcmVwcmFsbHklMkZhcHAlMkZnbG9iYWxzLmNzcyUyMiUyQyUyMmlkcyUyMiUzQSU1QiU1RCU3RCZtb2R1bGVzPSU3QiUyMnJlcXVlc3QlMjIlM0ElMjIlMkZVc2VycyUyRndqdTk5JTJGYXBwZG8lMkZpbnRlcnZpZXclMkZyZXByYWxseSUyRmNvbXBvbmVudHMlMkZwcm92aWRlcnMlMkZQb3N0SG9nQ2xpZW50UHJvdmlkZXIudHN4JTIyJTJDJTIyaWRzJTIyJTNBJTVCJTIyUG9zdEhvZ0NsaWVudFByb3ZpZGVyJTIyJTVEJTdEJnNlcnZlcj1mYWxzZSEiLCJtYXBwaW5ncyI6IkFBQUEsNEpBQTBGO0FBQzFGO0FBQ0EsME5BQW9LIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8/Y2JmZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQoLyogd2VicGFja01vZGU6IFwiZWFnZXJcIiAqLyBcIi9Vc2Vycy93anU5OS9hcHBkby9pbnRlcnZpZXcvcmVwcmFsbHkvYXBwL2dsb2JhbHMuY3NzXCIpO1xuO1xuaW1wb3J0KC8qIHdlYnBhY2tNb2RlOiBcImVhZ2VyXCIsIHdlYnBhY2tFeHBvcnRzOiBbXCJQb3N0SG9nQ2xpZW50UHJvdmlkZXJcIl0gKi8gXCIvVXNlcnMvd2p1OTkvYXBwZG8vaW50ZXJ2aWV3L3JlcHJhbGx5L2NvbXBvbmVudHMvcHJvdmlkZXJzL1Bvc3RIb2dDbGllbnRQcm92aWRlci50c3hcIik7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fwju99%2Fappdo%2Finterview%2Freprally%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fwju99%2Fappdo%2Finterview%2Freprally%2Fcomponents%2Fproviders%2FPostHogClientProvider.tsx%22%2C%22ids%22%3A%5B%22PostHogClientProvider%22%5D%7D&server=false!\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/posthog-js/dist/module.js":
/*!************************************************!*\
  !*** ./node_modules/posthog-js/dist/module.js ***!
  \************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   COPY_AUTOCAPTURE_EVENT: function() { return /* binding */ ee; },\n/* harmony export */   Compression: function() { return /* binding */ re; },\n/* harmony export */   DisplaySurveyType: function() { return /* binding */ Dn; },\n/* harmony export */   PostHog: function() { return /* binding */ Io; },\n/* harmony export */   SurveyEventName: function() { return /* binding */ Mn; },\n/* harmony export */   SurveyEventProperties: function() { return /* binding */ An; },\n/* harmony export */   SurveyPosition: function() { return /* binding */ In; },\n/* harmony export */   SurveyQuestionBranchingType: function() { return /* binding */ On; },\n/* harmony export */   SurveyQuestionType: function() { return /* binding */ Cn; },\n/* harmony export */   SurveySchedule: function() { return /* binding */ Fn; },\n/* harmony export */   SurveyType: function() { return /* binding */ Rn; },\n/* harmony export */   SurveyWidgetType: function() { return /* binding */ Tn; },\n/* harmony export */   \"default\": function() { return /* binding */ Co; },\n/* harmony export */   posthog: function() { return /* binding */ Co; },\n/* harmony export */   severityLevels: function() { return /* binding */ se; }\n/* harmony export */ });\nvar t=\"undefined\"!=typeof window?window:void 0,i=\"undefined\"!=typeof globalThis?globalThis:t,e=Array.prototype,r=e.forEach,s=e.indexOf,n=null==i?void 0:i.navigator,o=null==i?void 0:i.document,a=null==i?void 0:i.location,l=null==i?void 0:i.fetch,u=null!=i&&i.XMLHttpRequest&&\"withCredentials\"in new i.XMLHttpRequest?i.XMLHttpRequest:void 0,h=null==i?void 0:i.AbortController,d=null==n?void 0:n.userAgent,v=null!=t?t:{},c={DEBUG:!1,LIB_VERSION:\"1.290.0\"};function f(t,i,e,r,s,n,o){try{var a=t[n](o),l=a.value}catch(t){return void e(t)}a.done?i(l):Promise.resolve(l).then(r,s)}function p(t){return function(){var i=this,e=arguments;return new Promise((function(r,s){var n=t.apply(i,e);function o(t){f(n,r,s,o,a,\"next\",t)}function a(t){f(n,r,s,o,a,\"throw\",t)}o(void 0)}))}}function g(){return g=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var e=arguments[i];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},g.apply(null,arguments)}function _(t,i){if(null==t)return{};var e={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(-1!==i.indexOf(r))continue;e[r]=t[r]}return e}var m=[\"amazonbot\",\"amazonproductbot\",\"app.hypefactors.com\",\"applebot\",\"archive.org_bot\",\"awariobot\",\"backlinksextendedbot\",\"baiduspider\",\"bingbot\",\"bingpreview\",\"chrome-lighthouse\",\"dataforseobot\",\"deepscan\",\"duckduckbot\",\"facebookexternal\",\"facebookcatalog\",\"http://yandex.com/bots\",\"hubspot\",\"ia_archiver\",\"leikibot\",\"linkedinbot\",\"meta-externalagent\",\"mj12bot\",\"msnbot\",\"nessus\",\"petalbot\",\"pinterest\",\"prerender\",\"rogerbot\",\"screaming frog\",\"sebot-wa\",\"sitebulb\",\"slackbot\",\"slurp\",\"trendictionbot\",\"turnitin\",\"twitterbot\",\"vercel-screenshot\",\"vercelbot\",\"yahoo! slurp\",\"yandexbot\",\"zoombot\",\"bot.htm\",\"bot.php\",\"(bot;\",\"bot/\",\"crawler\",\"ahrefsbot\",\"ahrefssiteaudit\",\"semrushbot\",\"siteauditbot\",\"splitsignalbot\",\"gptbot\",\"oai-searchbot\",\"chatgpt-user\",\"perplexitybot\",\"better uptime bot\",\"sentryuptimebot\",\"uptimerobot\",\"headlesschrome\",\"cypress\",\"google-hoteladsverifier\",\"adsbot-google\",\"apis-google\",\"duplexweb-google\",\"feedfetcher-google\",\"google favicon\",\"google web preview\",\"google-read-aloud\",\"googlebot\",\"googleother\",\"google-cloudvertexbot\",\"googleweblight\",\"mediapartners-google\",\"storebot-google\",\"google-inspectiontool\",\"bytespider\"],y=function(t,i){if(void 0===i&&(i=[]),!t)return!1;var e=t.toLowerCase();return m.concat(i).some((t=>{var i=t.toLowerCase();return-1!==e.indexOf(i)}))},b=[\"$snapshot\",\"$pageview\",\"$pageleave\",\"$set\",\"survey dismissed\",\"survey sent\",\"survey shown\",\"$identify\",\"$groupidentify\",\"$create_alias\",\"$$client_ingestion_warning\",\"$web_experiment_applied\",\"$feature_enrollment_update\",\"$feature_flag_called\"];function w(t,i){return-1!==t.indexOf(i)}var x=function(t){return t.trim()},S=function(t){return t.replace(/^\\$/,\"\")};var E=Array.isArray,k=Object.prototype,P=k.hasOwnProperty,T=k.toString,I=E||function(t){return\"[object Array]\"===T.call(t)},R=t=>\"function\"==typeof t,C=t=>t===Object(t)&&!I(t),O=t=>{if(C(t)){for(var i in t)if(P.call(t,i))return!1;return!0}return!1},F=t=>void 0===t,M=t=>\"[object String]\"==T.call(t),A=t=>M(t)&&0===t.trim().length,D=t=>null===t,j=t=>F(t)||D(t),L=t=>\"[object Number]\"==T.call(t),N=t=>\"[object Boolean]\"===T.call(t),U=t=>t instanceof FormData,z=t=>w(b,t);function H(t){return null===t||\"object\"!=typeof t}function B(t,i){return Object.prototype.toString.call(t)===\"[object \"+i+\"]\"}function q(t){return!F(Event)&&function(t,i){try{return t instanceof i}catch(t){return!1}}(t,Event)}var W=[!0,\"true\",1,\"1\",\"yes\"],G=t=>w(W,t),V=[!1,\"false\",0,\"0\",\"no\"];function J(t,i,e,r,s){return i>e&&(r.warn(\"min cannot be greater than max.\"),i=e),L(t)?t>e?(r.warn(\" cannot be  greater than max: \"+e+\". Using max value instead.\"),e):t<i?(r.warn(\" cannot be less than min: \"+i+\". Using min value instead.\"),i):t:(r.warn(\" must be a number. using max or fallback. max: \"+e+\", fallback: \"+s),J(s||e,i,e,r))}class K{constructor(t){this.t={},this.i=t.i,this.o=J(t.bucketSize,0,100,t.h),this.m=J(t.refillRate,0,this.o,t.h),this.$=J(t.refillInterval,0,864e5,t.h)}S(t,i){var e=i-t.lastAccess,r=Math.floor(e/this.$);if(r>0){var s=r*this.m;t.tokens=Math.min(t.tokens+s,this.o),t.lastAccess=t.lastAccess+r*this.$}}consumeRateLimit(t){var i,e=Date.now(),r=String(t),s=this.t[r];return s?this.S(s,e):(s={tokens:this.o,lastAccess:e},this.t[r]=s),0===s.tokens||(s.tokens--,0===s.tokens&&(null==(i=this.i)||i.call(this,t)),0===s.tokens)}stop(){this.t={}}}var Y,X,Q,Z=t=>t instanceof Error;function tt(t){var i=globalThis._posthogChunkIds;if(i){var e=Object.keys(i);return Q&&e.length===X||(X=e.length,Q=e.reduce(((e,r)=>{Y||(Y={});var s=Y[r];if(s)e[s[0]]=s[1];else for(var n=t(r),o=n.length-1;o>=0;o--){var a=n[o],l=null==a?void 0:a.filename,u=i[r];if(l&&u){e[l]=u,Y[r]=[l,u];break}}return e}),{})),Q}}var it=\"?\";function et(t,i,e,r){var s={platform:\"web:javascript\",filename:t,function:\"<anonymous>\"===i?it:i,in_app:!0};return F(e)||(s.lineno=e),F(r)||(s.colno=r),s}var rt=(t,i)=>{var e=-1!==t.indexOf(\"safari-extension\"),r=-1!==t.indexOf(\"safari-web-extension\");return e||r?[-1!==t.indexOf(\"@\")?t.split(\"@\")[0]:it,e?\"safari-extension:\"+i:\"safari-web-extension:\"+i]:[t,i]},st=/^\\s*at (\\S+?)(?::(\\d+))(?::(\\d+))\\s*$/i,nt=/^\\s*at (?:(.+?\\)(?: \\[.+\\])?|.*?) ?\\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\\/)?.*?)(?::(\\d+))?(?::(\\d+))?\\)?\\s*$/i,ot=/\\((\\S*)(?::(\\d+))(?::(\\d+))\\)/,at=t=>{var i=st.exec(t);if(i){var[,e,r,s]=i;return et(e,it,+r,+s)}var n=nt.exec(t);if(n){if(n[2]&&0===n[2].indexOf(\"eval\")){var o=ot.exec(n[2]);o&&(n[2]=o[1],n[3]=o[2],n[4]=o[3])}var[a,l]=rt(n[1]||it,n[2]);return et(l,a,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0)}},lt=/^\\s*(.*?)(?:\\((.*?)\\))?(?:^|@)?((?:[-a-z]+)?:\\/.*?|\\[native code\\]|[^@]*(?:bundle|\\d+\\.js)|\\/[\\w\\-. /=]+)(?::(\\d+))?(?::(\\d+))?\\s*$/i,ut=/(\\S+) line (\\d+)(?: > eval line \\d+)* > eval/i,ht=t=>{var i=lt.exec(t);if(i){if(i[3]&&i[3].indexOf(\" > eval\")>-1){var e=ut.exec(i[3]);e&&(i[1]=i[1]||\"eval\",i[3]=e[1],i[4]=e[2],i[5]=\"\")}var r=i[3],s=i[1]||it;return[s,r]=rt(s,r),et(r,s,i[4]?+i[4]:void 0,i[5]?+i[5]:void 0)}},dt=/\\(error: (.*)\\)/,vt=50;function ct(){for(var t=arguments.length,i=new Array(t),e=0;e<t;e++)i[e]=arguments[e];return function(t,e){void 0===e&&(e=0);for(var r=[],s=t.split(\"\\n\"),n=e;n<s.length;n++){var o=s[n];if(!(o.length>1024)){var a=dt.test(o)?o.replace(dt,\"$1\"):o;if(!a.match(/\\S*Error: /)){for(var l of i){var u=l(a);if(u){r.push(u);break}}if(r.length>=vt)break}}}return function(t){if(!t.length)return[];var i=Array.from(t);return i.reverse(),i.slice(0,vt).map((t=>{return g({},t,{filename:t.filename||(e=i,e[e.length-1]||{}).filename,function:t.function||it});var e}))}(r)}}class ft{constructor(t,i,e){void 0===t&&(t=[]),void 0===i&&(i=[]),void 0===e&&(e=[]),this.coercers=t,this.modifiers=e,this.stackParser=ct(...i)}buildFromUnknown(t,i){void 0===i&&(i={});var e=i&&i.mechanism||{handled:!0,type:\"generic\"},r=this.buildCoercingContext(e,i,0).apply(t),s=this.buildParsingContext(),n=this.parseStacktrace(r,s);return{$exception_list:this.convertToExceptionList(n,e),$exception_level:\"error\"}}modifyFrames(t){var i=this;return p((function*(){for(var e of t)e.stacktrace&&e.stacktrace.frames&&I(e.stacktrace.frames)&&(e.stacktrace.frames=yield i.applyModifiers(e.stacktrace.frames));return t}))()}coerceFallback(t){var i;return{type:\"Error\",value:\"Unknown error\",stack:null==(i=t.syntheticException)?void 0:i.stack,synthetic:!0}}parseStacktrace(t,i){var e,r;return null!=t.cause&&(e=this.parseStacktrace(t.cause,i)),\"\"!=t.stack&&null!=t.stack&&(r=this.applyChunkIds(this.stackParser(t.stack,t.synthetic?1:0),i.chunkIdMap)),g({},t,{cause:e,stack:r})}applyChunkIds(t,i){return t.map((t=>(t.filename&&i&&(t.chunk_id=i[t.filename]),t)))}applyCoercers(t,i){for(var e of this.coercers)if(e.match(t))return e.coerce(t,i);return this.coerceFallback(i)}applyModifiers(t){var i=this;return p((function*(){var e=t;for(var r of i.modifiers)e=yield r(e);return e}))()}convertToExceptionList(t,i){var e,r,s,n={type:t.type,value:t.value,mechanism:{type:null!==(e=i.type)&&void 0!==e?e:\"generic\",handled:null===(r=i.handled)||void 0===r||r,synthetic:null!==(s=t.synthetic)&&void 0!==s&&s}};t.stack&&(n.stacktrace={type:\"raw\",frames:t.stack});var o=[n];return null!=t.cause&&o.push(...this.convertToExceptionList(t.cause,g({},i,{handled:!0}))),o}buildParsingContext(){return{chunkIdMap:tt(this.stackParser)}}buildCoercingContext(t,i,e){void 0===e&&(e=0);var r=(e,r)=>{if(r<=4){var s=this.buildCoercingContext(t,i,r);return this.applyCoercers(e,s)}};return g({},i,{syntheticException:0==e?i.syntheticException:void 0,mechanism:t,apply:t=>r(t,e),next:t=>r(t,e+1)})}}class pt{match(t){return this.isDOMException(t)||this.isDOMError(t)}coerce(t,i){var e=M(t.stack);return{type:this.getType(t),value:this.getValue(t),stack:e?t.stack:void 0,cause:t.cause?i.next(t.cause):void 0,synthetic:!1}}getType(t){return this.isDOMError(t)?\"DOMError\":\"DOMException\"}getValue(t){var i=t.name||(this.isDOMError(t)?\"DOMError\":\"DOMException\");return t.message?i+\": \"+t.message:i}isDOMException(t){return B(t,\"DOMException\")}isDOMError(t){return B(t,\"DOMError\")}}class gt{match(t){return(t=>t instanceof Error)(t)}coerce(t,i){return{type:this.getType(t),value:this.getMessage(t,i),stack:this.getStack(t),cause:t.cause?i.next(t.cause):void 0,synthetic:!1}}getType(t){return t.name||t.constructor.name}getMessage(t,i){var e=t.message;return e.error&&\"string\"==typeof e.error.message?String(e.error.message):String(e)}getStack(t){return t.stacktrace||t.stack||void 0}}class _t{constructor(){}match(t){return B(t,\"ErrorEvent\")&&null!=t.error}coerce(t,i){var e,r=i.apply(t.error);return r||{type:\"ErrorEvent\",value:t.message,stack:null==(e=i.syntheticException)?void 0:e.stack,synthetic:!0}}}var mt=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;class yt{match(t){return\"string\"==typeof t}coerce(t,i){var e,[r,s]=this.getInfos(t);return{type:null!=r?r:\"Error\",value:null!=s?s:t,stack:null==(e=i.syntheticException)?void 0:e.stack,synthetic:!0}}getInfos(t){var i=\"Error\",e=t,r=t.match(mt);return r&&(i=r[1],e=r[2]),[i,e]}}var bt=[\"fatal\",\"error\",\"warning\",\"log\",\"info\",\"debug\"];function wt(t,i){void 0===i&&(i=40);var e=Object.keys(t);if(e.sort(),!e.length)return\"[object has no keys]\";for(var r=e.length;r>0;r--){var s=e.slice(0,r).join(\", \");if(!(s.length>i))return r===e.length||s.length<=i?s:s.slice(0,i)+\"...\"}return\"\"}class xt{match(t){return\"object\"==typeof t&&null!==t}coerce(t,i){var e,r=this.getErrorPropertyFromObject(t);return r?i.apply(r):{type:this.getType(t),value:this.getValue(t),stack:null==(e=i.syntheticException)?void 0:e.stack,level:this.isSeverityLevel(t.level)?t.level:\"error\",synthetic:!0}}getType(t){return q(t)?t.constructor.name:\"Error\"}getValue(t){if(\"name\"in t&&\"string\"==typeof t.name){var i=\"'\"+t.name+\"' captured as exception\";return\"message\"in t&&\"string\"==typeof t.message&&(i+=\" with message: '\"+t.message+\"'\"),i}if(\"message\"in t&&\"string\"==typeof t.message)return t.message;var e=this.getObjectClassName(t);return(e&&\"Object\"!==e?\"'\"+e+\"'\":\"Object\")+\" captured as exception with keys: \"+wt(t)}isSeverityLevel(t){return M(t)&&!A(t)&&bt.indexOf(t)>=0}getErrorPropertyFromObject(t){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var e=t[i];if(Z(e))return e}}getObjectClassName(t){try{var i=Object.getPrototypeOf(t);return i?i.constructor.name:void 0}catch(t){return}}}class $t{match(t){return q(t)}coerce(t,i){var e,r=t.constructor.name;return{type:r,value:r+\" captured as exception with keys: \"+wt(t),stack:null==(e=i.syntheticException)?void 0:e.stack,synthetic:!0}}}class St{match(t){return H(t)}coerce(t,i){var e;return{type:\"Error\",value:\"Primitive value captured as exception: \"+String(t),stack:null==(e=i.syntheticException)?void 0:e.stack,synthetic:!0}}}class Et{match(t){return B(t,\"PromiseRejectionEvent\")}coerce(t,i){var e,r=this.getUnhandledRejectionReason(t);return H(r)?{type:\"UnhandledRejection\",value:\"Non-Error promise rejection captured with value: \"+String(r),stack:null==(e=i.syntheticException)?void 0:e.stack,synthetic:!0}:i.apply(r)}getUnhandledRejectionReason(t){if(H(t))return t;try{if(\"reason\"in t)return t.reason;if(\"detail\"in t&&\"reason\"in t.detail)return t.detail.reason}catch(t){}return t}}var kt=i=>{var e={k:function(e){if(t&&(c.DEBUG||v.POSTHOG_DEBUG)&&!F(t.console)&&t.console){for(var r=(\"__rrweb_original__\"in t.console[e]?t.console[e].__rrweb_original__:t.console[e]),s=arguments.length,n=new Array(s>1?s-1:0),o=1;o<s;o++)n[o-1]=arguments[o];r(i,...n)}},info:function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];e.k(\"log\",...i)},warn:function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];e.k(\"warn\",...i)},error:function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];e.k(\"error\",...i)},critical:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];console.error(i,...e)},uninitializedWarning:t=>{e.error(\"You must initialize PostHog before calling \"+t)},createLogger:t=>kt(i+\" \"+t)};return e},Pt=kt(\"[PostHog.js]\"),Tt=Pt.createLogger,It=Tt(\"[ExternalScriptsLoader]\"),Rt=(t,i,e)=>{if(t.config.disable_external_dependency_loading)return It.warn(i+\" was requested but loading of external scripts is disabled.\"),e(\"Loading of external scripts is disabled\");var r=null==o?void 0:o.querySelectorAll(\"script\");if(r)for(var s,n=function(){if(r[a].src===i){var t=r[a];return t.__posthog_loading_callback_fired?{v:e()}:(t.addEventListener(\"load\",(i=>{t.__posthog_loading_callback_fired=!0,e(void 0,i)})),t.onerror=t=>e(t),{v:void 0})}},a=0;a<r.length;a++)if(s=n())return s.v;var l=()=>{if(!o)return e(\"document not found\");var r=o.createElement(\"script\");if(r.type=\"text/javascript\",r.crossOrigin=\"anonymous\",r.src=i,r.onload=t=>{r.__posthog_loading_callback_fired=!0,e(void 0,t)},r.onerror=t=>e(t),t.config.prepare_external_dependency_script&&(r=t.config.prepare_external_dependency_script(r)),!r)return e(\"prepare_external_dependency_script returned null\");var s,n=o.querySelectorAll(\"body > script\");n.length>0?null==(s=n[0].parentNode)||s.insertBefore(r,n[0]):o.body.appendChild(r)};null!=o&&o.body?l():null==o||o.addEventListener(\"DOMContentLoaded\",l)};v.__PosthogExtensions__=v.__PosthogExtensions__||{},v.__PosthogExtensions__.loadExternalDependency=(t,i,e)=>{var r=\"/static/\"+i+\".js?v=\"+t.version;if(\"remote-config\"===i&&(r=\"/array/\"+t.config.token+\"/config.js\"),\"toolbar\"===i){var s=3e5;r=r+\"&t=\"+Math.floor(Date.now()/s)*s}var n=t.requestRouter.endpointFor(\"assets\",r);Rt(t,n,e)},v.__PosthogExtensions__.loadSiteApp=(t,i,e)=>{var r=t.requestRouter.endpointFor(\"api\",i);Rt(t,r,e)};var Ct={};function Ot(t,i,e){if(I(t))if(r&&t.forEach===r)t.forEach(i,e);else if(\"length\"in t&&t.length===+t.length)for(var s=0,n=t.length;s<n;s++)if(s in t&&i.call(e,t[s],s)===Ct)return}function Ft(t,i,e){if(!j(t)){if(I(t))return Ot(t,i,e);if(U(t)){for(var r of t.entries())if(i.call(e,r[1],r[0])===Ct)return}else for(var s in t)if(P.call(t,s)&&i.call(e,t[s],s)===Ct)return}}var Mt=function(t){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return Ot(e,(function(i){for(var e in i)void 0!==i[e]&&(t[e]=i[e])})),t},At=function(t){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return Ot(e,(function(i){Ot(i,(function(i){t.push(i)}))})),t};function Dt(t){for(var i=Object.keys(t),e=i.length,r=new Array(e);e--;)r[e]=[i[e],t[i[e]]];return r}var jt=function(t){try{return t()}catch(t){return}},Lt=function(t){return function(){try{for(var i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return t.apply(this,e)}catch(t){Pt.critical(\"Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A.\"),Pt.critical(t)}}},Nt=function(t){var i={};return Ft(t,(function(t,e){(M(t)&&t.length>0||L(t))&&(i[e]=t)})),i};function Ut(t,i){return e=t,r=t=>M(t)&&!D(i)?t.slice(0,i):t,s=new Set,function t(i,e){return i!==Object(i)?r?r(i,e):i:s.has(i)?void 0:(s.add(i),I(i)?(n=[],Ot(i,(i=>{n.push(t(i))}))):(n={},Ft(i,((i,e)=>{s.has(i)||(n[e]=t(i,e))}))),n);var n}(e);var e,r,s}var zt=[\"herokuapp.com\",\"vercel.app\",\"netlify.app\"];function Ht(t){var i=null==t?void 0:t.hostname;if(!M(i))return!1;var e=i.split(\".\").slice(-2).join(\".\");for(var r of zt)if(e===r)return!1;return!0}function Bt(t,i){for(var e=0;e<t.length;e++)if(i(t[e]))return t[e]}function qt(t,i,e,r){var{capture:s=!1,passive:n=!0}=null!=r?r:{};null==t||t.addEventListener(i,e,{capture:s,passive:n})}var Wt=\"$people_distinct_id\",Gt=\"__alias\",Vt=\"__timers\",Jt=\"$autocapture_disabled_server_side\",Kt=\"$heatmaps_enabled_server_side\",Yt=\"$exception_capture_enabled_server_side\",Xt=\"$error_tracking_suppression_rules\",Qt=\"$error_tracking_capture_extension_exceptions\",Zt=\"$web_vitals_enabled_server_side\",ti=\"$dead_clicks_enabled_server_side\",ii=\"$web_vitals_allowed_metrics\",ei=\"$session_recording_remote_config\",ri=\"$sesid\",si=\"$session_is_sampled\",ni=\"$enabled_feature_flags\",oi=\"$early_access_features\",ai=\"$feature_flag_details\",li=\"$stored_person_properties\",ui=\"$stored_group_properties\",hi=\"$surveys\",di=\"$surveys_activated\",vi=\"$flag_call_reported\",ci=\"$user_state\",fi=\"$client_session_props\",pi=\"$capture_rate_limit\",gi=\"$initial_campaign_params\",_i=\"$initial_referrer_info\",mi=\"$initial_person_info\",yi=\"$epp\",bi=\"__POSTHOG_TOOLBAR__\",wi=\"$posthog_cookieless\",xi=[Wt,Gt,\"__cmpns\",Vt,\"$session_recording_enabled_server_side\",Kt,ri,ni,Xt,ci,oi,ai,ui,li,hi,vi,fi,pi,gi,_i,yi,mi];function $i(t){return t instanceof Element&&(t.id===bi||!(null==t.closest||!t.closest(\".toolbar-global-fade-container\")))}function Si(t){return!!t&&1===t.nodeType}function Ei(t,i){return!!t&&!!t.tagName&&t.tagName.toLowerCase()===i.toLowerCase()}function ki(t){return!!t&&3===t.nodeType}function Pi(t){return!!t&&11===t.nodeType}function Ti(t){return t?x(t).split(/\\s+/):[]}function Ii(i){var e=null==t?void 0:t.location.href;return!!(e&&i&&i.some((t=>e.match(t))))}function Ri(t){var i=\"\";switch(typeof t.className){case\"string\":i=t.className;break;case\"object\":i=(t.className&&\"baseVal\"in t.className?t.className.baseVal:null)||t.getAttribute(\"class\")||\"\";break;default:i=\"\"}return Ti(i)}function Ci(t){return j(t)?null:x(t).split(/(\\s+)/).filter((t=>Ki(t))).join(\"\").replace(/[\\r\\n]/g,\" \").replace(/[ ]+/g,\" \").substring(0,255)}function Oi(t){var i=\"\";return zi(t)&&!Hi(t)&&t.childNodes&&t.childNodes.length&&Ft(t.childNodes,(function(t){var e;ki(t)&&t.textContent&&(i+=null!==(e=Ci(t.textContent))&&void 0!==e?e:\"\")})),x(i)}function Fi(t){return F(t.target)?t.srcElement||null:null!=(i=t.target)&&i.shadowRoot?t.composedPath()[0]||null:t.target||null;var i}var Mi=[\"a\",\"button\",\"form\",\"input\",\"select\",\"textarea\",\"label\"];function Ai(t,i){if(F(i))return!0;var e,r=function(t){if(i.some((i=>t.matches(i))))return{v:!0}};for(var s of t)if(e=r(s))return e.v;return!1}function Di(t){var i=t.parentNode;return!(!i||!Si(i))&&i}var ji=[\".ph-no-rageclick\",\".ph-no-capture\"];var Li=t=>!t||Ei(t,\"html\")||!Si(t),Ni=(i,e)=>{if(!t||Li(i))return{parentIsUsefulElement:!1,targetElementList:[]};for(var r=!1,s=[i],n=i;n.parentNode&&!Ei(n,\"body\");)if(Pi(n.parentNode))s.push(n.parentNode.host),n=n.parentNode.host;else{var o=Di(n);if(!o)break;if(e||Mi.indexOf(o.tagName.toLowerCase())>-1)r=!0;else{var a=t.getComputedStyle(o);a&&\"pointer\"===a.getPropertyValue(\"cursor\")&&(r=!0)}s.push(o),n=o}return{parentIsUsefulElement:r,targetElementList:s}};function Ui(i,e,r,s,n){var o,a,l,u;if(void 0===r&&(r=void 0),!t||Li(i))return!1;if(null!=(o=r)&&o.url_allowlist&&!Ii(r.url_allowlist))return!1;if(null!=(a=r)&&a.url_ignorelist&&Ii(r.url_ignorelist))return!1;if(null!=(l=r)&&l.dom_event_allowlist){var h=r.dom_event_allowlist;if(h&&!h.some((t=>e.type===t)))return!1}var{parentIsUsefulElement:d,targetElementList:v}=Ni(i,s);if(!function(t,i){var e=null==i?void 0:i.element_allowlist;if(F(e))return!0;var r,s=function(t){if(e.some((i=>t.tagName.toLowerCase()===i)))return{v:!0}};for(var n of t)if(r=s(n))return r.v;return!1}(v,r))return!1;if(!Ai(v,null==(u=r)?void 0:u.css_selector_allowlist))return!1;var c=t.getComputedStyle(i);if(c&&\"pointer\"===c.getPropertyValue(\"cursor\")&&\"click\"===e.type)return!0;var f=i.tagName.toLowerCase();switch(f){case\"html\":return!1;case\"form\":return(n||[\"submit\"]).indexOf(e.type)>=0;case\"input\":case\"select\":case\"textarea\":return(n||[\"change\",\"click\"]).indexOf(e.type)>=0;default:return d?(n||[\"click\"]).indexOf(e.type)>=0:(n||[\"click\"]).indexOf(e.type)>=0&&(Mi.indexOf(f)>-1||\"true\"===i.getAttribute(\"contenteditable\"))}}function zi(t){for(var i=t;i.parentNode&&!Ei(i,\"body\");i=i.parentNode){var e=Ri(i);if(w(e,\"ph-sensitive\")||w(e,\"ph-no-capture\"))return!1}if(w(Ri(t),\"ph-include\"))return!0;var r=t.type||\"\";if(M(r))switch(r.toLowerCase()){case\"hidden\":case\"password\":return!1}var s=t.name||t.id||\"\";if(M(s)){if(/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(s.replace(/[^a-zA-Z0-9]/g,\"\")))return!1}return!0}function Hi(t){return!!(Ei(t,\"input\")&&![\"button\",\"checkbox\",\"submit\",\"reset\"].includes(t.type)||Ei(t,\"select\")||Ei(t,\"textarea\")||\"true\"===t.getAttribute(\"contenteditable\"))}var Bi=\"(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})\",qi=new RegExp(\"^(?:\"+Bi+\")$\"),Wi=new RegExp(Bi),Gi=\"\\\\d{3}-?\\\\d{2}-?\\\\d{4}\",Vi=new RegExp(\"^(\"+Gi+\")$\"),Ji=new RegExp(\"(\"+Gi+\")\");function Ki(t,i){if(void 0===i&&(i=!0),j(t))return!1;if(M(t)){if(t=x(t),(i?qi:Wi).test((t||\"\").replace(/[- ]/g,\"\")))return!1;if((i?Vi:Ji).test(t))return!1}return!0}function Yi(t){var i=Oi(t);return Ki(i=(i+\" \"+Xi(t)).trim())?i:\"\"}function Xi(t){var i=\"\";return t&&t.childNodes&&t.childNodes.length&&Ft(t.childNodes,(function(t){var e;if(t&&\"span\"===(null==(e=t.tagName)?void 0:e.toLowerCase()))try{var r=Oi(t);i=(i+\" \"+r).trim(),t.childNodes&&t.childNodes.length&&(i=(i+\" \"+Xi(t)).trim())}catch(t){Pt.error(\"[AutoCapture]\",t)}})),i}function Qi(t){return function(t){var i=t.map((t=>{var i,e,r=\"\";if(t.tag_name&&(r+=t.tag_name),t.attr_class)for(var s of(t.attr_class.sort(),t.attr_class))r+=\".\"+s.replace(/\"/g,\"\");var n=g({},t.text?{text:t.text}:{},{\"nth-child\":null!==(i=t.nth_child)&&void 0!==i?i:0,\"nth-of-type\":null!==(e=t.nth_of_type)&&void 0!==e?e:0},t.href?{href:t.href}:{},t.attr_id?{attr_id:t.attr_id}:{},t.attributes),o={};return Dt(n).sort(((t,i)=>{var[e]=t,[r]=i;return e.localeCompare(r)})).forEach((t=>{var[i,e]=t;return o[Zi(i.toString())]=Zi(e.toString())})),r+=\":\",r+=Dt(o).map((t=>{var[i,e]=t;return i+'=\"'+e+'\"'})).join(\"\")}));return i.join(\";\")}(function(t){return t.map((t=>{var i,e,r={text:null==(i=t.$el_text)?void 0:i.slice(0,400),tag_name:t.tag_name,href:null==(e=t.attr__href)?void 0:e.slice(0,2048),attr_class:te(t),attr_id:t.attr__id,nth_child:t.nth_child,nth_of_type:t.nth_of_type,attributes:{}};return Dt(t).filter((t=>{var[i]=t;return 0===i.indexOf(\"attr__\")})).forEach((t=>{var[i,e]=t;return r.attributes[i]=e})),r}))}(t))}function Zi(t){return t.replace(/\"|\\\\\"/g,'\\\\\"')}function te(t){var i=t.attr__class;return i?I(i)?i:Ti(i):void 0}class ie{constructor(){this.clicks=[]}isRageClick(t,i,e){var r=this.clicks[this.clicks.length-1];if(r&&Math.abs(t-r.x)+Math.abs(i-r.y)<30&&e-r.timestamp<1e3){if(this.clicks.push({x:t,y:i,timestamp:e}),3===this.clicks.length)return!0}else this.clicks=[{x:t,y:i,timestamp:e}];return!1}}var ee=\"$copy_autocapture\",re=function(t){return t.GZipJS=\"gzip-js\",t.Base64=\"base64\",t}({}),se=[\"fatal\",\"error\",\"warning\",\"log\",\"info\",\"debug\"],ne=t=>{var i=null==o?void 0:o.createElement(\"a\");return F(i)?null:(i.href=t,i)},oe=function(t,i){var e,r;void 0===i&&(i=\"&\");var s=[];return Ft(t,(function(t,i){F(t)||F(i)||\"undefined\"===i||(e=encodeURIComponent((t=>t instanceof File)(t)?t.name:t.toString()),r=encodeURIComponent(i),s[s.length]=r+\"=\"+e)})),s.join(i)},ae=function(t,i){for(var e,r=((t.split(\"#\")[0]||\"\").split(/\\?(.*)/)[1]||\"\").replace(/^\\?+/g,\"\").split(\"&\"),s=0;s<r.length;s++){var n=r[s].split(\"=\");if(n[0]===i){e=n;break}}if(!I(e)||e.length<2)return\"\";var o=e[1];try{o=decodeURIComponent(o)}catch(t){Pt.error(\"Skipping decoding for malformed query param: \"+o)}return o.replace(/\\+/g,\" \")},le=function(t,i,e){if(!t||!i||!i.length)return t;for(var r=t.split(\"#\"),s=r[0]||\"\",n=r[1],o=s.split(\"?\"),a=o[1],l=o[0],u=(a||\"\").split(\"&\"),h=[],d=0;d<u.length;d++){var v=u[d].split(\"=\");I(v)&&(i.includes(v[0])?h.push(v[0]+\"=\"+e):h.push(u[d]))}var c=l;return null!=a&&(c+=\"?\"+h.join(\"&\")),null!=n&&(c+=\"#\"+n),c},ue=function(t,i){var e=t.match(new RegExp(i+\"=([^&]*)\"));return e?e[1]:null},he=Tt(\"[AutoCapture]\");function de(t,i){return i.length>t?i.slice(0,t)+\"...\":i}function ve(t){if(t.previousElementSibling)return t.previousElementSibling;var i=t;do{i=i.previousSibling}while(i&&!Si(i));return i}function ce(t,i,e,r){var s=t.tagName.toLowerCase(),n={tag_name:s};Mi.indexOf(s)>-1&&!e&&(\"a\"===s.toLowerCase()||\"button\"===s.toLowerCase()?n.$el_text=de(1024,Yi(t)):n.$el_text=de(1024,Oi(t)));var o=Ri(t);o.length>0&&(n.classes=o.filter((function(t){return\"\"!==t}))),Ft(t.attributes,(function(e){var s;if((!Hi(t)||-1!==[\"name\",\"id\",\"class\",\"aria-label\"].indexOf(e.name))&&((null==r||!r.includes(e.name))&&!i&&Ki(e.value)&&(s=e.name,!M(s)||\"_ngcontent\"!==s.substring(0,10)&&\"_nghost\"!==s.substring(0,7)))){var o=e.value;\"class\"===e.name&&(o=Ti(o).join(\" \")),n[\"attr__\"+e.name]=de(1024,o)}}));for(var a=1,l=1,u=t;u=ve(u);)a++,u.tagName===t.tagName&&l++;return n.nth_child=a,n.nth_of_type=l,n}function fe(i,e){for(var r,s,{e:n,maskAllElementAttributes:o,maskAllText:a,elementAttributeIgnoreList:l,elementsChainAsString:u}=e,h=[i],d=i;d.parentNode&&!Ei(d,\"body\");)Pi(d.parentNode)?(h.push(d.parentNode.host),d=d.parentNode.host):(h.push(d.parentNode),d=d.parentNode);var v,c=[],f={},p=!1,g=!1;if(Ft(h,(t=>{var i=zi(t);\"a\"===t.tagName.toLowerCase()&&(p=t.getAttribute(\"href\"),p=i&&p&&Ki(p)&&p),w(Ri(t),\"ph-no-capture\")&&(g=!0),c.push(ce(t,o,a,l));var e=function(t){if(!zi(t))return{};var i={};return Ft(t.attributes,(function(t){if(t.name&&0===t.name.indexOf(\"data-ph-capture-attribute\")){var e=t.name.replace(\"data-ph-capture-attribute-\",\"\"),r=t.value;e&&r&&Ki(r)&&(i[e]=r)}})),i}(t);Mt(f,e)})),g)return{props:{},explicitNoCapture:g};if(a||(\"a\"===i.tagName.toLowerCase()||\"button\"===i.tagName.toLowerCase()?c[0].$el_text=Yi(i):c[0].$el_text=Oi(i)),p){var _,m;c[0].attr__href=p;var y=null==(_=ne(p))?void 0:_.host,b=null==t||null==(m=t.location)?void 0:m.host;y&&b&&y!==b&&(v=p)}return{props:Mt({$event_type:n.type,$ce_version:1},u?{}:{$elements:c},{$elements_chain:Qi(c)},null!=(r=c[0])&&r.$el_text?{$el_text:null==(s=c[0])?void 0:s.$el_text}:{},v&&\"click\"===n.type?{$external_click_url:v}:{},f)}}class pe{constructor(t){this.P=!1,this.T=null,this.rageclicks=new ie,this.I=!1,this.instance=t,this.R=null}get C(){var t,i,e=C(this.instance.config.autocapture)?this.instance.config.autocapture:{};return e.url_allowlist=null==(t=e.url_allowlist)?void 0:t.map((t=>new RegExp(t))),e.url_ignorelist=null==(i=e.url_ignorelist)?void 0:i.map((t=>new RegExp(t))),e}O(){if(this.isBrowserSupported()){if(t&&o){var i=i=>{i=i||(null==t?void 0:t.event);try{this.F(i)}catch(t){he.error(\"Failed to capture event\",t)}};if(qt(o,\"submit\",i,{capture:!0}),qt(o,\"change\",i,{capture:!0}),qt(o,\"click\",i,{capture:!0}),this.C.capture_copied_text){var e=i=>{i=i||(null==t?void 0:t.event),this.F(i,ee)};qt(o,\"copy\",e,{capture:!0}),qt(o,\"cut\",e,{capture:!0})}}}else he.info(\"Disabling Automatic Event Collection because this browser is not supported\")}startIfEnabled(){this.isEnabled&&!this.P&&(this.O(),this.P=!0)}onRemoteConfig(t){t.elementsChainAsString&&(this.I=t.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[Jt]:!!t.autocapture_opt_out}),this.T=!!t.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(t){this.R=t}getElementSelectors(t){var i,e=[];return null==(i=this.R)||i.forEach((i=>{var r=null==o?void 0:o.querySelectorAll(i);null==r||r.forEach((r=>{t===r&&e.push(i)}))})),e}get isEnabled(){var t,i,e=null==(t=this.instance.persistence)?void 0:t.props[Jt],r=this.T;if(D(r)&&!N(e)&&!this.instance.M())return!1;var s=null!==(i=this.T)&&void 0!==i?i:!!e;return!!this.instance.config.autocapture&&!s}F(i,e){if(void 0===e&&(e=\"$autocapture\"),this.isEnabled){var r,s=Fi(i);if(ki(s)&&(s=s.parentNode||null),\"$autocapture\"===e&&\"click\"===i.type&&i instanceof MouseEvent)this.instance.config.rageclick&&null!=(r=this.rageclicks)&&r.isRageClick(i.clientX,i.clientY,(new Date).getTime())&&function(i,e){if(!t||Li(i))return!1;var r,s;if(!1===(r=N(e)?!!e&&ji:null!==(s=null==e?void 0:e.css_selector_ignorelist)&&void 0!==s?s:ji))return!1;var{targetElementList:n}=Ni(i,!1);return!Ai(n,r)}(s,this.instance.config.rageclick)&&this.F(i,\"$rageclick\");var n=e===ee;if(s&&Ui(s,i,this.C,n,n?[\"copy\",\"cut\"]:void 0)){var{props:o,explicitNoCapture:a}=fe(s,{e:i,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.C.element_attribute_ignorelist,elementsChainAsString:this.I});if(a)return!1;var l=this.getElementSelectors(s);if(l&&l.length>0&&(o.$element_selectors=l),e===ee){var u,h=Ci(null==t||null==(u=t.getSelection())?void 0:u.toString()),d=i.type||\"clipboard\";if(!h)return!1;o.$selected_content=h,o.$copy_type=d}return this.instance.capture(e,o),!0}}}isBrowserSupported(){return R(null==o?void 0:o.querySelectorAll)}}Math.trunc||(Math.trunc=function(t){return t<0?Math.ceil(t):Math.floor(t)}),Number.isInteger||(Number.isInteger=function(t){return L(t)&&isFinite(t)&&Math.floor(t)===t});var ge=\"0123456789abcdef\";class _e{constructor(t){if(this.bytes=t,16!==t.length)throw new TypeError(\"not 128-bit length\")}static fromFieldsV7(t,i,e,r){if(!Number.isInteger(t)||!Number.isInteger(i)||!Number.isInteger(e)||!Number.isInteger(r)||t<0||i<0||e<0||r<0||t>0xffffffffffff||i>4095||e>1073741823||r>4294967295)throw new RangeError(\"invalid field value\");var s=new Uint8Array(16);return s[0]=t/Math.pow(2,40),s[1]=t/Math.pow(2,32),s[2]=t/Math.pow(2,24),s[3]=t/Math.pow(2,16),s[4]=t/Math.pow(2,8),s[5]=t,s[6]=112|i>>>8,s[7]=i,s[8]=128|e>>>24,s[9]=e>>>16,s[10]=e>>>8,s[11]=e,s[12]=r>>>24,s[13]=r>>>16,s[14]=r>>>8,s[15]=r,new _e(s)}toString(){for(var t=\"\",i=0;i<this.bytes.length;i++)t=t+ge.charAt(this.bytes[i]>>>4)+ge.charAt(15&this.bytes[i]),3!==i&&5!==i&&7!==i&&9!==i||(t+=\"-\");if(36!==t.length)throw new Error(\"Invalid UUIDv7 was generated\");return t}clone(){return new _e(this.bytes.slice(0))}equals(t){return 0===this.compareTo(t)}compareTo(t){for(var i=0;i<16;i++){var e=this.bytes[i]-t.bytes[i];if(0!==e)return Math.sign(e)}return 0}}class me{constructor(){this.A=0,this.D=0,this.j=new we}generate(){var t=this.generateOrAbort();if(F(t)){this.A=0;var i=this.generateOrAbort();if(F(i))throw new Error(\"Could not generate UUID after timestamp reset\");return i}return t}generateOrAbort(){var t=Date.now();if(t>this.A)this.A=t,this.L();else{if(!(t+1e4>this.A))return;this.D++,this.D>4398046511103&&(this.A++,this.L())}return _e.fromFieldsV7(this.A,Math.trunc(this.D/Math.pow(2,30)),this.D&Math.pow(2,30)-1,this.j.nextUint32())}L(){this.D=1024*this.j.nextUint32()+(1023&this.j.nextUint32())}}var ye,be=t=>{if(\"undefined\"!=typeof UUIDV7_DENY_WEAK_RNG&&UUIDV7_DENY_WEAK_RNG)throw new Error(\"no cryptographically strong RNG available\");for(var i=0;i<t.length;i++)t[i]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return t};t&&!F(t.crypto)&&crypto.getRandomValues&&(be=t=>crypto.getRandomValues(t));class we{constructor(){this.N=new Uint32Array(8),this.U=1/0}nextUint32(){return this.U>=this.N.length&&(be(this.N),this.U=0),this.N[this.U++]}}var xe=()=>$e().toString(),$e=()=>(ye||(ye=new me)).generate(),Se=\"\";var Ee=/[a-z0-9][a-z0-9-]+\\.[a-z]{2,}$/i;function ke(t,i){if(i){var e=function(t,i){if(void 0===i&&(i=o),Se)return Se;if(!i)return\"\";if([\"localhost\",\"127.0.0.1\"].includes(t))return\"\";for(var e=t.split(\".\"),r=Math.min(e.length,8),s=\"dmn_chk_\"+xe();!Se&&r--;){var n=e.slice(r).join(\".\"),a=s+\"=1;domain=.\"+n+\";path=/\";i.cookie=a+\";max-age=3\",i.cookie.includes(s)&&(i.cookie=a+\";max-age=0\",Se=n)}return Se}(t);if(!e){var r=(t=>{var i=t.match(Ee);return i?i[0]:\"\"})(t);r!==e&&Pt.info(\"Warning: cookie subdomain discovery mismatch\",r,e),e=r}return e?\"; domain=.\"+e:\"\"}return\"\"}var Pe={H:()=>!!o,B:function(t){Pt.error(\"cookieStore error: \"+t)},q:function(t){if(o){try{for(var i=t+\"=\",e=o.cookie.split(\";\").filter((t=>t.length)),r=0;r<e.length;r++){for(var s=e[r];\" \"==s.charAt(0);)s=s.substring(1,s.length);if(0===s.indexOf(i))return decodeURIComponent(s.substring(i.length,s.length))}}catch(t){}return null}},W:function(t){var i;try{i=JSON.parse(Pe.q(t))||{}}catch(t){}return i},G:function(t,i,e,r,s){if(o)try{var n=\"\",a=\"\",l=ke(o.location.hostname,r);if(e){var u=new Date;u.setTime(u.getTime()+24*e*60*60*1e3),n=\"; expires=\"+u.toUTCString()}s&&(a=\"; secure\");var h=t+\"=\"+encodeURIComponent(JSON.stringify(i))+n+\"; SameSite=Lax; path=/\"+l+a;return h.length>3686.4&&Pt.warn(\"cookieStore warning: large cookie, len=\"+h.length),o.cookie=h,h}catch(t){return}},V:function(t,i){if(null!=o&&o.cookie)try{Pe.G(t,\"\",-1,i)}catch(t){return}}},Te=null,Ie={H:function(){if(!D(Te))return Te;var i=!0;if(F(t))i=!1;else try{var e=\"__mplssupport__\";Ie.G(e,\"xyz\"),'\"xyz\"'!==Ie.q(e)&&(i=!1),Ie.V(e)}catch(t){i=!1}return i||Pt.error(\"localStorage unsupported; falling back to cookie store\"),Te=i,i},B:function(t){Pt.error(\"localStorage error: \"+t)},q:function(i){try{return null==t?void 0:t.localStorage.getItem(i)}catch(t){Ie.B(t)}return null},W:function(t){try{return JSON.parse(Ie.q(t))||{}}catch(t){}return null},G:function(i,e){try{null==t||t.localStorage.setItem(i,JSON.stringify(e))}catch(t){Ie.B(t)}},V:function(i){try{null==t||t.localStorage.removeItem(i)}catch(t){Ie.B(t)}}},Re=[\"distinct_id\",ri,si,yi,mi],Ce=g({},Ie,{W:function(t){try{var i={};try{i=Pe.W(t)||{}}catch(t){}var e=Mt(i,JSON.parse(Ie.q(t)||\"{}\"));return Ie.G(t,e),e}catch(t){}return null},G:function(t,i,e,r,s,n){try{Ie.G(t,i,void 0,void 0,n);var o={};Re.forEach((t=>{i[t]&&(o[t]=i[t])})),Object.keys(o).length&&Pe.G(t,o,e,r,s,n)}catch(t){Ie.B(t)}},V:function(i,e){try{null==t||t.localStorage.removeItem(i),Pe.V(i,e)}catch(t){Ie.B(t)}}}),Oe={},Fe={H:function(){return!0},B:function(t){Pt.error(\"memoryStorage error: \"+t)},q:function(t){return Oe[t]||null},W:function(t){return Oe[t]||null},G:function(t,i){Oe[t]=i},V:function(t){delete Oe[t]}},Me=null,Ae={H:function(){if(!D(Me))return Me;if(Me=!0,F(t))Me=!1;else try{var i=\"__support__\";Ae.G(i,\"xyz\"),'\"xyz\"'!==Ae.q(i)&&(Me=!1),Ae.V(i)}catch(t){Me=!1}return Me},B:function(t){Pt.error(\"sessionStorage error: \",t)},q:function(i){try{return null==t?void 0:t.sessionStorage.getItem(i)}catch(t){Ae.B(t)}return null},W:function(t){try{return JSON.parse(Ae.q(t))||null}catch(t){}return null},G:function(i,e){try{null==t||t.sessionStorage.setItem(i,JSON.stringify(e))}catch(t){Ae.B(t)}},V:function(i){try{null==t||t.sessionStorage.removeItem(i)}catch(t){Ae.B(t)}}},De=function(t){return t[t.PENDING=-1]=\"PENDING\",t[t.DENIED=0]=\"DENIED\",t[t.GRANTED=1]=\"GRANTED\",t}({});class je{constructor(t){this._instance=t}get C(){return this._instance.config}get consent(){return this.J()?De.DENIED:this.K}isOptedOut(){return\"always\"===this.C.cookieless_mode||(this.consent===De.DENIED||this.consent===De.PENDING&&(this.C.opt_out_capturing_by_default||\"on_reject\"===this.C.cookieless_mode))}isOptedIn(){return!this.isOptedOut()}isExplicitlyOptedOut(){return this.consent===De.DENIED}optInOut(t){this.Y.G(this.X,t?1:0,this.C.cookie_expiration,this.C.cross_subdomain_cookie,this.C.secure_cookie)}reset(){this.Y.V(this.X,this.C.cross_subdomain_cookie)}get X(){var{token:t,opt_out_capturing_cookie_prefix:i,consent_persistence_name:e}=this._instance.config;return e||(i?i+t:\"__ph_opt_in_out_\"+t)}get K(){var t=this.Y.q(this.X);return G(t)?De.GRANTED:w(V,t)?De.DENIED:De.PENDING}get Y(){if(!this.Z){var t=this.C.opt_out_capturing_persistence_type;this.Z=\"localStorage\"===t?Ie:Pe;var i=\"localStorage\"===t?Pe:Ie;i.q(this.X)&&(this.Z.q(this.X)||this.optInOut(G(i.q(this.X))),i.V(this.X,this.C.cross_subdomain_cookie))}return this.Z}J(){return!!this.C.respect_dnt&&!!Bt([null==n?void 0:n.doNotTrack,null==n?void 0:n.msDoNotTrack,v.doNotTrack],(t=>G(t)))}}var Le=Tt(\"[Dead Clicks]\"),Ne=()=>!0,Ue=t=>{var i,e=!(null==(i=t.instance.persistence)||!i.get_property(ti)),r=t.instance.config.capture_dead_clicks;return N(r)?r:e};class ze{get lazyLoadedDeadClicksAutocapture(){return this.tt}constructor(t,i,e){this.instance=t,this.isEnabled=i,this.onCapture=e,this.startIfEnabled()}onRemoteConfig(t){this.instance.persistence&&this.instance.persistence.register({[ti]:null==t?void 0:t.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.it((()=>{this.et()}))}it(t){var i,e;null!=(i=v.__PosthogExtensions__)&&i.initDeadClicksAutocapture&&t(),null==(e=v.__PosthogExtensions__)||null==e.loadExternalDependency||e.loadExternalDependency(this.instance,\"dead-clicks-autocapture\",(i=>{i?Le.error(\"failed to load script\",i):t()}))}et(){var t;if(o){if(!this.tt&&null!=(t=v.__PosthogExtensions__)&&t.initDeadClicksAutocapture){var i=C(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};i.__onCapture=this.onCapture,this.tt=v.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,i),this.tt.start(o),Le.info(\"starting...\")}}else Le.error(\"`document` not found. Cannot start.\")}stop(){this.tt&&(this.tt.stop(),this.tt=void 0,Le.info(\"stopping...\"))}}var He=Tt(\"[ExceptionAutocapture]\");class Be{constructor(i){var e,r,s;this.rt=()=>{var i;if(t&&this.isEnabled&&null!=(i=v.__PosthogExtensions__)&&i.errorWrappingFunctions){var e=v.__PosthogExtensions__.errorWrappingFunctions.wrapOnError,r=v.__PosthogExtensions__.errorWrappingFunctions.wrapUnhandledRejection,s=v.__PosthogExtensions__.errorWrappingFunctions.wrapConsoleError;try{!this.st&&this.C.capture_unhandled_errors&&(this.st=e(this.captureException.bind(this))),!this.nt&&this.C.capture_unhandled_rejections&&(this.nt=r(this.captureException.bind(this))),!this.ot&&this.C.capture_console_errors&&(this.ot=s(this.captureException.bind(this)))}catch(t){He.error(\"failed to start\",t),this.lt()}}},this._instance=i,this.ut=!(null==(e=this._instance.persistence)||!e.props[Yt]),this.C=this.ht(),this.dt=new K({refillRate:null!==(r=this._instance.config.error_tracking.__exceptionRateLimiterRefillRate)&&void 0!==r?r:1,bucketSize:null!==(s=this._instance.config.error_tracking.__exceptionRateLimiterBucketSize)&&void 0!==s?s:10,refillInterval:1e4,h:He}),this.startIfEnabled()}ht(){var t=this._instance.config.capture_exceptions,i={capture_unhandled_errors:!1,capture_unhandled_rejections:!1,capture_console_errors:!1};return C(t)?i=g({},i,t):(F(t)?this.ut:t)&&(i=g({},i,{capture_unhandled_errors:!0,capture_unhandled_rejections:!0})),i}get isEnabled(){return this.C.capture_console_errors||this.C.capture_unhandled_errors||this.C.capture_unhandled_rejections}startIfEnabled(){this.isEnabled&&(He.info(\"enabled\"),this.it(this.rt))}it(t){var i,e;null!=(i=v.__PosthogExtensions__)&&i.errorWrappingFunctions&&t(),null==(e=v.__PosthogExtensions__)||null==e.loadExternalDependency||e.loadExternalDependency(this._instance,\"exception-autocapture\",(i=>{if(i)return He.error(\"failed to load script\",i);t()}))}lt(){var t,i,e;null==(t=this.st)||t.call(this),this.st=void 0,null==(i=this.nt)||i.call(this),this.nt=void 0,null==(e=this.ot)||e.call(this),this.ot=void 0}onRemoteConfig(t){var i=t.autocaptureExceptions;this.ut=!!i||!1,this.C=this.ht(),this._instance.persistence&&this._instance.persistence.register({[Yt]:this.ut}),this.startIfEnabled()}captureException(t){var i,e,r=null!==(i=null==t||null==(e=t.$exception_list)||null==(e=e[0])?void 0:e.type)&&void 0!==i?i:\"Exception\";this.dt.consumeRateLimit(r)?He.info(\"Skipping exception capture because of client rate limiting.\",{exception:r}):this._instance.exceptions.sendExceptionEvent(t)}}function qe(t,i,e){try{if(!(i in t))return()=>{};var r=t[i],s=e(r);return R(s)&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__posthog_wrapped__:{enumerable:!1,value:!0}})),t[i]=s,()=>{t[i]=r}}catch(t){return()=>{}}}class We{constructor(i){var e;this._instance=i,this.vt=(null==t||null==(e=t.location)?void 0:e.pathname)||\"\"}get isEnabled(){return\"history_change\"===this._instance.config.capture_pageview}startIfEnabled(){this.isEnabled&&(Pt.info(\"History API monitoring enabled, starting...\"),this.monitorHistoryChanges())}stop(){this.ct&&this.ct(),this.ct=void 0,Pt.info(\"History API monitoring stopped\")}monitorHistoryChanges(){var i,e;if(t&&t.history){var r=this;null!=(i=t.history.pushState)&&i.__posthog_wrapped__||qe(t.history,\"pushState\",(t=>function(i,e,s){t.call(this,i,e,s),r.ft(\"pushState\")})),null!=(e=t.history.replaceState)&&e.__posthog_wrapped__||qe(t.history,\"replaceState\",(t=>function(i,e,s){t.call(this,i,e,s),r.ft(\"replaceState\")})),this.gt()}}ft(i){try{var e,r=null==t||null==(e=t.location)?void 0:e.pathname;if(!r)return;r!==this.vt&&this.isEnabled&&this._instance.capture(\"$pageview\",{navigation_type:i}),this.vt=r}catch(t){Pt.error(\"Error capturing \"+i+\" pageview\",t)}}gt(){if(!this.ct){var i=()=>{this.ft(\"popstate\")};qt(t,\"popstate\",i),this.ct=()=>{t&&t.removeEventListener(\"popstate\",i)}}}}var Ge=Tt(\"[SegmentIntegration]\");function Ve(t,i){var e=t.config.segment;if(!e)return i();!function(t,i){var e=t.config.segment;if(!e)return i();var r=e=>{var r=()=>e.anonymousId()||xe();t.config.get_device_id=r,e.id()&&(t.register({distinct_id:e.id(),$device_id:r()}),t.persistence.set_property(ci,\"identified\")),i()},s=e.user();\"then\"in s&&R(s.then)?s.then((t=>r(t))):r(s)}(t,(()=>{e.register((t=>{Promise&&Promise.resolve||Ge.warn(\"This browser does not have Promise support, and can not use the segment integration\");var i=(i,e)=>{if(!e)return i;i.event.userId||i.event.anonymousId===t.get_distinct_id()||(Ge.info(\"No userId set, resetting PostHog\"),t.reset()),i.event.userId&&i.event.userId!==t.get_distinct_id()&&(Ge.info(\"UserId set, identifying with PostHog\"),t.identify(i.event.userId));var r=t.calculateEventProperties(e,i.event.properties);return i.event.properties=Object.assign({},r,i.event.properties),i};return{name:\"PostHog JS\",type:\"enrichment\",version:\"1.0.0\",isLoaded:()=>!0,load:()=>Promise.resolve(),track:t=>i(t,t.event.event),page:t=>i(t,\"$pageview\"),identify:t=>i(t,\"$identify\"),screen:t=>i(t,\"$screen\")}})(t)).then((()=>{i()}))}))}var Je=\"posthog-js\";function Ke(t,i){var{organization:e,projectId:r,prefix:s,severityAllowList:n=[\"error\"],sendExceptionsToPostHog:o=!0}=void 0===i?{}:i;return i=>{var a,l,u,h,d;if(!(\"*\"===n||n.includes(i.level))||!t.__loaded)return i;i.tags||(i.tags={});var v=t.requestRouter.endpointFor(\"ui\",\"/project/\"+t.config.token+\"/person/\"+t.get_distinct_id());i.tags[\"PostHog Person URL\"]=v,t.sessionRecordingStarted()&&(i.tags[\"PostHog Recording URL\"]=t.get_session_replay_url({withTimestamp:!0}));var c=(null==(a=i.exception)?void 0:a.values)||[],f=c.map((t=>g({},t,{stacktrace:t.stacktrace?g({},t.stacktrace,{type:\"raw\",frames:(t.stacktrace.frames||[]).map((t=>g({},t,{platform:\"web:javascript\"})))}):void 0}))),p={$exception_message:(null==(l=c[0])?void 0:l.value)||i.message,$exception_type:null==(u=c[0])?void 0:u.type,$exception_level:i.level,$exception_list:f,$sentry_event_id:i.event_id,$sentry_exception:i.exception,$sentry_exception_message:(null==(h=c[0])?void 0:h.value)||i.message,$sentry_exception_type:null==(d=c[0])?void 0:d.type,$sentry_tags:i.tags};return e&&r&&(p.$sentry_url=(s||\"https://sentry.io/organizations/\")+e+\"/issues/?project=\"+r+\"&query=\"+i.event_id),o&&t.exceptions.sendExceptionEvent(p),i}}class Ye{constructor(t,i,e,r,s,n){this.name=Je,this.setupOnce=function(o){o(Ke(t,{organization:i,projectId:e,prefix:r,severityAllowList:s,sendExceptionsToPostHog:null==n||n}))}}}var Xe=null!=t&&t.location?ue(t.location.hash,\"__posthog\")||ue(location.hash,\"state\"):null,Qe=\"_postHogToolbarParams\",Ze=Tt(\"[Toolbar]\"),tr=function(t){return t[t.UNINITIALIZED=0]=\"UNINITIALIZED\",t[t.LOADING=1]=\"LOADING\",t[t.LOADED=2]=\"LOADED\",t}(tr||{});class ir{constructor(t){this.instance=t}_t(t){v.ph_toolbar_state=t}yt(){var t;return null!==(t=v.ph_toolbar_state)&&void 0!==t?t:tr.UNINITIALIZED}maybeLoadToolbar(i,e,r){if(void 0===i&&(i=void 0),void 0===e&&(e=void 0),void 0===r&&(r=void 0),!t||!o)return!1;i=null!=i?i:t.location,r=null!=r?r:t.history;try{if(!e){try{t.localStorage.setItem(\"test\",\"test\"),t.localStorage.removeItem(\"test\")}catch(t){return!1}e=null==t?void 0:t.localStorage}var s,n=Xe||ue(i.hash,\"__posthog\")||ue(i.hash,\"state\"),a=n?jt((()=>JSON.parse(atob(decodeURIComponent(n)))))||jt((()=>JSON.parse(decodeURIComponent(n)))):null;return a&&\"ph_authorize\"===a.action?((s=a).source=\"url\",s&&Object.keys(s).length>0&&(a.desiredHash?i.hash=a.desiredHash:r?r.replaceState(r.state,\"\",i.pathname+i.search):i.hash=\"\")):((s=JSON.parse(e.getItem(Qe)||\"{}\")).source=\"localstorage\",delete s.userIntent),!(!s.token||this.instance.config.token!==s.token)&&(this.loadToolbar(s),!0)}catch(t){return!1}}bt(t){var i=v.ph_load_toolbar||v.ph_load_editor;!j(i)&&R(i)?i(t,this.instance):Ze.warn(\"No toolbar load function found\")}loadToolbar(i){var e=!(null==o||!o.getElementById(bi));if(!t||e)return!1;var r=\"custom\"===this.instance.requestRouter.region&&this.instance.config.advanced_disable_toolbar_metrics,s=g({token:this.instance.config.token},i,{apiURL:this.instance.requestRouter.endpointFor(\"ui\")},r?{instrument:!1}:{});if(t.localStorage.setItem(Qe,JSON.stringify(g({},s,{source:void 0}))),this.yt()===tr.LOADED)this.bt(s);else if(this.yt()===tr.UNINITIALIZED){var n;this._t(tr.LOADING),null==(n=v.__PosthogExtensions__)||null==n.loadExternalDependency||n.loadExternalDependency(this.instance,\"toolbar\",(t=>{if(t)return Ze.error(\"[Toolbar] Failed to load\",t),void this._t(tr.UNINITIALIZED);this._t(tr.LOADED),this.bt(s)})),qt(t,\"turbolinks:load\",(()=>{this._t(tr.UNINITIALIZED),this.loadToolbar(s)}))}return!0}wt(t){return this.loadToolbar(t)}maybeLoadEditor(t,i,e){return void 0===t&&(t=void 0),void 0===i&&(i=void 0),void 0===e&&(e=void 0),this.maybeLoadToolbar(t,i,e)}}var er=Tt(\"[TracingHeaders]\");class rr{constructor(t){this.xt=void 0,this.$t=void 0,this.rt=()=>{var t,i;F(this.xt)&&(null==(t=v.__PosthogExtensions__)||null==(t=t.tracingHeadersPatchFns)||t._patchXHR(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager));F(this.$t)&&(null==(i=v.__PosthogExtensions__)||null==(i=i.tracingHeadersPatchFns)||i._patchFetch(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager))},this._instance=t}it(t){var i,e;null!=(i=v.__PosthogExtensions__)&&i.tracingHeadersPatchFns&&t(),null==(e=v.__PosthogExtensions__)||null==e.loadExternalDependency||e.loadExternalDependency(this._instance,\"tracing-headers\",(i=>{if(i)return er.error(\"failed to load script\",i);t()}))}startIfEnabledOrStop(){var t,i;this._instance.config.__add_tracing_headers?this.it(this.rt):(null==(t=this.xt)||t.call(this),null==(i=this.$t)||i.call(this),this.xt=void 0,this.$t=void 0)}}var sr=\"Mobile\",nr=\"iOS\",or=\"Android\",ar=\"Tablet\",lr=or+\" \"+ar,ur=\"iPad\",hr=\"Apple\",dr=hr+\" Watch\",vr=\"Safari\",cr=\"BlackBerry\",fr=\"Samsung\",pr=fr+\"Browser\",gr=fr+\" Internet\",_r=\"Chrome\",mr=_r+\" OS\",yr=_r+\" \"+nr,br=\"Internet Explorer\",wr=br+\" \"+sr,xr=\"Opera\",$r=xr+\" Mini\",Sr=\"Edge\",Er=\"Microsoft \"+Sr,kr=\"Firefox\",Pr=kr+\" \"+nr,Tr=\"Nintendo\",Ir=\"PlayStation\",Rr=\"Xbox\",Cr=or+\" \"+sr,Or=sr+\" \"+vr,Fr=\"Windows\",Mr=Fr+\" Phone\",Ar=\"Nokia\",Dr=\"Ouya\",jr=\"Generic\",Lr=jr+\" \"+sr.toLowerCase(),Nr=jr+\" \"+ar.toLowerCase(),Ur=\"Konqueror\",zr=\"(\\\\d+(\\\\.\\\\d+)?)\",Hr=new RegExp(\"Version/\"+zr),Br=new RegExp(Rr,\"i\"),qr=new RegExp(Ir+\" \\\\w+\",\"i\"),Wr=new RegExp(Tr+\" \\\\w+\",\"i\"),Gr=new RegExp(cr+\"|PlayBook|BB10\",\"i\"),Vr={\"NT3.51\":\"NT 3.11\",\"NT4.0\":\"NT 4.0\",\"5.0\":\"2000\",5.1:\"XP\",5.2:\"XP\",\"6.0\":\"Vista\",6.1:\"7\",6.2:\"8\",6.3:\"8.1\",6.4:\"10\",\"10.0\":\"10\"};var Jr=(t,i)=>i&&w(i,hr)||function(t){return w(t,vr)&&!w(t,_r)&&!w(t,or)}(t),Kr=function(t,i){return i=i||\"\",w(t,\" OPR/\")&&w(t,\"Mini\")?$r:w(t,\" OPR/\")?xr:Gr.test(t)?cr:w(t,\"IE\"+sr)||w(t,\"WPDesktop\")?wr:w(t,pr)?gr:w(t,Sr)||w(t,\"Edg/\")?Er:w(t,\"FBIOS\")?\"Facebook \"+sr:w(t,\"UCWEB\")||w(t,\"UCBrowser\")?\"UC Browser\":w(t,\"CriOS\")?yr:w(t,\"CrMo\")||w(t,_r)?_r:w(t,or)&&w(t,vr)?Cr:w(t,\"FxiOS\")?Pr:w(t.toLowerCase(),Ur.toLowerCase())?Ur:Jr(t,i)?w(t,sr)?Or:vr:w(t,kr)?kr:w(t,\"MSIE\")||w(t,\"Trident/\")?br:w(t,\"Gecko\")?kr:\"\"},Yr={[wr]:[new RegExp(\"rv:\"+zr)],[Er]:[new RegExp(Sr+\"?\\\\/\"+zr)],[_r]:[new RegExp(\"(\"+_r+\"|CrMo)\\\\/\"+zr)],[yr]:[new RegExp(\"CriOS\\\\/\"+zr)],\"UC Browser\":[new RegExp(\"(UCBrowser|UCWEB)\\\\/\"+zr)],[vr]:[Hr],[Or]:[Hr],[xr]:[new RegExp(\"(Opera|OPR)\\\\/\"+zr)],[kr]:[new RegExp(kr+\"\\\\/\"+zr)],[Pr]:[new RegExp(\"FxiOS\\\\/\"+zr)],[Ur]:[new RegExp(\"Konqueror[:/]?\"+zr,\"i\")],[cr]:[new RegExp(cr+\" \"+zr),Hr],[Cr]:[new RegExp(\"android\\\\s\"+zr,\"i\")],[gr]:[new RegExp(pr+\"\\\\/\"+zr)],[br]:[new RegExp(\"(rv:|MSIE )\"+zr)],Mozilla:[new RegExp(\"rv:\"+zr)]},Xr=function(t,i){var e=Kr(t,i),r=Yr[e];if(F(r))return null;for(var s=0;s<r.length;s++){var n=r[s],o=t.match(n);if(o)return parseFloat(o[o.length-2])}return null},Qr=[[new RegExp(Rr+\"; \"+Rr+\" (.*?)[);]\",\"i\"),t=>[Rr,t&&t[1]||\"\"]],[new RegExp(Tr,\"i\"),[Tr,\"\"]],[new RegExp(Ir,\"i\"),[Ir,\"\"]],[Gr,[cr,\"\"]],[new RegExp(Fr,\"i\"),(t,i)=>{if(/Phone/.test(i)||/WPDesktop/.test(i))return[Mr,\"\"];if(new RegExp(sr).test(i)&&!/IEMobile\\b/.test(i))return[Fr+\" \"+sr,\"\"];var e=/Windows NT ([0-9.]+)/i.exec(i);if(e&&e[1]){var r=e[1],s=Vr[r]||\"\";return/arm/i.test(i)&&(s=\"RT\"),[Fr,s]}return[Fr,\"\"]}],[/((iPhone|iPad|iPod).*?OS (\\d+)_(\\d+)_?(\\d+)?|iPhone)/,t=>{if(t&&t[3]){var i=[t[3],t[4],t[5]||\"0\"];return[nr,i.join(\".\")]}return[nr,\"\"]}],[/(watch.*\\/(\\d+\\.\\d+\\.\\d+)|watch os,(\\d+\\.\\d+),)/i,t=>{var i=\"\";return t&&t.length>=3&&(i=F(t[2])?t[3]:t[2]),[\"watchOS\",i]}],[new RegExp(\"(\"+or+\" (\\\\d+)\\\\.(\\\\d+)\\\\.?(\\\\d+)?|\"+or+\")\",\"i\"),t=>{if(t&&t[2]){var i=[t[2],t[3],t[4]||\"0\"];return[or,i.join(\".\")]}return[or,\"\"]}],[/Mac OS X (\\d+)[_.](\\d+)[_.]?(\\d+)?/i,t=>{var i=[\"Mac OS X\",\"\"];if(t&&t[1]){var e=[t[1],t[2],t[3]||\"0\"];i[1]=e.join(\".\")}return i}],[/Mac/i,[\"Mac OS X\",\"\"]],[/CrOS/,[mr,\"\"]],[/Linux|debian/i,[\"Linux\",\"\"]]],Zr=function(t){return Wr.test(t)?Tr:qr.test(t)?Ir:Br.test(t)?Rr:new RegExp(Dr,\"i\").test(t)?Dr:new RegExp(\"(\"+Mr+\"|WPDesktop)\",\"i\").test(t)?Mr:/iPad/.test(t)?ur:/iPod/.test(t)?\"iPod Touch\":/iPhone/.test(t)?\"iPhone\":/(watch)(?: ?os[,/]|\\d,\\d\\/)[\\d.]+/i.test(t)?dr:Gr.test(t)?cr:/(kobo)\\s(ereader|touch)/i.test(t)?\"Kobo\":new RegExp(Ar,\"i\").test(t)?Ar:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\\))/i.test(t)||/(kf[a-z]+)( bui|\\)).+silk\\//i.test(t)?\"Kindle Fire\":/(Android|ZTE)/i.test(t)?!new RegExp(sr).test(t)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(t)?/pixel[\\daxl ]{1,6}/i.test(t)&&!/pixel c/i.test(t)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(t)||/lmy47v/i.test(t)&&!/QTAQZ3/i.test(t)?or:lr:or:new RegExp(\"(pda|\"+sr+\")\",\"i\").test(t)?Lr:new RegExp(ar,\"i\").test(t)&&!new RegExp(ar+\" pc\",\"i\").test(t)?Nr:\"\"},ts=\"https?://(.*)\",is=[\"gclid\",\"gclsrc\",\"dclid\",\"gbraid\",\"wbraid\",\"fbclid\",\"msclkid\",\"twclid\",\"li_fat_id\",\"igshid\",\"ttclid\",\"rdt_cid\",\"epik\",\"qclid\",\"sccid\",\"irclid\",\"_kx\"],es=At([\"utm_source\",\"utm_medium\",\"utm_campaign\",\"utm_content\",\"utm_term\",\"gad_source\",\"mc_cid\"],is),rs=\"<masked>\",ss=[\"li_fat_id\"];function ns(t,i,e){if(!o)return{};var r,s=i?At([],is,e||[]):[],n=os(le(o.URL,s,rs),t),a=(r={},Ft(ss,(function(t){var i=Pe.q(t);r[t]=i||null})),r);return Mt(a,n)}function os(t,i){var e=es.concat(i||[]),r={};return Ft(e,(function(i){var e=ae(t,i);r[i]=e||null})),r}function as(t){var i=function(t){return t?0===t.search(ts+\"google.([^/?]*)\")?\"google\":0===t.search(ts+\"bing.com\")?\"bing\":0===t.search(ts+\"yahoo.com\")?\"yahoo\":0===t.search(ts+\"duckduckgo.com\")?\"duckduckgo\":null:null}(t),e=\"yahoo\"!=i?\"q\":\"p\",r={};if(!D(i)){r.$search_engine=i;var s=o?ae(o.referrer,e):\"\";s.length&&(r.ph_keyword=s)}return r}function ls(){return navigator.language||navigator.userLanguage}function us(){return(null==o?void 0:o.referrer)||\"$direct\"}function hs(t,i){var e=t?At([],is,i||[]):[],r=null==a?void 0:a.href.substring(0,1e3);return{r:us().substring(0,1e3),u:r?le(r,e,rs):void 0}}function ds(t){var i,{r:e,u:r}=t,s={$referrer:e,$referring_domain:null==e?void 0:\"$direct\"==e?\"$direct\":null==(i=ne(e))?void 0:i.host};if(r){s.$current_url=r;var n=ne(r);s.$host=null==n?void 0:n.host,s.$pathname=null==n?void 0:n.pathname;var o=os(r);Mt(s,o)}if(e){var a=as(e);Mt(s,a)}return s}function vs(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(t){return}}function cs(){try{return(new Date).getTimezoneOffset()}catch(t){return}}function fs(i,e){if(!d)return{};var r,s,n,o=i?At([],is,e||[]):[],[l,u]=function(t){for(var i=0;i<Qr.length;i++){var[e,r]=Qr[i],s=e.exec(t),n=s&&(R(r)?r(s,t):r);if(n)return n}return[\"\",\"\"]}(d);return Mt(Nt({$os:l,$os_version:u,$browser:Kr(d,navigator.vendor),$device:Zr(d),$device_type:(s=d,n=Zr(s),n===ur||n===lr||\"Kobo\"===n||\"Kindle Fire\"===n||n===Nr?ar:n===Tr||n===Rr||n===Ir||n===Dr?\"Console\":n===dr?\"Wearable\":n?sr:\"Desktop\"),$timezone:vs(),$timezone_offset:cs()}),{$current_url:le(null==a?void 0:a.href,o,rs),$host:null==a?void 0:a.host,$pathname:null==a?void 0:a.pathname,$raw_user_agent:d.length>1e3?d.substring(0,997)+\"...\":d,$browser_version:Xr(d,navigator.vendor),$browser_language:ls(),$browser_language_prefix:(r=ls(),\"string\"==typeof r?r.split(\"-\")[0]:void 0),$screen_height:null==t?void 0:t.screen.height,$screen_width:null==t?void 0:t.screen.width,$viewport_height:null==t?void 0:t.innerHeight,$viewport_width:null==t?void 0:t.innerWidth,$lib:\"web\",$lib_version:c.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})}var ps=Tt(\"[Web Vitals]\"),gs=9e5;class _s{constructor(t){var i;this.St=!1,this.P=!1,this.N={url:void 0,metrics:[],firstMetricTimestamp:void 0},this.Et=()=>{clearTimeout(this.kt),0!==this.N.metrics.length&&(this._instance.capture(\"$web_vitals\",this.N.metrics.reduce(((t,i)=>g({},t,{[\"$web_vitals_\"+i.name+\"_event\"]:g({},i),[\"$web_vitals_\"+i.name+\"_value\"]:i.value})),{})),this.N={url:void 0,metrics:[],firstMetricTimestamp:void 0})},this.Pt=t=>{var i,e=null==(i=this._instance.sessionManager)?void 0:i.checkAndGetSessionAndWindowId(!0);if(F(e))ps.error(\"Could not read session ID. Dropping metrics!\");else{this.N=this.N||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var r=this.Tt();if(!F(r))if(j(null==t?void 0:t.name)||j(null==t?void 0:t.value))ps.error(\"Invalid metric received\",t);else if(this.It&&t.value>=this.It)ps.error(\"Ignoring metric with value >= \"+this.It,t);else this.N.url!==r&&(this.Et(),this.kt=setTimeout(this.Et,this.flushToCaptureTimeoutMs)),F(this.N.url)&&(this.N.url=r),this.N.firstMetricTimestamp=F(this.N.firstMetricTimestamp)?Date.now():this.N.firstMetricTimestamp,t.attribution&&t.attribution.interactionTargetElement&&(t.attribution.interactionTargetElement=void 0),this.N.metrics.push(g({},t,{$current_url:r,$session_id:e.sessionId,$window_id:e.windowId,timestamp:Date.now()})),this.N.metrics.length===this.allowedMetrics.length&&this.Et()}},this.rt=()=>{var t,i,e,r,s=v.__PosthogExtensions__;F(s)||F(s.postHogWebVitalsCallbacks)||({onLCP:t,onCLS:i,onFCP:e,onINP:r}=s.postHogWebVitalsCallbacks),t&&i&&e&&r?(this.allowedMetrics.indexOf(\"LCP\")>-1&&t(this.Pt.bind(this)),this.allowedMetrics.indexOf(\"CLS\")>-1&&i(this.Pt.bind(this)),this.allowedMetrics.indexOf(\"FCP\")>-1&&e(this.Pt.bind(this)),this.allowedMetrics.indexOf(\"INP\")>-1&&r(this.Pt.bind(this)),this.P=!0):ps.error(\"web vitals callbacks not loaded - not starting\")},this._instance=t,this.St=!(null==(i=this._instance.persistence)||!i.props[Zt]),this.startIfEnabled()}get allowedMetrics(){var t,i,e=C(this._instance.config.capture_performance)?null==(t=this._instance.config.capture_performance)?void 0:t.web_vitals_allowed_metrics:void 0;return F(e)?(null==(i=this._instance.persistence)?void 0:i.props[ii])||[\"CLS\",\"FCP\",\"INP\",\"LCP\"]:e}get flushToCaptureTimeoutMs(){return(C(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get It(){var t=C(this._instance.config.capture_performance)&&L(this._instance.config.capture_performance.__web_vitals_max_value)?this._instance.config.capture_performance.__web_vitals_max_value:gs;return 0<t&&t<=6e4?gs:t}get isEnabled(){var t=null==a?void 0:a.protocol;if(\"http:\"!==t&&\"https:\"!==t)return ps.info(\"Web Vitals are disabled on non-http/https protocols\"),!1;var i=C(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals:N(this._instance.config.capture_performance)?this._instance.config.capture_performance:void 0;return N(i)?i:this.St}startIfEnabled(){this.isEnabled&&!this.P&&(ps.info(\"enabled, starting...\"),this.it(this.rt))}onRemoteConfig(t){var i=C(t.capturePerformance)&&!!t.capturePerformance.web_vitals,e=C(t.capturePerformance)?t.capturePerformance.web_vitals_allowed_metrics:void 0;this._instance.persistence&&(this._instance.persistence.register({[Zt]:i}),this._instance.persistence.register({[ii]:e})),this.St=i,this.startIfEnabled()}it(t){var i,e;null!=(i=v.__PosthogExtensions__)&&i.postHogWebVitalsCallbacks&&t(),null==(e=v.__PosthogExtensions__)||null==e.loadExternalDependency||e.loadExternalDependency(this._instance,\"web-vitals\",(i=>{i?ps.error(\"failed to load script\",i):t()}))}Tt(){var i=t?t.location.href:void 0;if(i){var e=this._instance.config.mask_personal_data_properties,r=this._instance.config.custom_personal_data_properties,s=e?At([],is,r||[]):[];return le(i,s,rs)}ps.error(\"Could not determine current URL\")}}var ms=Tt(\"[Heatmaps]\");function ys(t){return C(t)&&\"clientX\"in t&&\"clientY\"in t&&L(t.clientX)&&L(t.clientY)}class bs{constructor(t){var i;this.rageclicks=new ie,this.St=!1,this.P=!1,this.Rt=null,this.instance=t,this.St=!(null==(i=this.instance.persistence)||!i.props[Kt])}get flushIntervalMilliseconds(){var t=5e3;return C(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(t=this.instance.config.capture_heatmaps.flush_interval_milliseconds),t}get isEnabled(){return F(this.instance.config.capture_heatmaps)?F(this.instance.config.enable_heatmaps)?this.St:this.instance.config.enable_heatmaps:!1!==this.instance.config.capture_heatmaps}startIfEnabled(){if(this.isEnabled){if(this.P)return;ms.info(\"starting...\"),this.Ct(),this.Ot()}else{var t;clearInterval(null!==(t=this.Rt)&&void 0!==t?t:void 0),this.Ft(),this.getAndClearBuffer()}}onRemoteConfig(t){var i=!!t.heatmaps;this.instance.persistence&&this.instance.persistence.register({[Kt]:i}),this.St=i,this.startIfEnabled()}getAndClearBuffer(){var t=this.N;return this.N=void 0,t}Mt(t){this.At(t.originalEvent,\"deadclick\")}Ot(){this.Rt&&clearInterval(this.Rt),this.Rt=function(t){return\"visible\"===(null==t?void 0:t.visibilityState)}(o)?setInterval(this.Dt.bind(this),this.flushIntervalMilliseconds):null}Ct(){t&&o&&(this.jt=this.Dt.bind(this),qt(t,\"beforeunload\",this.jt),this.Lt=i=>this.At(i||(null==t?void 0:t.event)),qt(o,\"click\",this.Lt,{capture:!0}),this.Nt=i=>this.Ut(i||(null==t?void 0:t.event)),qt(o,\"mousemove\",this.Nt,{capture:!0}),this.zt=new ze(this.instance,Ne,this.Mt.bind(this)),this.zt.startIfEnabled(),this.Ht=this.Ot.bind(this),qt(o,\"visibilitychange\",this.Ht),this.P=!0)}Ft(){var i;t&&o&&(this.jt&&t.removeEventListener(\"beforeunload\",this.jt),this.Lt&&o.removeEventListener(\"click\",this.Lt,{capture:!0}),this.Nt&&o.removeEventListener(\"mousemove\",this.Nt,{capture:!0}),this.Ht&&o.removeEventListener(\"visibilitychange\",this.Ht),clearTimeout(this.Bt),null==(i=this.zt)||i.stop(),this.P=!1)}qt(i,e){var r=this.instance.scrollManager.scrollY(),s=this.instance.scrollManager.scrollX(),n=this.instance.scrollManager.scrollElement(),o=function(i,e,r){for(var s=i;s&&Si(s)&&!Ei(s,\"body\");){if(s===r)return!1;if(w(e,null==t?void 0:t.getComputedStyle(s).position))return!0;s=Di(s)}return!1}(Fi(i),[\"fixed\",\"sticky\"],n);return{x:i.clientX+(o?0:s),y:i.clientY+(o?0:r),target_fixed:o,type:e}}At(t,i){var e;if(void 0===i&&(i=\"click\"),!$i(t.target)&&ys(t)){var r=this.qt(t,i);null!=(e=this.rageclicks)&&e.isRageClick(t.clientX,t.clientY,(new Date).getTime())&&this.Wt(g({},r,{type:\"rageclick\"})),this.Wt(r)}}Ut(t){!$i(t.target)&&ys(t)&&(clearTimeout(this.Bt),this.Bt=setTimeout((()=>{this.Wt(this.qt(t,\"mousemove\"))}),500))}Wt(i){if(t){var e=t.location.href,r=this.instance.config.mask_personal_data_properties,s=this.instance.config.custom_personal_data_properties,n=r?At([],is,s||[]):[],o=le(e,n,rs);this.N=this.N||{},this.N[o]||(this.N[o]=[]),this.N[o].push(i)}}Dt(){this.N&&!O(this.N)&&this.instance.capture(\"$$heatmap\",{$heatmap_data:this.getAndClearBuffer()})}}class ws{constructor(t){this._instance=t}doPageView(i,e){var r,s=this.Gt(i,e);return this.Vt={pathname:null!==(r=null==t?void 0:t.location.pathname)&&void 0!==r?r:\"\",pageViewId:e,timestamp:i},this._instance.scrollManager.resetContext(),s}doPageLeave(t){var i;return this.Gt(t,null==(i=this.Vt)?void 0:i.pageViewId)}doEvent(){var t;return{$pageview_id:null==(t=this.Vt)?void 0:t.pageViewId}}Gt(t,i){var e=this.Vt;if(!e)return{$pageview_id:i};var r={$pageview_id:i,$prev_pageview_id:e.pageViewId},s=this._instance.scrollManager.getContext();if(s&&!this._instance.config.disable_scroll_properties){var{maxScrollHeight:n,lastScrollY:o,maxScrollY:a,maxContentHeight:l,lastContentY:u,maxContentY:h}=s;if(!(F(n)||F(o)||F(a)||F(l)||F(u)||F(h))){n=Math.ceil(n),o=Math.ceil(o),a=Math.ceil(a),l=Math.ceil(l),u=Math.ceil(u),h=Math.ceil(h);var d=n<=1?1:J(o/n,0,1,Pt),v=n<=1?1:J(a/n,0,1,Pt),c=l<=1?1:J(u/l,0,1,Pt),f=l<=1?1:J(h/l,0,1,Pt);r=Mt(r,{$prev_pageview_last_scroll:o,$prev_pageview_last_scroll_percentage:d,$prev_pageview_max_scroll:a,$prev_pageview_max_scroll_percentage:v,$prev_pageview_last_content:u,$prev_pageview_last_content_percentage:c,$prev_pageview_max_content:h,$prev_pageview_max_content_percentage:f})}}return e.pathname&&(r.$prev_pageview_pathname=e.pathname),e.timestamp&&(r.$prev_pageview_duration=(t.getTime()-e.timestamp.getTime())/1e3),r}}var xs=Uint8Array,$s=Uint16Array,Ss=Uint32Array,Es=new xs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ks=new xs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Ps=new xs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ts=function(t,i){for(var e=new $s(31),r=0;r<31;++r)e[r]=i+=1<<t[r-1];var s=new Ss(e[30]);for(r=1;r<30;++r)for(var n=e[r];n<e[r+1];++n)s[n]=n-e[r]<<5|r;return[e,s]},Is=Ts(Es,2),Rs=Is[0],Cs=Is[1];Rs[28]=258,Cs[258]=28;for(var Os=Ts(ks,0)[1],Fs=new $s(32768),Ms=0;Ms<32768;++Ms){var As=(43690&Ms)>>>1|(21845&Ms)<<1;As=(61680&(As=(52428&As)>>>2|(13107&As)<<2))>>>4|(3855&As)<<4,Fs[Ms]=((65280&As)>>>8|(255&As)<<8)>>>1}var Ds=function(t,i,e){for(var r=t.length,s=0,n=new $s(i);s<r;++s)++n[t[s]-1];var o,a=new $s(i);for(s=0;s<i;++s)a[s]=a[s-1]+n[s-1]<<1;if(e){o=new $s(1<<i);var l=15-i;for(s=0;s<r;++s)if(t[s])for(var u=s<<4|t[s],h=i-t[s],d=a[t[s]-1]++<<h,v=d|(1<<h)-1;d<=v;++d)o[Fs[d]>>>l]=u}else for(o=new $s(r),s=0;s<r;++s)o[s]=Fs[a[t[s]-1]++]>>>15-t[s];return o},js=new xs(288);for(Ms=0;Ms<144;++Ms)js[Ms]=8;for(Ms=144;Ms<256;++Ms)js[Ms]=9;for(Ms=256;Ms<280;++Ms)js[Ms]=7;for(Ms=280;Ms<288;++Ms)js[Ms]=8;var Ls=new xs(32);for(Ms=0;Ms<32;++Ms)Ls[Ms]=5;var Ns=Ds(js,9,0),Us=Ds(Ls,5,0),zs=function(t){return(t/8>>0)+(7&t&&1)},Hs=function(t,i,e){(null==e||e>t.length)&&(e=t.length);var r=new(t instanceof $s?$s:t instanceof Ss?Ss:xs)(e-i);return r.set(t.subarray(i,e)),r},Bs=function(t,i,e){e<<=7&i;var r=i/8>>0;t[r]|=e,t[r+1]|=e>>>8},qs=function(t,i,e){e<<=7&i;var r=i/8>>0;t[r]|=e,t[r+1]|=e>>>8,t[r+2]|=e>>>16},Ws=function(t,i){for(var e=[],r=0;r<t.length;++r)t[r]&&e.push({s:r,f:t[r]});var s=e.length,n=e.slice();if(!s)return[new xs(0),0];if(1==s){var o=new xs(e[0].s+1);return o[e[0].s]=1,[o,1]}e.sort((function(t,i){return t.f-i.f})),e.push({s:-1,f:25001});var a=e[0],l=e[1],u=0,h=1,d=2;for(e[0]={s:-1,f:a.f+l.f,l:a,r:l};h!=s-1;)a=e[e[u].f<e[d].f?u++:d++],l=e[u!=h&&e[u].f<e[d].f?u++:d++],e[h++]={s:-1,f:a.f+l.f,l:a,r:l};var v=n[0].s;for(r=1;r<s;++r)n[r].s>v&&(v=n[r].s);var c=new $s(v+1),f=Gs(e[h-1],c,0);if(f>i){r=0;var p=0,g=f-i,_=1<<g;for(n.sort((function(t,i){return c[i.s]-c[t.s]||t.f-i.f}));r<s;++r){var m=n[r].s;if(!(c[m]>i))break;p+=_-(1<<f-c[m]),c[m]=i}for(p>>>=g;p>0;){var y=n[r].s;c[y]<i?p-=1<<i-c[y]++-1:++r}for(;r>=0&&p;--r){var b=n[r].s;c[b]==i&&(--c[b],++p)}f=i}return[new xs(c),f]},Gs=function(t,i,e){return-1==t.s?Math.max(Gs(t.l,i,e+1),Gs(t.r,i,e+1)):i[t.s]=e},Vs=function(t){for(var i=t.length;i&&!t[--i];);for(var e=new $s(++i),r=0,s=t[0],n=1,o=function(t){e[r++]=t},a=1;a<=i;++a)if(t[a]==s&&a!=i)++n;else{if(!s&&n>2){for(;n>138;n-=138)o(32754);n>2&&(o(n>10?n-11<<5|28690:n-3<<5|12305),n=0)}else if(n>3){for(o(s),--n;n>6;n-=6)o(8304);n>2&&(o(n-3<<5|8208),n=0)}for(;n--;)o(s);n=1,s=t[a]}return[e.subarray(0,r),i]},Js=function(t,i){for(var e=0,r=0;r<i.length;++r)e+=t[r]*i[r];return e},Ks=function(t,i,e){var r=e.length,s=zs(i+2);t[s]=255&r,t[s+1]=r>>>8,t[s+2]=255^t[s],t[s+3]=255^t[s+1];for(var n=0;n<r;++n)t[s+n+4]=e[n];return 8*(s+4+r)},Ys=function(t,i,e,r,s,n,o,a,l,u,h){Bs(i,h++,e),++s[256];for(var d=Ws(s,15),v=d[0],c=d[1],f=Ws(n,15),p=f[0],g=f[1],_=Vs(v),m=_[0],y=_[1],b=Vs(p),w=b[0],x=b[1],S=new $s(19),E=0;E<m.length;++E)S[31&m[E]]++;for(E=0;E<w.length;++E)S[31&w[E]]++;for(var k=Ws(S,7),P=k[0],T=k[1],I=19;I>4&&!P[Ps[I-1]];--I);var R,C,O,F,M=u+5<<3,A=Js(s,js)+Js(n,Ls)+o,D=Js(s,v)+Js(n,p)+o+14+3*I+Js(S,P)+(2*S[16]+3*S[17]+7*S[18]);if(M<=A&&M<=D)return Ks(i,h,t.subarray(l,l+u));if(Bs(i,h,1+(D<A)),h+=2,D<A){R=Ds(v,c,0),C=v,O=Ds(p,g,0),F=p;var j=Ds(P,T,0);Bs(i,h,y-257),Bs(i,h+5,x-1),Bs(i,h+10,I-4),h+=14;for(E=0;E<I;++E)Bs(i,h+3*E,P[Ps[E]]);h+=3*I;for(var L=[m,w],N=0;N<2;++N){var U=L[N];for(E=0;E<U.length;++E){var z=31&U[E];Bs(i,h,j[z]),h+=P[z],z>15&&(Bs(i,h,U[E]>>>5&127),h+=U[E]>>>12)}}}else R=Ns,C=js,O=Us,F=Ls;for(E=0;E<a;++E)if(r[E]>255){z=r[E]>>>18&31;qs(i,h,R[z+257]),h+=C[z+257],z>7&&(Bs(i,h,r[E]>>>23&31),h+=Es[z]);var H=31&r[E];qs(i,h,O[H]),h+=F[H],H>3&&(qs(i,h,r[E]>>>5&8191),h+=ks[H])}else qs(i,h,R[r[E]]),h+=C[r[E]];return qs(i,h,R[256]),h+C[256]},Xs=new Ss([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Qs=function(){for(var t=new Ss(256),i=0;i<256;++i){for(var e=i,r=9;--r;)e=(1&e&&3988292384)^e>>>1;t[i]=e}return t}(),Zs=function(t,i,e,r,s){return function(t,i,e,r,s,n){var o=t.length,a=new xs(r+o+5*(1+Math.floor(o/7e3))+s),l=a.subarray(r,a.length-s),u=0;if(!i||o<8)for(var h=0;h<=o;h+=65535){var d=h+65535;d<o?u=Ks(l,u,t.subarray(h,d)):(l[h]=n,u=Ks(l,u,t.subarray(h,o)))}else{for(var v=Xs[i-1],c=v>>>13,f=8191&v,p=(1<<e)-1,g=new $s(32768),_=new $s(p+1),m=Math.ceil(e/3),y=2*m,b=function(i){return(t[i]^t[i+1]<<m^t[i+2]<<y)&p},w=new Ss(25e3),x=new $s(288),S=new $s(32),E=0,k=0,P=(h=0,0),T=0,I=0;h<o;++h){var R=b(h),C=32767&h,O=_[R];if(g[C]=O,_[R]=C,T<=h){var F=o-h;if((E>7e3||P>24576)&&F>423){u=Ys(t,l,0,w,x,S,k,P,I,h-I,u),P=E=k=0,I=h;for(var M=0;M<286;++M)x[M]=0;for(M=0;M<30;++M)S[M]=0}var A=2,D=0,j=f,L=C-O&32767;if(F>2&&R==b(h-L))for(var N=Math.min(c,F)-1,U=Math.min(32767,h),z=Math.min(258,F);L<=U&&--j&&C!=O;){if(t[h+A]==t[h+A-L]){for(var H=0;H<z&&t[h+H]==t[h+H-L];++H);if(H>A){if(A=H,D=L,H>N)break;var B=Math.min(L,H-2),q=0;for(M=0;M<B;++M){var W=h-L+M+32768&32767,G=W-g[W]+32768&32767;G>q&&(q=G,O=W)}}}L+=(C=O)-(O=g[C])+32768&32767}if(D){w[P++]=268435456|Cs[A]<<18|Os[D];var V=31&Cs[A],J=31&Os[D];k+=Es[V]+ks[J],++x[257+V],++S[J],T=h+A,++E}else w[P++]=t[h],++x[t[h]]}}u=Ys(t,l,n,w,x,S,k,P,I,h-I,u)}return Hs(a,0,r+zs(u)+s)}(t,null==i.level?6:i.level,null==i.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):12+i.mem,e,r,!0)},tn=function(t,i,e){for(;e;++i)t[i]=e,e>>>=8};function en(t,i){void 0===i&&(i={});var e=function(){var t=4294967295;return{p:function(i){for(var e=t,r=0;r<i.length;++r)e=Qs[255&e^i[r]]^e>>>8;t=e},d:function(){return 4294967295^t}}}(),r=t.length;e.p(t);var s,n=Zs(t,i,10+((s=i).filename&&s.filename.length+1||0),8),o=n.length;return function(t,i){var e=i.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=i.level<2?4:9==i.level?2:0,t[9]=3,0!=i.mtime&&tn(t,4,Math.floor(new Date(i.mtime||Date.now())/1e3)),e){t[3]=8;for(var r=0;r<=e.length;++r)t[r+10]=e.charCodeAt(r)}}(n,i),tn(n,o-8,e.d()),tn(n,o-4,r),n}var rn=function(t){var i,e,r,s,n=\"\";for(i=e=0,r=(t=(t+\"\").replace(/\\r\\n/g,\"\\n\").replace(/\\r/g,\"\\n\")).length,s=0;s<r;s++){var o=t.charCodeAt(s),a=null;o<128?e++:a=o>127&&o<2048?String.fromCharCode(o>>6|192,63&o|128):String.fromCharCode(o>>12|224,o>>6&63|128,63&o|128),D(a)||(e>i&&(n+=t.substring(i,e)),n+=a,i=e=s+1)}return e>i&&(n+=t.substring(i,t.length)),n},sn=!!u||!!l,nn=\"text/plain\",on=function(t,i,e){var r;void 0===e&&(e=!0);var[s,n]=t.split(\"?\"),o=g({},i),a=null!==(r=null==n?void 0:n.split(\"&\").map((t=>{var i,[r,s]=t.split(\"=\"),n=e&&null!==(i=o[r])&&void 0!==i?i:s;return delete o[r],r+\"=\"+n})))&&void 0!==r?r:[],l=oe(o);return l&&a.push(l),s+\"?\"+a.join(\"&\")},an=(t,i)=>JSON.stringify(t,((t,i)=>\"bigint\"==typeof i?i.toString():i),i),ln=t=>{var{data:i,compression:e}=t;if(i){if(e===re.GZipJS){var r=en(function(t,i){var e=t.length;if(\"undefined\"!=typeof TextEncoder)return(new TextEncoder).encode(t);for(var r=new xs(t.length+(t.length>>>1)),s=0,n=function(t){r[s++]=t},o=0;o<e;++o){if(s+5>r.length){var a=new xs(s+8+(e-o<<1));a.set(r),r=a}var l=t.charCodeAt(o);l<128||i?n(l):l<2048?(n(192|l>>>6),n(128|63&l)):l>55295&&l<57344?(n(240|(l=65536+(1047552&l)|1023&t.charCodeAt(++o))>>>18),n(128|l>>>12&63),n(128|l>>>6&63),n(128|63&l)):(n(224|l>>>12),n(128|l>>>6&63),n(128|63&l))}return Hs(r,0,s)}(an(i)),{mtime:0}),s=new Blob([r],{type:nn});return{contentType:nn,body:s,estimatedSize:s.size}}if(e===re.Base64){var n=function(t){var i,e,r,s,n,o=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",a=0,l=0,u=\"\",h=[];if(!t)return t;t=rn(t);do{i=(n=t.charCodeAt(a++)<<16|t.charCodeAt(a++)<<8|t.charCodeAt(a++))>>18&63,e=n>>12&63,r=n>>6&63,s=63&n,h[l++]=o.charAt(i)+o.charAt(e)+o.charAt(r)+o.charAt(s)}while(a<t.length);switch(u=h.join(\"\"),t.length%3){case 1:u=u.slice(0,-2)+\"==\";break;case 2:u=u.slice(0,-1)+\"=\"}return u}(an(i)),o=(t=>\"data=\"+encodeURIComponent(\"string\"==typeof t?t:an(t)))(n);return{contentType:\"application/x-www-form-urlencoded\",body:o,estimatedSize:new Blob([o]).size}}var a=an(i);return{contentType:\"application/json\",body:a,estimatedSize:new Blob([a]).size}}},un=[];l&&un.push({transport:\"fetch\",method:t=>{var i,e,{contentType:r,body:s,estimatedSize:n}=null!==(i=ln(t))&&void 0!==i?i:{},o=new Headers;Ft(t.headers,(function(t,i){o.append(i,t)})),r&&o.append(\"Content-Type\",r);var a=t.url,u=null;if(h){var d=new h;u={signal:d.signal,timeout:setTimeout((()=>d.abort()),t.timeout)}}l(a,g({method:(null==t?void 0:t.method)||\"GET\",headers:o,keepalive:\"POST\"===t.method&&(n||0)<52428.8,body:s,signal:null==(e=u)?void 0:e.signal},t.fetchOptions)).then((i=>i.text().then((e=>{var r={statusCode:i.status,text:e};if(200===i.status)try{r.json=JSON.parse(e)}catch(t){Pt.error(t)}null==t.callback||t.callback(r)})))).catch((i=>{Pt.error(i),null==t.callback||t.callback({statusCode:0,text:i})})).finally((()=>u?clearTimeout(u.timeout):null))}}),u&&un.push({transport:\"XHR\",method:t=>{var i,e=new u;e.open(t.method||\"GET\",t.url,!0);var{contentType:r,body:s}=null!==(i=ln(t))&&void 0!==i?i:{};Ft(t.headers,(function(t,i){e.setRequestHeader(i,t)})),r&&e.setRequestHeader(\"Content-Type\",r),t.timeout&&(e.timeout=t.timeout),t.disableXHRCredentials||(e.withCredentials=!0),e.onreadystatechange=()=>{if(4===e.readyState){var i={statusCode:e.status,text:e.responseText};if(200===e.status)try{i.json=JSON.parse(e.responseText)}catch(t){}null==t.callback||t.callback(i)}},e.send(s)}}),null!=n&&n.sendBeacon&&un.push({transport:\"sendBeacon\",method:t=>{var i=on(t.url,{beacon:\"1\"});try{var e,{contentType:r,body:s}=null!==(e=ln(t))&&void 0!==e?e:{},o=\"string\"==typeof s?new Blob([s],{type:r}):s;n.sendBeacon(i,o)}catch(t){}}});var hn=function(t,i){if(!function(t){try{new RegExp(t)}catch(t){return!1}return!0}(i))return!1;try{return new RegExp(i).test(t)}catch(t){return!1}};function dn(t,i,e){return an({distinct_id:t,userPropertiesToSet:i,userPropertiesToSetOnce:e})}var vn={exact:(t,i)=>i.some((i=>t.some((t=>i===t)))),is_not:(t,i)=>i.every((i=>t.every((t=>i!==t)))),regex:(t,i)=>i.some((i=>t.some((t=>hn(i,t))))),not_regex:(t,i)=>i.every((i=>t.every((t=>!hn(i,t))))),icontains:(t,i)=>i.map(cn).some((i=>t.map(cn).some((t=>i.includes(t))))),not_icontains:(t,i)=>i.map(cn).every((i=>t.map(cn).every((t=>!i.includes(t)))))},cn=t=>t.toLowerCase(),fn=Tt(\"[Error tracking]\");class pn{constructor(t){var i,e;this.Jt=[],this.Kt=new ft([new pt,new Et,new _t,new gt,new $t,new xt,new yt,new St],[at,ht]),this._instance=t,this.Jt=null!==(i=null==(e=this._instance.persistence)?void 0:e.get_property(Xt))&&void 0!==i?i:[]}onRemoteConfig(t){var i,e,r,s=null!==(i=null==(e=t.errorTracking)?void 0:e.suppressionRules)&&void 0!==i?i:[],n=null==(r=t.errorTracking)?void 0:r.captureExtensionExceptions;this.Jt=s,this._instance.persistence&&this._instance.persistence.register({[Xt]:this.Jt,[Qt]:n})}get Yt(){var t,i=!!this._instance.get_property(Qt),e=this._instance.config.error_tracking.captureExtensionExceptions;return null!==(t=null!=e?e:i)&&void 0!==t&&t}buildProperties(t,i){return this.Kt.buildFromUnknown(t,{syntheticException:null==i?void 0:i.syntheticException,mechanism:{handled:null==i?void 0:i.handled}})}sendExceptionEvent(t){var i=t.$exception_list;if(this.Xt(i)){if(this.Qt(i))return void fn.info(\"Skipping exception capture because a suppression rule matched\");if(!this.Yt&&this.Zt(i))return void fn.info(\"Skipping exception capture because it was thrown by an extension\");if(!this._instance.config.error_tracking.__capturePostHogExceptions&&this.ti(i))return void fn.info(\"Skipping exception capture because it was thrown by the PostHog SDK\")}return this._instance.capture(\"$exception\",t,{_noTruncate:!0,_batchKey:\"exceptionEvent\"})}Qt(t){if(0===t.length)return!1;var i=t.reduce(((t,i)=>{var{type:e,value:r}=i;return M(e)&&e.length>0&&t.$exception_types.push(e),M(r)&&r.length>0&&t.$exception_values.push(r),t}),{$exception_types:[],$exception_values:[]});return this.Jt.some((t=>{var e=t.values.map((t=>{var e,r=vn[t.operator],s=I(t.value)?t.value:[t.value],n=null!==(e=i[t.key])&&void 0!==e?e:[];return s.length>0&&r(s,n)}));return\"OR\"===t.type?e.some(Boolean):e.every(Boolean)}))}Zt(t){return t.flatMap((t=>{var i,e;return null!==(i=null==(e=t.stacktrace)?void 0:e.frames)&&void 0!==i?i:[]})).some((t=>t.filename&&t.filename.startsWith(\"chrome-extension://\")))}ti(t){if(t.length>0){var i,e,r,s,n=null!==(i=null==(e=t[0].stacktrace)?void 0:e.frames)&&void 0!==i?i:[],o=n[n.length-1];return null!==(r=null==o||null==(s=o.filename)?void 0:s.includes(\"posthog.com/static\"))&&void 0!==r&&r}return!1}Xt(t){return!j(t)&&I(t)}}var gn=Tt(\"[FeatureFlags]\"),_n=\"$active_feature_flags\",mn=\"$override_feature_flags\",yn=\"$feature_flag_payloads\",bn=\"$override_feature_flag_payloads\",wn=\"$feature_flag_request_id\",xn=t=>{var i={};for(var[e,r]of Dt(t||{}))r&&(i[e]=r);return i},$n=t=>{var i=t.flags;return i?(t.featureFlags=Object.fromEntries(Object.keys(i).map((t=>{var e;return[t,null!==(e=i[t].variant)&&void 0!==e?e:i[t].enabled]}))),t.featureFlagPayloads=Object.fromEntries(Object.keys(i).filter((t=>i[t].enabled)).filter((t=>{var e;return null==(e=i[t].metadata)?void 0:e.payload})).map((t=>{var e;return[t,null==(e=i[t].metadata)?void 0:e.payload]})))):gn.warn(\"Using an older version of the feature flags endpoint. Please upgrade your PostHog server to the latest version\"),t},Sn=function(t){return t.FeatureFlags=\"feature_flags\",t.Recordings=\"recordings\",t}({});class En{constructor(t){this.ii=!1,this.ei=!1,this.ri=!1,this.si=!1,this.ni=!1,this.oi=!1,this.ai=!1,this._instance=t,this.featureFlagEventHandlers=[]}li(){var t=this._instance.config.evaluation_environments;return null!=t&&t.length?t.filter((t=>{var i=t&&\"string\"==typeof t&&t.trim().length>0;return i||gn.error(\"Invalid evaluation environment found:\",t,\"Expected non-empty string\"),i})):[]}ui(){return this.li().length>0}flags(){if(this._instance.config.__preview_remote_config)this.oi=!0;else{var t=!this.hi&&(this._instance.config.advanced_disable_feature_flags||this._instance.config.advanced_disable_feature_flags_on_first_load);this.di({disableFlags:t})}}get hasLoadedFlags(){return this.ei}getFlags(){return Object.keys(this.getFlagVariants())}getFlagsWithDetails(){var t=this._instance.get_property(ai),i=this._instance.get_property(mn),e=this._instance.get_property(bn);if(!e&&!i)return t||{};var r=Mt({},t||{}),s=[...new Set([...Object.keys(e||{}),...Object.keys(i||{})])];for(var n of s){var o,a,l=r[n],u=null==i?void 0:i[n],h=F(u)?null!==(o=null==l?void 0:l.enabled)&&void 0!==o&&o:!!u,d=F(u)?l.variant:\"string\"==typeof u?u:void 0,v=null==e?void 0:e[n],c=g({},l,{enabled:h,variant:h?null!=d?d:null==l?void 0:l.variant:void 0});if(h!==(null==l?void 0:l.enabled)&&(c.original_enabled=null==l?void 0:l.enabled),d!==(null==l?void 0:l.variant)&&(c.original_variant=null==l?void 0:l.variant),v)c.metadata=g({},null==l?void 0:l.metadata,{payload:v,original_payload:null==l||null==(a=l.metadata)?void 0:a.payload});r[n]=c}return this.ii||(gn.warn(\" Overriding feature flag details!\",{flagDetails:t,overriddenPayloads:e,finalDetails:r}),this.ii=!0),r}getFlagVariants(){var t=this._instance.get_property(ni),i=this._instance.get_property(mn);if(!i)return t||{};for(var e=Mt({},t),r=Object.keys(i),s=0;s<r.length;s++)e[r[s]]=i[r[s]];return this.ii||(gn.warn(\" Overriding feature flags!\",{enabledFlags:t,overriddenFlags:i,finalFlags:e}),this.ii=!0),e}getFlagPayloads(){var t=this._instance.get_property(yn),i=this._instance.get_property(bn);if(!i)return t||{};for(var e=Mt({},t||{}),r=Object.keys(i),s=0;s<r.length;s++)e[r[s]]=i[r[s]];return this.ii||(gn.warn(\" Overriding feature flag payloads!\",{flagPayloads:t,overriddenPayloads:i,finalPayloads:e}),this.ii=!0),e}reloadFeatureFlags(){this.si||this._instance.config.advanced_disable_feature_flags||this.hi||(this.hi=setTimeout((()=>{this.di()}),5))}vi(){clearTimeout(this.hi),this.hi=void 0}ensureFlagsLoaded(){this.ei||this.ri||this.hi||this.reloadFeatureFlags()}setAnonymousDistinctId(t){this.$anon_distinct_id=t}setReloadingPaused(t){this.si=t}di(t){var i;if(this.vi(),!this._instance.M())if(this.ri)this.ni=!0;else{var e={token:this._instance.config.token,distinct_id:this._instance.get_distinct_id(),groups:this._instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:g({},(null==(i=this._instance.persistence)?void 0:i.get_initial_props())||{},this._instance.get_property(li)||{}),group_properties:this._instance.get_property(ui)};(null!=t&&t.disableFlags||this._instance.config.advanced_disable_feature_flags)&&(e.disable_flags=!0),this.ui()&&(e.evaluation_environments=this.li());var r=this._instance.config.__preview_remote_config,s=r?\"/flags/?v=2\":\"/flags/?v=2&config=true\",n=this._instance.config.advanced_only_evaluate_survey_feature_flags?\"&only_evaluate_survey_feature_flags=true\":\"\",o=this._instance.requestRouter.endpointFor(\"flags\",s+n);r&&(e.timezone=vs()),this.ri=!0,this._instance.ci({method:\"POST\",url:o,data:e,compression:this._instance.config.disable_compression?void 0:re.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:t=>{var i,r,s=!0;(200===t.statusCode&&(this.ni||(this.$anon_distinct_id=void 0),s=!1),this.ri=!1,this.oi)||(this.oi=!0,this._instance.fi(null!==(r=t.json)&&void 0!==r?r:{}));if(!e.disable_flags||this.ni)if(this.ai=!s,t.json&&null!=(i=t.json.quotaLimited)&&i.includes(Sn.FeatureFlags))gn.warn(\"You have hit your feature flags quota limit, and will not be able to load feature flags until the quota is reset.  Please visit https://posthog.com/docs/billing/limits-alerts to learn more.\");else{var n;if(!e.disable_flags)this.receivedFeatureFlags(null!==(n=t.json)&&void 0!==n?n:{},s);this.ni&&(this.ni=!1,this.di())}}})}}getFeatureFlag(t,i){if(void 0===i&&(i={}),this.ei||this.getFlags()&&this.getFlags().length>0){var e=this.getFlagVariants()[t],r=\"\"+e,s=this._instance.get_property(wn)||void 0,n=this._instance.get_property(vi)||{};if((i.send_event||!(\"send_event\"in i))&&(!(t in n)||!n[t].includes(r))){var o,a,l,u,h,d,v,c,f;I(n[t])?n[t].push(r):n[t]=[r],null==(o=this._instance.persistence)||o.register({[vi]:n});var p=this.getFeatureFlagDetails(t),g={$feature_flag:t,$feature_flag_response:e,$feature_flag_payload:this.getFeatureFlagPayload(t)||null,$feature_flag_request_id:s,$feature_flag_bootstrapped_response:(null==(a=this._instance.config.bootstrap)||null==(a=a.featureFlags)?void 0:a[t])||null,$feature_flag_bootstrapped_payload:(null==(l=this._instance.config.bootstrap)||null==(l=l.featureFlagPayloads)?void 0:l[t])||null,$used_bootstrap_value:!this.ai};F(null==p||null==(u=p.metadata)?void 0:u.version)||(g.$feature_flag_version=p.metadata.version);var _,m=null!==(h=null==p||null==(d=p.reason)?void 0:d.description)&&void 0!==h?h:null==p||null==(v=p.reason)?void 0:v.code;if(m&&(g.$feature_flag_reason=m),null!=p&&null!=(c=p.metadata)&&c.id&&(g.$feature_flag_id=p.metadata.id),F(null==p?void 0:p.original_variant)&&F(null==p?void 0:p.original_enabled)||(g.$feature_flag_original_response=F(p.original_variant)?p.original_enabled:p.original_variant),null!=p&&null!=(f=p.metadata)&&f.original_payload)g.$feature_flag_original_payload=null==p||null==(_=p.metadata)?void 0:_.original_payload;this._instance.capture(\"$feature_flag_called\",g)}return e}gn.warn('getFeatureFlag for key \"'+t+\"\\\" failed. Feature flags didn't load in time.\")}getFeatureFlagDetails(t){return this.getFlagsWithDetails()[t]}getFeatureFlagPayload(t){return this.getFlagPayloads()[t]}getRemoteConfigPayload(t,i){var e=this._instance.config.token,r={distinct_id:this._instance.get_distinct_id(),token:e};this.ui()&&(r.evaluation_environments=this.li()),this._instance.ci({method:\"POST\",url:this._instance.requestRouter.endpointFor(\"flags\",\"/flags/?v=2&config=true\"),data:r,compression:this._instance.config.disable_compression?void 0:re.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:e=>{var r,s=null==(r=e.json)?void 0:r.featureFlagPayloads;i((null==s?void 0:s[t])||void 0)}})}isFeatureEnabled(t,i){if(void 0===i&&(i={}),this.ei||this.getFlags()&&this.getFlags().length>0){var e=this.getFeatureFlag(t,i);return F(e)?void 0:!!e}gn.warn('isFeatureEnabled for key \"'+t+\"\\\" failed. Feature flags didn't load in time.\")}addFeatureFlagsHandler(t){this.featureFlagEventHandlers.push(t)}removeFeatureFlagsHandler(t){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter((i=>i!==t))}receivedFeatureFlags(t,i){if(this._instance.persistence){this.ei=!0;var e=this.getFlagVariants(),r=this.getFlagPayloads(),s=this.getFlagsWithDetails();!function(t,i,e,r,s){void 0===e&&(e={}),void 0===r&&(r={}),void 0===s&&(s={});var n=$n(t),o=n.flags,a=n.featureFlags,l=n.featureFlagPayloads;if(a){var u=t.requestId;if(I(a)){gn.warn(\"v1 of the feature flags endpoint is deprecated. Please use the latest version.\");var h={};if(a)for(var d=0;d<a.length;d++)h[a[d]]=!0;i&&i.register({[_n]:a,[ni]:h})}else{var v=a,c=l,f=o;t.errorsWhileComputingFlags&&(v=g({},e,v),c=g({},r,c),f=g({},s,f)),i&&i.register(g({[_n]:Object.keys(xn(v)),[ni]:v||{},[yn]:c||{},[ai]:f||{}},u?{[wn]:u}:{}))}}}(t,this._instance.persistence,e,r,s),this.pi(i)}}override(t,i){void 0===i&&(i=!1),gn.warn(\"override is deprecated. Please use overrideFeatureFlags instead.\"),this.overrideFeatureFlags({flags:t,suppressWarning:i})}overrideFeatureFlags(t){if(!this._instance.__loaded||!this._instance.persistence)return gn.uninitializedWarning(\"posthog.featureFlags.overrideFeatureFlags\");if(!1===t)return this._instance.persistence.unregister(mn),this._instance.persistence.unregister(bn),void this.pi();if(t&&\"object\"==typeof t&&(\"flags\"in t||\"payloads\"in t)){var i,e=t;if(this.ii=Boolean(null!==(i=e.suppressWarning)&&void 0!==i&&i),\"flags\"in e)if(!1===e.flags)this._instance.persistence.unregister(mn);else if(e.flags)if(I(e.flags)){for(var r={},s=0;s<e.flags.length;s++)r[e.flags[s]]=!0;this._instance.persistence.register({[mn]:r})}else this._instance.persistence.register({[mn]:e.flags});return\"payloads\"in e&&(!1===e.payloads?this._instance.persistence.unregister(bn):e.payloads&&this._instance.persistence.register({[bn]:e.payloads})),void this.pi()}this.pi()}onFeatureFlags(t){if(this.addFeatureFlagsHandler(t),this.ei){var{flags:i,flagVariants:e}=this.gi();t(i,e)}return()=>this.removeFeatureFlagsHandler(t)}updateEarlyAccessFeatureEnrollment(t,i,e){var r,s=(this._instance.get_property(oi)||[]).find((i=>i.flagKey===t)),n={[\"$feature_enrollment/\"+t]:i},o={$feature_flag:t,$feature_enrollment:i,$set:n};s&&(o.$early_access_feature_name=s.name),e&&(o.$feature_enrollment_stage=e),this._instance.capture(\"$feature_enrollment_update\",o),this.setPersonPropertiesForFlags(n,!1);var a=g({},this.getFlagVariants(),{[t]:i});null==(r=this._instance.persistence)||r.register({[_n]:Object.keys(xn(a)),[ni]:a}),this.pi()}getEarlyAccessFeatures(t,i,e){void 0===i&&(i=!1);var r=this._instance.get_property(oi),s=e?\"&\"+e.map((t=>\"stage=\"+t)).join(\"&\"):\"\";if(r&&!i)return t(r);this._instance.ci({url:this._instance.requestRouter.endpointFor(\"api\",\"/api/early_access_features/?token=\"+this._instance.config.token+s),method:\"GET\",callback:i=>{var e,r;if(i.json){var s=i.json.earlyAccessFeatures;return null==(e=this._instance.persistence)||e.unregister(oi),null==(r=this._instance.persistence)||r.register({[oi]:s}),t(s)}}})}gi(){var t=this.getFlags(),i=this.getFlagVariants();return{flags:t.filter((t=>i[t])),flagVariants:Object.keys(i).filter((t=>i[t])).reduce(((t,e)=>(t[e]=i[e],t)),{})}}pi(t){var{flags:i,flagVariants:e}=this.gi();this.featureFlagEventHandlers.forEach((r=>r(i,e,{errorsLoading:t})))}setPersonPropertiesForFlags(t,i){void 0===i&&(i=!0);var e=this._instance.get_property(li)||{};this._instance.register({[li]:g({},e,t)}),i&&this._instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this._instance.unregister(li)}setGroupPropertiesForFlags(t,i){void 0===i&&(i=!0);var e=this._instance.get_property(ui)||{};0!==Object.keys(e).length&&Object.keys(e).forEach((i=>{e[i]=g({},e[i],t[i]),delete t[i]})),this._instance.register({[ui]:g({},e,t)}),i&&this._instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(t){if(t){var i=this._instance.get_property(ui)||{};this._instance.register({[ui]:g({},i,{[t]:{}})})}else this._instance.unregister(ui)}reset(){this.ei=!1,this.ri=!1,this.si=!1,this.ni=!1,this.oi=!1,this.ai=!1,this.$anon_distinct_id=void 0,this.vi(),this.ii=!1}}var kn=[\"cookie\",\"localstorage\",\"localstorage+cookie\",\"sessionstorage\",\"memory\"];class Pn{constructor(t,i){this.C=t,this.props={},this.mi=!1,this.yi=(t=>{var i=\"\";return t.token&&(i=t.token.replace(/\\+/g,\"PL\").replace(/\\//g,\"SL\").replace(/=/g,\"EQ\")),t.persistence_name?\"ph_\"+t.persistence_name:\"ph_\"+i+\"_posthog\"})(t),this.Y=this.bi(t),this.load(),t.debug&&Pt.info(\"Persistence loaded\",t.persistence,g({},this.props)),this.update_config(t,t,i),this.save()}isDisabled(){return!!this.wi}bi(t){-1===kn.indexOf(t.persistence.toLowerCase())&&(Pt.critical(\"Unknown persistence type \"+t.persistence+\"; falling back to localStorage+cookie\"),t.persistence=\"localStorage+cookie\");var i=t.persistence.toLowerCase();return\"localstorage\"===i&&Ie.H()?Ie:\"localstorage+cookie\"===i&&Ce.H()?Ce:\"sessionstorage\"===i&&Ae.H()?Ae:\"memory\"===i?Fe:\"cookie\"===i?Pe:Ce.H()?Ce:Pe}properties(){var t={};return Ft(this.props,(function(i,e){if(e===ni&&C(i))for(var r=Object.keys(i),n=0;n<r.length;n++)t[\"$feature/\"+r[n]]=i[r[n]];else a=e,l=!1,(D(o=xi)?l:s&&o.indexOf===s?-1!=o.indexOf(a):(Ft(o,(function(t){if(l||(l=t===a))return Ct})),l))||(t[e]=i);var o,a,l})),t}load(){if(!this.wi){var t=this.Y.W(this.yi);t&&(this.props=Mt({},t))}}save(){this.wi||this.Y.G(this.yi,this.props,this.xi,this.$i,this.Si,this.C.debug)}remove(){this.Y.V(this.yi,!1),this.Y.V(this.yi,!0)}clear(){this.remove(),this.props={}}register_once(t,i,e){if(C(t)){F(i)&&(i=\"None\"),this.xi=F(e)?this.Ei:e;var r=!1;if(Ft(t,((t,e)=>{this.props.hasOwnProperty(e)&&this.props[e]!==i||(this.props[e]=t,r=!0)})),r)return this.save(),!0}return!1}register(t,i){if(C(t)){this.xi=F(i)?this.Ei:i;var e=!1;if(Ft(t,((i,r)=>{t.hasOwnProperty(r)&&this.props[r]!==i&&(this.props[r]=i,e=!0)})),e)return this.save(),!0}return!1}unregister(t){t in this.props&&(delete this.props[t],this.save())}update_campaign_params(){if(!this.mi){var t=ns(this.C.custom_campaign_params,this.C.mask_personal_data_properties,this.C.custom_personal_data_properties);O(Nt(t))||this.register(t),this.mi=!0}}update_search_keyword(){var t;this.register((t=null==o?void 0:o.referrer)?as(t):{})}update_referrer_info(){var t;this.register_once({$referrer:us(),$referring_domain:null!=o&&o.referrer&&(null==(t=ne(o.referrer))?void 0:t.host)||\"$direct\"},void 0)}set_initial_person_info(){this.props[gi]||this.props[_i]||this.register_once({[mi]:hs(this.C.mask_personal_data_properties,this.C.custom_personal_data_properties)},void 0)}get_initial_props(){var t={};Ft([_i,gi],(i=>{var e=this.props[i];e&&Ft(e,(function(i,e){t[\"$initial_\"+S(e)]=i}))}));var i,e,r=this.props[mi];if(r){var s=(i=ds(r),e={},Ft(i,(function(t,i){e[\"$initial_\"+S(i)]=t})),e);Mt(t,s)}return t}safe_merge(t){return Ft(this.props,(function(i,e){e in t||(t[e]=i)})),t}update_config(t,i,e){if(this.Ei=this.xi=t.cookie_expiration,this.set_disabled(t.disable_persistence||!!e),this.set_cross_subdomain(t.cross_subdomain_cookie),this.set_secure(t.secure_cookie),t.persistence!==i.persistence){var r=this.bi(t),s=this.props;this.clear(),this.Y=r,this.props=s,this.save()}}set_disabled(t){this.wi=t,this.wi?this.remove():this.save()}set_cross_subdomain(t){t!==this.$i&&(this.$i=t,this.remove(),this.save())}set_secure(t){t!==this.Si&&(this.Si=t,this.remove(),this.save())}set_event_timer(t,i){var e=this.props[Vt]||{};e[t]=i,this.props[Vt]=e,this.save()}remove_event_timer(t){var i=(this.props[Vt]||{})[t];return F(i)||(delete this.props[Vt][t],this.save()),i}get_property(t){return this.props[t]}set_property(t,i){this.props[t]=i,this.save()}}var Tn=function(t){return t.Button=\"button\",t.Tab=\"tab\",t.Selector=\"selector\",t}({}),In=function(t){return t.TopLeft=\"top_left\",t.TopRight=\"top_right\",t.TopCenter=\"top_center\",t.MiddleLeft=\"middle_left\",t.MiddleRight=\"middle_right\",t.MiddleCenter=\"middle_center\",t.Left=\"left\",t.Center=\"center\",t.Right=\"right\",t.NextToTrigger=\"next_to_trigger\",t}({}),Rn=function(t){return t.Popover=\"popover\",t.API=\"api\",t.Widget=\"widget\",t.ExternalSurvey=\"external_survey\",t}({}),Cn=function(t){return t.Open=\"open\",t.MultipleChoice=\"multiple_choice\",t.SingleChoice=\"single_choice\",t.Rating=\"rating\",t.Link=\"link\",t}({}),On=function(t){return t.NextQuestion=\"next_question\",t.End=\"end\",t.ResponseBased=\"response_based\",t.SpecificQuestion=\"specific_question\",t}({}),Fn=function(t){return t.Once=\"once\",t.Recurring=\"recurring\",t.Always=\"always\",t}({}),Mn=function(t){return t.SHOWN=\"survey shown\",t.DISMISSED=\"survey dismissed\",t.SENT=\"survey sent\",t}({}),An=function(t){return t.SURVEY_ID=\"$survey_id\",t.SURVEY_NAME=\"$survey_name\",t.SURVEY_RESPONSE=\"$survey_response\",t.SURVEY_ITERATION=\"$survey_iteration\",t.SURVEY_ITERATION_START_DATE=\"$survey_iteration_start_date\",t.SURVEY_PARTIALLY_COMPLETED=\"$survey_partially_completed\",t.SURVEY_SUBMISSION_ID=\"$survey_submission_id\",t.SURVEY_QUESTIONS=\"$survey_questions\",t.SURVEY_COMPLETED=\"$survey_completed\",t}({}),Dn=function(t){return t.Popover=\"popover\",t.Inline=\"inline\",t}({});class jn{constructor(){this.ki={},this.ki={}}on(t,i){return this.ki[t]||(this.ki[t]=[]),this.ki[t].push(i),()=>{this.ki[t]=this.ki[t].filter((t=>t!==i))}}emit(t,i){for(var e of this.ki[t]||[])e(i);for(var r of this.ki[\"*\"]||[])r(t,i)}}class Ln{constructor(t){this.Pi=new jn,this.Ti=(t,i)=>this.Ii(t,i)&&this.Ri(t,i)&&this.Ci(t,i),this.Ii=(t,i)=>null==i||!i.event||(null==t?void 0:t.event)===(null==i?void 0:i.event),this._instance=t,this.Oi=new Set,this.Fi=new Set}init(){var t;if(!F(null==(t=this._instance)?void 0:t.Mi)){var i;null==(i=this._instance)||i.Mi(((t,i)=>{this.on(t,i)}))}}register(t){var i,e;if(!F(null==(i=this._instance)?void 0:i.Mi)&&(t.forEach((t=>{var i,e;null==(i=this.Fi)||i.add(t),null==(e=t.steps)||e.forEach((t=>{var i;null==(i=this.Oi)||i.add((null==t?void 0:t.event)||\"\")}))})),null!=(e=this._instance)&&e.autocapture)){var r,s=new Set;t.forEach((t=>{var i;null==(i=t.steps)||i.forEach((t=>{null!=t&&t.selector&&s.add(null==t?void 0:t.selector)}))})),null==(r=this._instance)||r.autocapture.setElementSelectors(s)}}on(t,i){var e;null!=i&&0!=t.length&&(this.Oi.has(t)||this.Oi.has(null==i?void 0:i.event))&&this.Fi&&(null==(e=this.Fi)?void 0:e.size)>0&&this.Fi.forEach((t=>{this.Ai(i,t)&&this.Pi.emit(\"actionCaptured\",t.name)}))}Di(t){this.onAction(\"actionCaptured\",(i=>t(i)))}Ai(t,i){if(null==(null==i?void 0:i.steps))return!1;for(var e of i.steps)if(this.Ti(t,e))return!0;return!1}onAction(t,i){return this.Pi.on(t,i)}Ri(t,i){if(null!=i&&i.url){var e,r=null==t||null==(e=t.properties)?void 0:e.$current_url;if(!r||\"string\"!=typeof r)return!1;if(!Ln.ji(r,null==i?void 0:i.url,(null==i?void 0:i.url_matching)||\"contains\"))return!1}return!0}static ji(i,e,r){switch(r){case\"regex\":return!!t&&hn(i,e);case\"exact\":return e===i;case\"contains\":var s=Ln.Li(e).replace(/_/g,\".\").replace(/%/g,\".*\");return hn(i,s);default:return!1}}static Li(t){return t.replace(/[|\\\\{}()[\\]^$+*?.]/g,\"\\\\$&\").replace(/-/g,\"\\\\x2d\")}Ci(t,i){if((null!=i&&i.href||null!=i&&i.tag_name||null!=i&&i.text)&&!this.Ni(t).some((t=>!(null!=i&&i.href&&!Ln.ji(t.href||\"\",null==i?void 0:i.href,(null==i?void 0:i.href_matching)||\"exact\"))&&((null==i||!i.tag_name||t.tag_name===(null==i?void 0:i.tag_name))&&!(null!=i&&i.text&&!Ln.ji(t.text||\"\",null==i?void 0:i.text,(null==i?void 0:i.text_matching)||\"exact\")&&!Ln.ji(t.$el_text||\"\",null==i?void 0:i.text,(null==i?void 0:i.text_matching)||\"exact\"))))))return!1;if(null!=i&&i.selector){var e,r=null==t||null==(e=t.properties)?void 0:e.$element_selectors;if(!r)return!1;if(!r.includes(null==i?void 0:i.selector))return!1}return!0}Ni(t){return null==(null==t?void 0:t.properties.$elements)?[]:null==t?void 0:t.properties.$elements}}var Nn=Tt(\"[Surveys]\");var Un=\"seenSurvey_\",zn=(t,i)=>{var e=\"$survey_\"+i+\"/\"+t.id;return t.current_iteration&&t.current_iteration>0&&(e=\"$survey_\"+i+\"/\"+t.id+\"/\"+t.current_iteration),e},Hn=t=>{var i=\"\"+Un+t.id;return t.current_iteration&&t.current_iteration>0&&(i=\"\"+Un+t.id+\"_\"+t.current_iteration),i},Bn=[Rn.Popover,Rn.Widget,Rn.API],qn={ignoreConditions:!1,ignoreDelay:!1,displayType:Dn.Popover};class Wn{constructor(t){this._instance=t,this.Ui=new Map,this.zi=new Map}register(t){var i;F(null==(i=this._instance)?void 0:i.Mi)||(this.Hi(t),this.Bi(t))}Bi(t){var i=t.filter((t=>{var i,e;return(null==(i=t.conditions)?void 0:i.actions)&&(null==(e=t.conditions)||null==(e=e.actions)||null==(e=e.values)?void 0:e.length)>0}));if(0!==i.length){if(null==this.qi){this.qi=new Ln(this._instance),this.qi.init();this.qi.Di((t=>{this.onAction(t)}))}i.forEach((t=>{var i,e,r,s,n;t.conditions&&null!=(i=t.conditions)&&i.actions&&null!=(e=t.conditions)&&null!=(e=e.actions)&&e.values&&(null==(r=t.conditions)||null==(r=r.actions)||null==(r=r.values)?void 0:r.length)>0&&(null==(s=this.qi)||s.register(t.conditions.actions.values),null==(n=t.conditions)||null==(n=n.actions)||null==(n=n.values)||n.forEach((i=>{if(i&&i.name){var e=this.zi.get(i.name);e&&e.push(t.id),this.zi.set(i.name,e||[t.id])}})))}))}}Hi(t){var i;if(0!==t.filter((t=>{var i,e;return(null==(i=t.conditions)?void 0:i.events)&&(null==(e=t.conditions)||null==(e=e.events)||null==(e=e.values)?void 0:e.length)>0})).length){null==(i=this._instance)||i.Mi(((t,i)=>{this.onEvent(t,i)})),t.forEach((t=>{var i;null==(i=t.conditions)||null==(i=i.events)||null==(i=i.values)||i.forEach((i=>{if(i&&i.name){var e=this.Ui.get(i.name);e&&e.push(t.id),this.Ui.set(i.name,e||[t.id])}}))}))}}onEvent(t,i){var e,r,s=(null==(e=this._instance)||null==(e=e.persistence)?void 0:e.props[di])||[];if(Mn.SHOWN===t&&i&&s.length>0){var n;Nn.info(\"survey event matched, removing survey from activated surveys\",{event:t,eventPayload:i,existingActivatedSurveys:s});var o=null==i||null==(n=i.properties)?void 0:n.$survey_id;if(o){var a=s.indexOf(o);a>=0&&(s.splice(a,1),this.Wi(s))}}else if(this.Ui.has(t)){Nn.info(\"survey event name matched\",{event:t,eventPayload:i,surveys:this.Ui.get(t)});var l=[];null==(r=this._instance)||r.getSurveys((i=>{l=i.filter((i=>{var e;return null==(e=this.Ui.get(t))?void 0:e.includes(i.id)}))}));var u=l.filter((e=>{var r,s=null==(r=e.conditions)||null==(r=r.events)||null==(r=r.values)?void 0:r.find((i=>i.name===t));return!!s&&(!s.propertyFilters||Object.entries(s.propertyFilters).every((t=>{var e,[r,s]=t,n=null==i||null==(e=i.properties)?void 0:e[r];if(F(n)||D(n))return!1;var o=[String(n)],a=vn[s.operator];return a?a(s.values,o):(Nn.warn(\"Unknown property comparison operator: \"+s.operator),!1)})))}));this.Wi(s.concat(u.map((t=>t.id))||[]))}}onAction(t){var i,e=(null==(i=this._instance)||null==(i=i.persistence)?void 0:i.props[di])||[];this.zi.has(t)&&this.Wi(e.concat(this.zi.get(t)||[]))}Wi(t){var i;Nn.info(\"updating activated surveys\",{activatedSurveys:t}),null==(i=this._instance)||null==(i=i.persistence)||i.register({[di]:[...new Set(t)]})}getSurveys(){var t,i=null==(t=this._instance)||null==(t=t.persistence)?void 0:t.props[di];return i||[]}getEventToSurveys(){return this.Ui}Gi(){return this.qi}}class Gn{constructor(t){this.Vi=void 0,this._surveyManager=null,this.Ji=!1,this.Ki=!1,this.Yi=[],this._instance=t,this._surveyEventReceiver=null}onRemoteConfig(t){if(!this._instance.config.disable_surveys){var i=t.surveys;if(j(i))return Nn.warn(\"Flags not loaded yet. Not loading surveys.\");var e=I(i);this.Vi=e?i.length>0:i,Nn.info(\"flags response received, isSurveysEnabled: \"+this.Vi),this.loadIfEnabled()}}reset(){localStorage.removeItem(\"lastSeenSurveyDate\");for(var t=[],i=0;i<localStorage.length;i++){var e=localStorage.key(i);(null!=e&&e.startsWith(Un)||null!=e&&e.startsWith(\"inProgressSurvey_\"))&&t.push(e)}t.forEach((t=>localStorage.removeItem(t)))}loadIfEnabled(){if(!this._surveyManager)if(this.Ki)Nn.info(\"Already initializing surveys, skipping...\");else if(this._instance.config.disable_surveys)Nn.info(\"Disabled. Not loading surveys.\");else if(this._instance.config.cookieless_mode&&this._instance.consent.isOptedOut())Nn.info(\"Not loading surveys in cookieless mode without consent.\");else{var t=null==v?void 0:v.__PosthogExtensions__;if(t){if(!F(this.Vi)||this._instance.config.advanced_enable_surveys){var i=this.Vi||this._instance.config.advanced_enable_surveys;this.Ki=!0;try{var e=t.generateSurveys;if(e)return void this.Xi(e,i);var r=t.loadExternalDependency;if(!r)return void this.Qi(\"PostHog loadExternalDependency extension not found.\");r(this._instance,\"surveys\",(e=>{e||!t.generateSurveys?this.Qi(\"Could not load surveys script\",e):this.Xi(t.generateSurveys,i)}))}catch(t){throw this.Qi(\"Error initializing surveys\",t),t}finally{this.Ki=!1}}}else Nn.error(\"PostHog Extensions not found.\")}}Xi(t,i){this._surveyManager=t(this._instance,i),this._surveyEventReceiver=new Wn(this._instance),Nn.info(\"Surveys loaded successfully\"),this.Zi({isLoaded:!0})}Qi(t,i){Nn.error(t,i),this.Zi({isLoaded:!1,error:t})}onSurveysLoaded(t){return this.Yi.push(t),this._surveyManager&&this.Zi({isLoaded:!0}),()=>{this.Yi=this.Yi.filter((i=>i!==t))}}getSurveys(t,i){if(void 0===i&&(i=!1),this._instance.config.disable_surveys)return Nn.info(\"Disabled. Not loading surveys.\"),t([]);var e=this._instance.get_property(hi);if(e&&!i)return t(e,{isLoaded:!0});if(this.Ji)return t([],{isLoaded:!1,error:\"Surveys are already being loaded\"});try{this.Ji=!0,this._instance.ci({url:this._instance.requestRouter.endpointFor(\"api\",\"/api/surveys/?token=\"+this._instance.config.token),method:\"GET\",timeout:this._instance.config.surveys_request_timeout_ms,callback:i=>{var e;this.Ji=!1;var r=i.statusCode;if(200!==r||!i.json){var s=\"Surveys API could not be loaded, status: \"+r;return Nn.error(s),t([],{isLoaded:!1,error:s})}var n,o=i.json.surveys||[],a=o.filter((t=>function(t){return!(!t.start_date||t.end_date)}(t)&&(function(t){var i;return!(null==(i=t.conditions)||null==(i=i.events)||null==(i=i.values)||!i.length)}(t)||function(t){var i;return!(null==(i=t.conditions)||null==(i=i.actions)||null==(i=i.values)||!i.length)}(t))));a.length>0&&(null==(n=this._surveyEventReceiver)||n.register(a));return null==(e=this._instance.persistence)||e.register({[hi]:o}),t(o,{isLoaded:!0})}})}catch(t){throw this.Ji=!1,t}}Zi(t){for(var i of this.Yi)try{if(!t.isLoaded)return i([],t);this.getSurveys(i)}catch(t){Nn.error(\"Error in survey callback\",t)}}getActiveMatchingSurveys(t,i){if(void 0===i&&(i=!1),!j(this._surveyManager))return this._surveyManager.getActiveMatchingSurveys(t,i);Nn.warn(\"init was not called\")}te(t){var i=null;return this.getSurveys((e=>{var r;i=null!==(r=e.find((i=>i.id===t)))&&void 0!==r?r:null})),i}ie(t){if(j(this._surveyManager))return{eligible:!1,reason:\"SDK is not enabled or survey functionality is not yet loaded\"};var i=\"string\"==typeof t?this.te(t):t;return i?this._surveyManager.checkSurveyEligibility(i):{eligible:!1,reason:\"Survey not found\"}}canRenderSurvey(t){if(j(this._surveyManager))return Nn.warn(\"init was not called\"),{visible:!1,disabledReason:\"SDK is not enabled or survey functionality is not yet loaded\"};var i=this.ie(t);return{visible:i.eligible,disabledReason:i.reason}}canRenderSurveyAsync(t,i){return j(this._surveyManager)?(Nn.warn(\"init was not called\"),Promise.resolve({visible:!1,disabledReason:\"SDK is not enabled or survey functionality is not yet loaded\"})):new Promise((e=>{this.getSurveys((i=>{var r,s=null!==(r=i.find((i=>i.id===t)))&&void 0!==r?r:null;if(s){var n=this.ie(s);e({visible:n.eligible,disabledReason:n.reason})}else e({visible:!1,disabledReason:\"Survey not found\"})}),i)}))}renderSurvey(t,i){var e;if(j(this._surveyManager))Nn.warn(\"init was not called\");else{var r=\"string\"==typeof t?this.te(t):t;if(null!=r&&r.id)if(Bn.includes(r.type)){var s=null==o?void 0:o.querySelector(i);if(s)return null!=(e=r.appearance)&&e.surveyPopupDelaySeconds?(Nn.info(\"Rendering survey \"+r.id+\" with delay of \"+r.appearance.surveyPopupDelaySeconds+\" seconds\"),void setTimeout((()=>{var t,i;Nn.info(\"Rendering survey \"+r.id+\" with delay of \"+(null==(t=r.appearance)?void 0:t.surveyPopupDelaySeconds)+\" seconds\"),null==(i=this._surveyManager)||i.renderSurvey(r,s),Nn.info(\"Survey \"+r.id+\" rendered\")}),1e3*r.appearance.surveyPopupDelaySeconds)):void this._surveyManager.renderSurvey(r,s);Nn.warn(\"Survey element not found\")}else Nn.warn(\"Surveys of type \"+r.type+\" cannot be rendered in the app\");else Nn.warn(\"Survey not found\")}}displaySurvey(t,i){var e;if(j(this._surveyManager))Nn.warn(\"init was not called\");else{var r=this.te(t);if(r){var s=r;if(null!=(e=r.appearance)&&e.surveyPopupDelaySeconds&&i.ignoreDelay&&(s=g({},r,{appearance:g({},r.appearance,{surveyPopupDelaySeconds:0})})),!1===i.ignoreConditions){var n=this.canRenderSurvey(r);if(!n.visible)return void Nn.warn(\"Survey is not eligible to be displayed: \",n.disabledReason)}i.displayType!==Dn.Inline?this._surveyManager.handlePopoverSurvey(s):this.renderSurvey(s,i.selector)}else Nn.warn(\"Survey not found\")}}}var Vn=Tt(\"[RateLimiter]\");class Jn{constructor(t){var i,e;this.serverLimits={},this.lastEventRateLimited=!1,this.checkForLimiting=t=>{var i=t.text;if(i&&i.length)try{(JSON.parse(i).quota_limited||[]).forEach((t=>{Vn.info((t||\"events\")+\" is quota limited.\"),this.serverLimits[t]=(new Date).getTime()+6e4}))}catch(t){return void Vn.warn('could not rate limit - continuing. Error: \"'+(null==t?void 0:t.message)+'\"',{text:i})}},this.instance=t,this.captureEventsPerSecond=(null==(i=t.config.rate_limiting)?void 0:i.events_per_second)||10,this.captureEventsBurstLimit=Math.max((null==(e=t.config.rate_limiting)?void 0:e.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(t){var i,e,r;void 0===t&&(t=!1);var s=(new Date).getTime(),n=null!==(i=null==(e=this.instance.persistence)?void 0:e.get_property(pi))&&void 0!==i?i:{tokens:this.captureEventsBurstLimit,last:s};n.tokens+=(s-n.last)/1e3*this.captureEventsPerSecond,n.last=s,n.tokens>this.captureEventsBurstLimit&&(n.tokens=this.captureEventsBurstLimit);var o=n.tokens<1;return o||t||(n.tokens=Math.max(0,n.tokens-1)),!o||this.lastEventRateLimited||t||this.instance.capture(\"$$client_ingestion_warning\",{$$client_ingestion_warning_message:\"posthog-js client rate limited. Config is set to \"+this.captureEventsPerSecond+\" events per second and \"+this.captureEventsBurstLimit+\" events burst limit.\"},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=o,null==(r=this.instance.persistence)||r.set_property(pi,n),{isRateLimited:o,remainingTokens:n.tokens}}isServerRateLimited(t){var i=this.serverLimits[t||\"events\"]||!1;return!1!==i&&(new Date).getTime()<i}}var Kn=Tt(\"[RemoteConfig]\");class Yn{constructor(t){this._instance=t}get remoteConfig(){var t;return null==(t=v._POSTHOG_REMOTE_CONFIG)||null==(t=t[this._instance.config.token])?void 0:t.config}ee(t){var i,e;null!=(i=v.__PosthogExtensions__)&&i.loadExternalDependency?null==(e=v.__PosthogExtensions__)||null==e.loadExternalDependency||e.loadExternalDependency(this._instance,\"remote-config\",(()=>t(this.remoteConfig))):(Kn.error(\"PostHog Extensions not found. Cannot load remote config.\"),t())}re(t){this._instance.ci({method:\"GET\",url:this._instance.requestRouter.endpointFor(\"assets\",\"/array/\"+this._instance.config.token+\"/config\"),callback:i=>{t(i.json)}})}load(){try{if(this.remoteConfig)return Kn.info(\"Using preloaded remote config\",this.remoteConfig),void this.fi(this.remoteConfig);if(this._instance.M())return void Kn.warn(\"Remote config is disabled. Falling back to local config.\");this.ee((t=>{if(!t)return Kn.info(\"No config found after loading remote JS config. Falling back to JSON.\"),void this.re((t=>{this.fi(t)}));this.fi(t)}))}catch(t){Kn.error(\"Error loading remote config\",t)}}fi(t){t?this._instance.config.__preview_remote_config?(this._instance.fi(t),!1!==t.hasFeatureFlags&&this._instance.featureFlags.ensureFlagsLoaded()):Kn.info(\"__preview_remote_config is disabled. Logging config instead\",t):Kn.error(\"Failed to fetch remote config from PostHog.\")}}var Xn=3e3;class Qn{constructor(t,i){this.se=!0,this.ne=[],this.oe=J((null==i?void 0:i.flush_interval_ms)||Xn,250,5e3,Pt.createLogger(\"flush interval\"),Xn),this.ae=t}enqueue(t){this.ne.push(t),this.le||this.ue()}unload(){this.he();var t=this.ne.length>0?this.de():{},i=Object.values(t);[...i.filter((t=>0===t.url.indexOf(\"/e\"))),...i.filter((t=>0!==t.url.indexOf(\"/e\")))].map((t=>{this.ae(g({},t,{transport:\"sendBeacon\"}))}))}enable(){this.se=!1,this.ue()}ue(){var t=this;this.se||(this.le=setTimeout((()=>{if(this.he(),this.ne.length>0){var i=this.de(),e=function(){var e=i[r],s=(new Date).getTime();e.data&&I(e.data)&&Ft(e.data,(t=>{t.offset=Math.abs(t.timestamp-s),delete t.timestamp})),t.ae(e)};for(var r in i)e()}}),this.oe))}he(){clearTimeout(this.le),this.le=void 0}de(){var t={};return Ft(this.ne,(i=>{var e,r=i,s=(r?r.batchKey:null)||r.url;F(t[s])&&(t[s]=g({},r,{data:[]})),null==(e=t[s].data)||e.push(r.data)})),this.ne=[],t}}var Zn=[\"retriesPerformedSoFar\"];class to{constructor(i){this.ve=!1,this.ce=3e3,this.ne=[],this._instance=i,this.ne=[],this.fe=!0,!F(t)&&\"onLine\"in t.navigator&&(this.fe=t.navigator.onLine,this.pe=()=>{this.fe=!0,this.Dt()},this.ge=()=>{this.fe=!1},qt(t,\"online\",this.pe),qt(t,\"offline\",this.ge))}get length(){return this.ne.length}retriableRequest(t){var{retriesPerformedSoFar:i}=t,e=_(t,Zn);L(i)&&i>0&&(e.url=on(e.url,{retry_count:i})),this._instance.ci(g({},e,{callback:t=>{200!==t.statusCode&&(t.statusCode<400||t.statusCode>=500)&&(null!=i?i:0)<10?this._e(g({retriesPerformedSoFar:i},e)):null==e.callback||e.callback(t)}}))}_e(t){var i=t.retriesPerformedSoFar||0;t.retriesPerformedSoFar=i+1;var e=function(t){var i=3e3*Math.pow(2,t),e=i/2,r=Math.min(18e5,i),s=(Math.random()-.5)*(r-e);return Math.ceil(r+s)}(i),r=Date.now()+e;this.ne.push({retryAt:r,requestOptions:t});var s=\"Enqueued failed request for retry in \"+e;navigator.onLine||(s+=\" (Browser is offline)\"),Pt.warn(s),this.ve||(this.ve=!0,this.me())}me(){if(this.ye&&clearTimeout(this.ye),0===this.ne.length)return this.ve=!1,void(this.ye=void 0);this.ye=setTimeout((()=>{this.fe&&this.ne.length>0&&this.Dt(),this.me()}),this.ce)}Dt(){var t=Date.now(),i=[],e=this.ne.filter((e=>e.retryAt<t||(i.push(e),!1)));if(this.ne=i,e.length>0)for(var{requestOptions:r}of e)this.retriableRequest(r)}unload(){for(var{requestOptions:i}of(this.ye&&(clearTimeout(this.ye),this.ye=void 0),this.ve=!1,F(t)||(this.pe&&(t.removeEventListener(\"online\",this.pe),this.pe=void 0),this.ge&&(t.removeEventListener(\"offline\",this.ge),this.ge=void 0)),this.ne))try{this._instance.ci(g({},i,{transport:\"sendBeacon\"}))}catch(t){Pt.error(t)}this.ne=[]}}class io{constructor(t){this.be=()=>{var t,i,e,r;this.we||(this.we={});var s=this.scrollElement(),n=this.scrollY(),o=s?Math.max(0,s.scrollHeight-s.clientHeight):0,a=n+((null==s?void 0:s.clientHeight)||0),l=(null==s?void 0:s.scrollHeight)||0;this.we.lastScrollY=Math.ceil(n),this.we.maxScrollY=Math.max(n,null!==(t=this.we.maxScrollY)&&void 0!==t?t:0),this.we.maxScrollHeight=Math.max(o,null!==(i=this.we.maxScrollHeight)&&void 0!==i?i:0),this.we.lastContentY=a,this.we.maxContentY=Math.max(a,null!==(e=this.we.maxContentY)&&void 0!==e?e:0),this.we.maxContentHeight=Math.max(l,null!==(r=this.we.maxContentHeight)&&void 0!==r?r:0)},this._instance=t}getContext(){return this.we}resetContext(){var t=this.we;return setTimeout(this.be,0),t}startMeasuringScrollPosition(){qt(t,\"scroll\",this.be,{capture:!0}),qt(t,\"scrollend\",this.be,{capture:!0}),qt(t,\"resize\",this.be)}scrollElement(){if(!this._instance.config.scroll_root_selector)return null==t?void 0:t.document.documentElement;var i=I(this._instance.config.scroll_root_selector)?this._instance.config.scroll_root_selector:[this._instance.config.scroll_root_selector];for(var e of i){var r=null==t?void 0:t.document.querySelector(e);if(r)return r}}scrollY(){if(this._instance.config.scroll_root_selector){var i=this.scrollElement();return i&&i.scrollTop||0}return t&&(t.scrollY||t.pageYOffset||t.document.documentElement.scrollTop)||0}scrollX(){if(this._instance.config.scroll_root_selector){var i=this.scrollElement();return i&&i.scrollLeft||0}return t&&(t.scrollX||t.pageXOffset||t.document.documentElement.scrollLeft)||0}}var eo=t=>hs(null==t?void 0:t.config.mask_personal_data_properties,null==t?void 0:t.config.custom_personal_data_properties);class ro{constructor(t,i,e,r){this.xe=t=>{var i=this.$e();if(!i||i.sessionId!==t){var e={sessionId:t,props:this.Se(this._instance)};this.Ee.register({[fi]:e})}},this._instance=t,this.ke=i,this.Ee=e,this.Se=r||eo,this.ke.onSessionId(this.xe)}$e(){return this.Ee.props[fi]}getSetOnceProps(){var t,i=null==(t=this.$e())?void 0:t.props;return i?\"r\"in i?ds(i):{$referring_domain:i.referringDomain,$pathname:i.initialPathName,utm_source:i.utm_source,utm_campaign:i.utm_campaign,utm_medium:i.utm_medium,utm_content:i.utm_content,utm_term:i.utm_term}:{}}getSessionProps(){var t={};return Ft(Nt(this.getSetOnceProps()),((i,e)=>{\"$current_url\"===e&&(e=\"url\"),t[\"$session_entry_\"+S(e)]=i})),t}}var so=Tt(\"[SessionId]\");class no{on(t,i){return this.Pe.on(t,i)}constructor(t,i,e){var r;if(this.Te=[],this.Ie=void 0,this.Pe=new jn,this.Re=(t,i)=>Math.abs(t-i)>this.sessionTimeoutMs,!t.persistence)throw new Error(\"SessionIdManager requires a PostHogPersistence instance\");if(\"always\"===t.config.cookieless_mode)throw new Error('SessionIdManager cannot be used with cookieless_mode=\"always\"');this.C=t.config,this.Ee=t.persistence,this.Ce=void 0,this.Oe=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this.Fe=i||xe,this.Me=e||xe;var s=this.C.persistence_name||this.C.token,n=this.C.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*J(n,60,36e3,so.createLogger(\"session_idle_timeout_seconds\"),1800),t.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this.Ae(),this.De=\"ph_\"+s+\"_window_id\",this.je=\"ph_\"+s+\"_primary_window_exists\",this.Le()){var o=Ae.W(this.De),a=Ae.W(this.je);o&&!a?this.Ce=o:Ae.V(this.De),Ae.G(this.je,!0)}if(null!=(r=this.C.bootstrap)&&r.sessionID)try{var l=(t=>{var i=t.replace(/-/g,\"\");if(32!==i.length)throw new Error(\"Not a valid UUID\");if(\"7\"!==i[12])throw new Error(\"Not a UUIDv7\");return parseInt(i.substring(0,12),16)})(this.C.bootstrap.sessionID);this.Ne(this.C.bootstrap.sessionID,(new Date).getTime(),l)}catch(t){so.error(\"Invalid sessionID in bootstrap\",t)}this.Ue()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(t){return F(this.Te)&&(this.Te=[]),this.Te.push(t),this.Oe&&t(this.Oe,this.Ce),()=>{this.Te=this.Te.filter((i=>i!==t))}}Le(){return\"memory\"!==this.C.persistence&&!this.Ee.wi&&Ae.H()}ze(t){t!==this.Ce&&(this.Ce=t,this.Le()&&Ae.G(this.De,t))}He(){return this.Ce?this.Ce:this.Le()?Ae.W(this.De):null}Ne(t,i,e){t===this.Oe&&i===this._sessionActivityTimestamp&&e===this._sessionStartTimestamp||(this._sessionStartTimestamp=e,this._sessionActivityTimestamp=i,this.Oe=t,this.Ee.register({[ri]:[i,t,e]}))}Be(){if(this.Oe&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this.Oe,this._sessionStartTimestamp];var t=this.Ee.props[ri];return I(t)&&2===t.length&&t.push(t[0]),t||[0,null,0]}resetSessionId(){this.Ne(null,null,null)}destroy(){clearTimeout(this.qe),this.qe=void 0,this.Ie&&t&&(t.removeEventListener(\"beforeunload\",this.Ie,{capture:!1}),this.Ie=void 0),this.Te=[]}Ue(){this.Ie=()=>{this.Le()&&Ae.V(this.je)},qt(t,\"beforeunload\",this.Ie,{capture:!1})}checkAndGetSessionAndWindowId(t,i){if(void 0===t&&(t=!1),void 0===i&&(i=null),\"always\"===this.C.cookieless_mode)throw new Error('checkAndGetSessionAndWindowId should not be called with cookieless_mode=\"always\"');var e=i||(new Date).getTime(),[r,s,n]=this.Be(),o=this.He(),a=L(n)&&n>0&&Math.abs(e-n)>864e5,l=!1,u=!s,h=!u&&!t&&this.Re(e,r);u||h||a?(s=this.Fe(),o=this.Me(),so.info(\"new session ID generated\",{sessionId:s,windowId:o,changeReason:{noSessionId:u,activityTimeout:h,sessionPastMaximumLength:a}}),n=e,l=!0):o||(o=this.Me(),l=!0);var d=0===r||!t||a?e:r,v=0===n?(new Date).getTime():n;return this.ze(o),this.Ne(s,d,v),t||this.Ae(),l&&this.Te.forEach((t=>t(s,o,l?{noSessionId:u,activityTimeout:h,sessionPastMaximumLength:a}:void 0))),{sessionId:s,windowId:o,sessionStartTimestamp:v,changeReason:l?{noSessionId:u,activityTimeout:h,sessionPastMaximumLength:a}:void 0,lastActivityTimestamp:r}}Ae(){clearTimeout(this.qe),this.qe=setTimeout((()=>{var[t]=this.Be();if(this.Re((new Date).getTime(),t)){var i=this.Oe;this.resetSessionId(),this.Pe.emit(\"forcedIdleReset\",{idleSessionId:i})}}),1.1*this.sessionTimeoutMs)}}var oo=[\"$set_once\",\"$set\"],ao=Tt(\"[SiteApps]\");class lo{constructor(t){this._instance=t,this.We=[],this.apps={}}get isEnabled(){return!!this._instance.config.opt_in_site_apps}Ge(t,i){if(i){var e=this.globalsForEvent(i);this.We.push(e),this.We.length>1e3&&(this.We=this.We.slice(10))}}get siteAppLoaders(){var t;return null==(t=v._POSTHOG_REMOTE_CONFIG)||null==(t=t[this._instance.config.token])?void 0:t.siteApps}init(){if(this.isEnabled){var t=this._instance.Mi(this.Ge.bind(this));this.Ve=()=>{t(),this.We=[],this.Ve=void 0}}}globalsForEvent(t){var i,e,r,s,n,o,a;if(!t)throw new Error(\"Event payload is required\");var l={},u=this._instance.get_property(\"$groups\")||[],h=this._instance.get_property(\"$stored_group_properties\")||{};for(var[d,v]of Object.entries(h))l[d]={id:u[d],type:d,properties:v};var{$set_once:c,$set:f}=t;return{event:g({},_(t,oo),{properties:g({},t.properties,f?{$set:g({},null!==(i=null==(e=t.properties)?void 0:e.$set)&&void 0!==i?i:{},f)}:{},c?{$set_once:g({},null!==(r=null==(s=t.properties)?void 0:s.$set_once)&&void 0!==r?r:{},c)}:{}),elements_chain:null!==(n=null==(o=t.properties)?void 0:o.$elements_chain)&&void 0!==n?n:\"\",distinct_id:null==(a=t.properties)?void 0:a.distinct_id}),person:{properties:this._instance.get_property(\"$stored_person_properties\")},groups:l}}setupSiteApp(t){var i=this.apps[t.id],e=()=>{var e;(!i.errored&&this.We.length&&(ao.info(\"Processing \"+this.We.length+\" events for site app with id \"+t.id),this.We.forEach((t=>null==i.processEvent?void 0:i.processEvent(t))),i.processedBuffer=!0),Object.values(this.apps).every((t=>t.processedBuffer||t.errored)))&&(null==(e=this.Ve)||e.call(this))},r=!1,s=s=>{i.errored=!s,i.loaded=!0,ao.info(\"Site app with id \"+t.id+\" \"+(s?\"loaded\":\"errored\")),r&&e()};try{var{processEvent:n}=t.init({posthog:this._instance,callback:t=>{s(t)}});n&&(i.processEvent=n),r=!0}catch(i){ao.error(\"Error while initializing PostHog app with config id \"+t.id,i),s(!1)}if(r&&i.loaded)try{e()}catch(e){ao.error(\"Error while processing buffered events PostHog app with config id \"+t.id,e),i.errored=!0}}Je(){var t=this.siteAppLoaders||[];for(var i of t)this.apps[i.id]={id:i.id,loaded:!1,errored:!1,processedBuffer:!1};for(var e of t)this.setupSiteApp(e)}Ke(t){if(0!==Object.keys(this.apps).length){var i=this.globalsForEvent(t);for(var e of Object.values(this.apps))try{null==e.processEvent||e.processEvent(i)}catch(i){ao.error(\"Error while processing event \"+t.event+\" for site app \"+e.id,i)}}}onRemoteConfig(t){var i,e,r,s=this;if(null!=(i=this.siteAppLoaders)&&i.length)return this.isEnabled?(this.Je(),void this._instance.on(\"eventCaptured\",(t=>this.Ke(t)))):void ao.error('PostHog site apps are disabled. Enable the \"opt_in_site_apps\" config to proceed.');if(null==(e=this.Ve)||e.call(this),null!=(r=t.siteApps)&&r.length)if(this.isEnabled){var n=function(t){var i;v[\"__$$ph_site_app_\"+t]=s._instance,null==(i=v.__PosthogExtensions__)||null==i.loadSiteApp||i.loadSiteApp(s._instance,a,(i=>{if(i)return ao.error(\"Error while initializing PostHog app with config id \"+t,i)}))};for(var{id:o,url:a}of t.siteApps)n(o)}else ao.error('PostHog site apps are disabled. Enable the \"opt_in_site_apps\" config to proceed.')}}var uo=function(t,i){if(!t)return!1;var e=t.userAgent;if(e&&y(e,i))return!0;try{var r=null==t?void 0:t.userAgentData;if(null!=r&&r.brands&&r.brands.some((t=>y(null==t?void 0:t.brand,i))))return!0}catch(t){}return!!t.webdriver},ho=function(t){return t.US=\"us\",t.EU=\"eu\",t.CUSTOM=\"custom\",t}({}),vo=\"i.posthog.com\";class co{constructor(t){this.Ye={},this.instance=t}get apiHost(){var t=this.instance.config.api_host.trim().replace(/\\/$/,\"\");return\"https://app.posthog.com\"===t?\"https://us.i.posthog.com\":t}get flagsApiHost(){var t=this.instance.config.flags_api_host;return t?t.trim().replace(/\\/$/,\"\"):this.apiHost}get uiHost(){var t,i=null==(t=this.instance.config.ui_host)?void 0:t.replace(/\\/$/,\"\");return i||(i=this.apiHost.replace(\".\"+vo,\".posthog.com\")),\"https://app.posthog.com\"===i?\"https://us.posthog.com\":i}get region(){return this.Ye[this.apiHost]||(/https:\\/\\/(app|us|us-assets)(\\.i)?\\.posthog\\.com/i.test(this.apiHost)?this.Ye[this.apiHost]=ho.US:/https:\\/\\/(eu|eu-assets)(\\.i)?\\.posthog\\.com/i.test(this.apiHost)?this.Ye[this.apiHost]=ho.EU:this.Ye[this.apiHost]=ho.CUSTOM),this.Ye[this.apiHost]}endpointFor(t,i){if(void 0===i&&(i=\"\"),i&&(i=\"/\"===i[0]?i:\"/\"+i),\"ui\"===t)return this.uiHost+i;if(\"flags\"===t)return this.flagsApiHost+i;if(this.region===ho.CUSTOM)return this.apiHost+i;var e=vo+i;switch(t){case\"assets\":return\"https://\"+this.region+\"-assets.\"+e;case\"api\":return\"https://\"+this.region+\".\"+e}}}var fo={icontains:(i,e)=>!!t&&e.href.toLowerCase().indexOf(i.toLowerCase())>-1,not_icontains:(i,e)=>!!t&&-1===e.href.toLowerCase().indexOf(i.toLowerCase()),regex:(i,e)=>!!t&&hn(e.href,i),not_regex:(i,e)=>!!t&&!hn(e.href,i),exact:(t,i)=>i.href===t,is_not:(t,i)=>i.href!==t};class po{constructor(t){var i=this;this.getWebExperimentsAndEvaluateDisplayLogic=function(t){void 0===t&&(t=!1),i.getWebExperiments((t=>{po.Xe(\"retrieved web experiments from the server\"),i.Qe=new Map,t.forEach((t=>{if(t.feature_flag_key){var e;if(i.Qe)po.Xe(\"setting flag key \",t.feature_flag_key,\" to web experiment \",t),null==(e=i.Qe)||e.set(t.feature_flag_key,t);var r=i._instance.getFeatureFlag(t.feature_flag_key);M(r)&&t.variants[r]&&i.Ze(t.name,r,t.variants[r].transforms)}else if(t.variants)for(var s in t.variants){var n=t.variants[s];po.tr(n)&&i.Ze(t.name,s,n.transforms)}}))}),t)},this._instance=t,this._instance.onFeatureFlags((t=>{this.onFeatureFlags(t)}))}onFeatureFlags(t){if(this._is_bot())po.Xe(\"Refusing to render web experiment since the viewer is a likely bot\");else if(!this._instance.config.disable_web_experiments){if(j(this.Qe))return this.Qe=new Map,this.loadIfEnabled(),void this.previewWebExperiment();po.Xe(\"applying feature flags\",t),t.forEach((t=>{var i;if(this.Qe&&null!=(i=this.Qe)&&i.has(t)){var e,r=this._instance.getFeatureFlag(t),s=null==(e=this.Qe)?void 0:e.get(t);r&&null!=s&&s.variants[r]&&this.Ze(s.name,r,s.variants[r].transforms)}}))}}previewWebExperiment(){var t=po.getWindowLocation();if(null!=t&&t.search){var i=ae(null==t?void 0:t.search,\"__experiment_id\"),e=ae(null==t?void 0:t.search,\"__experiment_variant\");i&&e&&(po.Xe(\"previewing web experiments \"+i+\" && \"+e),this.getWebExperiments((t=>{this.ir(parseInt(i),e,t)}),!1,!0))}}loadIfEnabled(){this._instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(t,i,e){if(this._instance.config.disable_web_experiments&&!e)return t([]);var r=this._instance.get_property(\"$web_experiments\");if(r&&!i)return t(r);this._instance.ci({url:this._instance.requestRouter.endpointFor(\"api\",\"/api/web_experiments/?token=\"+this._instance.config.token),method:\"GET\",callback:i=>{if(200!==i.statusCode||!i.json)return t([]);var e=i.json.experiments||[];return t(e)}})}ir(t,i,e){var r=e.filter((i=>i.id===t));r&&r.length>0&&(po.Xe(\"Previewing web experiment [\"+r[0].name+\"] with variant [\"+i+\"]\"),this.Ze(r[0].name,i,r[0].variants[i].transforms))}static tr(t){return!j(t.conditions)&&(po.er(t)&&po.rr(t))}static er(t){var i;if(j(t.conditions)||j(null==(i=t.conditions)?void 0:i.url))return!0;var e,r,s,n=po.getWindowLocation();return!!n&&(null==(e=t.conditions)||!e.url||fo[null!==(r=null==(s=t.conditions)?void 0:s.urlMatchType)&&void 0!==r?r:\"icontains\"](t.conditions.url,n))}static getWindowLocation(){return null==t?void 0:t.location}static rr(t){var i;if(j(t.conditions)||j(null==(i=t.conditions)?void 0:i.utm))return!0;var e=ns();if(e.utm_source){var r,s,n,o,a,l,u,h,d=null==(r=t.conditions)||null==(r=r.utm)||!r.utm_campaign||(null==(s=t.conditions)||null==(s=s.utm)?void 0:s.utm_campaign)==e.utm_campaign,v=null==(n=t.conditions)||null==(n=n.utm)||!n.utm_source||(null==(o=t.conditions)||null==(o=o.utm)?void 0:o.utm_source)==e.utm_source,c=null==(a=t.conditions)||null==(a=a.utm)||!a.utm_medium||(null==(l=t.conditions)||null==(l=l.utm)?void 0:l.utm_medium)==e.utm_medium,f=null==(u=t.conditions)||null==(u=u.utm)||!u.utm_term||(null==(h=t.conditions)||null==(h=h.utm)?void 0:h.utm_term)==e.utm_term;return d&&c&&f&&v}return!1}static Xe(t){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];Pt.info(\"[WebExperiments] \"+t,e)}Ze(t,i,e){this._is_bot()?po.Xe(\"Refusing to render web experiment since the viewer is a likely bot\"):\"control\"!==i?e.forEach((e=>{if(e.selector){var r;po.Xe(\"applying transform of variant \"+i+\" for experiment \"+t+\" \",e);var s=null==(r=document)?void 0:r.querySelectorAll(e.selector);null==s||s.forEach((t=>{var i=t;e.html&&(i.innerHTML=e.html),e.css&&i.setAttribute(\"style\",e.css)}))}})):po.Xe(\"Control variants leave the page unmodified.\")}_is_bot(){return n&&this._instance?uo(n,this._instance.config.custom_blocked_useragents):void 0}}var go=Tt(\"[PostHog ExternalIntegrations]\"),_o={intercom:\"intercom-integration\",crispChat:\"crisp-chat-integration\"};class mo{constructor(t){this._instance=t}it(t,i){var e;null==(e=v.__PosthogExtensions__)||null==e.loadExternalDependency||e.loadExternalDependency(this._instance,t,(t=>{if(t)return go.error(\"failed to load script\",t);i()}))}startIfEnabledOrStop(){var t=this,i=function(i){var e,s,n;(!r||null!=(e=v.__PosthogExtensions__)&&null!=(e=e.integrations)&&e[i]||t.it(_o[i],(()=>{var e;null==(e=v.__PosthogExtensions__)||null==(e=e.integrations)||null==(e=e[i])||e.start(t._instance)})),!r&&null!=(s=v.__PosthogExtensions__)&&null!=(s=s.integrations)&&s[i])&&(null==(n=v.__PosthogExtensions__)||null==(n=n.integrations)||null==(n=n[i])||n.stop())};for(var[e,r]of Object.entries(null!==(s=this._instance.config.integrations)&&void 0!==s?s:{})){var s;i(e)}}}var yo=\"[SessionRecording]\",bo=Tt(yo);class wo{get started(){var t;return!(null==(t=this.sr)||!t.isStarted)}get status(){return this.sr?this.sr.status:this.nr&&!this.ar?\"disabled\":\"lazy_loading\"}constructor(t){if(this._forceAllowLocalhostNetworkCapture=!1,this.nr=!1,this.lr=void 0,this._instance=t,!this._instance.sessionManager)throw bo.error(\"started without valid sessionManager\"),new Error(yo+\" started without valid sessionManager. This is a bug.\");if(\"always\"===this._instance.config.cookieless_mode)throw new Error(yo+' cannot be used with cookieless_mode=\"always\"')}get ar(){var i,e=!(null==(i=this._instance.get_property(ei))||!i.enabled),r=!this._instance.config.disable_session_recording,s=this._instance.config.disable_session_recording||this._instance.consent.isOptedOut();return t&&e&&r&&!s}startIfEnabledOrStop(t){var i;if(!this.ar||null==(i=this.sr)||!i.isStarted){var e=!F(Object.assign)&&!F(Array.from);this.ar&&e?(this.ur(t),bo.info(\"starting\")):this.stopRecording()}}ur(t){var i,e,r;this.ar&&(null!=v&&null!=(i=v.__PosthogExtensions__)&&null!=(i=i.rrweb)&&i.record&&null!=(e=v.__PosthogExtensions__)&&e.initSessionRecording?this.hr(t):null==(r=v.__PosthogExtensions__)||null==r.loadExternalDependency||r.loadExternalDependency(this._instance,this.dr,(i=>{if(i)return bo.error(\"could not load recorder\",i);this.hr(t)})))}stopRecording(){var t,i;null==(t=this.lr)||t.call(this),this.lr=void 0,null==(i=this.sr)||i.stop()}vr(){var t;null==(t=this._instance.persistence)||t.unregister(si)}cr(t){if(this._instance.persistence){var i,e,r=this._instance.persistence,s=()=>{var i=!1===t.sessionRecording?void 0:t.sessionRecording,e=null==i?void 0:i.sampleRate,s=j(e)?null:parseFloat(e);j(s)&&this.vr();var n=null==i?void 0:i.minimumDurationMilliseconds;r.register({[ei]:g({enabled:!!i},i,{networkPayloadCapture:g({capturePerformance:t.capturePerformance},null==i?void 0:i.networkPayloadCapture),canvasRecording:{enabled:null==i?void 0:i.recordCanvas,fps:null==i?void 0:i.canvasFps,quality:null==i?void 0:i.canvasQuality},sampleRate:s,minimumDurationMilliseconds:F(n)?null:n,endpoint:null==i?void 0:i.endpoint,triggerMatchType:null==i?void 0:i.triggerMatchType,masking:null==i?void 0:i.masking,urlTriggers:null==i?void 0:i.urlTriggers})})};s(),null==(i=this.lr)||i.call(this),this.lr=null==(e=this._instance.sessionManager)?void 0:e.onSessionId(s)}}onRemoteConfig(t){\"sessionRecording\"in t?!1!==t.sessionRecording?(this.cr(t),this.nr=!0,this.startIfEnabledOrStop()):this.nr=!0:bo.info(\"skipping remote config with no sessionRecording\",t)}log(t,i){var e;void 0===i&&(i=\"log\"),null!=(e=this.sr)&&e.log?this.sr.log(t,i):bo.warn(\"log called before recorder was ready\")}get dr(){var t,i,e=null==(t=this._instance)||null==(t=t.persistence)?void 0:t.get_property(ei);return(null==e||null==(i=e.scriptConfig)?void 0:i.script)||\"lazy-recorder\"}hr(t){var i,e;if(null==(i=v.__PosthogExtensions__)||!i.initSessionRecording)throw Error(\"Called on script loaded before session recording is available\");this.sr||(this.sr=null==(e=v.__PosthogExtensions__)?void 0:e.initSessionRecording(this._instance),this.sr._forceAllowLocalhostNetworkCapture=this._forceAllowLocalhostNetworkCapture);this.sr.start(t)}onRRwebEmit(t){var i;null==(i=this.sr)||null==i.onRRwebEmit||i.onRRwebEmit(t)}overrideLinkedFlag(){var t,i;this.sr||(null==(i=this._instance.persistence)||i.register({$replay_override_linked_flag:!0}));null==(t=this.sr)||t.overrideLinkedFlag()}overrideSampling(){var t,i;this.sr||(null==(i=this._instance.persistence)||i.register({$replay_override_sampling:!0}));null==(t=this.sr)||t.overrideSampling()}overrideTrigger(t){var i,e;this.sr||(null==(e=this._instance.persistence)||e.register({[\"url\"===t?\"$replay_override_url_trigger\":\"$replay_override_event_trigger\"]:!0}));null==(i=this.sr)||i.overrideTrigger(t)}get sdkDebugProperties(){var t;return(null==(t=this.sr)?void 0:t.sdkDebugProperties)||{$recording_status:this.status}}tryAddCustomEvent(t,i){var e;return!(null==(e=this.sr)||!e.tryAddCustomEvent(t,i))}}var xo={},$o=()=>{},So=\"posthog\",Eo=!sn&&-1===(null==d?void 0:d.indexOf(\"MSIE\"))&&-1===(null==d?void 0:d.indexOf(\"Mozilla\")),ko=i=>{var e;return{api_host:\"https://us.i.posthog.com\",flags_api_host:null,ui_host:null,token:\"\",autocapture:!0,rageclick:!0,cross_subdomain_cookie:Ht(null==o?void 0:o.location),persistence:\"localStorage+cookie\",persistence_name:\"\",loaded:$o,save_campaign_params:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:\"2025-05-24\"!==i||\"history_change\",capture_pageleave:\"if_capture_pageview\",defaults:null!=i?i:\"unset\",__preview_deferred_init_extensions:!1,debug:a&&M(null==a?void 0:a.search)&&-1!==a.search.indexOf(\"__posthog_debug=true\")||!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,disable_surveys_automatic_display:!1,disable_external_dependency_loading:!1,enable_recording_console_log:void 0,secure_cookie:\"https:\"===(null==t||null==(e=t.location)?void 0:e.protocol),ip:!1,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:\"localStorage\",consent_persistence_name:null,opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,mask_personal_data_properties:!1,custom_personal_data_properties:[],advanced_disable_flags:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_only_evaluate_survey_feature_flags:!1,advanced_enable_surveys:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,surveys_request_timeout_ms:1e4,on_request_error:t=>{var i=\"Bad HTTP status: \"+t.statusCode+\" \"+t.text;Pt.error(i)},get_device_id:t=>t,capture_performance:void 0,name:\"posthog\",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:\"identified_only\",before_send:void 0,request_queue_config:{flush_interval_ms:Xn},error_tracking:{},_onCapture:$o,__preview_eager_load_replay:!1}},Po=t=>{var i={};F(t.process_person)||(i.person_profiles=t.process_person),F(t.xhr_headers)||(i.request_headers=t.xhr_headers),F(t.cookie_name)||(i.persistence_name=t.cookie_name),F(t.disable_cookie)||(i.disable_persistence=t.disable_cookie),F(t.store_google)||(i.save_campaign_params=t.store_google),F(t.verbose)||(i.debug=t.verbose);var e=Mt({},i,t);return I(t.property_blacklist)&&(F(t.property_denylist)?e.property_denylist=t.property_blacklist:I(t.property_denylist)?e.property_denylist=[...t.property_blacklist,...t.property_denylist]:Pt.error(\"Invalid value for property_denylist config: \"+t.property_denylist)),e};class To{constructor(){this.__forceAllowLocalhost=!1}get pr(){return this.__forceAllowLocalhost}set pr(t){Pt.error(\"WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`\"),this.__forceAllowLocalhost=t}}class Io{get decideEndpointWasHit(){var t,i;return null!==(t=null==(i=this.featureFlags)?void 0:i.hasLoadedFlags)&&void 0!==t&&t}get flagsEndpointWasHit(){var t,i;return null!==(t=null==(i=this.featureFlags)?void 0:i.hasLoadedFlags)&&void 0!==t&&t}constructor(){this.webPerformance=new To,this.gr=!1,this.version=c.LIB_VERSION,this._r=new jn,this._calculate_event_properties=this.calculateEventProperties.bind(this),this.config=ko(),this.SentryIntegration=Ye,this.sentryIntegration=t=>function(t,i){var e=Ke(t,i);return{name:Je,processEvent:t=>e(t)}}(this,t),this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint=\"/e/\",this.mr=!1,this.yr=null,this.br=null,this.wr=null,this.featureFlags=new En(this),this.toolbar=new ir(this),this.scrollManager=new io(this),this.pageViewManager=new ws(this),this.surveys=new Gn(this),this.experiments=new po(this),this.exceptions=new pn(this),this.rateLimiter=new Jn(this),this.requestRouter=new co(this),this.consent=new je(this),this.externalIntegrations=new mo(this),this.people={set:(t,i,e)=>{var r=M(t)?{[t]:i}:t;this.setPersonProperties(r),null==e||e({})},set_once:(t,i,e)=>{var r=M(t)?{[t]:i}:t;this.setPersonProperties(void 0,r),null==e||e({})}},this.on(\"eventCaptured\",(t=>Pt.info('send \"'+(null==t?void 0:t.event)+'\"',t)))}init(t,i,e){if(e&&e!==So){var r,s=null!==(r=xo[e])&&void 0!==r?r:new Io;return s._init(t,i,e),xo[e]=s,xo[So][e]=s,s}return this._init(t,i,e)}_init(i,e,r){var s;if(void 0===e&&(e={}),F(i)||A(i))return Pt.critical(\"PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()\"),this;if(this.__loaded)return console.warn(\"[PostHog.js]\",\"You have already initialized PostHog! Re-initializing is a no-op\"),this;this.__loaded=!0,this.config={},e.debug=this.$r(e.debug),this.Sr=e,this.Er=[],e.person_profiles&&(this.br=e.person_profiles),this.set_config(Mt({},ko(e.defaults),Po(e),{name:r,token:i})),this.config.on_xhr_error&&Pt.error(\"on_xhr_error is deprecated. Use on_request_error instead\"),this.compression=e.disable_compression?void 0:re.GZipJS;var n=this.kr();this.persistence=new Pn(this.config,n),this.sessionPersistence=\"sessionStorage\"===this.config.persistence||\"memory\"===this.config.persistence?this.persistence:new Pn(g({},this.config,{persistence:\"sessionStorage\"}),n);var o=g({},this.persistence.props),a=g({},this.sessionPersistence.props);this.register({$initialization_time:(new Date).toISOString()}),this.Pr=new Qn((t=>this.Tr(t)),this.config.request_queue_config),this.Ir=new to(this),this.__request_queue=[];var l=\"always\"===this.config.cookieless_mode||\"on_reject\"===this.config.cookieless_mode&&this.consent.isExplicitlyOptedOut();if(l||(this.sessionManager=new no(this),this.sessionPropsManager=new ro(this,this.sessionManager,this.persistence)),this.config.__preview_deferred_init_extensions?(Pt.info(\"Deferring extension initialization to improve startup performance\"),setTimeout((()=>{this.Rr(l)}),0)):(Pt.info(\"Initializing extensions synchronously\"),this.Rr(l)),c.DEBUG=c.DEBUG||this.config.debug,c.DEBUG&&Pt.info(\"Starting in debug mode\",{this:this,config:e,thisC:g({},this.config),p:o,s:a}),void 0!==(null==(s=e.bootstrap)?void 0:s.distinctID)){var u,h,d=this.config.get_device_id(xe()),v=null!=(u=e.bootstrap)&&u.isIdentifiedID?d:e.bootstrap.distinctID;this.persistence.set_property(ci,null!=(h=e.bootstrap)&&h.isIdentifiedID?\"identified\":\"anonymous\"),this.register({distinct_id:e.bootstrap.distinctID,$device_id:v})}if(this.Cr()){var f,p,_=Object.keys((null==(f=e.bootstrap)?void 0:f.featureFlags)||{}).filter((t=>{var i;return!(null==(i=e.bootstrap)||null==(i=i.featureFlags)||!i[t])})).reduce(((t,i)=>{var r;return t[i]=(null==(r=e.bootstrap)||null==(r=r.featureFlags)?void 0:r[i])||!1,t}),{}),m=Object.keys((null==(p=e.bootstrap)?void 0:p.featureFlagPayloads)||{}).filter((t=>_[t])).reduce(((t,i)=>{var r,s;null!=(r=e.bootstrap)&&null!=(r=r.featureFlagPayloads)&&r[i]&&(t[i]=null==(s=e.bootstrap)||null==(s=s.featureFlagPayloads)?void 0:s[i]);return t}),{});this.featureFlags.receivedFeatureFlags({featureFlags:_,featureFlagPayloads:m})}if(l)this.register_once({distinct_id:wi,$device_id:null},\"\");else if(!this.get_distinct_id()){var y=this.config.get_device_id(xe());this.register_once({distinct_id:y,$device_id:y},\"\"),this.persistence.set_property(ci,\"anonymous\")}return qt(t,\"onpagehide\"in self?\"pagehide\":\"unload\",this._handle_unload.bind(this),{passive:!1}),this.toolbar.maybeLoadToolbar(),e.segment?Ve(this,(()=>this.Or())):this.Or(),R(this.config._onCapture)&&this.config._onCapture!==$o&&(Pt.warn(\"onCapture is deprecated. Please use `before_send` instead\"),this.on(\"eventCaptured\",(t=>this.config._onCapture(t.event,t)))),this.config.ip&&Pt.warn('The `ip` config option has NO EFFECT AT ALL and has been deprecated. Use a custom transformation or \"Discard IP data\" project setting instead. See https://posthog.com/tutorials/web-redact-properties#hiding-customer-ip-address for more information.'),this}Rr(t){var i=performance.now();this.historyAutocapture=new We(this),this.historyAutocapture.startIfEnabled();var e=[];e.push((()=>{new rr(this).startIfEnabledOrStop()})),e.push((()=>{var t;this.siteApps=new lo(this),null==(t=this.siteApps)||t.init()})),t||e.push((()=>{this.sessionRecording=new wo(this),this.sessionRecording.startIfEnabledOrStop()})),this.config.disable_scroll_properties||e.push((()=>{this.scrollManager.startMeasuringScrollPosition()})),e.push((()=>{this.autocapture=new pe(this),this.autocapture.startIfEnabled()})),e.push((()=>{this.surveys.loadIfEnabled()})),e.push((()=>{this.heatmaps=new bs(this),this.heatmaps.startIfEnabled()})),e.push((()=>{this.webVitalsAutocapture=new _s(this)})),e.push((()=>{this.exceptionObserver=new Be(this),this.exceptionObserver.startIfEnabled()})),e.push((()=>{this.deadClicksAutocapture=new ze(this,Ue),this.deadClicksAutocapture.startIfEnabled()})),e.push((()=>{if(this.Fr){var t=this.Fr;this.Fr=void 0,this.fi(t)}})),this.Mr(e,i)}Mr(t,i){for(;t.length>0;){if(this.config.__preview_deferred_init_extensions)if(performance.now()-i>=30&&t.length>0)return void setTimeout((()=>{this.Mr(t,i)}),0);var e=t.shift();if(e)try{e()}catch(t){Pt.error(\"Error initializing extension:\",t)}}var r=Math.round(performance.now()-i);this.register_for_session({$sdk_debug_extensions_init_method:this.config.__preview_deferred_init_extensions?\"deferred\":\"synchronous\",$sdk_debug_extensions_init_time_ms:r}),this.config.__preview_deferred_init_extensions&&Pt.info(\"PostHog extensions initialized (\"+r+\"ms)\")}fi(t){var i,e,r,s,n,a,l,u;if(!o||!o.body)return Pt.info(\"document not ready yet, trying again in 500 milliseconds...\"),void setTimeout((()=>{this.fi(t)}),500);this.config.__preview_deferred_init_extensions&&(this.Fr=t),this.compression=void 0,t.supportedCompression&&!this.config.disable_compression&&(this.compression=w(t.supportedCompression,re.GZipJS)?re.GZipJS:w(t.supportedCompression,re.Base64)?re.Base64:void 0),null!=(i=t.analytics)&&i.endpoint&&(this.analyticsDefaultEndpoint=t.analytics.endpoint),this.set_config({person_profiles:this.br?this.br:\"identified_only\"}),null==(e=this.siteApps)||e.onRemoteConfig(t),null==(r=this.sessionRecording)||r.onRemoteConfig(t),null==(s=this.autocapture)||s.onRemoteConfig(t),null==(n=this.heatmaps)||n.onRemoteConfig(t),this.surveys.onRemoteConfig(t),null==(a=this.webVitalsAutocapture)||a.onRemoteConfig(t),null==(l=this.exceptionObserver)||l.onRemoteConfig(t),this.exceptions.onRemoteConfig(t),null==(u=this.deadClicksAutocapture)||u.onRemoteConfig(t)}Or(){try{this.config.loaded(this)}catch(t){Pt.critical(\"`loaded` function failed\",t)}this.Ar(),this.config.capture_pageview&&setTimeout((()=>{(this.consent.isOptedIn()||\"always\"===this.config.cookieless_mode)&&this.Dr()}),1),new Yn(this).load(),this.featureFlags.flags()}Ar(){var t;this.is_capturing()&&(this.config.request_batching&&(null==(t=this.Pr)||t.enable()))}_dom_loaded(){this.is_capturing()&&Ot(this.__request_queue,(t=>this.Tr(t))),this.__request_queue=[],this.Ar()}_handle_unload(){var t,i;this.config.request_batching?(this.jr()&&this.capture(\"$pageleave\"),null==(t=this.Pr)||t.unload(),null==(i=this.Ir)||i.unload()):this.jr()&&this.capture(\"$pageleave\",null,{transport:\"sendBeacon\"})}ci(t){this.__loaded&&(Eo?this.__request_queue.push(t):this.rateLimiter.isServerRateLimited(t.batchKey)||(t.transport=t.transport||this.config.api_transport,t.url=on(t.url,{ip:this.config.ip?1:0}),t.headers=g({},this.config.request_headers),t.compression=\"best-available\"===t.compression?this.compression:t.compression,t.disableXHRCredentials=this.config.__preview_disable_xhr_credentials,this.config.__preview_disable_beacon&&(t.disableTransport=[\"sendBeacon\"]),t.fetchOptions=t.fetchOptions||this.config.fetch_options,(t=>{var i,e,r,s=g({},t);s.timeout=s.timeout||6e4,s.url=on(s.url,{_:(new Date).getTime().toString(),ver:c.LIB_VERSION,compression:s.compression});var n=null!==(i=s.transport)&&void 0!==i?i:\"fetch\",o=un.filter((t=>!s.disableTransport||!t.transport||!s.disableTransport.includes(t.transport))),a=null!==(e=null==(r=Bt(o,(t=>t.transport===n)))?void 0:r.method)&&void 0!==e?e:o[0].method;if(!a)throw new Error(\"No available transport method\");a(s)})(g({},t,{callback:i=>{var e,r;(this.rateLimiter.checkForLimiting(i),i.statusCode>=400)&&(null==(e=(r=this.config).on_request_error)||e.call(r,i));null==t.callback||t.callback(i)}}))))}Tr(t){this.Ir?this.Ir.retriableRequest(t):this.ci(t)}_execute_array(t){var i,e=[],r=[],s=[];Ot(t,(t=>{t&&(i=t[0],I(i)?s.push(t):R(t)?t.call(this):I(t)&&\"alias\"===i?e.push(t):I(t)&&-1!==i.indexOf(\"capture\")&&R(this[i])?s.push(t):r.push(t))}));var n=function(t,i){Ot(t,(function(t){if(I(t[0])){var e=i;Ft(t,(function(t){e=e[t[0]].apply(e,t.slice(1))}))}else this[t[0]].apply(this,t.slice(1))}),i)};n(e,this),n(r,this),n(s,this)}Cr(){var t,i;return(null==(t=this.config.bootstrap)?void 0:t.featureFlags)&&Object.keys(null==(i=this.config.bootstrap)?void 0:i.featureFlags).length>0||!1}push(t){this._execute_array([t])}capture(t,i,e){var r;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this.Pr){if(this.is_capturing())if(!F(t)&&M(t)){var s=!this.config.opt_out_useragent_filter&&this._is_bot();if(!(s&&!this.config.__preview_capture_bot_pageviews)){var n=null!=e&&e.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(null==n||!n.isRateLimited){null!=i&&i.$current_url&&!M(null==i?void 0:i.$current_url)&&(Pt.error(\"Invalid `$current_url` property provided to `posthog.capture`. Input must be a string. Ignoring provided value.\"),null==i||delete i.$current_url),this.sessionPersistence.update_search_keyword(),this.config.save_campaign_params&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.save_campaign_params||this.config.save_referrer)&&this.persistence.set_initial_person_info();var o=new Date,a=(null==e?void 0:e.timestamp)||o,l=xe(),u={uuid:l,event:t,properties:this.calculateEventProperties(t,i||{},a,l)};\"$pageview\"===t&&this.config.__preview_capture_bot_pageviews&&s&&(u.event=\"$bot_pageview\",u.properties.$browser_type=\"bot\"),n&&(u.properties.$lib_rate_limit_remaining_tokens=n.remainingTokens),(null==e?void 0:e.$set)&&(u.$set=null==e?void 0:e.$set);var h,d=this.Lr(null==e?void 0:e.$set_once);if(d&&(u.$set_once=d),(u=Ut(u,null!=e&&e._noTruncate?null:this.config.properties_string_max_length)).timestamp=a,F(null==e?void 0:e.timestamp)||(u.properties.$event_time_override_provided=!0,u.properties.$event_time_override_system_time=o),t===Mn.DISMISSED||t===Mn.SENT){var v=null==i?void 0:i[An.SURVEY_ID],c=null==i?void 0:i[An.SURVEY_ITERATION];h={id:v,current_iteration:c},localStorage.getItem(Hn(h))||localStorage.setItem(Hn(h),\"true\"),u.$set=g({},u.$set,{[zn({id:v,current_iteration:c},t===Mn.SENT?\"responded\":\"dismissed\")]:!0})}var f=g({},u.properties.$set,u.$set);if(O(f)||this.setPersonPropertiesForFlags(f),!j(this.config.before_send)){var p=this.Nr(u);if(!p)return;u=p}this._r.emit(\"eventCaptured\",u);var _={method:\"POST\",url:null!==(r=null==e?void 0:e._url)&&void 0!==r?r:this.requestRouter.endpointFor(\"api\",this.analyticsDefaultEndpoint),data:u,compression:\"best-available\",batchKey:null==e?void 0:e._batchKey};return!this.config.request_batching||e&&(null==e||!e._batchKey)||null!=e&&e.send_instantly?this.Tr(_):this.Pr.enqueue(_),u}Pt.critical(\"This capture call is ignored due to client rate limiting.\")}}else Pt.error(\"No event name provided to posthog.capture\")}else Pt.uninitializedWarning(\"posthog.capture\")}Mi(t){return this.on(\"eventCaptured\",(i=>t(i.event,i)))}calculateEventProperties(t,i,e,r,s){if(e=e||new Date,!this.persistence||!this.sessionPersistence)return i;var n=s?void 0:this.persistence.remove_event_timer(t),a=g({},i);if(a.token=this.config.token,a.$config_defaults=this.config.defaults,(\"always\"==this.config.cookieless_mode||\"on_reject\"==this.config.cookieless_mode&&this.consent.isExplicitlyOptedOut())&&(a.$cookieless_mode=!0),\"$snapshot\"===t){var l=g({},this.persistence.properties(),this.sessionPersistence.properties());return a.distinct_id=l.distinct_id,(!M(a.distinct_id)&&!L(a.distinct_id)||A(a.distinct_id))&&Pt.error(\"Invalid distinct_id for replay event. This indicates a bug in your implementation\"),a}var u,h=fs(this.config.mask_personal_data_properties,this.config.custom_personal_data_properties);if(this.sessionManager){var{sessionId:v,windowId:c}=this.sessionManager.checkAndGetSessionAndWindowId(s,e.getTime());a.$session_id=v,a.$window_id=c}this.sessionPropsManager&&Mt(a,this.sessionPropsManager.getSessionProps());try{var f;this.sessionRecording&&Mt(a,this.sessionRecording.sdkDebugProperties),a.$sdk_debug_retry_queue_size=null==(f=this.Ir)?void 0:f.length}catch(t){a.$sdk_debug_error_capturing_properties=String(t)}if(this.requestRouter.region===ho.CUSTOM&&(a.$lib_custom_api_host=this.config.api_host),u=\"$pageview\"!==t||s?\"$pageleave\"!==t||s?this.pageViewManager.doEvent():this.pageViewManager.doPageLeave(e):this.pageViewManager.doPageView(e,r),a=Mt(a,u),\"$pageview\"===t&&o&&(a.title=o.title),!F(n)){var p=e.getTime()-n;a.$duration=parseFloat((p/1e3).toFixed(3))}d&&this.config.opt_out_useragent_filter&&(a.$browser_type=this._is_bot()?\"bot\":\"browser\"),(a=Mt({},h,this.persistence.properties(),this.sessionPersistence.properties(),a)).$is_identified=this._isIdentified(),I(this.config.property_denylist)?Ft(this.config.property_denylist,(function(t){delete a[t]})):Pt.error(\"Invalid value for property_denylist config: \"+this.config.property_denylist+\" or property_blacklist config: \"+this.config.property_blacklist);var _=this.config.sanitize_properties;_&&(Pt.error(\"sanitize_properties is deprecated. Use before_send instead\"),a=_(a,t));var m=this.Ur();return a.$process_person_profile=m,m&&!s&&this.zr(\"_calculate_event_properties\"),a}Lr(t){var i;if(!this.persistence||!this.Ur())return t;if(this.gr)return t;var e=this.persistence.get_initial_props(),r=null==(i=this.sessionPropsManager)?void 0:i.getSetOnceProps(),s=Mt({},e,r||{},t||{}),n=this.config.sanitize_properties;return n&&(Pt.error(\"sanitize_properties is deprecated. Use before_send instead\"),s=n(s,\"$set_once\")),this.gr=!0,O(s)?void 0:s}register(t,i){var e;null==(e=this.persistence)||e.register(t,i)}register_once(t,i,e){var r;null==(r=this.persistence)||r.register_once(t,i,e)}register_for_session(t){var i;null==(i=this.sessionPersistence)||i.register(t)}unregister(t){var i;null==(i=this.persistence)||i.unregister(t)}unregister_for_session(t){var i;null==(i=this.sessionPersistence)||i.unregister(t)}Hr(t,i){this.register({[t]:i})}getFeatureFlag(t,i){return this.featureFlags.getFeatureFlag(t,i)}getFeatureFlagPayload(t){var i=this.featureFlags.getFeatureFlagPayload(t);try{return JSON.parse(i)}catch(t){return i}}isFeatureEnabled(t,i){return this.featureFlags.isFeatureEnabled(t,i)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(t,i,e){this.featureFlags.updateEarlyAccessFeatureEnrollment(t,i,e)}getEarlyAccessFeatures(t,i,e){return void 0===i&&(i=!1),this.featureFlags.getEarlyAccessFeatures(t,i,e)}on(t,i){return this._r.on(t,i)}onFeatureFlags(t){return this.featureFlags.onFeatureFlags(t)}onSurveysLoaded(t){return this.surveys.onSurveysLoaded(t)}onSessionId(t){var i,e;return null!==(i=null==(e=this.sessionManager)?void 0:e.onSessionId(t))&&void 0!==i?i:()=>{}}getSurveys(t,i){void 0===i&&(i=!1),this.surveys.getSurveys(t,i)}getActiveMatchingSurveys(t,i){void 0===i&&(i=!1),this.surveys.getActiveMatchingSurveys(t,i)}renderSurvey(t,i){this.surveys.renderSurvey(t,i)}displaySurvey(t,i){void 0===i&&(i=qn),this.surveys.displaySurvey(t,i)}canRenderSurvey(t){return this.surveys.canRenderSurvey(t)}canRenderSurveyAsync(t,i){return void 0===i&&(i=!1),this.surveys.canRenderSurveyAsync(t,i)}identify(t,i,e){if(!this.__loaded||!this.persistence)return Pt.uninitializedWarning(\"posthog.identify\");if(L(t)&&(t=t.toString(),Pt.warn(\"The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.\")),t)if([\"distinct_id\",\"distinctid\"].includes(t.toLowerCase()))Pt.critical('The string \"'+t+'\" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.');else if(t!==wi){if(this.zr(\"posthog.identify\")){var r=this.get_distinct_id();if(this.register({$user_id:t}),!this.get_property(\"$device_id\")){var s=r;this.register_once({$had_persisted_distinct_id:!0,$device_id:s},\"\")}t!==r&&t!==this.get_property(Gt)&&(this.unregister(Gt),this.register({distinct_id:t}));var n=\"anonymous\"===(this.persistence.get_property(ci)||\"anonymous\");t!==r&&n?(this.persistence.set_property(ci,\"identified\"),this.setPersonPropertiesForFlags(g({},e||{},i||{}),!1),this.capture(\"$identify\",{distinct_id:t,$anon_distinct_id:r},{$set:i||{},$set_once:e||{}}),this.wr=dn(t,i,e),this.featureFlags.setAnonymousDistinctId(r)):(i||e)&&this.setPersonProperties(i,e),t!==r&&(this.reloadFeatureFlags(),this.unregister(vi))}}else Pt.critical('The string \"'+wi+'\" was set in posthog.identify which indicates an error. This ID is only used as a sentinel value.');else Pt.error(\"Unique user id has not been set in posthog.identify\")}setPersonProperties(t,i){if((t||i)&&this.zr(\"posthog.setPersonProperties\")){var e=dn(this.get_distinct_id(),t,i);this.wr!==e?(this.setPersonPropertiesForFlags(g({},i||{},t||{})),this.capture(\"$set\",{$set:t||{},$set_once:i||{}}),this.wr=e):Pt.info(\"A duplicate setPersonProperties call was made with the same properties. It has been ignored.\")}}group(t,i,e){if(t&&i){if(this.zr(\"posthog.group\")){var r=this.getGroups();r[t]!==i&&this.resetGroupPropertiesForFlags(t),this.register({$groups:g({},r,{[t]:i})}),e&&(this.capture(\"$groupidentify\",{$group_type:t,$group_key:i,$group_set:e}),this.setGroupPropertiesForFlags({[t]:e})),r[t]===i||e||this.reloadFeatureFlags()}}else Pt.error(\"posthog.group requires a group type and group key\")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(t,i){void 0===i&&(i=!0),this.featureFlags.setPersonPropertiesForFlags(t,i)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(t,i){void 0===i&&(i=!0),this.zr(\"posthog.setGroupPropertiesForFlags\")&&this.featureFlags.setGroupPropertiesForFlags(t,i)}resetGroupPropertiesForFlags(t){this.featureFlags.resetGroupPropertiesForFlags(t)}reset(t){var i,e,r,s;if(Pt.info(\"reset\"),!this.__loaded)return Pt.uninitializedWarning(\"posthog.reset\");var n=this.get_property(\"$device_id\");if(this.consent.reset(),null==(i=this.persistence)||i.clear(),null==(e=this.sessionPersistence)||e.clear(),this.surveys.reset(),this.featureFlags.reset(),null==(r=this.persistence)||r.set_property(ci,\"anonymous\"),null==(s=this.sessionManager)||s.resetSessionId(),this.wr=null,\"always\"===this.config.cookieless_mode)this.register_once({distinct_id:wi,$device_id:null},\"\");else{var o=this.config.get_device_id(xe());this.register_once({distinct_id:o,$device_id:t?o:n},\"\")}this.register({$last_posthog_reset:(new Date).toISOString()},1)}get_distinct_id(){return this.get_property(\"distinct_id\")}getGroups(){return this.get_property(\"$groups\")||{}}get_session_id(){var t,i;return null!==(t=null==(i=this.sessionManager)?void 0:i.checkAndGetSessionAndWindowId(!0).sessionId)&&void 0!==t?t:\"\"}get_session_replay_url(t){if(!this.sessionManager)return\"\";var{sessionId:i,sessionStartTimestamp:e}=this.sessionManager.checkAndGetSessionAndWindowId(!0),r=this.requestRouter.endpointFor(\"ui\",\"/project/\"+this.config.token+\"/replay/\"+i);if(null!=t&&t.withTimestamp&&e){var s,n=null!==(s=t.timestampLookBack)&&void 0!==s?s:10;if(!e)return r;r+=\"?t=\"+Math.max(Math.floor(((new Date).getTime()-e)/1e3)-n,0)}return r}alias(t,i){return t===this.get_property(Wt)?(Pt.critical(\"Attempting to create alias for existing People user - aborting.\"),-2):this.zr(\"posthog.alias\")?(F(i)&&(i=this.get_distinct_id()),t!==i?(this.Hr(Gt,t),this.capture(\"$create_alias\",{alias:t,distinct_id:i})):(Pt.warn(\"alias matches current distinct_id - skipping api call.\"),this.identify(t),-1)):void 0}set_config(t){var i=g({},this.config);if(C(t)){var e,r,s,n,o;Mt(this.config,Po(t));var a=this.kr();null==(e=this.persistence)||e.update_config(this.config,i,a),this.sessionPersistence=\"sessionStorage\"===this.config.persistence||\"memory\"===this.config.persistence?this.persistence:new Pn(g({},this.config,{persistence:\"sessionStorage\"}),a);var l=this.$r(this.config.debug);N(l)&&(this.config.debug=l),N(this.config.debug)&&(this.config.debug?(c.DEBUG=!0,Ie.H()&&Ie.G(\"ph_debug\",\"true\"),Pt.info(\"set_config\",{config:t,oldConfig:i,newConfig:g({},this.config)})):(c.DEBUG=!1,Ie.H()&&Ie.V(\"ph_debug\"))),null==(r=this.sessionRecording)||r.startIfEnabledOrStop(),null==(s=this.autocapture)||s.startIfEnabled(),null==(n=this.heatmaps)||n.startIfEnabled(),this.surveys.loadIfEnabled(),this.Br(),null==(o=this.externalIntegrations)||o.startIfEnabledOrStop()}}startSessionRecording(t){var i=!0===t,e={sampling:i||!(null==t||!t.sampling),linked_flag:i||!(null==t||!t.linked_flag),url_trigger:i||!(null==t||!t.url_trigger),event_trigger:i||!(null==t||!t.event_trigger)};if(Object.values(e).some(Boolean)){var r,s,n,o,a;if(null==(r=this.sessionManager)||r.checkAndGetSessionAndWindowId(),e.sampling)null==(s=this.sessionRecording)||s.overrideSampling();if(e.linked_flag)null==(n=this.sessionRecording)||n.overrideLinkedFlag();if(e.url_trigger)null==(o=this.sessionRecording)||o.overrideTrigger(\"url\");if(e.event_trigger)null==(a=this.sessionRecording)||a.overrideTrigger(\"event\")}this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var t;return!(null==(t=this.sessionRecording)||!t.started)}captureException(t,i){var e=new Error(\"PostHog syntheticException\"),r=this.exceptions.buildProperties(t,{handled:!0,syntheticException:e});return this.exceptions.sendExceptionEvent(g({},r,i))}loadToolbar(t){return this.toolbar.loadToolbar(t)}get_property(t){var i;return null==(i=this.persistence)?void 0:i.props[t]}getSessionProperty(t){var i;return null==(i=this.sessionPersistence)?void 0:i.props[t]}toString(){var t,i=null!==(t=this.config.name)&&void 0!==t?t:So;return i!==So&&(i=So+\".\"+i),i}_isIdentified(){var t,i;return\"identified\"===(null==(t=this.persistence)?void 0:t.get_property(ci))||\"identified\"===(null==(i=this.sessionPersistence)?void 0:i.get_property(ci))}Ur(){var t,i;return!(\"never\"===this.config.person_profiles||\"identified_only\"===this.config.person_profiles&&!this._isIdentified()&&O(this.getGroups())&&(null==(t=this.persistence)||null==(t=t.props)||!t[Gt])&&(null==(i=this.persistence)||null==(i=i.props)||!i[yi]))}jr(){return!0===this.config.capture_pageleave||\"if_capture_pageview\"===this.config.capture_pageleave&&(!0===this.config.capture_pageview||\"history_change\"===this.config.capture_pageview)}createPersonProfile(){this.Ur()||this.zr(\"posthog.createPersonProfile\")&&this.setPersonProperties({},{})}zr(t){return\"never\"===this.config.person_profiles?(Pt.error(t+' was called, but process_person is set to \"never\". This call will be ignored.'),!1):(this.Hr(yi,!0),!0)}kr(){if(\"always\"===this.config.cookieless_mode)return!0;var t=this.consent.isOptedOut(),i=this.config.opt_out_persistence_by_default||\"on_reject\"===this.config.cookieless_mode;return this.config.disable_persistence||t&&!!i}Br(){var t,i,e,r,s=this.kr();(null==(t=this.persistence)?void 0:t.wi)!==s&&(null==(e=this.persistence)||e.set_disabled(s));(null==(i=this.sessionPersistence)?void 0:i.wi)!==s&&(null==(r=this.sessionPersistence)||r.set_disabled(s));return s}opt_in_capturing(t){if(\"always\"!==this.config.cookieless_mode){var i,e;if(\"on_reject\"===this.config.cookieless_mode&&this.consent.isExplicitlyOptedOut())this.reset(!0),null==(i=this.sessionManager)||i.destroy(),this.sessionManager=new no(this),this.persistence&&(this.sessionPropsManager=new ro(this,this.sessionManager,this.persistence)),this.sessionRecording=new wo(this),this.sessionRecording.startIfEnabledOrStop();if(this.consent.optInOut(!0),this.Br(),this.Ar(),\"on_reject\"==this.config.cookieless_mode&&this.surveys.loadIfEnabled(),F(null==t?void 0:t.captureEventName)||null!=t&&t.captureEventName)this.capture(null!==(e=null==t?void 0:t.captureEventName)&&void 0!==e?e:\"$opt_in\",null==t?void 0:t.captureProperties,{send_instantly:!0});this.config.capture_pageview&&this.Dr()}else Pt.warn('Consent opt in/out is not valid with cookieless_mode=\"always\" and will be ignored')}opt_out_capturing(){var t,i;\"always\"!==this.config.cookieless_mode?(\"on_reject\"===this.config.cookieless_mode&&this.consent.isOptedIn()&&this.reset(!0),this.consent.optInOut(!1),this.Br(),\"on_reject\"===this.config.cookieless_mode&&(this.register({distinct_id:wi,$device_id:null}),null==(t=this.sessionManager)||t.destroy(),this.sessionManager=void 0,this.sessionPropsManager=void 0,null==(i=this.sessionRecording)||i.stopRecording(),this.sessionRecording=void 0,this.Dr())):Pt.warn('Consent opt in/out is not valid with cookieless_mode=\"always\" and will be ignored')}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}get_explicit_consent_status(){var t=this.consent.consent;return t===De.GRANTED?\"granted\":t===De.DENIED?\"denied\":\"pending\"}is_capturing(){return\"always\"===this.config.cookieless_mode||(\"on_reject\"===this.config.cookieless_mode?this.consent.isExplicitlyOptedOut()||this.consent.isOptedIn():!this.has_opted_out_capturing())}clear_opt_in_out_capturing(){this.consent.reset(),this.Br()}_is_bot(){return n?uo(n,this.config.custom_blocked_useragents):void 0}Dr(){o&&(\"visible\"===o.visibilityState?this.mr||(this.mr=!0,this.capture(\"$pageview\",{title:o.title},{send_instantly:!0}),this.yr&&(o.removeEventListener(\"visibilitychange\",this.yr),this.yr=null)):this.yr||(this.yr=this.Dr.bind(this),qt(o,\"visibilitychange\",this.yr)))}debug(i){!1===i?(null==t||t.console.log(\"You've disabled debug mode.\"),this.set_config({debug:!1})):(null==t||t.console.log(\"You're now in debug mode. All calls to PostHog will be logged in your console.\\nYou can disable this with `posthog.debug(false)`.\"),this.set_config({debug:!0}))}M(){var t,i,e,r,s,n,o,a=this.Sr||{};return\"advanced_disable_flags\"in a?!!a.advanced_disable_flags:!1!==this.config.advanced_disable_flags?!!this.config.advanced_disable_flags:!0===this.config.advanced_disable_decide?(Pt.warn(\"Config field 'advanced_disable_decide' is deprecated. Please use 'advanced_disable_flags' instead. The old field will be removed in a future major version.\"),!0):(e=\"advanced_disable_decide\",r=!1,s=Pt,n=(i=\"advanced_disable_flags\")in(t=a)&&!F(t[i]),o=e in t&&!F(t[e]),n?t[i]:o?(s&&s.warn(\"Config field '\"+e+\"' is deprecated. Please use '\"+i+\"' instead. The old field will be removed in a future major version.\"),t[e]):r)}Nr(t){if(j(this.config.before_send))return t;var i=I(this.config.before_send)?this.config.before_send:[this.config.before_send],e=t;for(var r of i){if(e=r(e),j(e)){var s=\"Event '\"+t.event+\"' was rejected in beforeSend function\";return z(t.event)?Pt.warn(s+\". This can cause unexpected behavior.\"):Pt.info(s),null}e.properties&&!O(e.properties)||Pt.warn(\"Event '\"+t.event+\"' has no properties after beforeSend function, this is likely an error.\")}return e}getPageViewId(){var t;return null==(t=this.pageViewManager.Vt)?void 0:t.pageViewId}captureTraceFeedback(t,i){this.capture(\"$ai_feedback\",{$ai_trace_id:String(t),$ai_feedback_text:i})}captureTraceMetric(t,i,e){this.capture(\"$ai_metric\",{$ai_trace_id:String(t),$ai_metric_name:i,$ai_metric_value:String(e)})}$r(t){var i=N(t)&&!t,e=Ie.H()&&\"true\"===Ie.q(\"ph_debug\");return!i&&(!!e||t)}}!function(t,i){for(var e=0;e<i.length;e++)t.prototype[i[e]]=Lt(t.prototype[i[e]])}(Io,[\"identify\"]);var Ro,Co=(Ro=xo[So]=new Io,function(){function i(){i.done||(i.done=!0,Eo=!1,Ft(xo,(function(t){t._dom_loaded()})))}null!=o&&o.addEventListener?\"complete\"===o.readyState?i():qt(o,\"DOMContentLoaded\",i,{capture:!1}):t&&Pt.error(\"Browser doesn't support `document.addEventListener` so PostHog couldn't be initialized\")}(),Ro);\n//# sourceMappingURL=module.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9wb3N0aG9nLWpzL2Rpc3QvbW9kdWxlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLGlhQUFpYSxJQUFJLGdDQUFnQywwQkFBMEIsSUFBSSx3QkFBd0IsU0FBUyxpQkFBaUIseUNBQXlDLGNBQWMsa0JBQWtCLHVCQUF1QixrQ0FBa0MsbUJBQW1CLGNBQWMsc0JBQXNCLGNBQWMsdUJBQXVCLFVBQVUsSUFBSSxhQUFhLHdEQUF3RCxZQUFZLG1CQUFtQixLQUFLLG1CQUFtQixrQkFBa0Isd0NBQXdDLFNBQVMseUJBQXlCLGdCQUFnQixvQkFBb0IsU0FBUyxvQkFBb0IsMkJBQTJCLDhCQUE4QixVQUFVLFNBQVMsK21CQUErbUIsaWlCQUFpaUIsa0NBQWtDLHNCQUFzQiw2QkFBNkIsc0JBQXNCLHdCQUF3QixHQUFHLHlQQUF5UCxnQkFBZ0Isd0JBQXdCLGtCQUFrQixnQkFBZ0IsZUFBZSw0QkFBNEIsd0ZBQXdGLG1DQUFtQywyREFBMkQsU0FBUyx1Q0FBdUMsU0FBUyxTQUFTLDZOQUE2TixjQUFjLG9DQUFvQyxnQkFBZ0IsNERBQTRELGNBQWMsK0JBQStCLElBQUksc0JBQXNCLFNBQVMsVUFBVSxVQUFVLG9FQUFvRSxzQkFBc0IsNFRBQTRULFFBQVEsZUFBZSxTQUFTLHdIQUF3SCxPQUFPLDRDQUE0QyxRQUFRLGVBQWUseUVBQXlFLG9CQUFvQiwyQ0FBMkMseUJBQXlCLDJCQUEyQix1R0FBdUcsT0FBTyxXQUFXLGtDQUFrQyxlQUFlLGtDQUFrQyxNQUFNLHFCQUFxQix3REFBd0QsUUFBUSxFQUFFLFdBQVcsa0JBQWtCLGlDQUFpQyxLQUFLLEtBQUssOENBQThDLFNBQVMsa0JBQWtCLE9BQU8sU0FBUyxJQUFJLE1BQU0sV0FBVyxxQkFBcUIsT0FBTyxnRkFBZ0YsOENBQThDLGVBQWUsa0ZBQWtGLDZHQUE2Ryx1T0FBdU8saUJBQWlCLE1BQU0sY0FBYyxzQkFBc0IsaUJBQWlCLE1BQU0s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LFNBQVMsR0FBRyxJQUFJLGdDQUFnQyxtbUJBQW1tQixNQUFNLHVDQUF1Qyx1RkFBdUYsZ0JBQWdCLGdCQUFnQixnRUFBZ0UscUZBQXFGLHFJQUFxSSxTQUFTLGdCQUFnQixNQUFNLDZEQUE2RCwwQkFBMEIsNkJBQTZCLDJDQUEyQyxFQUFFLDBCQUEwQiwyQkFBMkIsb0VBQW9FLEVBQUUsTUFBTSxtREFBbUQsb0JBQW9CLGVBQWUsWUFBWSxXQUFXLDRDQUE0QyxrQkFBa0IsdUNBQXVDLGFBQWEsNENBQTRDLGdCQUFnQixJQUFJLHFGQUFxRixXQUFXLHdHQUF3RyxPQUFvVjtBQUNyOTZKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9wb3N0aG9nLWpzL2Rpc3QvbW9kdWxlLmpzPzYwZDgiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIHQ9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6dm9pZCAwLGk9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbFRoaXM/Z2xvYmFsVGhpczp0LGU9QXJyYXkucHJvdG90eXBlLHI9ZS5mb3JFYWNoLHM9ZS5pbmRleE9mLG49bnVsbD09aT92b2lkIDA6aS5uYXZpZ2F0b3Isbz1udWxsPT1pP3ZvaWQgMDppLmRvY3VtZW50LGE9bnVsbD09aT92b2lkIDA6aS5sb2NhdGlvbixsPW51bGw9PWk/dm9pZCAwOmkuZmV0Y2gsdT1udWxsIT1pJiZpLlhNTEh0dHBSZXF1ZXN0JiZcIndpdGhDcmVkZW50aWFsc1wiaW4gbmV3IGkuWE1MSHR0cFJlcXVlc3Q/aS5YTUxIdHRwUmVxdWVzdDp2b2lkIDAsaD1udWxsPT1pP3ZvaWQgMDppLkFib3J0Q29udHJvbGxlcixkPW51bGw9PW4/dm9pZCAwOm4udXNlckFnZW50LHY9bnVsbCE9dD90Ont9LGM9e0RFQlVHOiExLExJQl9WRVJTSU9OOlwiMS4yOTAuMFwifTtmdW5jdGlvbiBmKHQsaSxlLHIscyxuLG8pe3RyeXt2YXIgYT10W25dKG8pLGw9YS52YWx1ZX1jYXRjaCh0KXtyZXR1cm4gdm9pZCBlKHQpfWEuZG9uZT9pKGwpOlByb21pc2UucmVzb2x2ZShsKS50aGVuKHIscyl9ZnVuY3Rpb24gcCh0KXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgaT10aGlzLGU9YXJndW1lbnRzO3JldHVybiBuZXcgUHJvbWlzZSgoZnVuY3Rpb24ocixzKXt2YXIgbj10LmFwcGx5KGksZSk7ZnVuY3Rpb24gbyh0KXtmKG4scixzLG8sYSxcIm5leHRcIix0KX1mdW5jdGlvbiBhKHQpe2YobixyLHMsbyxhLFwidGhyb3dcIix0KX1vKHZvaWQgMCl9KSl9fWZ1bmN0aW9uIGcoKXtyZXR1cm4gZz1PYmplY3QuYXNzaWduP09iamVjdC5hc3NpZ24uYmluZCgpOmZ1bmN0aW9uKHQpe2Zvcih2YXIgaT0xO2k8YXJndW1lbnRzLmxlbmd0aDtpKyspe3ZhciBlPWFyZ3VtZW50c1tpXTtmb3IodmFyIHIgaW4gZSkoe30pLmhhc093blByb3BlcnR5LmNhbGwoZSxyKSYmKHRbcl09ZVtyXSl9cmV0dXJuIHR9LGcuYXBwbHkobnVsbCxhcmd1bWVudHMpfWZ1bmN0aW9uIF8odCxpKXtpZihudWxsPT10KXJldHVybnt9O3ZhciBlPXt9O2Zvcih2YXIgciBpbiB0KWlmKHt9Lmhhc093blByb3BlcnR5LmNhbGwodCxyKSl7aWYoLTEhPT1pLmluZGV4T2YocikpY29udGludWU7ZVtyXT10W3JdfXJldHVybiBlfXZhciBtPVtcImFtYXpvbmJvdFwiLFwiYW1hem9ucHJvZHVjdGJvdFwiLFwiYXBwLmh5cGVmYWN0b3JzLmNvbVwiLFwiYXBwbGVib3RcIixcImFyY2hpdmUub3JnX2JvdFwiLFwiYXdhcmlvYm90XCIsXCJiYWNrbGlua3NleHRlbmRlZGJvdFwiLFwiYmFpZHVzcGlkZXJcIixcImJpbmdib3RcIixcImJpbmdwcmV2aWV3XCIsXCJjaHJvbWUtbGlnaHRob3VzZVwiLFwiZGF0YWZvcnNlb2JvdFwiLFwiZGVlcHNjYW5cIixcImR1Y2tkdWNrYm90XCIsXCJmYWNlYm9va2V4dGVybmFsXCIsXCJmYWNlYm9va2NhdGFsb2dcIixcImh0dHA6Ly95YW5kZXguY29tL2JvdHNcIixcImh1YnNwb3RcIixcImlhX2FyY2hpdmVyXCIsXCJsZWlraWJvdFwiLFwibGlua2VkaW5ib3RcIixcIm1ldGEtZXh0ZXJuYWxhZ2VudFwiLFwibWoxMmJvdFwiLFwibXNuYm90XCIsXCJuZXNzdXNcIixcInBldGFsYm90XCIsXCJwaW50ZXJlc3RcIixcInByZXJlbmRlclwiLFwicm9nZXJib3RcIixcInNjcmVhbWluZyBmcm9nXCIsXCJzZWJvdC13YVwiLFwic2l0ZWJ1bGJcIixcInNsYWNrYm90XCIsXCJzbHVycFwiLFwidHJlbmRpY3Rpb25ib3RcIixcInR1cm5pdGluXCIsXCJ0d2l0dGVyYm90XCIsXCJ2ZXJjZWwtc2NyZWVuc2hvdFwiLFwidmVyY2VsYm90XCIsXCJ5YWhvbyEgc2x1cnBcIixcInlhbmRleGJvdFwiLFwiem9vbWJvdFwiLFwiYm90Lmh0bVwiLFwiYm90LnBocFwiLFwiKGJvdDtcIixcImJvdC9cIixcImNyYXdsZXJcIixcImFocmVmc2JvdFwiLFwiYWhyZWZzc2l0ZWF1ZGl0XCIsXCJzZW1ydXNoYm90XCIsXCJzaXRlYXVkaXRib3RcIixcInNwbGl0c2lnbmFsYm90XCIsXCJncHRib3RcIixcIm9haS1zZWFyY2hib3RcIixcImNoYXRncHQtdXNlclwiLFwicGVycGxleGl0eWJvdFwiLFwiYmV0dGVyIHVwdGltZSBib3RcIixcInNlbnRyeXVwdGltZWJvdFwiLFwidXB0aW1lcm9ib3RcIixcImhlYWRsZXNzY2hyb21lXCIsXCJjeXByZXNzXCIsXCJnb29nbGUtaG90ZWxhZHN2ZXJpZmllclwiLFwiYWRzYm90LWdvb2dsZVwiLFwiYXBpcy1nb29nbGVcIixcImR1cGxleHdlYi1nb29nbGVcIixcImZlZWRmZXRjaGVyLWdvb2dsZVwiLFwiZ29vZ2xlIGZhdmljb25cIixcImdvb2dsZSB3ZWIgcHJldmlld1wiLFwiZ29vZ2xlLXJlYWQtYWxvdWRcIixcImdvb2dsZWJvdFwiLFwiZ29vZ2xlb3RoZXJcIixcImdvb2dsZS1jbG91ZHZlcnRleGJvdFwiLFwiZ29vZ2xld2VibGlnaHRcIixcIm1lZGlhcGFydG5lcnMtZ29vZ2xlXCIsXCJzdG9yZWJvdC1nb29nbGVcIixcImdvb2dsZS1pbnNwZWN0aW9udG9vbFwiLFwiYnl0ZXNwaWRlclwiXSx5PWZ1bmN0aW9uKHQsaSl7aWYodm9pZCAwPT09aSYmKGk9W10pLCF0KXJldHVybiExO3ZhciBlPXQudG9Mb3dlckNhc2UoKTtyZXR1cm4gbS5jb25jYXQoaSkuc29tZSgodD0+e3ZhciBpPXQudG9Mb3dlckNhc2UoKTtyZXR1cm4tMSE9PWUuaW5kZXhPZihpKX0pKX0sYj1bXCIkc25hcHNob3RcIixcIiRwYWdldmlld1wiLFwiJHBhZ2VsZWF2ZVwiLFwiJHNldFwiLFwic3VydmV5IGRpc21pc3NlZFwiLFwic3VydmV5IHNlbnRcIixcInN1cnZleSBzaG93blwiLFwiJGlkZW50aWZ5XCIsXCIkZ3JvdXBpZGVudGlmeVwiLFwiJGNyZWF0ZV9hbGlhc1wiLFwiJCRjbGllbnRfaW5nZXN0aW9uX3dhcm5pbmdcIixcIiR3ZWJfZXhwZXJpbWVudF9hcHBsaWVkXCIsXCIkZmVhdHVyZV9lbnJvbGxtZW50X3VwZGF0ZVwiLFwiJGZlYXR1cmVfZmxhZ19jYWxsZWRcIl07ZnVuY3Rpb24gdyh0LGkpe3JldHVybi0xIT09dC5pbmRleE9mKGkpfXZhciB4PWZ1bmN0aW9uKHQpe3JldHVybiB0LnRyaW0oKX0sUz1mdW5jdGlvbih0KXtyZXR1cm4gdC5yZXBsYWNlKC9eXFwkLyxcIlwiKX07dmFyIEU9QXJyYXkuaXNBcnJheSxrPU9iamVjdC5wcm90b3R5cGUsUD1rLmhhc093blByb3BlcnR5LFQ9ay50b1N0cmluZyxJPUV8fGZ1bmN0aW9uKHQpe3JldHVyblwiW29iamVjdCBBcnJheV1cIj09PVQuY2FsbCh0KX0sUj10PT5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0LEM9dD0+dD09PU9iamVjdCh0KSYmIUkodCksTz10PT57aWYoQyh0KSl7Zm9yKHZhciBpIGluIHQpaWYoUC5jYWxsKHQsaSkpcmV0dXJuITE7cmV0dXJuITB9cmV0dXJuITF9LEY9dD0+dm9pZCAwPT09dCxNPXQ9PlwiW29iamVjdCBTdHJpbmddXCI9PVQuY2FsbCh0KSxBPXQ9Pk0odCkmJjA9PT10LnRyaW0oKS5sZW5ndGgsRD10PT5udWxsPT09dCxqPXQ9PkYodCl8fEQodCksTD10PT5cIltvYmplY3QgTnVtYmVyXVwiPT1ULmNhbGwodCksTj10PT5cIltvYmplY3QgQm9vbGVhbl1cIj09PVQuY2FsbCh0KSxVPXQ9PnQgaW5zdGFuY2VvZiBGb3JtRGF0YSx6PXQ9PncoYix0KTtmdW5jdGlvbiBIKHQpe3JldHVybiBudWxsPT09dHx8XCJvYmplY3RcIiE9dHlwZW9mIHR9ZnVuY3Rpb24gQih0LGkpe3JldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCk9PT1cIltvYmplY3QgXCIraStcIl1cIn1mdW5jdGlvbiBxKHQpe3JldHVybiFGKEV2ZW50KSYmZnVuY3Rpb24odCxpKXt0cnl7cmV0dXJuIHQgaW5zdGFuY2VvZiBpfWNhdGNoKHQpe3JldHVybiExfX0odCxFdmVudCl9dmFyIFc9WyEwLFwidHJ1ZVwiLDEsXCIxXCIsXCJ5ZXNcIl0sRz10PT53KFcsdCksVj1bITEsXCJmYWxzZVwiLDAsXCIwXCIsXCJub1wiXTtmdW5jdGlvbiBKKHQsaSxlLHIscyl7cmV0dXJuIGk+ZSYmKHIud2FybihcIm1pbiBjYW5ub3QgYmUgZ3JlYXRlciB0aGFuIG1heC5cIiksaT1lKSxMKHQpP3Q+ZT8oci53YXJuKFwiIGNhbm5vdCBiZSAgZ3JlYXRlciB0aGFuIG1heDogXCIrZStcIi4gVXNpbmcgbWF4IHZhbHVlIGluc3RlYWQuXCIpLGUpOnQ8aT8oci53YXJuKFwiIGNhbm5vdCBiZSBsZXNzIHRoYW4gbWluOiBcIitpK1wiLiBVc2luZyBtaW4gdmFsdWUgaW5zdGVhZC5cIiksaSk6dDooci53YXJuKFwiIG11c3QgYmUgYSBudW1iZXIuIHVzaW5nIG1heCBvciBmYWxsYmFjay4gbWF4OiBcIitlK1wiLCBmYWxsYmFjazogXCIrcyksSihzfHxlLGksZSxyKSl9Y2xhc3MgS3tjb25zdHJ1Y3Rvcih0KXt0aGlzLnQ9e30sdGhpcy5pPXQuaSx0aGlzLm89Sih0LmJ1Y2tldFNpemUsMCwxMDAsdC5oKSx0aGlzLm09Sih0LnJlZmlsbFJhdGUsMCx0aGlzLm8sdC5oKSx0aGlzLiQ9Sih0LnJlZmlsbEludGVydmFsLDAsODY0ZTUsdC5oKX1TKHQsaSl7dmFyIGU9aS10Lmxhc3RBY2Nlc3Mscj1NYXRoLmZsb29yKGUvdGhpcy4kKTtpZihyPjApe3ZhciBzPXIqdGhpcy5tO3QudG9rZW5zPU1hdGgubWluKHQudG9rZW5zK3MsdGhpcy5vKSx0Lmxhc3RBY2Nlc3M9dC5sYXN0QWNjZXNzK3IqdGhpcy4kfX1jb25zdW1lUmF0ZUxpbWl0KHQpe3ZhciBpLGU9RGF0ZS5ub3coKSxyPVN0cmluZyh0KSxzPXRoaXMudFtyXTtyZXR1cm4gcz90aGlzLlMocyxlKToocz17dG9rZW5zOnRoaXMubyxsYXN0QWNjZXNzOmV9LHRoaXMudFtyXT1zKSwwPT09cy50b2tlbnN8fChzLnRva2Vucy0tLDA9PT1zLnRva2VucyYmKG51bGw9PShpPXRoaXMuaSl8fGkuY2FsbCh0aGlzLHQpKSwwPT09cy50b2tlbnMpfXN0b3AoKXt0aGlzLnQ9e319fXZhciBZLFgsUSxaPXQ9PnQgaW5zdGFuY2VvZiBFcnJvcjtmdW5jdGlvbiB0dCh0KXt2YXIgaT1nbG9iYWxUaGlzLl9wb3N0aG9nQ2h1bmtJZHM7aWYoaSl7dmFyIGU9T2JqZWN0LmtleXMoaSk7cmV0dXJuIFEmJmUubGVuZ3RoPT09WHx8KFg9ZS5sZW5ndGgsUT1lLnJlZHVjZSgoKGUscik9PntZfHwoWT17fSk7dmFyIHM9WVtyXTtpZihzKWVbc1swXV09c1sxXTtlbHNlIGZvcih2YXIgbj10KHIpLG89bi5sZW5ndGgtMTtvPj0wO28tLSl7dmFyIGE9bltvXSxsPW51bGw9PWE/dm9pZCAwOmEuZmlsZW5hbWUsdT1pW3JdO2lmKGwmJnUpe2VbbF09dSxZW3JdPVtsLHVdO2JyZWFrfX1yZXR1cm4gZX0pLHt9KSksUX19dmFyIGl0PVwiP1wiO2Z1bmN0aW9uIGV0KHQsaSxlLHIpe3ZhciBzPXtwbGF0Zm9ybTpcIndlYjpqYXZhc2NyaXB0XCIsZmlsZW5hbWU6dCxmdW5jdGlvbjpcIjxhbm9ueW1vdXM+XCI9PT1pP2l0OmksaW5fYXBwOiEwfTtyZXR1cm4gRihlKXx8KHMubGluZW5vPWUpLEYocil8fChzLmNvbG5vPXIpLHN9dmFyIHJ0PSh0LGkpPT57dmFyIGU9LTEhPT10LmluZGV4T2YoXCJzYWZhcmktZXh0ZW5zaW9uXCIpLHI9LTEhPT10LmluZGV4T2YoXCJzYWZhcmktd2ViLWV4dGVuc2lvblwiKTtyZXR1cm4gZXx8cj9bLTEhPT10LmluZGV4T2YoXCJAXCIpP3Quc3BsaXQoXCJAXCIpWzBdOml0LGU/XCJzYWZhcmktZXh0ZW5zaW9uOlwiK2k6XCJzYWZhcmktd2ViLWV4dGVuc2lvbjpcIitpXTpbdCxpXX0sc3Q9L15cXHMqYXQgKFxcUys/KSg/OjooXFxkKykpKD86OihcXGQrKSlcXHMqJC9pLG50PS9eXFxzKmF0ICg/OiguKz9cXCkoPzogXFxbLitcXF0pP3wuKj8pID9cXCgoPzphZGRyZXNzIGF0ICk/KT8oPzphc3luYyApPygoPzo8YW5vbnltb3VzPnxbLWEtel0rOnwuKmJ1bmRsZXxcXC8pPy4qPykoPzo6KFxcZCspKT8oPzo6KFxcZCspKT9cXCk/XFxzKiQvaSxvdD0vXFwoKFxcUyopKD86OihcXGQrKSkoPzo6KFxcZCspKVxcKS8sYXQ9dD0+e3ZhciBpPXN0LmV4ZWModCk7aWYoaSl7dmFyWyxlLHIsc109aTtyZXR1cm4gZXQoZSxpdCwrciwrcyl9dmFyIG49bnQuZXhlYyh0KTtpZihuKXtpZihuWzJdJiYwPT09blsyXS5pbmRleE9mKFwiZXZhbFwiKSl7dmFyIG89b3QuZXhlYyhuWzJdKTtvJiYoblsyXT1vWzFdLG5bM109b1syXSxuWzRdPW9bM10pfXZhclthLGxdPXJ0KG5bMV18fGl0LG5bMl0pO3JldHVybiBldChsLGEsblszXT8rblszXTp2b2lkIDAsbls0XT8rbls0XTp2b2lkIDApfX0sbHQ9L15cXHMqKC4qPykoPzpcXCgoLio/KVxcKSk/KD86XnxAKT8oKD86Wy1hLXpdKyk/OlxcLy4qP3xcXFtuYXRpdmUgY29kZVxcXXxbXkBdKig/OmJ1bmRsZXxcXGQrXFwuanMpfFxcL1tcXHdcXC0uIC89XSspKD86OihcXGQrKSk/KD86OihcXGQrKSk/XFxzKiQvaSx1dD0vKFxcUyspIGxpbmUgKFxcZCspKD86ID4gZXZhbCBsaW5lIFxcZCspKiA+IGV2YWwvaSxodD10PT57dmFyIGk9bHQuZXhlYyh0KTtpZihpKXtpZihpWzNdJiZpWzNdLmluZGV4T2YoXCIgPiBldmFsXCIpPi0xKXt2YXIgZT11dC5leGVjKGlbM10pO2UmJihpWzFdPWlbMV18fFwiZXZhbFwiLGlbM109ZVsxXSxpWzRdPWVbMl0saVs1XT1cIlwiKX12YXIgcj1pWzNdLHM9aVsxXXx8aXQ7cmV0dXJuW3Mscl09cnQocyxyKSxldChyLHMsaVs0XT8raVs0XTp2b2lkIDAsaVs1XT8raVs1XTp2b2lkIDApfX0sZHQ9L1xcKGVycm9yOiAoLiopXFwpLyx2dD01MDtmdW5jdGlvbiBjdCgpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGk9bmV3IEFycmF5KHQpLGU9MDtlPHQ7ZSsrKWlbZV09YXJndW1lbnRzW2VdO3JldHVybiBmdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPTApO2Zvcih2YXIgcj1bXSxzPXQuc3BsaXQoXCJcXG5cIiksbj1lO248cy5sZW5ndGg7bisrKXt2YXIgbz1zW25dO2lmKCEoby5sZW5ndGg+MTAyNCkpe3ZhciBhPWR0LnRlc3Qobyk/by5yZXBsYWNlKGR0LFwiJDFcIik6bztpZighYS5tYXRjaCgvXFxTKkVycm9yOiAvKSl7Zm9yKHZhciBsIG9mIGkpe3ZhciB1PWwoYSk7aWYodSl7ci5wdXNoKHUpO2JyZWFrfX1pZihyLmxlbmd0aD49dnQpYnJlYWt9fX1yZXR1cm4gZnVuY3Rpb24odCl7aWYoIXQubGVuZ3RoKXJldHVybltdO3ZhciBpPUFycmF5LmZyb20odCk7cmV0dXJuIGkucmV2ZXJzZSgpLGkuc2xpY2UoMCx2dCkubWFwKCh0PT57cmV0dXJuIGcoe30sdCx7ZmlsZW5hbWU6dC5maWxlbmFtZXx8KGU9aSxlW2UubGVuZ3RoLTFdfHx7fSkuZmlsZW5hbWUsZnVuY3Rpb246dC5mdW5jdGlvbnx8aXR9KTt2YXIgZX0pKX0ocil9fWNsYXNzIGZ0e2NvbnN0cnVjdG9yKHQsaSxlKXt2b2lkIDA9PT10JiYodD1bXSksdm9pZCAwPT09aSYmKGk9W10pLHZvaWQgMD09PWUmJihlPVtdKSx0aGlzLmNvZXJjZXJzPXQsdGhpcy5tb2RpZmllcnM9ZSx0aGlzLnN0YWNrUGFyc2VyPWN0KC4uLmkpfWJ1aWxkRnJvbVVua25vd24odCxpKXt2b2lkIDA9PT1pJiYoaT17fSk7dmFyIGU9aSYmaS5tZWNoYW5pc218fHtoYW5kbGVkOiEwLHR5cGU6XCJnZW5lcmljXCJ9LHI9dGhpcy5idWlsZENvZXJjaW5nQ29udGV4dChlLGksMCkuYXBwbHkodCkscz10aGlzLmJ1aWxkUGFyc2luZ0NvbnRleHQoKSxuPXRoaXMucGFyc2VTdGFja3RyYWNlKHIscyk7cmV0dXJueyRleGNlcHRpb25fbGlzdDp0aGlzLmNvbnZlcnRUb0V4Y2VwdGlvbkxpc3QobixlKSwkZXhjZXB0aW9uX2xldmVsOlwiZXJyb3JcIn19bW9kaWZ5RnJhbWVzKHQpe3ZhciBpPXRoaXM7cmV0dXJuIHAoKGZ1bmN0aW9uKigpe2Zvcih2YXIgZSBvZiB0KWUuc3RhY2t0cmFjZSYmZS5zdGFja3RyYWNlLmZyYW1lcyYmSShlLnN0YWNrdHJhY2UuZnJhbWVzKSYmKGUuc3RhY2t0cmFjZS5mcmFtZXM9eWllbGQgaS5hcHBseU1vZGlmaWVycyhlLnN0YWNrdHJhY2UuZnJhbWVzKSk7cmV0dXJuIHR9KSkoKX1jb2VyY2VGYWxsYmFjayh0KXt2YXIgaTtyZXR1cm57dHlwZTpcIkVycm9yXCIsdmFsdWU6XCJVbmtub3duIGVycm9yXCIsc3RhY2s6bnVsbD09KGk9dC5zeW50aGV0aWNFeGNlcHRpb24pP3ZvaWQgMDppLnN0YWNrLHN5bnRoZXRpYzohMH19cGFyc2VTdGFja3RyYWNlKHQsaSl7dmFyIGUscjtyZXR1cm4gbnVsbCE9dC5jYXVzZSYmKGU9dGhpcy5wYXJzZVN0YWNrdHJhY2UodC5jYXVzZSxpKSksXCJcIiE9dC5zdGFjayYmbnVsbCE9dC5zdGFjayYmKHI9dGhpcy5hcHBseUNodW5rSWRzKHRoaXMuc3RhY2tQYXJzZXIodC5zdGFjayx0LnN5bnRoZXRpYz8xOjApLGkuY2h1bmtJZE1hcCkpLGcoe30sdCx7Y2F1c2U6ZSxzdGFjazpyfSl9YXBwbHlDaHVua0lkcyh0LGkpe3JldHVybiB0Lm1hcCgodD0+KHQuZmlsZW5hbWUmJmkmJih0LmNodW5rX2lkPWlbdC5maWxlbmFtZV0pLHQpKSl9YXBwbHlDb2VyY2Vycyh0LGkpe2Zvcih2YXIgZSBvZiB0aGlzLmNvZXJjZXJzKWlmKGUubWF0Y2godCkpcmV0dXJuIGUuY29lcmNlKHQsaSk7cmV0dXJuIHRoaXMuY29lcmNlRmFsbGJhY2soaSl9YXBwbHlNb2RpZmllcnModCl7dmFyIGk9dGhpcztyZXR1cm4gcCgoZnVuY3Rpb24qKCl7dmFyIGU9dDtmb3IodmFyIHIgb2YgaS5tb2RpZmllcnMpZT15aWVsZCByKGUpO3JldHVybiBlfSkpKCl9Y29udmVydFRvRXhjZXB0aW9uTGlzdCh0LGkpe3ZhciBlLHIscyxuPXt0eXBlOnQudHlwZSx2YWx1ZTp0LnZhbHVlLG1lY2hhbmlzbTp7dHlwZTpudWxsIT09KGU9aS50eXBlKSYmdm9pZCAwIT09ZT9lOlwiZ2VuZXJpY1wiLGhhbmRsZWQ6bnVsbD09PShyPWkuaGFuZGxlZCl8fHZvaWQgMD09PXJ8fHIsc3ludGhldGljOm51bGwhPT0ocz10LnN5bnRoZXRpYykmJnZvaWQgMCE9PXMmJnN9fTt0LnN0YWNrJiYobi5zdGFja3RyYWNlPXt0eXBlOlwicmF3XCIsZnJhbWVzOnQuc3RhY2t9KTt2YXIgbz1bbl07cmV0dXJuIG51bGwhPXQuY2F1c2UmJm8ucHVzaCguLi50aGlzLmNvbnZlcnRUb0V4Y2VwdGlvbkxpc3QodC5jYXVzZSxnKHt9LGkse2hhbmRsZWQ6ITB9KSkpLG99YnVpbGRQYXJzaW5nQ29udGV4dCgpe3JldHVybntjaHVua0lkTWFwOnR0KHRoaXMuc3RhY2tQYXJzZXIpfX1idWlsZENvZXJjaW5nQ29udGV4dCh0LGksZSl7dm9pZCAwPT09ZSYmKGU9MCk7dmFyIHI9KGUscik9PntpZihyPD00KXt2YXIgcz10aGlzLmJ1aWxkQ29lcmNpbmdDb250ZXh0KHQsaSxyKTtyZXR1cm4gdGhpcy5hcHBseUNvZXJjZXJzKGUscyl9fTtyZXR1cm4gZyh7fSxpLHtzeW50aGV0aWNFeGNlcHRpb246MD09ZT9pLnN5bnRoZXRpY0V4Y2VwdGlvbjp2b2lkIDAsbWVjaGFuaXNtOnQsYXBwbHk6dD0+cih0LGUpLG5leHQ6dD0+cih0LGUrMSl9KX19Y2xhc3MgcHR7bWF0Y2godCl7cmV0dXJuIHRoaXMuaXNET01FeGNlcHRpb24odCl8fHRoaXMuaXNET01FcnJvcih0KX1jb2VyY2UodCxpKXt2YXIgZT1NKHQuc3RhY2spO3JldHVybnt0eXBlOnRoaXMuZ2V0VHlwZSh0KSx2YWx1ZTp0aGlzLmdldFZhbHVlKHQpLHN0YWNrOmU/dC5zdGFjazp2b2lkIDAsY2F1c2U6dC5jYXVzZT9pLm5leHQodC5jYXVzZSk6dm9pZCAwLHN5bnRoZXRpYzohMX19Z2V0VHlwZSh0KXtyZXR1cm4gdGhpcy5pc0RPTUVycm9yKHQpP1wiRE9NRXJyb3JcIjpcIkRPTUV4Y2VwdGlvblwifWdldFZhbHVlKHQpe3ZhciBpPXQubmFtZXx8KHRoaXMuaXNET01FcnJvcih0KT9cIkRPTUVycm9yXCI6XCJET01FeGNlcHRpb25cIik7cmV0dXJuIHQubWVzc2FnZT9pK1wiOiBcIit0Lm1lc3NhZ2U6aX1pc0RPTUV4Y2VwdGlvbih0KXtyZXR1cm4gQih0LFwiRE9NRXhjZXB0aW9uXCIpfWlzRE9NRXJyb3IodCl7cmV0dXJuIEIodCxcIkRPTUVycm9yXCIpfX1jbGFzcyBndHttYXRjaCh0KXtyZXR1cm4odD0+dCBpbnN0YW5jZW9mIEVycm9yKSh0KX1jb2VyY2UodCxpKXtyZXR1cm57dHlwZTp0aGlzLmdldFR5cGUodCksdmFsdWU6dGhpcy5nZXRNZXNzYWdlKHQsaSksc3RhY2s6dGhpcy5nZXRTdGFjayh0KSxjYXVzZTp0LmNhdXNlP2kubmV4dCh0LmNhdXNlKTp2b2lkIDAsc3ludGhldGljOiExfX1nZXRUeXBlKHQpe3JldHVybiB0Lm5hbWV8fHQuY29uc3RydWN0b3IubmFtZX1nZXRNZXNzYWdlKHQsaSl7dmFyIGU9dC5tZXNzYWdlO3JldHVybiBlLmVycm9yJiZcInN0cmluZ1wiPT10eXBlb2YgZS5lcnJvci5tZXNzYWdlP1N0cmluZyhlLmVycm9yLm1lc3NhZ2UpOlN0cmluZyhlKX1nZXRTdGFjayh0KXtyZXR1cm4gdC5zdGFja3RyYWNlfHx0LnN0YWNrfHx2b2lkIDB9fWNsYXNzIF90e2NvbnN0cnVjdG9yKCl7fW1hdGNoKHQpe3JldHVybiBCKHQsXCJFcnJvckV2ZW50XCIpJiZudWxsIT10LmVycm9yfWNvZXJjZSh0LGkpe3ZhciBlLHI9aS5hcHBseSh0LmVycm9yKTtyZXR1cm4gcnx8e3R5cGU6XCJFcnJvckV2ZW50XCIsdmFsdWU6dC5tZXNzYWdlLHN0YWNrOm51bGw9PShlPWkuc3ludGhldGljRXhjZXB0aW9uKT92b2lkIDA6ZS5zdGFjayxzeW50aGV0aWM6ITB9fX12YXIgbXQ9L14oPzpbVXVdbmNhdWdodCAoPzpleGNlcHRpb246ICk/KT8oPzooKD86RXZhbHxJbnRlcm5hbHxSYW5nZXxSZWZlcmVuY2V8U3ludGF4fFR5cGV8VVJJfClFcnJvcik6ICk/KC4qKSQvaTtjbGFzcyB5dHttYXRjaCh0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdH1jb2VyY2UodCxpKXt2YXIgZSxbcixzXT10aGlzLmdldEluZm9zKHQpO3JldHVybnt0eXBlOm51bGwhPXI/cjpcIkVycm9yXCIsdmFsdWU6bnVsbCE9cz9zOnQsc3RhY2s6bnVsbD09KGU9aS5zeW50aGV0aWNFeGNlcHRpb24pP3ZvaWQgMDplLnN0YWNrLHN5bnRoZXRpYzohMH19Z2V0SW5mb3ModCl7dmFyIGk9XCJFcnJvclwiLGU9dCxyPXQubWF0Y2gobXQpO3JldHVybiByJiYoaT1yWzFdLGU9clsyXSksW2ksZV19fXZhciBidD1bXCJmYXRhbFwiLFwiZXJyb3JcIixcIndhcm5pbmdcIixcImxvZ1wiLFwiaW5mb1wiLFwiZGVidWdcIl07ZnVuY3Rpb24gd3QodCxpKXt2b2lkIDA9PT1pJiYoaT00MCk7dmFyIGU9T2JqZWN0LmtleXModCk7aWYoZS5zb3J0KCksIWUubGVuZ3RoKXJldHVyblwiW29iamVjdCBoYXMgbm8ga2V5c11cIjtmb3IodmFyIHI9ZS5sZW5ndGg7cj4wO3ItLSl7dmFyIHM9ZS5zbGljZSgwLHIpLmpvaW4oXCIsIFwiKTtpZighKHMubGVuZ3RoPmkpKXJldHVybiByPT09ZS5sZW5ndGh8fHMubGVuZ3RoPD1pP3M6cy5zbGljZSgwLGkpK1wiLi4uXCJ9cmV0dXJuXCJcIn1jbGFzcyB4dHttYXRjaCh0KXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgdCYmbnVsbCE9PXR9Y29lcmNlKHQsaSl7dmFyIGUscj10aGlzLmdldEVycm9yUHJvcGVydHlGcm9tT2JqZWN0KHQpO3JldHVybiByP2kuYXBwbHkocik6e3R5cGU6dGhpcy5nZXRUeXBlKHQpLHZhbHVlOnRoaXMuZ2V0VmFsdWUodCksc3RhY2s6bnVsbD09KGU9aS5zeW50aGV0aWNFeGNlcHRpb24pP3ZvaWQgMDplLnN0YWNrLGxldmVsOnRoaXMuaXNTZXZlcml0eUxldmVsKHQubGV2ZWwpP3QubGV2ZWw6XCJlcnJvclwiLHN5bnRoZXRpYzohMH19Z2V0VHlwZSh0KXtyZXR1cm4gcSh0KT90LmNvbnN0cnVjdG9yLm5hbWU6XCJFcnJvclwifWdldFZhbHVlKHQpe2lmKFwibmFtZVwiaW4gdCYmXCJzdHJpbmdcIj09dHlwZW9mIHQubmFtZSl7dmFyIGk9XCInXCIrdC5uYW1lK1wiJyBjYXB0dXJlZCBhcyBleGNlcHRpb25cIjtyZXR1cm5cIm1lc3NhZ2VcImluIHQmJlwic3RyaW5nXCI9PXR5cGVvZiB0Lm1lc3NhZ2UmJihpKz1cIiB3aXRoIG1lc3NhZ2U6ICdcIit0Lm1lc3NhZ2UrXCInXCIpLGl9aWYoXCJtZXNzYWdlXCJpbiB0JiZcInN0cmluZ1wiPT10eXBlb2YgdC5tZXNzYWdlKXJldHVybiB0Lm1lc3NhZ2U7dmFyIGU9dGhpcy5nZXRPYmplY3RDbGFzc05hbWUodCk7cmV0dXJuKGUmJlwiT2JqZWN0XCIhPT1lP1wiJ1wiK2UrXCInXCI6XCJPYmplY3RcIikrXCIgY2FwdHVyZWQgYXMgZXhjZXB0aW9uIHdpdGgga2V5czogXCIrd3QodCl9aXNTZXZlcml0eUxldmVsKHQpe3JldHVybiBNKHQpJiYhQSh0KSYmYnQuaW5kZXhPZih0KT49MH1nZXRFcnJvclByb3BlcnR5RnJvbU9iamVjdCh0KXtmb3IodmFyIGkgaW4gdClpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxpKSl7dmFyIGU9dFtpXTtpZihaKGUpKXJldHVybiBlfX1nZXRPYmplY3RDbGFzc05hbWUodCl7dHJ5e3ZhciBpPU9iamVjdC5nZXRQcm90b3R5cGVPZih0KTtyZXR1cm4gaT9pLmNvbnN0cnVjdG9yLm5hbWU6dm9pZCAwfWNhdGNoKHQpe3JldHVybn19fWNsYXNzICR0e21hdGNoKHQpe3JldHVybiBxKHQpfWNvZXJjZSh0LGkpe3ZhciBlLHI9dC5jb25zdHJ1Y3Rvci5uYW1lO3JldHVybnt0eXBlOnIsdmFsdWU6citcIiBjYXB0dXJlZCBhcyBleGNlcHRpb24gd2l0aCBrZXlzOiBcIit3dCh0KSxzdGFjazpudWxsPT0oZT1pLnN5bnRoZXRpY0V4Y2VwdGlvbik/dm9pZCAwOmUuc3RhY2ssc3ludGhldGljOiEwfX19Y2xhc3MgU3R7bWF0Y2godCl7cmV0dXJuIEgodCl9Y29lcmNlKHQsaSl7dmFyIGU7cmV0dXJue3R5cGU6XCJFcnJvclwiLHZhbHVlOlwiUHJpbWl0aXZlIHZhbHVlIGNhcHR1cmVkIGFzIGV4Y2VwdGlvbjogXCIrU3RyaW5nKHQpLHN0YWNrOm51bGw9PShlPWkuc3ludGhldGljRXhjZXB0aW9uKT92b2lkIDA6ZS5zdGFjayxzeW50aGV0aWM6ITB9fX1jbGFzcyBFdHttYXRjaCh0KXtyZXR1cm4gQih0LFwiUHJvbWlzZVJlamVjdGlvbkV2ZW50XCIpfWNvZXJjZSh0LGkpe3ZhciBlLHI9dGhpcy5nZXRVbmhhbmRsZWRSZWplY3Rpb25SZWFzb24odCk7cmV0dXJuIEgocik/e3R5cGU6XCJVbmhhbmRsZWRSZWplY3Rpb25cIix2YWx1ZTpcIk5vbi1FcnJvciBwcm9taXNlIHJlamVjdGlvbiBjYXB0dXJlZCB3aXRoIHZhbHVlOiBcIitTdHJpbmcociksc3RhY2s6bnVsbD09KGU9aS5zeW50aGV0aWNFeGNlcHRpb24pP3ZvaWQgMDplLnN0YWNrLHN5bnRoZXRpYzohMH06aS5hcHBseShyKX1nZXRVbmhhbmRsZWRSZWplY3Rpb25SZWFzb24odCl7aWYoSCh0KSlyZXR1cm4gdDt0cnl7aWYoXCJyZWFzb25cImluIHQpcmV0dXJuIHQucmVhc29uO2lmKFwiZGV0YWlsXCJpbiB0JiZcInJlYXNvblwiaW4gdC5kZXRhaWwpcmV0dXJuIHQuZGV0YWlsLnJlYXNvbn1jYXRjaCh0KXt9cmV0dXJuIHR9fXZhciBrdD1pPT57dmFyIGU9e2s6ZnVuY3Rpb24oZSl7aWYodCYmKGMuREVCVUd8fHYuUE9TVEhPR19ERUJVRykmJiFGKHQuY29uc29sZSkmJnQuY29uc29sZSl7Zm9yKHZhciByPShcIl9fcnJ3ZWJfb3JpZ2luYWxfX1wiaW4gdC5jb25zb2xlW2VdP3QuY29uc29sZVtlXS5fX3Jyd2ViX29yaWdpbmFsX186dC5jb25zb2xlW2VdKSxzPWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkocz4xP3MtMTowKSxvPTE7bzxzO28rKyluW28tMV09YXJndW1lbnRzW29dO3IoaSwuLi5uKX19LGluZm86ZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxpPW5ldyBBcnJheSh0KSxyPTA7cjx0O3IrKylpW3JdPWFyZ3VtZW50c1tyXTtlLmsoXCJsb2dcIiwuLi5pKX0sd2FybjpmdW5jdGlvbigpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGk9bmV3IEFycmF5KHQpLHI9MDtyPHQ7cisrKWlbcl09YXJndW1lbnRzW3JdO2UuayhcIndhcm5cIiwuLi5pKX0sZXJyb3I6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxpPW5ldyBBcnJheSh0KSxyPTA7cjx0O3IrKylpW3JdPWFyZ3VtZW50c1tyXTtlLmsoXCJlcnJvclwiLC4uLmkpfSxjcml0aWNhbDpmdW5jdGlvbigpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGU9bmV3IEFycmF5KHQpLHI9MDtyPHQ7cisrKWVbcl09YXJndW1lbnRzW3JdO2NvbnNvbGUuZXJyb3IoaSwuLi5lKX0sdW5pbml0aWFsaXplZFdhcm5pbmc6dD0+e2UuZXJyb3IoXCJZb3UgbXVzdCBpbml0aWFsaXplIFBvc3RIb2cgYmVmb3JlIGNhbGxpbmcgXCIrdCl9LGNyZWF0ZUxvZ2dlcjp0PT5rdChpK1wiIFwiK3QpfTtyZXR1cm4gZX0sUHQ9a3QoXCJbUG9zdEhvZy5qc11cIiksVHQ9UHQuY3JlYXRlTG9nZ2VyLEl0PVR0KFwiW0V4dGVybmFsU2NyaXB0c0xvYWRlcl1cIiksUnQ9KHQsaSxlKT0+e2lmKHQuY29uZmlnLmRpc2FibGVfZXh0ZXJuYWxfZGVwZW5kZW5jeV9sb2FkaW5nKXJldHVybiBJdC53YXJuKGkrXCIgd2FzIHJlcXVlc3RlZCBidXQgbG9hZGluZyBvZiBleHRlcm5hbCBzY3JpcHRzIGlzIGRpc2FibGVkLlwiKSxlKFwiTG9hZGluZyBvZiBleHRlcm5hbCBzY3JpcHRzIGlzIGRpc2FibGVkXCIpO3ZhciByPW51bGw9PW8/dm9pZCAwOm8ucXVlcnlTZWxlY3RvckFsbChcInNjcmlwdFwiKTtpZihyKWZvcih2YXIgcyxuPWZ1bmN0aW9uKCl7aWYoclthXS5zcmM9PT1pKXt2YXIgdD1yW2FdO3JldHVybiB0Ll9fcG9zdGhvZ19sb2FkaW5nX2NhbGxiYWNrX2ZpcmVkP3t2OmUoKX06KHQuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwoaT0+e3QuX19wb3N0aG9nX2xvYWRpbmdfY2FsbGJhY2tfZmlyZWQ9ITAsZSh2b2lkIDAsaSl9KSksdC5vbmVycm9yPXQ9PmUodCkse3Y6dm9pZCAwfSl9fSxhPTA7YTxyLmxlbmd0aDthKyspaWYocz1uKCkpcmV0dXJuIHMudjt2YXIgbD0oKT0+e2lmKCFvKXJldHVybiBlKFwiZG9jdW1lbnQgbm90IGZvdW5kXCIpO3ZhciByPW8uY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtpZihyLnR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIixyLmNyb3NzT3JpZ2luPVwiYW5vbnltb3VzXCIsci5zcmM9aSxyLm9ubG9hZD10PT57ci5fX3Bvc3Rob2dfbG9hZGluZ19jYWxsYmFja19maXJlZD0hMCxlKHZvaWQgMCx0KX0sci5vbmVycm9yPXQ9PmUodCksdC5jb25maWcucHJlcGFyZV9leHRlcm5hbF9kZXBlbmRlbmN5X3NjcmlwdCYmKHI9dC5jb25maWcucHJlcGFyZV9leHRlcm5hbF9kZXBlbmRlbmN5X3NjcmlwdChyKSksIXIpcmV0dXJuIGUoXCJwcmVwYXJlX2V4dGVybmFsX2RlcGVuZGVuY3lfc2NyaXB0IHJldHVybmVkIG51bGxcIik7dmFyIHMsbj1vLnF1ZXJ5U2VsZWN0b3JBbGwoXCJib2R5ID4gc2NyaXB0XCIpO24ubGVuZ3RoPjA/bnVsbD09KHM9blswXS5wYXJlbnROb2RlKXx8cy5pbnNlcnRCZWZvcmUocixuWzBdKTpvLmJvZHkuYXBwZW5kQ2hpbGQocil9O251bGwhPW8mJm8uYm9keT9sKCk6bnVsbD09b3x8by5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLGwpfTt2Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXz12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfX3x8e30sdi5fX1Bvc3Rob2dFeHRlbnNpb25zX18ubG9hZEV4dGVybmFsRGVwZW5kZW5jeT0odCxpLGUpPT57dmFyIHI9XCIvc3RhdGljL1wiK2krXCIuanM/dj1cIit0LnZlcnNpb247aWYoXCJyZW1vdGUtY29uZmlnXCI9PT1pJiYocj1cIi9hcnJheS9cIit0LmNvbmZpZy50b2tlbitcIi9jb25maWcuanNcIiksXCJ0b29sYmFyXCI9PT1pKXt2YXIgcz0zZTU7cj1yK1wiJnQ9XCIrTWF0aC5mbG9vcihEYXRlLm5vdygpL3MpKnN9dmFyIG49dC5yZXF1ZXN0Um91dGVyLmVuZHBvaW50Rm9yKFwiYXNzZXRzXCIscik7UnQodCxuLGUpfSx2Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXy5sb2FkU2l0ZUFwcD0odCxpLGUpPT57dmFyIHI9dC5yZXF1ZXN0Um91dGVyLmVuZHBvaW50Rm9yKFwiYXBpXCIsaSk7UnQodCxyLGUpfTt2YXIgQ3Q9e307ZnVuY3Rpb24gT3QodCxpLGUpe2lmKEkodCkpaWYociYmdC5mb3JFYWNoPT09cil0LmZvckVhY2goaSxlKTtlbHNlIGlmKFwibGVuZ3RoXCJpbiB0JiZ0Lmxlbmd0aD09PSt0Lmxlbmd0aClmb3IodmFyIHM9MCxuPXQubGVuZ3RoO3M8bjtzKyspaWYocyBpbiB0JiZpLmNhbGwoZSx0W3NdLHMpPT09Q3QpcmV0dXJufWZ1bmN0aW9uIEZ0KHQsaSxlKXtpZighaih0KSl7aWYoSSh0KSlyZXR1cm4gT3QodCxpLGUpO2lmKFUodCkpe2Zvcih2YXIgciBvZiB0LmVudHJpZXMoKSlpZihpLmNhbGwoZSxyWzFdLHJbMF0pPT09Q3QpcmV0dXJufWVsc2UgZm9yKHZhciBzIGluIHQpaWYoUC5jYWxsKHQscykmJmkuY2FsbChlLHRbc10scyk9PT1DdClyZXR1cm59fXZhciBNdD1mdW5jdGlvbih0KXtmb3IodmFyIGk9YXJndW1lbnRzLmxlbmd0aCxlPW5ldyBBcnJheShpPjE/aS0xOjApLHI9MTtyPGk7cisrKWVbci0xXT1hcmd1bWVudHNbcl07cmV0dXJuIE90KGUsKGZ1bmN0aW9uKGkpe2Zvcih2YXIgZSBpbiBpKXZvaWQgMCE9PWlbZV0mJih0W2VdPWlbZV0pfSkpLHR9LEF0PWZ1bmN0aW9uKHQpe2Zvcih2YXIgaT1hcmd1bWVudHMubGVuZ3RoLGU9bmV3IEFycmF5KGk+MT9pLTE6MCkscj0xO3I8aTtyKyspZVtyLTFdPWFyZ3VtZW50c1tyXTtyZXR1cm4gT3QoZSwoZnVuY3Rpb24oaSl7T3QoaSwoZnVuY3Rpb24oaSl7dC5wdXNoKGkpfSkpfSkpLHR9O2Z1bmN0aW9uIER0KHQpe2Zvcih2YXIgaT1PYmplY3Qua2V5cyh0KSxlPWkubGVuZ3RoLHI9bmV3IEFycmF5KGUpO2UtLTspcltlXT1baVtlXSx0W2lbZV1dXTtyZXR1cm4gcn12YXIganQ9ZnVuY3Rpb24odCl7dHJ5e3JldHVybiB0KCl9Y2F0Y2godCl7cmV0dXJufX0sTHQ9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7dHJ5e2Zvcih2YXIgaT1hcmd1bWVudHMubGVuZ3RoLGU9bmV3IEFycmF5KGkpLHI9MDtyPGk7cisrKWVbcl09YXJndW1lbnRzW3JdO3JldHVybiB0LmFwcGx5KHRoaXMsZSl9Y2F0Y2godCl7UHQuY3JpdGljYWwoXCJJbXBsZW1lbnRhdGlvbiBlcnJvci4gUGxlYXNlIHR1cm4gb24gZGVidWcgbW9kZSBhbmQgb3BlbiBhIHRpY2tldCBvbiBodHRwczovL2FwcC5wb3N0aG9nLmNvbS9ob21lI3BhbmVsPXN1cHBvcnQlM0FzdXBwb3J0JTNBLlwiKSxQdC5jcml0aWNhbCh0KX19fSxOdD1mdW5jdGlvbih0KXt2YXIgaT17fTtyZXR1cm4gRnQodCwoZnVuY3Rpb24odCxlKXsoTSh0KSYmdC5sZW5ndGg+MHx8TCh0KSkmJihpW2VdPXQpfSkpLGl9O2Z1bmN0aW9uIFV0KHQsaSl7cmV0dXJuIGU9dCxyPXQ9Pk0odCkmJiFEKGkpP3Quc2xpY2UoMCxpKTp0LHM9bmV3IFNldCxmdW5jdGlvbiB0KGksZSl7cmV0dXJuIGkhPT1PYmplY3QoaSk/cj9yKGksZSk6aTpzLmhhcyhpKT92b2lkIDA6KHMuYWRkKGkpLEkoaSk/KG49W10sT3QoaSwoaT0+e24ucHVzaCh0KGkpKX0pKSk6KG49e30sRnQoaSwoKGksZSk9PntzLmhhcyhpKXx8KG5bZV09dChpLGUpKX0pKSksbik7dmFyIG59KGUpO3ZhciBlLHIsc312YXIgenQ9W1wiaGVyb2t1YXBwLmNvbVwiLFwidmVyY2VsLmFwcFwiLFwibmV0bGlmeS5hcHBcIl07ZnVuY3Rpb24gSHQodCl7dmFyIGk9bnVsbD09dD92b2lkIDA6dC5ob3N0bmFtZTtpZighTShpKSlyZXR1cm4hMTt2YXIgZT1pLnNwbGl0KFwiLlwiKS5zbGljZSgtMikuam9pbihcIi5cIik7Zm9yKHZhciByIG9mIHp0KWlmKGU9PT1yKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIEJ0KHQsaSl7Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDtlKyspaWYoaSh0W2VdKSlyZXR1cm4gdFtlXX1mdW5jdGlvbiBxdCh0LGksZSxyKXt2YXJ7Y2FwdHVyZTpzPSExLHBhc3NpdmU6bj0hMH09bnVsbCE9cj9yOnt9O251bGw9PXR8fHQuYWRkRXZlbnRMaXN0ZW5lcihpLGUse2NhcHR1cmU6cyxwYXNzaXZlOm59KX12YXIgV3Q9XCIkcGVvcGxlX2Rpc3RpbmN0X2lkXCIsR3Q9XCJfX2FsaWFzXCIsVnQ9XCJfX3RpbWVyc1wiLEp0PVwiJGF1dG9jYXB0dXJlX2Rpc2FibGVkX3NlcnZlcl9zaWRlXCIsS3Q9XCIkaGVhdG1hcHNfZW5hYmxlZF9zZXJ2ZXJfc2lkZVwiLFl0PVwiJGV4Y2VwdGlvbl9jYXB0dXJlX2VuYWJsZWRfc2VydmVyX3NpZGVcIixYdD1cIiRlcnJvcl90cmFja2luZ19zdXBwcmVzc2lvbl9ydWxlc1wiLFF0PVwiJGVycm9yX3RyYWNraW5nX2NhcHR1cmVfZXh0ZW5zaW9uX2V4Y2VwdGlvbnNcIixadD1cIiR3ZWJfdml0YWxzX2VuYWJsZWRfc2VydmVyX3NpZGVcIix0aT1cIiRkZWFkX2NsaWNrc19lbmFibGVkX3NlcnZlcl9zaWRlXCIsaWk9XCIkd2ViX3ZpdGFsc19hbGxvd2VkX21ldHJpY3NcIixlaT1cIiRzZXNzaW9uX3JlY29yZGluZ19yZW1vdGVfY29uZmlnXCIscmk9XCIkc2VzaWRcIixzaT1cIiRzZXNzaW9uX2lzX3NhbXBsZWRcIixuaT1cIiRlbmFibGVkX2ZlYXR1cmVfZmxhZ3NcIixvaT1cIiRlYXJseV9hY2Nlc3NfZmVhdHVyZXNcIixhaT1cIiRmZWF0dXJlX2ZsYWdfZGV0YWlsc1wiLGxpPVwiJHN0b3JlZF9wZXJzb25fcHJvcGVydGllc1wiLHVpPVwiJHN0b3JlZF9ncm91cF9wcm9wZXJ0aWVzXCIsaGk9XCIkc3VydmV5c1wiLGRpPVwiJHN1cnZleXNfYWN0aXZhdGVkXCIsdmk9XCIkZmxhZ19jYWxsX3JlcG9ydGVkXCIsY2k9XCIkdXNlcl9zdGF0ZVwiLGZpPVwiJGNsaWVudF9zZXNzaW9uX3Byb3BzXCIscGk9XCIkY2FwdHVyZV9yYXRlX2xpbWl0XCIsZ2k9XCIkaW5pdGlhbF9jYW1wYWlnbl9wYXJhbXNcIixfaT1cIiRpbml0aWFsX3JlZmVycmVyX2luZm9cIixtaT1cIiRpbml0aWFsX3BlcnNvbl9pbmZvXCIseWk9XCIkZXBwXCIsYmk9XCJfX1BPU1RIT0dfVE9PTEJBUl9fXCIsd2k9XCIkcG9zdGhvZ19jb29raWVsZXNzXCIseGk9W1d0LEd0LFwiX19jbXBuc1wiLFZ0LFwiJHNlc3Npb25fcmVjb3JkaW5nX2VuYWJsZWRfc2VydmVyX3NpZGVcIixLdCxyaSxuaSxYdCxjaSxvaSxhaSx1aSxsaSxoaSx2aSxmaSxwaSxnaSxfaSx5aSxtaV07ZnVuY3Rpb24gJGkodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBFbGVtZW50JiYodC5pZD09PWJpfHwhKG51bGw9PXQuY2xvc2VzdHx8IXQuY2xvc2VzdChcIi50b29sYmFyLWdsb2JhbC1mYWRlLWNvbnRhaW5lclwiKSkpfWZ1bmN0aW9uIFNpKHQpe3JldHVybiEhdCYmMT09PXQubm9kZVR5cGV9ZnVuY3Rpb24gRWkodCxpKXtyZXR1cm4hIXQmJiEhdC50YWdOYW1lJiZ0LnRhZ05hbWUudG9Mb3dlckNhc2UoKT09PWkudG9Mb3dlckNhc2UoKX1mdW5jdGlvbiBraSh0KXtyZXR1cm4hIXQmJjM9PT10Lm5vZGVUeXBlfWZ1bmN0aW9uIFBpKHQpe3JldHVybiEhdCYmMTE9PT10Lm5vZGVUeXBlfWZ1bmN0aW9uIFRpKHQpe3JldHVybiB0P3godCkuc3BsaXQoL1xccysvKTpbXX1mdW5jdGlvbiBJaShpKXt2YXIgZT1udWxsPT10P3ZvaWQgMDp0LmxvY2F0aW9uLmhyZWY7cmV0dXJuISEoZSYmaSYmaS5zb21lKCh0PT5lLm1hdGNoKHQpKSkpfWZ1bmN0aW9uIFJpKHQpe3ZhciBpPVwiXCI7c3dpdGNoKHR5cGVvZiB0LmNsYXNzTmFtZSl7Y2FzZVwic3RyaW5nXCI6aT10LmNsYXNzTmFtZTticmVhaztjYXNlXCJvYmplY3RcIjppPSh0LmNsYXNzTmFtZSYmXCJiYXNlVmFsXCJpbiB0LmNsYXNzTmFtZT90LmNsYXNzTmFtZS5iYXNlVmFsOm51bGwpfHx0LmdldEF0dHJpYnV0ZShcImNsYXNzXCIpfHxcIlwiO2JyZWFrO2RlZmF1bHQ6aT1cIlwifXJldHVybiBUaShpKX1mdW5jdGlvbiBDaSh0KXtyZXR1cm4gaih0KT9udWxsOngodCkuc3BsaXQoLyhcXHMrKS8pLmZpbHRlcigodD0+S2kodCkpKS5qb2luKFwiXCIpLnJlcGxhY2UoL1tcXHJcXG5dL2csXCIgXCIpLnJlcGxhY2UoL1sgXSsvZyxcIiBcIikuc3Vic3RyaW5nKDAsMjU1KX1mdW5jdGlvbiBPaSh0KXt2YXIgaT1cIlwiO3JldHVybiB6aSh0KSYmIUhpKHQpJiZ0LmNoaWxkTm9kZXMmJnQuY2hpbGROb2Rlcy5sZW5ndGgmJkZ0KHQuY2hpbGROb2RlcywoZnVuY3Rpb24odCl7dmFyIGU7a2kodCkmJnQudGV4dENvbnRlbnQmJihpKz1udWxsIT09KGU9Q2kodC50ZXh0Q29udGVudCkpJiZ2b2lkIDAhPT1lP2U6XCJcIil9KSkseChpKX1mdW5jdGlvbiBGaSh0KXtyZXR1cm4gRih0LnRhcmdldCk/dC5zcmNFbGVtZW50fHxudWxsOm51bGwhPShpPXQudGFyZ2V0KSYmaS5zaGFkb3dSb290P3QuY29tcG9zZWRQYXRoKClbMF18fG51bGw6dC50YXJnZXR8fG51bGw7dmFyIGl9dmFyIE1pPVtcImFcIixcImJ1dHRvblwiLFwiZm9ybVwiLFwiaW5wdXRcIixcInNlbGVjdFwiLFwidGV4dGFyZWFcIixcImxhYmVsXCJdO2Z1bmN0aW9uIEFpKHQsaSl7aWYoRihpKSlyZXR1cm4hMDt2YXIgZSxyPWZ1bmN0aW9uKHQpe2lmKGkuc29tZSgoaT0+dC5tYXRjaGVzKGkpKSkpcmV0dXJue3Y6ITB9fTtmb3IodmFyIHMgb2YgdClpZihlPXIocykpcmV0dXJuIGUudjtyZXR1cm4hMX1mdW5jdGlvbiBEaSh0KXt2YXIgaT10LnBhcmVudE5vZGU7cmV0dXJuISghaXx8IVNpKGkpKSYmaX12YXIgamk9W1wiLnBoLW5vLXJhZ2VjbGlja1wiLFwiLnBoLW5vLWNhcHR1cmVcIl07dmFyIExpPXQ9PiF0fHxFaSh0LFwiaHRtbFwiKXx8IVNpKHQpLE5pPShpLGUpPT57aWYoIXR8fExpKGkpKXJldHVybntwYXJlbnRJc1VzZWZ1bEVsZW1lbnQ6ITEsdGFyZ2V0RWxlbWVudExpc3Q6W119O2Zvcih2YXIgcj0hMSxzPVtpXSxuPWk7bi5wYXJlbnROb2RlJiYhRWkobixcImJvZHlcIik7KWlmKFBpKG4ucGFyZW50Tm9kZSkpcy5wdXNoKG4ucGFyZW50Tm9kZS5ob3N0KSxuPW4ucGFyZW50Tm9kZS5ob3N0O2Vsc2V7dmFyIG89RGkobik7aWYoIW8pYnJlYWs7aWYoZXx8TWkuaW5kZXhPZihvLnRhZ05hbWUudG9Mb3dlckNhc2UoKSk+LTEpcj0hMDtlbHNle3ZhciBhPXQuZ2V0Q29tcHV0ZWRTdHlsZShvKTthJiZcInBvaW50ZXJcIj09PWEuZ2V0UHJvcGVydHlWYWx1ZShcImN1cnNvclwiKSYmKHI9ITApfXMucHVzaChvKSxuPW99cmV0dXJue3BhcmVudElzVXNlZnVsRWxlbWVudDpyLHRhcmdldEVsZW1lbnRMaXN0OnN9fTtmdW5jdGlvbiBVaShpLGUscixzLG4pe3ZhciBvLGEsbCx1O2lmKHZvaWQgMD09PXImJihyPXZvaWQgMCksIXR8fExpKGkpKXJldHVybiExO2lmKG51bGwhPShvPXIpJiZvLnVybF9hbGxvd2xpc3QmJiFJaShyLnVybF9hbGxvd2xpc3QpKXJldHVybiExO2lmKG51bGwhPShhPXIpJiZhLnVybF9pZ25vcmVsaXN0JiZJaShyLnVybF9pZ25vcmVsaXN0KSlyZXR1cm4hMTtpZihudWxsIT0obD1yKSYmbC5kb21fZXZlbnRfYWxsb3dsaXN0KXt2YXIgaD1yLmRvbV9ldmVudF9hbGxvd2xpc3Q7aWYoaCYmIWguc29tZSgodD0+ZS50eXBlPT09dCkpKXJldHVybiExfXZhcntwYXJlbnRJc1VzZWZ1bEVsZW1lbnQ6ZCx0YXJnZXRFbGVtZW50TGlzdDp2fT1OaShpLHMpO2lmKCFmdW5jdGlvbih0LGkpe3ZhciBlPW51bGw9PWk/dm9pZCAwOmkuZWxlbWVudF9hbGxvd2xpc3Q7aWYoRihlKSlyZXR1cm4hMDt2YXIgcixzPWZ1bmN0aW9uKHQpe2lmKGUuc29tZSgoaT0+dC50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PT1pKSkpcmV0dXJue3Y6ITB9fTtmb3IodmFyIG4gb2YgdClpZihyPXMobikpcmV0dXJuIHIudjtyZXR1cm4hMX0odixyKSlyZXR1cm4hMTtpZighQWkodixudWxsPT0odT1yKT92b2lkIDA6dS5jc3Nfc2VsZWN0b3JfYWxsb3dsaXN0KSlyZXR1cm4hMTt2YXIgYz10LmdldENvbXB1dGVkU3R5bGUoaSk7aWYoYyYmXCJwb2ludGVyXCI9PT1jLmdldFByb3BlcnR5VmFsdWUoXCJjdXJzb3JcIikmJlwiY2xpY2tcIj09PWUudHlwZSlyZXR1cm4hMDt2YXIgZj1pLnRhZ05hbWUudG9Mb3dlckNhc2UoKTtzd2l0Y2goZil7Y2FzZVwiaHRtbFwiOnJldHVybiExO2Nhc2VcImZvcm1cIjpyZXR1cm4obnx8W1wic3VibWl0XCJdKS5pbmRleE9mKGUudHlwZSk+PTA7Y2FzZVwiaW5wdXRcIjpjYXNlXCJzZWxlY3RcIjpjYXNlXCJ0ZXh0YXJlYVwiOnJldHVybihufHxbXCJjaGFuZ2VcIixcImNsaWNrXCJdKS5pbmRleE9mKGUudHlwZSk+PTA7ZGVmYXVsdDpyZXR1cm4gZD8obnx8W1wiY2xpY2tcIl0pLmluZGV4T2YoZS50eXBlKT49MDoobnx8W1wiY2xpY2tcIl0pLmluZGV4T2YoZS50eXBlKT49MCYmKE1pLmluZGV4T2YoZik+LTF8fFwidHJ1ZVwiPT09aS5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikpfX1mdW5jdGlvbiB6aSh0KXtmb3IodmFyIGk9dDtpLnBhcmVudE5vZGUmJiFFaShpLFwiYm9keVwiKTtpPWkucGFyZW50Tm9kZSl7dmFyIGU9UmkoaSk7aWYodyhlLFwicGgtc2Vuc2l0aXZlXCIpfHx3KGUsXCJwaC1uby1jYXB0dXJlXCIpKXJldHVybiExfWlmKHcoUmkodCksXCJwaC1pbmNsdWRlXCIpKXJldHVybiEwO3ZhciByPXQudHlwZXx8XCJcIjtpZihNKHIpKXN3aXRjaChyLnRvTG93ZXJDYXNlKCkpe2Nhc2VcImhpZGRlblwiOmNhc2VcInBhc3N3b3JkXCI6cmV0dXJuITF9dmFyIHM9dC5uYW1lfHx0LmlkfHxcIlwiO2lmKE0ocykpe2lmKC9eY2N8Y2FyZG51bXxjY251bXxjcmVkaXRjYXJkfGNzY3xjdmN8Y3Z2fGV4cHxwYXNzfHB3ZHxyb3V0aW5nfHNlY2NvZGV8c2VjdXJpdHljb2RlfHNlY3VyaXR5bnVtfHNvY2lhbHNlY3xzb2NzZWN8c3NuL2kudGVzdChzLnJlcGxhY2UoL1teYS16QS1aMC05XS9nLFwiXCIpKSlyZXR1cm4hMX1yZXR1cm4hMH1mdW5jdGlvbiBIaSh0KXtyZXR1cm4hIShFaSh0LFwiaW5wdXRcIikmJiFbXCJidXR0b25cIixcImNoZWNrYm94XCIsXCJzdWJtaXRcIixcInJlc2V0XCJdLmluY2x1ZGVzKHQudHlwZSl8fEVpKHQsXCJzZWxlY3RcIil8fEVpKHQsXCJ0ZXh0YXJlYVwiKXx8XCJ0cnVlXCI9PT10LmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSl9dmFyIEJpPVwiKDRbMC05XXsxMn0oPzpbMC05XXszfSk/KXwoNVsxLTVdWzAtOV17MTR9KXwoNig/OjAxMXw1WzAtOV17Mn0pWzAtOV17MTJ9KXwoM1s0N11bMC05XXsxM30pfCgzKD86MFswLTVdfFs2OF1bMC05XSlbMC05XXsxMX0pfCgoPzoyMTMxfDE4MDB8MzVbMC05XXszfSlbMC05XXsxMX0pXCIscWk9bmV3IFJlZ0V4cChcIl4oPzpcIitCaStcIikkXCIpLFdpPW5ldyBSZWdFeHAoQmkpLEdpPVwiXFxcXGR7M30tP1xcXFxkezJ9LT9cXFxcZHs0fVwiLFZpPW5ldyBSZWdFeHAoXCJeKFwiK0dpK1wiKSRcIiksSmk9bmV3IFJlZ0V4cChcIihcIitHaStcIilcIik7ZnVuY3Rpb24gS2kodCxpKXtpZih2b2lkIDA9PT1pJiYoaT0hMCksaih0KSlyZXR1cm4hMTtpZihNKHQpKXtpZih0PXgodCksKGk/cWk6V2kpLnRlc3QoKHR8fFwiXCIpLnJlcGxhY2UoL1stIF0vZyxcIlwiKSkpcmV0dXJuITE7aWYoKGk/Vmk6SmkpLnRlc3QodCkpcmV0dXJuITF9cmV0dXJuITB9ZnVuY3Rpb24gWWkodCl7dmFyIGk9T2kodCk7cmV0dXJuIEtpKGk9KGkrXCIgXCIrWGkodCkpLnRyaW0oKSk/aTpcIlwifWZ1bmN0aW9uIFhpKHQpe3ZhciBpPVwiXCI7cmV0dXJuIHQmJnQuY2hpbGROb2RlcyYmdC5jaGlsZE5vZGVzLmxlbmd0aCYmRnQodC5jaGlsZE5vZGVzLChmdW5jdGlvbih0KXt2YXIgZTtpZih0JiZcInNwYW5cIj09PShudWxsPT0oZT10LnRhZ05hbWUpP3ZvaWQgMDplLnRvTG93ZXJDYXNlKCkpKXRyeXt2YXIgcj1PaSh0KTtpPShpK1wiIFwiK3IpLnRyaW0oKSx0LmNoaWxkTm9kZXMmJnQuY2hpbGROb2Rlcy5sZW5ndGgmJihpPShpK1wiIFwiK1hpKHQpKS50cmltKCkpfWNhdGNoKHQpe1B0LmVycm9yKFwiW0F1dG9DYXB0dXJlXVwiLHQpfX0pKSxpfWZ1bmN0aW9uIFFpKHQpe3JldHVybiBmdW5jdGlvbih0KXt2YXIgaT10Lm1hcCgodD0+e3ZhciBpLGUscj1cIlwiO2lmKHQudGFnX25hbWUmJihyKz10LnRhZ19uYW1lKSx0LmF0dHJfY2xhc3MpZm9yKHZhciBzIG9mKHQuYXR0cl9jbGFzcy5zb3J0KCksdC5hdHRyX2NsYXNzKSlyKz1cIi5cIitzLnJlcGxhY2UoL1wiL2csXCJcIik7dmFyIG49Zyh7fSx0LnRleHQ/e3RleHQ6dC50ZXh0fTp7fSx7XCJudGgtY2hpbGRcIjpudWxsIT09KGk9dC5udGhfY2hpbGQpJiZ2b2lkIDAhPT1pP2k6MCxcIm50aC1vZi10eXBlXCI6bnVsbCE9PShlPXQubnRoX29mX3R5cGUpJiZ2b2lkIDAhPT1lP2U6MH0sdC5ocmVmP3tocmVmOnQuaHJlZn06e30sdC5hdHRyX2lkP3thdHRyX2lkOnQuYXR0cl9pZH06e30sdC5hdHRyaWJ1dGVzKSxvPXt9O3JldHVybiBEdChuKS5zb3J0KCgodCxpKT0+e3ZhcltlXT10LFtyXT1pO3JldHVybiBlLmxvY2FsZUNvbXBhcmUocil9KSkuZm9yRWFjaCgodD0+e3ZhcltpLGVdPXQ7cmV0dXJuIG9bWmkoaS50b1N0cmluZygpKV09WmkoZS50b1N0cmluZygpKX0pKSxyKz1cIjpcIixyKz1EdChvKS5tYXAoKHQ9Pnt2YXJbaSxlXT10O3JldHVybiBpKyc9XCInK2UrJ1wiJ30pKS5qb2luKFwiXCIpfSkpO3JldHVybiBpLmpvaW4oXCI7XCIpfShmdW5jdGlvbih0KXtyZXR1cm4gdC5tYXAoKHQ9Pnt2YXIgaSxlLHI9e3RleHQ6bnVsbD09KGk9dC4kZWxfdGV4dCk/dm9pZCAwOmkuc2xpY2UoMCw0MDApLHRhZ19uYW1lOnQudGFnX25hbWUsaHJlZjpudWxsPT0oZT10LmF0dHJfX2hyZWYpP3ZvaWQgMDplLnNsaWNlKDAsMjA0OCksYXR0cl9jbGFzczp0ZSh0KSxhdHRyX2lkOnQuYXR0cl9faWQsbnRoX2NoaWxkOnQubnRoX2NoaWxkLG50aF9vZl90eXBlOnQubnRoX29mX3R5cGUsYXR0cmlidXRlczp7fX07cmV0dXJuIER0KHQpLmZpbHRlcigodD0+e3ZhcltpXT10O3JldHVybiAwPT09aS5pbmRleE9mKFwiYXR0cl9fXCIpfSkpLmZvckVhY2goKHQ9Pnt2YXJbaSxlXT10O3JldHVybiByLmF0dHJpYnV0ZXNbaV09ZX0pKSxyfSkpfSh0KSl9ZnVuY3Rpb24gWmkodCl7cmV0dXJuIHQucmVwbGFjZSgvXCJ8XFxcXFwiL2csJ1xcXFxcIicpfWZ1bmN0aW9uIHRlKHQpe3ZhciBpPXQuYXR0cl9fY2xhc3M7cmV0dXJuIGk/SShpKT9pOlRpKGkpOnZvaWQgMH1jbGFzcyBpZXtjb25zdHJ1Y3Rvcigpe3RoaXMuY2xpY2tzPVtdfWlzUmFnZUNsaWNrKHQsaSxlKXt2YXIgcj10aGlzLmNsaWNrc1t0aGlzLmNsaWNrcy5sZW5ndGgtMV07aWYociYmTWF0aC5hYnModC1yLngpK01hdGguYWJzKGktci55KTwzMCYmZS1yLnRpbWVzdGFtcDwxZTMpe2lmKHRoaXMuY2xpY2tzLnB1c2goe3g6dCx5OmksdGltZXN0YW1wOmV9KSwzPT09dGhpcy5jbGlja3MubGVuZ3RoKXJldHVybiEwfWVsc2UgdGhpcy5jbGlja3M9W3t4OnQseTppLHRpbWVzdGFtcDplfV07cmV0dXJuITF9fXZhciBlZT1cIiRjb3B5X2F1dG9jYXB0dXJlXCIscmU9ZnVuY3Rpb24odCl7cmV0dXJuIHQuR1ppcEpTPVwiZ3ppcC1qc1wiLHQuQmFzZTY0PVwiYmFzZTY0XCIsdH0oe30pLHNlPVtcImZhdGFsXCIsXCJlcnJvclwiLFwid2FybmluZ1wiLFwibG9nXCIsXCJpbmZvXCIsXCJkZWJ1Z1wiXSxuZT10PT57dmFyIGk9bnVsbD09bz92b2lkIDA6by5jcmVhdGVFbGVtZW50KFwiYVwiKTtyZXR1cm4gRihpKT9udWxsOihpLmhyZWY9dCxpKX0sb2U9ZnVuY3Rpb24odCxpKXt2YXIgZSxyO3ZvaWQgMD09PWkmJihpPVwiJlwiKTt2YXIgcz1bXTtyZXR1cm4gRnQodCwoZnVuY3Rpb24odCxpKXtGKHQpfHxGKGkpfHxcInVuZGVmaW5lZFwiPT09aXx8KGU9ZW5jb2RlVVJJQ29tcG9uZW50KCh0PT50IGluc3RhbmNlb2YgRmlsZSkodCk/dC5uYW1lOnQudG9TdHJpbmcoKSkscj1lbmNvZGVVUklDb21wb25lbnQoaSksc1tzLmxlbmd0aF09citcIj1cIitlKX0pKSxzLmpvaW4oaSl9LGFlPWZ1bmN0aW9uKHQsaSl7Zm9yKHZhciBlLHI9KCh0LnNwbGl0KFwiI1wiKVswXXx8XCJcIikuc3BsaXQoL1xcPyguKikvKVsxXXx8XCJcIikucmVwbGFjZSgvXlxcPysvZyxcIlwiKS5zcGxpdChcIiZcIikscz0wO3M8ci5sZW5ndGg7cysrKXt2YXIgbj1yW3NdLnNwbGl0KFwiPVwiKTtpZihuWzBdPT09aSl7ZT1uO2JyZWFrfX1pZighSShlKXx8ZS5sZW5ndGg8MilyZXR1cm5cIlwiO3ZhciBvPWVbMV07dHJ5e289ZGVjb2RlVVJJQ29tcG9uZW50KG8pfWNhdGNoKHQpe1B0LmVycm9yKFwiU2tpcHBpbmcgZGVjb2RpbmcgZm9yIG1hbGZvcm1lZCBxdWVyeSBwYXJhbTogXCIrbyl9cmV0dXJuIG8ucmVwbGFjZSgvXFwrL2csXCIgXCIpfSxsZT1mdW5jdGlvbih0LGksZSl7aWYoIXR8fCFpfHwhaS5sZW5ndGgpcmV0dXJuIHQ7Zm9yKHZhciByPXQuc3BsaXQoXCIjXCIpLHM9clswXXx8XCJcIixuPXJbMV0sbz1zLnNwbGl0KFwiP1wiKSxhPW9bMV0sbD1vWzBdLHU9KGF8fFwiXCIpLnNwbGl0KFwiJlwiKSxoPVtdLGQ9MDtkPHUubGVuZ3RoO2QrKyl7dmFyIHY9dVtkXS5zcGxpdChcIj1cIik7SSh2KSYmKGkuaW5jbHVkZXModlswXSk/aC5wdXNoKHZbMF0rXCI9XCIrZSk6aC5wdXNoKHVbZF0pKX12YXIgYz1sO3JldHVybiBudWxsIT1hJiYoYys9XCI/XCIraC5qb2luKFwiJlwiKSksbnVsbCE9biYmKGMrPVwiI1wiK24pLGN9LHVlPWZ1bmN0aW9uKHQsaSl7dmFyIGU9dC5tYXRjaChuZXcgUmVnRXhwKGkrXCI9KFteJl0qKVwiKSk7cmV0dXJuIGU/ZVsxXTpudWxsfSxoZT1UdChcIltBdXRvQ2FwdHVyZV1cIik7ZnVuY3Rpb24gZGUodCxpKXtyZXR1cm4gaS5sZW5ndGg+dD9pLnNsaWNlKDAsdCkrXCIuLi5cIjppfWZ1bmN0aW9uIHZlKHQpe2lmKHQucHJldmlvdXNFbGVtZW50U2libGluZylyZXR1cm4gdC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO3ZhciBpPXQ7ZG97aT1pLnByZXZpb3VzU2libGluZ313aGlsZShpJiYhU2koaSkpO3JldHVybiBpfWZ1bmN0aW9uIGNlKHQsaSxlLHIpe3ZhciBzPXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpLG49e3RhZ19uYW1lOnN9O01pLmluZGV4T2Yocyk+LTEmJiFlJiYoXCJhXCI9PT1zLnRvTG93ZXJDYXNlKCl8fFwiYnV0dG9uXCI9PT1zLnRvTG93ZXJDYXNlKCk/bi4kZWxfdGV4dD1kZSgxMDI0LFlpKHQpKTpuLiRlbF90ZXh0PWRlKDEwMjQsT2kodCkpKTt2YXIgbz1SaSh0KTtvLmxlbmd0aD4wJiYobi5jbGFzc2VzPW8uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm5cIlwiIT09dH0pKSksRnQodC5hdHRyaWJ1dGVzLChmdW5jdGlvbihlKXt2YXIgcztpZigoIUhpKHQpfHwtMSE9PVtcIm5hbWVcIixcImlkXCIsXCJjbGFzc1wiLFwiYXJpYS1sYWJlbFwiXS5pbmRleE9mKGUubmFtZSkpJiYoKG51bGw9PXJ8fCFyLmluY2x1ZGVzKGUubmFtZSkpJiYhaSYmS2koZS52YWx1ZSkmJihzPWUubmFtZSwhTShzKXx8XCJfbmdjb250ZW50XCIhPT1zLnN1YnN0cmluZygwLDEwKSYmXCJfbmdob3N0XCIhPT1zLnN1YnN0cmluZygwLDcpKSkpe3ZhciBvPWUudmFsdWU7XCJjbGFzc1wiPT09ZS5uYW1lJiYobz1UaShvKS5qb2luKFwiIFwiKSksbltcImF0dHJfX1wiK2UubmFtZV09ZGUoMTAyNCxvKX19KSk7Zm9yKHZhciBhPTEsbD0xLHU9dDt1PXZlKHUpOylhKyssdS50YWdOYW1lPT09dC50YWdOYW1lJiZsKys7cmV0dXJuIG4ubnRoX2NoaWxkPWEsbi5udGhfb2ZfdHlwZT1sLG59ZnVuY3Rpb24gZmUoaSxlKXtmb3IodmFyIHIscyx7ZTpuLG1hc2tBbGxFbGVtZW50QXR0cmlidXRlczpvLG1hc2tBbGxUZXh0OmEsZWxlbWVudEF0dHJpYnV0ZUlnbm9yZUxpc3Q6bCxlbGVtZW50c0NoYWluQXNTdHJpbmc6dX09ZSxoPVtpXSxkPWk7ZC5wYXJlbnROb2RlJiYhRWkoZCxcImJvZHlcIik7KVBpKGQucGFyZW50Tm9kZSk/KGgucHVzaChkLnBhcmVudE5vZGUuaG9zdCksZD1kLnBhcmVudE5vZGUuaG9zdCk6KGgucHVzaChkLnBhcmVudE5vZGUpLGQ9ZC5wYXJlbnROb2RlKTt2YXIgdixjPVtdLGY9e30scD0hMSxnPSExO2lmKEZ0KGgsKHQ9Pnt2YXIgaT16aSh0KTtcImFcIj09PXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpJiYocD10LmdldEF0dHJpYnV0ZShcImhyZWZcIikscD1pJiZwJiZLaShwKSYmcCksdyhSaSh0KSxcInBoLW5vLWNhcHR1cmVcIikmJihnPSEwKSxjLnB1c2goY2UodCxvLGEsbCkpO3ZhciBlPWZ1bmN0aW9uKHQpe2lmKCF6aSh0KSlyZXR1cm57fTt2YXIgaT17fTtyZXR1cm4gRnQodC5hdHRyaWJ1dGVzLChmdW5jdGlvbih0KXtpZih0Lm5hbWUmJjA9PT10Lm5hbWUuaW5kZXhPZihcImRhdGEtcGgtY2FwdHVyZS1hdHRyaWJ1dGVcIikpe3ZhciBlPXQubmFtZS5yZXBsYWNlKFwiZGF0YS1waC1jYXB0dXJlLWF0dHJpYnV0ZS1cIixcIlwiKSxyPXQudmFsdWU7ZSYmciYmS2kocikmJihpW2VdPXIpfX0pKSxpfSh0KTtNdChmLGUpfSkpLGcpcmV0dXJue3Byb3BzOnt9LGV4cGxpY2l0Tm9DYXB0dXJlOmd9O2lmKGF8fChcImFcIj09PWkudGFnTmFtZS50b0xvd2VyQ2FzZSgpfHxcImJ1dHRvblwiPT09aS50YWdOYW1lLnRvTG93ZXJDYXNlKCk/Y1swXS4kZWxfdGV4dD1ZaShpKTpjWzBdLiRlbF90ZXh0PU9pKGkpKSxwKXt2YXIgXyxtO2NbMF0uYXR0cl9faHJlZj1wO3ZhciB5PW51bGw9PShfPW5lKHApKT92b2lkIDA6Xy5ob3N0LGI9bnVsbD09dHx8bnVsbD09KG09dC5sb2NhdGlvbik/dm9pZCAwOm0uaG9zdDt5JiZiJiZ5IT09YiYmKHY9cCl9cmV0dXJue3Byb3BzOk10KHskZXZlbnRfdHlwZTpuLnR5cGUsJGNlX3ZlcnNpb246MX0sdT97fTp7JGVsZW1lbnRzOmN9LHskZWxlbWVudHNfY2hhaW46UWkoYyl9LG51bGwhPShyPWNbMF0pJiZyLiRlbF90ZXh0P3skZWxfdGV4dDpudWxsPT0ocz1jWzBdKT92b2lkIDA6cy4kZWxfdGV4dH06e30sdiYmXCJjbGlja1wiPT09bi50eXBlP3skZXh0ZXJuYWxfY2xpY2tfdXJsOnZ9Ont9LGYpfX1jbGFzcyBwZXtjb25zdHJ1Y3Rvcih0KXt0aGlzLlA9ITEsdGhpcy5UPW51bGwsdGhpcy5yYWdlY2xpY2tzPW5ldyBpZSx0aGlzLkk9ITEsdGhpcy5pbnN0YW5jZT10LHRoaXMuUj1udWxsfWdldCBDKCl7dmFyIHQsaSxlPUModGhpcy5pbnN0YW5jZS5jb25maWcuYXV0b2NhcHR1cmUpP3RoaXMuaW5zdGFuY2UuY29uZmlnLmF1dG9jYXB0dXJlOnt9O3JldHVybiBlLnVybF9hbGxvd2xpc3Q9bnVsbD09KHQ9ZS51cmxfYWxsb3dsaXN0KT92b2lkIDA6dC5tYXAoKHQ9Pm5ldyBSZWdFeHAodCkpKSxlLnVybF9pZ25vcmVsaXN0PW51bGw9PShpPWUudXJsX2lnbm9yZWxpc3QpP3ZvaWQgMDppLm1hcCgodD0+bmV3IFJlZ0V4cCh0KSkpLGV9Tygpe2lmKHRoaXMuaXNCcm93c2VyU3VwcG9ydGVkKCkpe2lmKHQmJm8pe3ZhciBpPWk9PntpPWl8fChudWxsPT10P3ZvaWQgMDp0LmV2ZW50KTt0cnl7dGhpcy5GKGkpfWNhdGNoKHQpe2hlLmVycm9yKFwiRmFpbGVkIHRvIGNhcHR1cmUgZXZlbnRcIix0KX19O2lmKHF0KG8sXCJzdWJtaXRcIixpLHtjYXB0dXJlOiEwfSkscXQobyxcImNoYW5nZVwiLGkse2NhcHR1cmU6ITB9KSxxdChvLFwiY2xpY2tcIixpLHtjYXB0dXJlOiEwfSksdGhpcy5DLmNhcHR1cmVfY29waWVkX3RleHQpe3ZhciBlPWk9PntpPWl8fChudWxsPT10P3ZvaWQgMDp0LmV2ZW50KSx0aGlzLkYoaSxlZSl9O3F0KG8sXCJjb3B5XCIsZSx7Y2FwdHVyZTohMH0pLHF0KG8sXCJjdXRcIixlLHtjYXB0dXJlOiEwfSl9fX1lbHNlIGhlLmluZm8oXCJEaXNhYmxpbmcgQXV0b21hdGljIEV2ZW50IENvbGxlY3Rpb24gYmVjYXVzZSB0aGlzIGJyb3dzZXIgaXMgbm90IHN1cHBvcnRlZFwiKX1zdGFydElmRW5hYmxlZCgpe3RoaXMuaXNFbmFibGVkJiYhdGhpcy5QJiYodGhpcy5PKCksdGhpcy5QPSEwKX1vblJlbW90ZUNvbmZpZyh0KXt0LmVsZW1lbnRzQ2hhaW5Bc1N0cmluZyYmKHRoaXMuST10LmVsZW1lbnRzQ2hhaW5Bc1N0cmluZyksdGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZSYmdGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZS5yZWdpc3Rlcih7W0p0XTohIXQuYXV0b2NhcHR1cmVfb3B0X291dH0pLHRoaXMuVD0hIXQuYXV0b2NhcHR1cmVfb3B0X291dCx0aGlzLnN0YXJ0SWZFbmFibGVkKCl9c2V0RWxlbWVudFNlbGVjdG9ycyh0KXt0aGlzLlI9dH1nZXRFbGVtZW50U2VsZWN0b3JzKHQpe3ZhciBpLGU9W107cmV0dXJuIG51bGw9PShpPXRoaXMuUil8fGkuZm9yRWFjaCgoaT0+e3ZhciByPW51bGw9PW8/dm9pZCAwOm8ucXVlcnlTZWxlY3RvckFsbChpKTtudWxsPT1yfHxyLmZvckVhY2goKHI9Pnt0PT09ciYmZS5wdXNoKGkpfSkpfSkpLGV9Z2V0IGlzRW5hYmxlZCgpe3ZhciB0LGksZT1udWxsPT0odD10aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlKT92b2lkIDA6dC5wcm9wc1tKdF0scj10aGlzLlQ7aWYoRChyKSYmIU4oZSkmJiF0aGlzLmluc3RhbmNlLk0oKSlyZXR1cm4hMTt2YXIgcz1udWxsIT09KGk9dGhpcy5UKSYmdm9pZCAwIT09aT9pOiEhZTtyZXR1cm4hIXRoaXMuaW5zdGFuY2UuY29uZmlnLmF1dG9jYXB0dXJlJiYhc31GKGksZSl7aWYodm9pZCAwPT09ZSYmKGU9XCIkYXV0b2NhcHR1cmVcIiksdGhpcy5pc0VuYWJsZWQpe3ZhciByLHM9RmkoaSk7aWYoa2kocykmJihzPXMucGFyZW50Tm9kZXx8bnVsbCksXCIkYXV0b2NhcHR1cmVcIj09PWUmJlwiY2xpY2tcIj09PWkudHlwZSYmaSBpbnN0YW5jZW9mIE1vdXNlRXZlbnQpdGhpcy5pbnN0YW5jZS5jb25maWcucmFnZWNsaWNrJiZudWxsIT0ocj10aGlzLnJhZ2VjbGlja3MpJiZyLmlzUmFnZUNsaWNrKGkuY2xpZW50WCxpLmNsaWVudFksKG5ldyBEYXRlKS5nZXRUaW1lKCkpJiZmdW5jdGlvbihpLGUpe2lmKCF0fHxMaShpKSlyZXR1cm4hMTt2YXIgcixzO2lmKCExPT09KHI9TihlKT8hIWUmJmppOm51bGwhPT0ocz1udWxsPT1lP3ZvaWQgMDplLmNzc19zZWxlY3Rvcl9pZ25vcmVsaXN0KSYmdm9pZCAwIT09cz9zOmppKSlyZXR1cm4hMTt2YXJ7dGFyZ2V0RWxlbWVudExpc3Q6bn09TmkoaSwhMSk7cmV0dXJuIUFpKG4scil9KHMsdGhpcy5pbnN0YW5jZS5jb25maWcucmFnZWNsaWNrKSYmdGhpcy5GKGksXCIkcmFnZWNsaWNrXCIpO3ZhciBuPWU9PT1lZTtpZihzJiZVaShzLGksdGhpcy5DLG4sbj9bXCJjb3B5XCIsXCJjdXRcIl06dm9pZCAwKSl7dmFye3Byb3BzOm8sZXhwbGljaXROb0NhcHR1cmU6YX09ZmUocyx7ZTppLG1hc2tBbGxFbGVtZW50QXR0cmlidXRlczp0aGlzLmluc3RhbmNlLmNvbmZpZy5tYXNrX2FsbF9lbGVtZW50X2F0dHJpYnV0ZXMsbWFza0FsbFRleHQ6dGhpcy5pbnN0YW5jZS5jb25maWcubWFza19hbGxfdGV4dCxlbGVtZW50QXR0cmlidXRlSWdub3JlTGlzdDp0aGlzLkMuZWxlbWVudF9hdHRyaWJ1dGVfaWdub3JlbGlzdCxlbGVtZW50c0NoYWluQXNTdHJpbmc6dGhpcy5JfSk7aWYoYSlyZXR1cm4hMTt2YXIgbD10aGlzLmdldEVsZW1lbnRTZWxlY3RvcnMocyk7aWYobCYmbC5sZW5ndGg+MCYmKG8uJGVsZW1lbnRfc2VsZWN0b3JzPWwpLGU9PT1lZSl7dmFyIHUsaD1DaShudWxsPT10fHxudWxsPT0odT10LmdldFNlbGVjdGlvbigpKT92b2lkIDA6dS50b1N0cmluZygpKSxkPWkudHlwZXx8XCJjbGlwYm9hcmRcIjtpZighaClyZXR1cm4hMTtvLiRzZWxlY3RlZF9jb250ZW50PWgsby4kY29weV90eXBlPWR9cmV0dXJuIHRoaXMuaW5zdGFuY2UuY2FwdHVyZShlLG8pLCEwfX19aXNCcm93c2VyU3VwcG9ydGVkKCl7cmV0dXJuIFIobnVsbD09bz92b2lkIDA6by5xdWVyeVNlbGVjdG9yQWxsKX19TWF0aC50cnVuY3x8KE1hdGgudHJ1bmM9ZnVuY3Rpb24odCl7cmV0dXJuIHQ8MD9NYXRoLmNlaWwodCk6TWF0aC5mbG9vcih0KX0pLE51bWJlci5pc0ludGVnZXJ8fChOdW1iZXIuaXNJbnRlZ2VyPWZ1bmN0aW9uKHQpe3JldHVybiBMKHQpJiZpc0Zpbml0ZSh0KSYmTWF0aC5mbG9vcih0KT09PXR9KTt2YXIgZ2U9XCIwMTIzNDU2Nzg5YWJjZGVmXCI7Y2xhc3MgX2V7Y29uc3RydWN0b3IodCl7aWYodGhpcy5ieXRlcz10LDE2IT09dC5sZW5ndGgpdGhyb3cgbmV3IFR5cGVFcnJvcihcIm5vdCAxMjgtYml0IGxlbmd0aFwiKX1zdGF0aWMgZnJvbUZpZWxkc1Y3KHQsaSxlLHIpe2lmKCFOdW1iZXIuaXNJbnRlZ2VyKHQpfHwhTnVtYmVyLmlzSW50ZWdlcihpKXx8IU51bWJlci5pc0ludGVnZXIoZSl8fCFOdW1iZXIuaXNJbnRlZ2VyKHIpfHx0PDB8fGk8MHx8ZTwwfHxyPDB8fHQ+MHhmZmZmZmZmZmZmZmZ8fGk+NDA5NXx8ZT4xMDczNzQxODIzfHxyPjQyOTQ5NjcyOTUpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJpbnZhbGlkIGZpZWxkIHZhbHVlXCIpO3ZhciBzPW5ldyBVaW50OEFycmF5KDE2KTtyZXR1cm4gc1swXT10L01hdGgucG93KDIsNDApLHNbMV09dC9NYXRoLnBvdygyLDMyKSxzWzJdPXQvTWF0aC5wb3coMiwyNCksc1szXT10L01hdGgucG93KDIsMTYpLHNbNF09dC9NYXRoLnBvdygyLDgpLHNbNV09dCxzWzZdPTExMnxpPj4+OCxzWzddPWksc1s4XT0xMjh8ZT4+PjI0LHNbOV09ZT4+PjE2LHNbMTBdPWU+Pj44LHNbMTFdPWUsc1sxMl09cj4+PjI0LHNbMTNdPXI+Pj4xNixzWzE0XT1yPj4+OCxzWzE1XT1yLG5ldyBfZShzKX10b1N0cmluZygpe2Zvcih2YXIgdD1cIlwiLGk9MDtpPHRoaXMuYnl0ZXMubGVuZ3RoO2krKyl0PXQrZ2UuY2hhckF0KHRoaXMuYnl0ZXNbaV0+Pj40KStnZS5jaGFyQXQoMTUmdGhpcy5ieXRlc1tpXSksMyE9PWkmJjUhPT1pJiY3IT09aSYmOSE9PWl8fCh0Kz1cIi1cIik7aWYoMzYhPT10Lmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIFVVSUR2NyB3YXMgZ2VuZXJhdGVkXCIpO3JldHVybiB0fWNsb25lKCl7cmV0dXJuIG5ldyBfZSh0aGlzLmJ5dGVzLnNsaWNlKDApKX1lcXVhbHModCl7cmV0dXJuIDA9PT10aGlzLmNvbXBhcmVUbyh0KX1jb21wYXJlVG8odCl7Zm9yKHZhciBpPTA7aTwxNjtpKyspe3ZhciBlPXRoaXMuYnl0ZXNbaV0tdC5ieXRlc1tpXTtpZigwIT09ZSlyZXR1cm4gTWF0aC5zaWduKGUpfXJldHVybiAwfX1jbGFzcyBtZXtjb25zdHJ1Y3Rvcigpe3RoaXMuQT0wLHRoaXMuRD0wLHRoaXMuaj1uZXcgd2V9Z2VuZXJhdGUoKXt2YXIgdD10aGlzLmdlbmVyYXRlT3JBYm9ydCgpO2lmKEYodCkpe3RoaXMuQT0wO3ZhciBpPXRoaXMuZ2VuZXJhdGVPckFib3J0KCk7aWYoRihpKSl0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgZ2VuZXJhdGUgVVVJRCBhZnRlciB0aW1lc3RhbXAgcmVzZXRcIik7cmV0dXJuIGl9cmV0dXJuIHR9Z2VuZXJhdGVPckFib3J0KCl7dmFyIHQ9RGF0ZS5ub3coKTtpZih0PnRoaXMuQSl0aGlzLkE9dCx0aGlzLkwoKTtlbHNle2lmKCEodCsxZTQ+dGhpcy5BKSlyZXR1cm47dGhpcy5EKyssdGhpcy5EPjQzOTgwNDY1MTExMDMmJih0aGlzLkErKyx0aGlzLkwoKSl9cmV0dXJuIF9lLmZyb21GaWVsZHNWNyh0aGlzLkEsTWF0aC50cnVuYyh0aGlzLkQvTWF0aC5wb3coMiwzMCkpLHRoaXMuRCZNYXRoLnBvdygyLDMwKS0xLHRoaXMuai5uZXh0VWludDMyKCkpfUwoKXt0aGlzLkQ9MTAyNCp0aGlzLmoubmV4dFVpbnQzMigpKygxMDIzJnRoaXMuai5uZXh0VWludDMyKCkpfX12YXIgeWUsYmU9dD0+e2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBVVUlEVjdfREVOWV9XRUFLX1JORyYmVVVJRFY3X0RFTllfV0VBS19STkcpdGhyb3cgbmV3IEVycm9yKFwibm8gY3J5cHRvZ3JhcGhpY2FsbHkgc3Ryb25nIFJORyBhdmFpbGFibGVcIik7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspdFtpXT02NTUzNipNYXRoLnRydW5jKDY1NTM2Kk1hdGgucmFuZG9tKCkpK01hdGgudHJ1bmMoNjU1MzYqTWF0aC5yYW5kb20oKSk7cmV0dXJuIHR9O3QmJiFGKHQuY3J5cHRvKSYmY3J5cHRvLmdldFJhbmRvbVZhbHVlcyYmKGJlPXQ9PmNyeXB0by5nZXRSYW5kb21WYWx1ZXModCkpO2NsYXNzIHdle2NvbnN0cnVjdG9yKCl7dGhpcy5OPW5ldyBVaW50MzJBcnJheSg4KSx0aGlzLlU9MS8wfW5leHRVaW50MzIoKXtyZXR1cm4gdGhpcy5VPj10aGlzLk4ubGVuZ3RoJiYoYmUodGhpcy5OKSx0aGlzLlU9MCksdGhpcy5OW3RoaXMuVSsrXX19dmFyIHhlPSgpPT4kZSgpLnRvU3RyaW5nKCksJGU9KCk9Pih5ZXx8KHllPW5ldyBtZSkpLmdlbmVyYXRlKCksU2U9XCJcIjt2YXIgRWU9L1thLXowLTldW2EtejAtOS1dK1xcLlthLXpdezIsfSQvaTtmdW5jdGlvbiBrZSh0LGkpe2lmKGkpe3ZhciBlPWZ1bmN0aW9uKHQsaSl7aWYodm9pZCAwPT09aSYmKGk9byksU2UpcmV0dXJuIFNlO2lmKCFpKXJldHVyblwiXCI7aWYoW1wibG9jYWxob3N0XCIsXCIxMjcuMC4wLjFcIl0uaW5jbHVkZXModCkpcmV0dXJuXCJcIjtmb3IodmFyIGU9dC5zcGxpdChcIi5cIikscj1NYXRoLm1pbihlLmxlbmd0aCw4KSxzPVwiZG1uX2Noa19cIit4ZSgpOyFTZSYmci0tOyl7dmFyIG49ZS5zbGljZShyKS5qb2luKFwiLlwiKSxhPXMrXCI9MTtkb21haW49LlwiK24rXCI7cGF0aD0vXCI7aS5jb29raWU9YStcIjttYXgtYWdlPTNcIixpLmNvb2tpZS5pbmNsdWRlcyhzKSYmKGkuY29va2llPWErXCI7bWF4LWFnZT0wXCIsU2U9bil9cmV0dXJuIFNlfSh0KTtpZighZSl7dmFyIHI9KHQ9Pnt2YXIgaT10Lm1hdGNoKEVlKTtyZXR1cm4gaT9pWzBdOlwiXCJ9KSh0KTtyIT09ZSYmUHQuaW5mbyhcIldhcm5pbmc6IGNvb2tpZSBzdWJkb21haW4gZGlzY292ZXJ5IG1pc21hdGNoXCIscixlKSxlPXJ9cmV0dXJuIGU/XCI7IGRvbWFpbj0uXCIrZTpcIlwifXJldHVyblwiXCJ9dmFyIFBlPXtIOigpPT4hIW8sQjpmdW5jdGlvbih0KXtQdC5lcnJvcihcImNvb2tpZVN0b3JlIGVycm9yOiBcIit0KX0scTpmdW5jdGlvbih0KXtpZihvKXt0cnl7Zm9yKHZhciBpPXQrXCI9XCIsZT1vLmNvb2tpZS5zcGxpdChcIjtcIikuZmlsdGVyKCh0PT50Lmxlbmd0aCkpLHI9MDtyPGUubGVuZ3RoO3IrKyl7Zm9yKHZhciBzPWVbcl07XCIgXCI9PXMuY2hhckF0KDApOylzPXMuc3Vic3RyaW5nKDEscy5sZW5ndGgpO2lmKDA9PT1zLmluZGV4T2YoaSkpcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChzLnN1YnN0cmluZyhpLmxlbmd0aCxzLmxlbmd0aCkpfX1jYXRjaCh0KXt9cmV0dXJuIG51bGx9fSxXOmZ1bmN0aW9uKHQpe3ZhciBpO3RyeXtpPUpTT04ucGFyc2UoUGUucSh0KSl8fHt9fWNhdGNoKHQpe31yZXR1cm4gaX0sRzpmdW5jdGlvbih0LGksZSxyLHMpe2lmKG8pdHJ5e3ZhciBuPVwiXCIsYT1cIlwiLGw9a2Uoby5sb2NhdGlvbi5ob3N0bmFtZSxyKTtpZihlKXt2YXIgdT1uZXcgRGF0ZTt1LnNldFRpbWUodS5nZXRUaW1lKCkrMjQqZSo2MCo2MCoxZTMpLG49XCI7IGV4cGlyZXM9XCIrdS50b1VUQ1N0cmluZygpfXMmJihhPVwiOyBzZWN1cmVcIik7dmFyIGg9dCtcIj1cIitlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoaSkpK24rXCI7IFNhbWVTaXRlPUxheDsgcGF0aD0vXCIrbCthO3JldHVybiBoLmxlbmd0aD4zNjg2LjQmJlB0Lndhcm4oXCJjb29raWVTdG9yZSB3YXJuaW5nOiBsYXJnZSBjb29raWUsIGxlbj1cIitoLmxlbmd0aCksby5jb29raWU9aCxofWNhdGNoKHQpe3JldHVybn19LFY6ZnVuY3Rpb24odCxpKXtpZihudWxsIT1vJiZvLmNvb2tpZSl0cnl7UGUuRyh0LFwiXCIsLTEsaSl9Y2F0Y2godCl7cmV0dXJufX19LFRlPW51bGwsSWU9e0g6ZnVuY3Rpb24oKXtpZighRChUZSkpcmV0dXJuIFRlO3ZhciBpPSEwO2lmKEYodCkpaT0hMTtlbHNlIHRyeXt2YXIgZT1cIl9fbXBsc3N1cHBvcnRfX1wiO0llLkcoZSxcInh5elwiKSwnXCJ4eXpcIichPT1JZS5xKGUpJiYoaT0hMSksSWUuVihlKX1jYXRjaCh0KXtpPSExfXJldHVybiBpfHxQdC5lcnJvcihcImxvY2FsU3RvcmFnZSB1bnN1cHBvcnRlZDsgZmFsbGluZyBiYWNrIHRvIGNvb2tpZSBzdG9yZVwiKSxUZT1pLGl9LEI6ZnVuY3Rpb24odCl7UHQuZXJyb3IoXCJsb2NhbFN0b3JhZ2UgZXJyb3I6IFwiK3QpfSxxOmZ1bmN0aW9uKGkpe3RyeXtyZXR1cm4gbnVsbD09dD92b2lkIDA6dC5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShpKX1jYXRjaCh0KXtJZS5CKHQpfXJldHVybiBudWxsfSxXOmZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4gSlNPTi5wYXJzZShJZS5xKHQpKXx8e319Y2F0Y2godCl7fXJldHVybiBudWxsfSxHOmZ1bmN0aW9uKGksZSl7dHJ5e251bGw9PXR8fHQubG9jYWxTdG9yYWdlLnNldEl0ZW0oaSxKU09OLnN0cmluZ2lmeShlKSl9Y2F0Y2godCl7SWUuQih0KX19LFY6ZnVuY3Rpb24oaSl7dHJ5e251bGw9PXR8fHQubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oaSl9Y2F0Y2godCl7SWUuQih0KX19fSxSZT1bXCJkaXN0aW5jdF9pZFwiLHJpLHNpLHlpLG1pXSxDZT1nKHt9LEllLHtXOmZ1bmN0aW9uKHQpe3RyeXt2YXIgaT17fTt0cnl7aT1QZS5XKHQpfHx7fX1jYXRjaCh0KXt9dmFyIGU9TXQoaSxKU09OLnBhcnNlKEllLnEodCl8fFwie31cIikpO3JldHVybiBJZS5HKHQsZSksZX1jYXRjaCh0KXt9cmV0dXJuIG51bGx9LEc6ZnVuY3Rpb24odCxpLGUscixzLG4pe3RyeXtJZS5HKHQsaSx2b2lkIDAsdm9pZCAwLG4pO3ZhciBvPXt9O1JlLmZvckVhY2goKHQ9PntpW3RdJiYob1t0XT1pW3RdKX0pKSxPYmplY3Qua2V5cyhvKS5sZW5ndGgmJlBlLkcodCxvLGUscixzLG4pfWNhdGNoKHQpe0llLkIodCl9fSxWOmZ1bmN0aW9uKGksZSl7dHJ5e251bGw9PXR8fHQubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oaSksUGUuVihpLGUpfWNhdGNoKHQpe0llLkIodCl9fX0pLE9lPXt9LEZlPXtIOmZ1bmN0aW9uKCl7cmV0dXJuITB9LEI6ZnVuY3Rpb24odCl7UHQuZXJyb3IoXCJtZW1vcnlTdG9yYWdlIGVycm9yOiBcIit0KX0scTpmdW5jdGlvbih0KXtyZXR1cm4gT2VbdF18fG51bGx9LFc6ZnVuY3Rpb24odCl7cmV0dXJuIE9lW3RdfHxudWxsfSxHOmZ1bmN0aW9uKHQsaSl7T2VbdF09aX0sVjpmdW5jdGlvbih0KXtkZWxldGUgT2VbdF19fSxNZT1udWxsLEFlPXtIOmZ1bmN0aW9uKCl7aWYoIUQoTWUpKXJldHVybiBNZTtpZihNZT0hMCxGKHQpKU1lPSExO2Vsc2UgdHJ5e3ZhciBpPVwiX19zdXBwb3J0X19cIjtBZS5HKGksXCJ4eXpcIiksJ1wieHl6XCInIT09QWUucShpKSYmKE1lPSExKSxBZS5WKGkpfWNhdGNoKHQpe01lPSExfXJldHVybiBNZX0sQjpmdW5jdGlvbih0KXtQdC5lcnJvcihcInNlc3Npb25TdG9yYWdlIGVycm9yOiBcIix0KX0scTpmdW5jdGlvbihpKXt0cnl7cmV0dXJuIG51bGw9PXQ/dm9pZCAwOnQuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShpKX1jYXRjaCh0KXtBZS5CKHQpfXJldHVybiBudWxsfSxXOmZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4gSlNPTi5wYXJzZShBZS5xKHQpKXx8bnVsbH1jYXRjaCh0KXt9cmV0dXJuIG51bGx9LEc6ZnVuY3Rpb24oaSxlKXt0cnl7bnVsbD09dHx8dC5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKGksSlNPTi5zdHJpbmdpZnkoZSkpfWNhdGNoKHQpe0FlLkIodCl9fSxWOmZ1bmN0aW9uKGkpe3RyeXtudWxsPT10fHx0LnNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oaSl9Y2F0Y2godCl7QWUuQih0KX19fSxEZT1mdW5jdGlvbih0KXtyZXR1cm4gdFt0LlBFTkRJTkc9LTFdPVwiUEVORElOR1wiLHRbdC5ERU5JRUQ9MF09XCJERU5JRURcIix0W3QuR1JBTlRFRD0xXT1cIkdSQU5URURcIix0fSh7fSk7Y2xhc3MgamV7Y29uc3RydWN0b3IodCl7dGhpcy5faW5zdGFuY2U9dH1nZXQgQygpe3JldHVybiB0aGlzLl9pbnN0YW5jZS5jb25maWd9Z2V0IGNvbnNlbnQoKXtyZXR1cm4gdGhpcy5KKCk/RGUuREVOSUVEOnRoaXMuS31pc09wdGVkT3V0KCl7cmV0dXJuXCJhbHdheXNcIj09PXRoaXMuQy5jb29raWVsZXNzX21vZGV8fCh0aGlzLmNvbnNlbnQ9PT1EZS5ERU5JRUR8fHRoaXMuY29uc2VudD09PURlLlBFTkRJTkcmJih0aGlzLkMub3B0X291dF9jYXB0dXJpbmdfYnlfZGVmYXVsdHx8XCJvbl9yZWplY3RcIj09PXRoaXMuQy5jb29raWVsZXNzX21vZGUpKX1pc09wdGVkSW4oKXtyZXR1cm4hdGhpcy5pc09wdGVkT3V0KCl9aXNFeHBsaWNpdGx5T3B0ZWRPdXQoKXtyZXR1cm4gdGhpcy5jb25zZW50PT09RGUuREVOSUVEfW9wdEluT3V0KHQpe3RoaXMuWS5HKHRoaXMuWCx0PzE6MCx0aGlzLkMuY29va2llX2V4cGlyYXRpb24sdGhpcy5DLmNyb3NzX3N1YmRvbWFpbl9jb29raWUsdGhpcy5DLnNlY3VyZV9jb29raWUpfXJlc2V0KCl7dGhpcy5ZLlYodGhpcy5YLHRoaXMuQy5jcm9zc19zdWJkb21haW5fY29va2llKX1nZXQgWCgpe3Zhcnt0b2tlbjp0LG9wdF9vdXRfY2FwdHVyaW5nX2Nvb2tpZV9wcmVmaXg6aSxjb25zZW50X3BlcnNpc3RlbmNlX25hbWU6ZX09dGhpcy5faW5zdGFuY2UuY29uZmlnO3JldHVybiBlfHwoaT9pK3Q6XCJfX3BoX29wdF9pbl9vdXRfXCIrdCl9Z2V0IEsoKXt2YXIgdD10aGlzLlkucSh0aGlzLlgpO3JldHVybiBHKHQpP0RlLkdSQU5URUQ6dyhWLHQpP0RlLkRFTklFRDpEZS5QRU5ESU5HfWdldCBZKCl7aWYoIXRoaXMuWil7dmFyIHQ9dGhpcy5DLm9wdF9vdXRfY2FwdHVyaW5nX3BlcnNpc3RlbmNlX3R5cGU7dGhpcy5aPVwibG9jYWxTdG9yYWdlXCI9PT10P0llOlBlO3ZhciBpPVwibG9jYWxTdG9yYWdlXCI9PT10P1BlOkllO2kucSh0aGlzLlgpJiYodGhpcy5aLnEodGhpcy5YKXx8dGhpcy5vcHRJbk91dChHKGkucSh0aGlzLlgpKSksaS5WKHRoaXMuWCx0aGlzLkMuY3Jvc3Nfc3ViZG9tYWluX2Nvb2tpZSkpfXJldHVybiB0aGlzLlp9Sigpe3JldHVybiEhdGhpcy5DLnJlc3BlY3RfZG50JiYhIUJ0KFtudWxsPT1uP3ZvaWQgMDpuLmRvTm90VHJhY2ssbnVsbD09bj92b2lkIDA6bi5tc0RvTm90VHJhY2ssdi5kb05vdFRyYWNrXSwodD0+Ryh0KSkpfX12YXIgTGU9VHQoXCJbRGVhZCBDbGlja3NdXCIpLE5lPSgpPT4hMCxVZT10PT57dmFyIGksZT0hKG51bGw9PShpPXQuaW5zdGFuY2UucGVyc2lzdGVuY2UpfHwhaS5nZXRfcHJvcGVydHkodGkpKSxyPXQuaW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfZGVhZF9jbGlja3M7cmV0dXJuIE4ocik/cjplfTtjbGFzcyB6ZXtnZXQgbGF6eUxvYWRlZERlYWRDbGlja3NBdXRvY2FwdHVyZSgpe3JldHVybiB0aGlzLnR0fWNvbnN0cnVjdG9yKHQsaSxlKXt0aGlzLmluc3RhbmNlPXQsdGhpcy5pc0VuYWJsZWQ9aSx0aGlzLm9uQ2FwdHVyZT1lLHRoaXMuc3RhcnRJZkVuYWJsZWQoKX1vblJlbW90ZUNvbmZpZyh0KXt0aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlJiZ0aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlLnJlZ2lzdGVyKHtbdGldOm51bGw9PXQ/dm9pZCAwOnQuY2FwdHVyZURlYWRDbGlja3N9KSx0aGlzLnN0YXJ0SWZFbmFibGVkKCl9c3RhcnRJZkVuYWJsZWQoKXt0aGlzLmlzRW5hYmxlZCh0aGlzKSYmdGhpcy5pdCgoKCk9Pnt0aGlzLmV0KCl9KSl9aXQodCl7dmFyIGksZTtudWxsIT0oaT12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXykmJmkuaW5pdERlYWRDbGlja3NBdXRvY2FwdHVyZSYmdCgpLG51bGw9PShlPXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fKXx8bnVsbD09ZS5sb2FkRXh0ZXJuYWxEZXBlbmRlbmN5fHxlLmxvYWRFeHRlcm5hbERlcGVuZGVuY3kodGhpcy5pbnN0YW5jZSxcImRlYWQtY2xpY2tzLWF1dG9jYXB0dXJlXCIsKGk9PntpP0xlLmVycm9yKFwiZmFpbGVkIHRvIGxvYWQgc2NyaXB0XCIsaSk6dCgpfSkpfWV0KCl7dmFyIHQ7aWYobyl7aWYoIXRoaXMudHQmJm51bGwhPSh0PXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fKSYmdC5pbml0RGVhZENsaWNrc0F1dG9jYXB0dXJlKXt2YXIgaT1DKHRoaXMuaW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfZGVhZF9jbGlja3MpP3RoaXMuaW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfZGVhZF9jbGlja3M6e307aS5fX29uQ2FwdHVyZT10aGlzLm9uQ2FwdHVyZSx0aGlzLnR0PXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fLmluaXREZWFkQ2xpY2tzQXV0b2NhcHR1cmUodGhpcy5pbnN0YW5jZSxpKSx0aGlzLnR0LnN0YXJ0KG8pLExlLmluZm8oXCJzdGFydGluZy4uLlwiKX19ZWxzZSBMZS5lcnJvcihcImBkb2N1bWVudGAgbm90IGZvdW5kLiBDYW5ub3Qgc3RhcnQuXCIpfXN0b3AoKXt0aGlzLnR0JiYodGhpcy50dC5zdG9wKCksdGhpcy50dD12b2lkIDAsTGUuaW5mbyhcInN0b3BwaW5nLi4uXCIpKX19dmFyIEhlPVR0KFwiW0V4Y2VwdGlvbkF1dG9jYXB0dXJlXVwiKTtjbGFzcyBCZXtjb25zdHJ1Y3RvcihpKXt2YXIgZSxyLHM7dGhpcy5ydD0oKT0+e3ZhciBpO2lmKHQmJnRoaXMuaXNFbmFibGVkJiZudWxsIT0oaT12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXykmJmkuZXJyb3JXcmFwcGluZ0Z1bmN0aW9ucyl7dmFyIGU9di5fX1Bvc3Rob2dFeHRlbnNpb25zX18uZXJyb3JXcmFwcGluZ0Z1bmN0aW9ucy53cmFwT25FcnJvcixyPXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fLmVycm9yV3JhcHBpbmdGdW5jdGlvbnMud3JhcFVuaGFuZGxlZFJlamVjdGlvbixzPXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fLmVycm9yV3JhcHBpbmdGdW5jdGlvbnMud3JhcENvbnNvbGVFcnJvcjt0cnl7IXRoaXMuc3QmJnRoaXMuQy5jYXB0dXJlX3VuaGFuZGxlZF9lcnJvcnMmJih0aGlzLnN0PWUodGhpcy5jYXB0dXJlRXhjZXB0aW9uLmJpbmQodGhpcykpKSwhdGhpcy5udCYmdGhpcy5DLmNhcHR1cmVfdW5oYW5kbGVkX3JlamVjdGlvbnMmJih0aGlzLm50PXIodGhpcy5jYXB0dXJlRXhjZXB0aW9uLmJpbmQodGhpcykpKSwhdGhpcy5vdCYmdGhpcy5DLmNhcHR1cmVfY29uc29sZV9lcnJvcnMmJih0aGlzLm90PXModGhpcy5jYXB0dXJlRXhjZXB0aW9uLmJpbmQodGhpcykpKX1jYXRjaCh0KXtIZS5lcnJvcihcImZhaWxlZCB0byBzdGFydFwiLHQpLHRoaXMubHQoKX19fSx0aGlzLl9pbnN0YW5jZT1pLHRoaXMudXQ9IShudWxsPT0oZT10aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZSl8fCFlLnByb3BzW1l0XSksdGhpcy5DPXRoaXMuaHQoKSx0aGlzLmR0PW5ldyBLKHtyZWZpbGxSYXRlOm51bGwhPT0ocj10aGlzLl9pbnN0YW5jZS5jb25maWcuZXJyb3JfdHJhY2tpbmcuX19leGNlcHRpb25SYXRlTGltaXRlclJlZmlsbFJhdGUpJiZ2b2lkIDAhPT1yP3I6MSxidWNrZXRTaXplOm51bGwhPT0ocz10aGlzLl9pbnN0YW5jZS5jb25maWcuZXJyb3JfdHJhY2tpbmcuX19leGNlcHRpb25SYXRlTGltaXRlckJ1Y2tldFNpemUpJiZ2b2lkIDAhPT1zP3M6MTAscmVmaWxsSW50ZXJ2YWw6MWU0LGg6SGV9KSx0aGlzLnN0YXJ0SWZFbmFibGVkKCl9aHQoKXt2YXIgdD10aGlzLl9pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9leGNlcHRpb25zLGk9e2NhcHR1cmVfdW5oYW5kbGVkX2Vycm9yczohMSxjYXB0dXJlX3VuaGFuZGxlZF9yZWplY3Rpb25zOiExLGNhcHR1cmVfY29uc29sZV9lcnJvcnM6ITF9O3JldHVybiBDKHQpP2k9Zyh7fSxpLHQpOihGKHQpP3RoaXMudXQ6dCkmJihpPWcoe30saSx7Y2FwdHVyZV91bmhhbmRsZWRfZXJyb3JzOiEwLGNhcHR1cmVfdW5oYW5kbGVkX3JlamVjdGlvbnM6ITB9KSksaX1nZXQgaXNFbmFibGVkKCl7cmV0dXJuIHRoaXMuQy5jYXB0dXJlX2NvbnNvbGVfZXJyb3JzfHx0aGlzLkMuY2FwdHVyZV91bmhhbmRsZWRfZXJyb3JzfHx0aGlzLkMuY2FwdHVyZV91bmhhbmRsZWRfcmVqZWN0aW9uc31zdGFydElmRW5hYmxlZCgpe3RoaXMuaXNFbmFibGVkJiYoSGUuaW5mbyhcImVuYWJsZWRcIiksdGhpcy5pdCh0aGlzLnJ0KSl9aXQodCl7dmFyIGksZTtudWxsIT0oaT12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXykmJmkuZXJyb3JXcmFwcGluZ0Z1bmN0aW9ucyYmdCgpLG51bGw9PShlPXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fKXx8bnVsbD09ZS5sb2FkRXh0ZXJuYWxEZXBlbmRlbmN5fHxlLmxvYWRFeHRlcm5hbERlcGVuZGVuY3kodGhpcy5faW5zdGFuY2UsXCJleGNlcHRpb24tYXV0b2NhcHR1cmVcIiwoaT0+e2lmKGkpcmV0dXJuIEhlLmVycm9yKFwiZmFpbGVkIHRvIGxvYWQgc2NyaXB0XCIsaSk7dCgpfSkpfWx0KCl7dmFyIHQsaSxlO251bGw9PSh0PXRoaXMuc3QpfHx0LmNhbGwodGhpcyksdGhpcy5zdD12b2lkIDAsbnVsbD09KGk9dGhpcy5udCl8fGkuY2FsbCh0aGlzKSx0aGlzLm50PXZvaWQgMCxudWxsPT0oZT10aGlzLm90KXx8ZS5jYWxsKHRoaXMpLHRoaXMub3Q9dm9pZCAwfW9uUmVtb3RlQ29uZmlnKHQpe3ZhciBpPXQuYXV0b2NhcHR1cmVFeGNlcHRpb25zO3RoaXMudXQ9ISFpfHwhMSx0aGlzLkM9dGhpcy5odCgpLHRoaXMuX2luc3RhbmNlLnBlcnNpc3RlbmNlJiZ0aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZS5yZWdpc3Rlcih7W1l0XTp0aGlzLnV0fSksdGhpcy5zdGFydElmRW5hYmxlZCgpfWNhcHR1cmVFeGNlcHRpb24odCl7dmFyIGksZSxyPW51bGwhPT0oaT1udWxsPT10fHxudWxsPT0oZT10LiRleGNlcHRpb25fbGlzdCl8fG51bGw9PShlPWVbMF0pP3ZvaWQgMDplLnR5cGUpJiZ2b2lkIDAhPT1pP2k6XCJFeGNlcHRpb25cIjt0aGlzLmR0LmNvbnN1bWVSYXRlTGltaXQocik/SGUuaW5mbyhcIlNraXBwaW5nIGV4Y2VwdGlvbiBjYXB0dXJlIGJlY2F1c2Ugb2YgY2xpZW50IHJhdGUgbGltaXRpbmcuXCIse2V4Y2VwdGlvbjpyfSk6dGhpcy5faW5zdGFuY2UuZXhjZXB0aW9ucy5zZW5kRXhjZXB0aW9uRXZlbnQodCl9fWZ1bmN0aW9uIHFlKHQsaSxlKXt0cnl7aWYoIShpIGluIHQpKXJldHVybigpPT57fTt2YXIgcj10W2ldLHM9ZShyKTtyZXR1cm4gUihzKSYmKHMucHJvdG90eXBlPXMucHJvdG90eXBlfHx7fSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhzLHtfX3Bvc3Rob2dfd3JhcHBlZF9fOntlbnVtZXJhYmxlOiExLHZhbHVlOiEwfX0pKSx0W2ldPXMsKCk9Pnt0W2ldPXJ9fWNhdGNoKHQpe3JldHVybigpPT57fX19Y2xhc3MgV2V7Y29uc3RydWN0b3IoaSl7dmFyIGU7dGhpcy5faW5zdGFuY2U9aSx0aGlzLnZ0PShudWxsPT10fHxudWxsPT0oZT10LmxvY2F0aW9uKT92b2lkIDA6ZS5wYXRobmFtZSl8fFwiXCJ9Z2V0IGlzRW5hYmxlZCgpe3JldHVyblwiaGlzdG9yeV9jaGFuZ2VcIj09PXRoaXMuX2luc3RhbmNlLmNvbmZpZy5jYXB0dXJlX3BhZ2V2aWV3fXN0YXJ0SWZFbmFibGVkKCl7dGhpcy5pc0VuYWJsZWQmJihQdC5pbmZvKFwiSGlzdG9yeSBBUEkgbW9uaXRvcmluZyBlbmFibGVkLCBzdGFydGluZy4uLlwiKSx0aGlzLm1vbml0b3JIaXN0b3J5Q2hhbmdlcygpKX1zdG9wKCl7dGhpcy5jdCYmdGhpcy5jdCgpLHRoaXMuY3Q9dm9pZCAwLFB0LmluZm8oXCJIaXN0b3J5IEFQSSBtb25pdG9yaW5nIHN0b3BwZWRcIil9bW9uaXRvckhpc3RvcnlDaGFuZ2VzKCl7dmFyIGksZTtpZih0JiZ0Lmhpc3Rvcnkpe3ZhciByPXRoaXM7bnVsbCE9KGk9dC5oaXN0b3J5LnB1c2hTdGF0ZSkmJmkuX19wb3N0aG9nX3dyYXBwZWRfX3x8cWUodC5oaXN0b3J5LFwicHVzaFN0YXRlXCIsKHQ9PmZ1bmN0aW9uKGksZSxzKXt0LmNhbGwodGhpcyxpLGUscyksci5mdChcInB1c2hTdGF0ZVwiKX0pKSxudWxsIT0oZT10Lmhpc3RvcnkucmVwbGFjZVN0YXRlKSYmZS5fX3Bvc3Rob2dfd3JhcHBlZF9ffHxxZSh0Lmhpc3RvcnksXCJyZXBsYWNlU3RhdGVcIiwodD0+ZnVuY3Rpb24oaSxlLHMpe3QuY2FsbCh0aGlzLGksZSxzKSxyLmZ0KFwicmVwbGFjZVN0YXRlXCIpfSkpLHRoaXMuZ3QoKX19ZnQoaSl7dHJ5e3ZhciBlLHI9bnVsbD09dHx8bnVsbD09KGU9dC5sb2NhdGlvbik/dm9pZCAwOmUucGF0aG5hbWU7aWYoIXIpcmV0dXJuO3IhPT10aGlzLnZ0JiZ0aGlzLmlzRW5hYmxlZCYmdGhpcy5faW5zdGFuY2UuY2FwdHVyZShcIiRwYWdldmlld1wiLHtuYXZpZ2F0aW9uX3R5cGU6aX0pLHRoaXMudnQ9cn1jYXRjaCh0KXtQdC5lcnJvcihcIkVycm9yIGNhcHR1cmluZyBcIitpK1wiIHBhZ2V2aWV3XCIsdCl9fWd0KCl7aWYoIXRoaXMuY3Qpe3ZhciBpPSgpPT57dGhpcy5mdChcInBvcHN0YXRlXCIpfTtxdCh0LFwicG9wc3RhdGVcIixpKSx0aGlzLmN0PSgpPT57dCYmdC5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9wc3RhdGVcIixpKX19fX12YXIgR2U9VHQoXCJbU2VnbWVudEludGVncmF0aW9uXVwiKTtmdW5jdGlvbiBWZSh0LGkpe3ZhciBlPXQuY29uZmlnLnNlZ21lbnQ7aWYoIWUpcmV0dXJuIGkoKTshZnVuY3Rpb24odCxpKXt2YXIgZT10LmNvbmZpZy5zZWdtZW50O2lmKCFlKXJldHVybiBpKCk7dmFyIHI9ZT0+e3ZhciByPSgpPT5lLmFub255bW91c0lkKCl8fHhlKCk7dC5jb25maWcuZ2V0X2RldmljZV9pZD1yLGUuaWQoKSYmKHQucmVnaXN0ZXIoe2Rpc3RpbmN0X2lkOmUuaWQoKSwkZGV2aWNlX2lkOnIoKX0pLHQucGVyc2lzdGVuY2Uuc2V0X3Byb3BlcnR5KGNpLFwiaWRlbnRpZmllZFwiKSksaSgpfSxzPWUudXNlcigpO1widGhlblwiaW4gcyYmUihzLnRoZW4pP3MudGhlbigodD0+cih0KSkpOnIocyl9KHQsKCgpPT57ZS5yZWdpc3RlcigodD0+e1Byb21pc2UmJlByb21pc2UucmVzb2x2ZXx8R2Uud2FybihcIlRoaXMgYnJvd3NlciBkb2VzIG5vdCBoYXZlIFByb21pc2Ugc3VwcG9ydCwgYW5kIGNhbiBub3QgdXNlIHRoZSBzZWdtZW50IGludGVncmF0aW9uXCIpO3ZhciBpPShpLGUpPT57aWYoIWUpcmV0dXJuIGk7aS5ldmVudC51c2VySWR8fGkuZXZlbnQuYW5vbnltb3VzSWQ9PT10LmdldF9kaXN0aW5jdF9pZCgpfHwoR2UuaW5mbyhcIk5vIHVzZXJJZCBzZXQsIHJlc2V0dGluZyBQb3N0SG9nXCIpLHQucmVzZXQoKSksaS5ldmVudC51c2VySWQmJmkuZXZlbnQudXNlcklkIT09dC5nZXRfZGlzdGluY3RfaWQoKSYmKEdlLmluZm8oXCJVc2VySWQgc2V0LCBpZGVudGlmeWluZyB3aXRoIFBvc3RIb2dcIiksdC5pZGVudGlmeShpLmV2ZW50LnVzZXJJZCkpO3ZhciByPXQuY2FsY3VsYXRlRXZlbnRQcm9wZXJ0aWVzKGUsaS5ldmVudC5wcm9wZXJ0aWVzKTtyZXR1cm4gaS5ldmVudC5wcm9wZXJ0aWVzPU9iamVjdC5hc3NpZ24oe30scixpLmV2ZW50LnByb3BlcnRpZXMpLGl9O3JldHVybntuYW1lOlwiUG9zdEhvZyBKU1wiLHR5cGU6XCJlbnJpY2htZW50XCIsdmVyc2lvbjpcIjEuMC4wXCIsaXNMb2FkZWQ6KCk9PiEwLGxvYWQ6KCk9PlByb21pc2UucmVzb2x2ZSgpLHRyYWNrOnQ9PmkodCx0LmV2ZW50LmV2ZW50KSxwYWdlOnQ9PmkodCxcIiRwYWdldmlld1wiKSxpZGVudGlmeTp0PT5pKHQsXCIkaWRlbnRpZnlcIiksc2NyZWVuOnQ9PmkodCxcIiRzY3JlZW5cIil9fSkodCkpLnRoZW4oKCgpPT57aSgpfSkpfSkpfXZhciBKZT1cInBvc3Rob2ctanNcIjtmdW5jdGlvbiBLZSh0LGkpe3Zhcntvcmdhbml6YXRpb246ZSxwcm9qZWN0SWQ6cixwcmVmaXg6cyxzZXZlcml0eUFsbG93TGlzdDpuPVtcImVycm9yXCJdLHNlbmRFeGNlcHRpb25zVG9Qb3N0SG9nOm89ITB9PXZvaWQgMD09PWk/e306aTtyZXR1cm4gaT0+e3ZhciBhLGwsdSxoLGQ7aWYoIShcIipcIj09PW58fG4uaW5jbHVkZXMoaS5sZXZlbCkpfHwhdC5fX2xvYWRlZClyZXR1cm4gaTtpLnRhZ3N8fChpLnRhZ3M9e30pO3ZhciB2PXQucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcInVpXCIsXCIvcHJvamVjdC9cIit0LmNvbmZpZy50b2tlbitcIi9wZXJzb24vXCIrdC5nZXRfZGlzdGluY3RfaWQoKSk7aS50YWdzW1wiUG9zdEhvZyBQZXJzb24gVVJMXCJdPXYsdC5zZXNzaW9uUmVjb3JkaW5nU3RhcnRlZCgpJiYoaS50YWdzW1wiUG9zdEhvZyBSZWNvcmRpbmcgVVJMXCJdPXQuZ2V0X3Nlc3Npb25fcmVwbGF5X3VybCh7d2l0aFRpbWVzdGFtcDohMH0pKTt2YXIgYz0obnVsbD09KGE9aS5leGNlcHRpb24pP3ZvaWQgMDphLnZhbHVlcyl8fFtdLGY9Yy5tYXAoKHQ9Pmcoe30sdCx7c3RhY2t0cmFjZTp0LnN0YWNrdHJhY2U/Zyh7fSx0LnN0YWNrdHJhY2Use3R5cGU6XCJyYXdcIixmcmFtZXM6KHQuc3RhY2t0cmFjZS5mcmFtZXN8fFtdKS5tYXAoKHQ9Pmcoe30sdCx7cGxhdGZvcm06XCJ3ZWI6amF2YXNjcmlwdFwifSkpKX0pOnZvaWQgMH0pKSkscD17JGV4Y2VwdGlvbl9tZXNzYWdlOihudWxsPT0obD1jWzBdKT92b2lkIDA6bC52YWx1ZSl8fGkubWVzc2FnZSwkZXhjZXB0aW9uX3R5cGU6bnVsbD09KHU9Y1swXSk/dm9pZCAwOnUudHlwZSwkZXhjZXB0aW9uX2xldmVsOmkubGV2ZWwsJGV4Y2VwdGlvbl9saXN0OmYsJHNlbnRyeV9ldmVudF9pZDppLmV2ZW50X2lkLCRzZW50cnlfZXhjZXB0aW9uOmkuZXhjZXB0aW9uLCRzZW50cnlfZXhjZXB0aW9uX21lc3NhZ2U6KG51bGw9PShoPWNbMF0pP3ZvaWQgMDpoLnZhbHVlKXx8aS5tZXNzYWdlLCRzZW50cnlfZXhjZXB0aW9uX3R5cGU6bnVsbD09KGQ9Y1swXSk/dm9pZCAwOmQudHlwZSwkc2VudHJ5X3RhZ3M6aS50YWdzfTtyZXR1cm4gZSYmciYmKHAuJHNlbnRyeV91cmw9KHN8fFwiaHR0cHM6Ly9zZW50cnkuaW8vb3JnYW5pemF0aW9ucy9cIikrZStcIi9pc3N1ZXMvP3Byb2plY3Q9XCIrcitcIiZxdWVyeT1cIitpLmV2ZW50X2lkKSxvJiZ0LmV4Y2VwdGlvbnMuc2VuZEV4Y2VwdGlvbkV2ZW50KHApLGl9fWNsYXNzIFlle2NvbnN0cnVjdG9yKHQsaSxlLHIscyxuKXt0aGlzLm5hbWU9SmUsdGhpcy5zZXR1cE9uY2U9ZnVuY3Rpb24obyl7byhLZSh0LHtvcmdhbml6YXRpb246aSxwcm9qZWN0SWQ6ZSxwcmVmaXg6cixzZXZlcml0eUFsbG93TGlzdDpzLHNlbmRFeGNlcHRpb25zVG9Qb3N0SG9nOm51bGw9PW58fG59KSl9fX12YXIgWGU9bnVsbCE9dCYmdC5sb2NhdGlvbj91ZSh0LmxvY2F0aW9uLmhhc2gsXCJfX3Bvc3Rob2dcIil8fHVlKGxvY2F0aW9uLmhhc2gsXCJzdGF0ZVwiKTpudWxsLFFlPVwiX3Bvc3RIb2dUb29sYmFyUGFyYW1zXCIsWmU9VHQoXCJbVG9vbGJhcl1cIiksdHI9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5VTklOSVRJQUxJWkVEPTBdPVwiVU5JTklUSUFMSVpFRFwiLHRbdC5MT0FESU5HPTFdPVwiTE9BRElOR1wiLHRbdC5MT0FERUQ9Ml09XCJMT0FERURcIix0fSh0cnx8e30pO2NsYXNzIGlye2NvbnN0cnVjdG9yKHQpe3RoaXMuaW5zdGFuY2U9dH1fdCh0KXt2LnBoX3Rvb2xiYXJfc3RhdGU9dH15dCgpe3ZhciB0O3JldHVybiBudWxsIT09KHQ9di5waF90b29sYmFyX3N0YXRlKSYmdm9pZCAwIT09dD90OnRyLlVOSU5JVElBTElaRUR9bWF5YmVMb2FkVG9vbGJhcihpLGUscil7aWYodm9pZCAwPT09aSYmKGk9dm9pZCAwKSx2b2lkIDA9PT1lJiYoZT12b2lkIDApLHZvaWQgMD09PXImJihyPXZvaWQgMCksIXR8fCFvKXJldHVybiExO2k9bnVsbCE9aT9pOnQubG9jYXRpb24scj1udWxsIT1yP3I6dC5oaXN0b3J5O3RyeXtpZighZSl7dHJ5e3QubG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ0ZXN0XCIsXCJ0ZXN0XCIpLHQubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJ0ZXN0XCIpfWNhdGNoKHQpe3JldHVybiExfWU9bnVsbD09dD92b2lkIDA6dC5sb2NhbFN0b3JhZ2V9dmFyIHMsbj1YZXx8dWUoaS5oYXNoLFwiX19wb3N0aG9nXCIpfHx1ZShpLmhhc2gsXCJzdGF0ZVwiKSxhPW4/anQoKCgpPT5KU09OLnBhcnNlKGF0b2IoZGVjb2RlVVJJQ29tcG9uZW50KG4pKSkpKXx8anQoKCgpPT5KU09OLnBhcnNlKGRlY29kZVVSSUNvbXBvbmVudChuKSkpKTpudWxsO3JldHVybiBhJiZcInBoX2F1dGhvcml6ZVwiPT09YS5hY3Rpb24/KChzPWEpLnNvdXJjZT1cInVybFwiLHMmJk9iamVjdC5rZXlzKHMpLmxlbmd0aD4wJiYoYS5kZXNpcmVkSGFzaD9pLmhhc2g9YS5kZXNpcmVkSGFzaDpyP3IucmVwbGFjZVN0YXRlKHIuc3RhdGUsXCJcIixpLnBhdGhuYW1lK2kuc2VhcmNoKTppLmhhc2g9XCJcIikpOigocz1KU09OLnBhcnNlKGUuZ2V0SXRlbShRZSl8fFwie31cIikpLnNvdXJjZT1cImxvY2Fsc3RvcmFnZVwiLGRlbGV0ZSBzLnVzZXJJbnRlbnQpLCEoIXMudG9rZW58fHRoaXMuaW5zdGFuY2UuY29uZmlnLnRva2VuIT09cy50b2tlbikmJih0aGlzLmxvYWRUb29sYmFyKHMpLCEwKX1jYXRjaCh0KXtyZXR1cm4hMX19YnQodCl7dmFyIGk9di5waF9sb2FkX3Rvb2xiYXJ8fHYucGhfbG9hZF9lZGl0b3I7IWooaSkmJlIoaSk/aSh0LHRoaXMuaW5zdGFuY2UpOlplLndhcm4oXCJObyB0b29sYmFyIGxvYWQgZnVuY3Rpb24gZm91bmRcIil9bG9hZFRvb2xiYXIoaSl7dmFyIGU9IShudWxsPT1vfHwhby5nZXRFbGVtZW50QnlJZChiaSkpO2lmKCF0fHxlKXJldHVybiExO3ZhciByPVwiY3VzdG9tXCI9PT10aGlzLmluc3RhbmNlLnJlcXVlc3RSb3V0ZXIucmVnaW9uJiZ0aGlzLmluc3RhbmNlLmNvbmZpZy5hZHZhbmNlZF9kaXNhYmxlX3Rvb2xiYXJfbWV0cmljcyxzPWcoe3Rva2VuOnRoaXMuaW5zdGFuY2UuY29uZmlnLnRva2VufSxpLHthcGlVUkw6dGhpcy5pbnN0YW5jZS5yZXF1ZXN0Um91dGVyLmVuZHBvaW50Rm9yKFwidWlcIil9LHI/e2luc3RydW1lbnQ6ITF9Ont9KTtpZih0LmxvY2FsU3RvcmFnZS5zZXRJdGVtKFFlLEpTT04uc3RyaW5naWZ5KGcoe30scyx7c291cmNlOnZvaWQgMH0pKSksdGhpcy55dCgpPT09dHIuTE9BREVEKXRoaXMuYnQocyk7ZWxzZSBpZih0aGlzLnl0KCk9PT10ci5VTklOSVRJQUxJWkVEKXt2YXIgbjt0aGlzLl90KHRyLkxPQURJTkcpLG51bGw9PShuPXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fKXx8bnVsbD09bi5sb2FkRXh0ZXJuYWxEZXBlbmRlbmN5fHxuLmxvYWRFeHRlcm5hbERlcGVuZGVuY3kodGhpcy5pbnN0YW5jZSxcInRvb2xiYXJcIiwodD0+e2lmKHQpcmV0dXJuIFplLmVycm9yKFwiW1Rvb2xiYXJdIEZhaWxlZCB0byBsb2FkXCIsdCksdm9pZCB0aGlzLl90KHRyLlVOSU5JVElBTElaRUQpO3RoaXMuX3QodHIuTE9BREVEKSx0aGlzLmJ0KHMpfSkpLHF0KHQsXCJ0dXJib2xpbmtzOmxvYWRcIiwoKCk9Pnt0aGlzLl90KHRyLlVOSU5JVElBTElaRUQpLHRoaXMubG9hZFRvb2xiYXIocyl9KSl9cmV0dXJuITB9d3QodCl7cmV0dXJuIHRoaXMubG9hZFRvb2xiYXIodCl9bWF5YmVMb2FkRWRpdG9yKHQsaSxlKXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9dm9pZCAwKSx2b2lkIDA9PT1pJiYoaT12b2lkIDApLHZvaWQgMD09PWUmJihlPXZvaWQgMCksdGhpcy5tYXliZUxvYWRUb29sYmFyKHQsaSxlKX19dmFyIGVyPVR0KFwiW1RyYWNpbmdIZWFkZXJzXVwiKTtjbGFzcyBycntjb25zdHJ1Y3Rvcih0KXt0aGlzLnh0PXZvaWQgMCx0aGlzLiR0PXZvaWQgMCx0aGlzLnJ0PSgpPT57dmFyIHQsaTtGKHRoaXMueHQpJiYobnVsbD09KHQ9di5fX1Bvc3Rob2dFeHRlbnNpb25zX18pfHxudWxsPT0odD10LnRyYWNpbmdIZWFkZXJzUGF0Y2hGbnMpfHx0Ll9wYXRjaFhIUih0aGlzLl9pbnN0YW5jZS5jb25maWcuX19hZGRfdHJhY2luZ19oZWFkZXJzfHxbXSx0aGlzLl9pbnN0YW5jZS5nZXRfZGlzdGluY3RfaWQoKSx0aGlzLl9pbnN0YW5jZS5zZXNzaW9uTWFuYWdlcikpO0YodGhpcy4kdCkmJihudWxsPT0oaT12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXyl8fG51bGw9PShpPWkudHJhY2luZ0hlYWRlcnNQYXRjaEZucyl8fGkuX3BhdGNoRmV0Y2godGhpcy5faW5zdGFuY2UuY29uZmlnLl9fYWRkX3RyYWNpbmdfaGVhZGVyc3x8W10sdGhpcy5faW5zdGFuY2UuZ2V0X2Rpc3RpbmN0X2lkKCksdGhpcy5faW5zdGFuY2Uuc2Vzc2lvbk1hbmFnZXIpKX0sdGhpcy5faW5zdGFuY2U9dH1pdCh0KXt2YXIgaSxlO251bGwhPShpPXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fKSYmaS50cmFjaW5nSGVhZGVyc1BhdGNoRm5zJiZ0KCksbnVsbD09KGU9di5fX1Bvc3Rob2dFeHRlbnNpb25zX18pfHxudWxsPT1lLmxvYWRFeHRlcm5hbERlcGVuZGVuY3l8fGUubG9hZEV4dGVybmFsRGVwZW5kZW5jeSh0aGlzLl9pbnN0YW5jZSxcInRyYWNpbmctaGVhZGVyc1wiLChpPT57aWYoaSlyZXR1cm4gZXIuZXJyb3IoXCJmYWlsZWQgdG8gbG9hZCBzY3JpcHRcIixpKTt0KCl9KSl9c3RhcnRJZkVuYWJsZWRPclN0b3AoKXt2YXIgdCxpO3RoaXMuX2luc3RhbmNlLmNvbmZpZy5fX2FkZF90cmFjaW5nX2hlYWRlcnM/dGhpcy5pdCh0aGlzLnJ0KToobnVsbD09KHQ9dGhpcy54dCl8fHQuY2FsbCh0aGlzKSxudWxsPT0oaT10aGlzLiR0KXx8aS5jYWxsKHRoaXMpLHRoaXMueHQ9dm9pZCAwLHRoaXMuJHQ9dm9pZCAwKX19dmFyIHNyPVwiTW9iaWxlXCIsbnI9XCJpT1NcIixvcj1cIkFuZHJvaWRcIixhcj1cIlRhYmxldFwiLGxyPW9yK1wiIFwiK2FyLHVyPVwiaVBhZFwiLGhyPVwiQXBwbGVcIixkcj1ocitcIiBXYXRjaFwiLHZyPVwiU2FmYXJpXCIsY3I9XCJCbGFja0JlcnJ5XCIsZnI9XCJTYW1zdW5nXCIscHI9ZnIrXCJCcm93c2VyXCIsZ3I9ZnIrXCIgSW50ZXJuZXRcIixfcj1cIkNocm9tZVwiLG1yPV9yK1wiIE9TXCIseXI9X3IrXCIgXCIrbnIsYnI9XCJJbnRlcm5ldCBFeHBsb3JlclwiLHdyPWJyK1wiIFwiK3NyLHhyPVwiT3BlcmFcIiwkcj14citcIiBNaW5pXCIsU3I9XCJFZGdlXCIsRXI9XCJNaWNyb3NvZnQgXCIrU3Isa3I9XCJGaXJlZm94XCIsUHI9a3IrXCIgXCIrbnIsVHI9XCJOaW50ZW5kb1wiLElyPVwiUGxheVN0YXRpb25cIixScj1cIlhib3hcIixDcj1vcitcIiBcIitzcixPcj1zcitcIiBcIit2cixGcj1cIldpbmRvd3NcIixNcj1GcitcIiBQaG9uZVwiLEFyPVwiTm9raWFcIixEcj1cIk91eWFcIixqcj1cIkdlbmVyaWNcIixMcj1qcitcIiBcIitzci50b0xvd2VyQ2FzZSgpLE5yPWpyK1wiIFwiK2FyLnRvTG93ZXJDYXNlKCksVXI9XCJLb25xdWVyb3JcIix6cj1cIihcXFxcZCsoXFxcXC5cXFxcZCspPylcIixIcj1uZXcgUmVnRXhwKFwiVmVyc2lvbi9cIit6ciksQnI9bmV3IFJlZ0V4cChScixcImlcIikscXI9bmV3IFJlZ0V4cChJcitcIiBcXFxcdytcIixcImlcIiksV3I9bmV3IFJlZ0V4cChUcitcIiBcXFxcdytcIixcImlcIiksR3I9bmV3IFJlZ0V4cChjcitcInxQbGF5Qm9va3xCQjEwXCIsXCJpXCIpLFZyPXtcIk5UMy41MVwiOlwiTlQgMy4xMVwiLFwiTlQ0LjBcIjpcIk5UIDQuMFwiLFwiNS4wXCI6XCIyMDAwXCIsNS4xOlwiWFBcIiw1LjI6XCJYUFwiLFwiNi4wXCI6XCJWaXN0YVwiLDYuMTpcIjdcIiw2LjI6XCI4XCIsNi4zOlwiOC4xXCIsNi40OlwiMTBcIixcIjEwLjBcIjpcIjEwXCJ9O3ZhciBKcj0odCxpKT0+aSYmdyhpLGhyKXx8ZnVuY3Rpb24odCl7cmV0dXJuIHcodCx2cikmJiF3KHQsX3IpJiYhdyh0LG9yKX0odCksS3I9ZnVuY3Rpb24odCxpKXtyZXR1cm4gaT1pfHxcIlwiLHcodCxcIiBPUFIvXCIpJiZ3KHQsXCJNaW5pXCIpPyRyOncodCxcIiBPUFIvXCIpP3hyOkdyLnRlc3QodCk/Y3I6dyh0LFwiSUVcIitzcil8fHcodCxcIldQRGVza3RvcFwiKT93cjp3KHQscHIpP2dyOncodCxTcil8fHcodCxcIkVkZy9cIik/RXI6dyh0LFwiRkJJT1NcIik/XCJGYWNlYm9vayBcIitzcjp3KHQsXCJVQ1dFQlwiKXx8dyh0LFwiVUNCcm93c2VyXCIpP1wiVUMgQnJvd3NlclwiOncodCxcIkNyaU9TXCIpP3lyOncodCxcIkNyTW9cIil8fHcodCxfcik/X3I6dyh0LG9yKSYmdyh0LHZyKT9Dcjp3KHQsXCJGeGlPU1wiKT9Qcjp3KHQudG9Mb3dlckNhc2UoKSxVci50b0xvd2VyQ2FzZSgpKT9VcjpKcih0LGkpP3codCxzcik/T3I6dnI6dyh0LGtyKT9rcjp3KHQsXCJNU0lFXCIpfHx3KHQsXCJUcmlkZW50L1wiKT9icjp3KHQsXCJHZWNrb1wiKT9rcjpcIlwifSxZcj17W3dyXTpbbmV3IFJlZ0V4cChcInJ2OlwiK3pyKV0sW0VyXTpbbmV3IFJlZ0V4cChTcitcIj9cXFxcL1wiK3pyKV0sW19yXTpbbmV3IFJlZ0V4cChcIihcIitfcitcInxDck1vKVxcXFwvXCIrenIpXSxbeXJdOltuZXcgUmVnRXhwKFwiQ3JpT1NcXFxcL1wiK3pyKV0sXCJVQyBCcm93c2VyXCI6W25ldyBSZWdFeHAoXCIoVUNCcm93c2VyfFVDV0VCKVxcXFwvXCIrenIpXSxbdnJdOltIcl0sW09yXTpbSHJdLFt4cl06W25ldyBSZWdFeHAoXCIoT3BlcmF8T1BSKVxcXFwvXCIrenIpXSxba3JdOltuZXcgUmVnRXhwKGtyK1wiXFxcXC9cIit6cildLFtQcl06W25ldyBSZWdFeHAoXCJGeGlPU1xcXFwvXCIrenIpXSxbVXJdOltuZXcgUmVnRXhwKFwiS29ucXVlcm9yWzovXT9cIit6cixcImlcIildLFtjcl06W25ldyBSZWdFeHAoY3IrXCIgXCIrenIpLEhyXSxbQ3JdOltuZXcgUmVnRXhwKFwiYW5kcm9pZFxcXFxzXCIrenIsXCJpXCIpXSxbZ3JdOltuZXcgUmVnRXhwKHByK1wiXFxcXC9cIit6cildLFticl06W25ldyBSZWdFeHAoXCIocnY6fE1TSUUgKVwiK3pyKV0sTW96aWxsYTpbbmV3IFJlZ0V4cChcInJ2OlwiK3pyKV19LFhyPWZ1bmN0aW9uKHQsaSl7dmFyIGU9S3IodCxpKSxyPVlyW2VdO2lmKEYocikpcmV0dXJuIG51bGw7Zm9yKHZhciBzPTA7czxyLmxlbmd0aDtzKyspe3ZhciBuPXJbc10sbz10Lm1hdGNoKG4pO2lmKG8pcmV0dXJuIHBhcnNlRmxvYXQob1tvLmxlbmd0aC0yXSl9cmV0dXJuIG51bGx9LFFyPVtbbmV3IFJlZ0V4cChScitcIjsgXCIrUnIrXCIgKC4qPylbKTtdXCIsXCJpXCIpLHQ9PltScix0JiZ0WzFdfHxcIlwiXV0sW25ldyBSZWdFeHAoVHIsXCJpXCIpLFtUcixcIlwiXV0sW25ldyBSZWdFeHAoSXIsXCJpXCIpLFtJcixcIlwiXV0sW0dyLFtjcixcIlwiXV0sW25ldyBSZWdFeHAoRnIsXCJpXCIpLCh0LGkpPT57aWYoL1Bob25lLy50ZXN0KGkpfHwvV1BEZXNrdG9wLy50ZXN0KGkpKXJldHVybltNcixcIlwiXTtpZihuZXcgUmVnRXhwKHNyKS50ZXN0KGkpJiYhL0lFTW9iaWxlXFxiLy50ZXN0KGkpKXJldHVybltGcitcIiBcIitzcixcIlwiXTt2YXIgZT0vV2luZG93cyBOVCAoWzAtOS5dKykvaS5leGVjKGkpO2lmKGUmJmVbMV0pe3ZhciByPWVbMV0scz1WcltyXXx8XCJcIjtyZXR1cm4vYXJtL2kudGVzdChpKSYmKHM9XCJSVFwiKSxbRnIsc119cmV0dXJuW0ZyLFwiXCJdfV0sWy8oKGlQaG9uZXxpUGFkfGlQb2QpLio/T1MgKFxcZCspXyhcXGQrKV8/KFxcZCspP3xpUGhvbmUpLyx0PT57aWYodCYmdFszXSl7dmFyIGk9W3RbM10sdFs0XSx0WzVdfHxcIjBcIl07cmV0dXJuW25yLGkuam9pbihcIi5cIildfXJldHVybltucixcIlwiXX1dLFsvKHdhdGNoLipcXC8oXFxkK1xcLlxcZCtcXC5cXGQrKXx3YXRjaCBvcywoXFxkK1xcLlxcZCspLCkvaSx0PT57dmFyIGk9XCJcIjtyZXR1cm4gdCYmdC5sZW5ndGg+PTMmJihpPUYodFsyXSk/dFszXTp0WzJdKSxbXCJ3YXRjaE9TXCIsaV19XSxbbmV3IFJlZ0V4cChcIihcIitvcitcIiAoXFxcXGQrKVxcXFwuKFxcXFxkKylcXFxcLj8oXFxcXGQrKT98XCIrb3IrXCIpXCIsXCJpXCIpLHQ9PntpZih0JiZ0WzJdKXt2YXIgaT1bdFsyXSx0WzNdLHRbNF18fFwiMFwiXTtyZXR1cm5bb3IsaS5qb2luKFwiLlwiKV19cmV0dXJuW29yLFwiXCJdfV0sWy9NYWMgT1MgWCAoXFxkKylbXy5dKFxcZCspW18uXT8oXFxkKyk/L2ksdD0+e3ZhciBpPVtcIk1hYyBPUyBYXCIsXCJcIl07aWYodCYmdFsxXSl7dmFyIGU9W3RbMV0sdFsyXSx0WzNdfHxcIjBcIl07aVsxXT1lLmpvaW4oXCIuXCIpfXJldHVybiBpfV0sWy9NYWMvaSxbXCJNYWMgT1MgWFwiLFwiXCJdXSxbL0NyT1MvLFttcixcIlwiXV0sWy9MaW51eHxkZWJpYW4vaSxbXCJMaW51eFwiLFwiXCJdXV0sWnI9ZnVuY3Rpb24odCl7cmV0dXJuIFdyLnRlc3QodCk/VHI6cXIudGVzdCh0KT9JcjpCci50ZXN0KHQpP1JyOm5ldyBSZWdFeHAoRHIsXCJpXCIpLnRlc3QodCk/RHI6bmV3IFJlZ0V4cChcIihcIitNcitcInxXUERlc2t0b3ApXCIsXCJpXCIpLnRlc3QodCk/TXI6L2lQYWQvLnRlc3QodCk/dXI6L2lQb2QvLnRlc3QodCk/XCJpUG9kIFRvdWNoXCI6L2lQaG9uZS8udGVzdCh0KT9cImlQaG9uZVwiOi8od2F0Y2gpKD86ID9vc1ssL118XFxkLFxcZFxcLylbXFxkLl0rL2kudGVzdCh0KT9kcjpHci50ZXN0KHQpP2NyOi8oa29ibylcXHMoZXJlYWRlcnx0b3VjaCkvaS50ZXN0KHQpP1wiS29ib1wiOm5ldyBSZWdFeHAoQXIsXCJpXCIpLnRlc3QodCk/QXI6LyhrZlthLXpdezJ9d2l8YWVvW2Mtcl17Mn0pKCBidWl8XFwpKS9pLnRlc3QodCl8fC8oa2ZbYS16XSspKCBidWl8XFwpKS4rc2lsa1xcLy9pLnRlc3QodCk/XCJLaW5kbGUgRmlyZVwiOi8oQW5kcm9pZHxaVEUpL2kudGVzdCh0KT8hbmV3IFJlZ0V4cChzcikudGVzdCh0KXx8Lyg5MTM4QnxUQjc4MkJ8TmV4dXMgWzk3XXxwaXhlbCBjfEhVQVdFSVNIVHxCVFZ8bm9ibGUgbm9va3xzbWFydCB1bHRyYSA2KS9pLnRlc3QodCk/L3BpeGVsW1xcZGF4bCBdezEsNn0vaS50ZXN0KHQpJiYhL3BpeGVsIGMvaS50ZXN0KHQpfHwvKGh1YXdlaW1lZC1hbDAwfHRhaC18QVBBfFNNLUc5MnxpOTgwfHp0ZXxVMzA0QUEpL2kudGVzdCh0KXx8L2xteTQ3di9pLnRlc3QodCkmJiEvUVRBUVozL2kudGVzdCh0KT9vcjpscjpvcjpuZXcgUmVnRXhwKFwiKHBkYXxcIitzcitcIilcIixcImlcIikudGVzdCh0KT9McjpuZXcgUmVnRXhwKGFyLFwiaVwiKS50ZXN0KHQpJiYhbmV3IFJlZ0V4cChhcitcIiBwY1wiLFwiaVwiKS50ZXN0KHQpP05yOlwiXCJ9LHRzPVwiaHR0cHM/Oi8vKC4qKVwiLGlzPVtcImdjbGlkXCIsXCJnY2xzcmNcIixcImRjbGlkXCIsXCJnYnJhaWRcIixcIndicmFpZFwiLFwiZmJjbGlkXCIsXCJtc2Nsa2lkXCIsXCJ0d2NsaWRcIixcImxpX2ZhdF9pZFwiLFwiaWdzaGlkXCIsXCJ0dGNsaWRcIixcInJkdF9jaWRcIixcImVwaWtcIixcInFjbGlkXCIsXCJzY2NpZFwiLFwiaXJjbGlkXCIsXCJfa3hcIl0sZXM9QXQoW1widXRtX3NvdXJjZVwiLFwidXRtX21lZGl1bVwiLFwidXRtX2NhbXBhaWduXCIsXCJ1dG1fY29udGVudFwiLFwidXRtX3Rlcm1cIixcImdhZF9zb3VyY2VcIixcIm1jX2NpZFwiXSxpcykscnM9XCI8bWFza2VkPlwiLHNzPVtcImxpX2ZhdF9pZFwiXTtmdW5jdGlvbiBucyh0LGksZSl7aWYoIW8pcmV0dXJue307dmFyIHIscz1pP0F0KFtdLGlzLGV8fFtdKTpbXSxuPW9zKGxlKG8uVVJMLHMscnMpLHQpLGE9KHI9e30sRnQoc3MsKGZ1bmN0aW9uKHQpe3ZhciBpPVBlLnEodCk7clt0XT1pfHxudWxsfSkpLHIpO3JldHVybiBNdChhLG4pfWZ1bmN0aW9uIG9zKHQsaSl7dmFyIGU9ZXMuY29uY2F0KGl8fFtdKSxyPXt9O3JldHVybiBGdChlLChmdW5jdGlvbihpKXt2YXIgZT1hZSh0LGkpO3JbaV09ZXx8bnVsbH0pKSxyfWZ1bmN0aW9uIGFzKHQpe3ZhciBpPWZ1bmN0aW9uKHQpe3JldHVybiB0PzA9PT10LnNlYXJjaCh0cytcImdvb2dsZS4oW14vP10qKVwiKT9cImdvb2dsZVwiOjA9PT10LnNlYXJjaCh0cytcImJpbmcuY29tXCIpP1wiYmluZ1wiOjA9PT10LnNlYXJjaCh0cytcInlhaG9vLmNvbVwiKT9cInlhaG9vXCI6MD09PXQuc2VhcmNoKHRzK1wiZHVja2R1Y2tnby5jb21cIik/XCJkdWNrZHVja2dvXCI6bnVsbDpudWxsfSh0KSxlPVwieWFob29cIiE9aT9cInFcIjpcInBcIixyPXt9O2lmKCFEKGkpKXtyLiRzZWFyY2hfZW5naW5lPWk7dmFyIHM9bz9hZShvLnJlZmVycmVyLGUpOlwiXCI7cy5sZW5ndGgmJihyLnBoX2tleXdvcmQ9cyl9cmV0dXJuIHJ9ZnVuY3Rpb24gbHMoKXtyZXR1cm4gbmF2aWdhdG9yLmxhbmd1YWdlfHxuYXZpZ2F0b3IudXNlckxhbmd1YWdlfWZ1bmN0aW9uIHVzKCl7cmV0dXJuKG51bGw9PW8/dm9pZCAwOm8ucmVmZXJyZXIpfHxcIiRkaXJlY3RcIn1mdW5jdGlvbiBocyh0LGkpe3ZhciBlPXQ/QXQoW10saXMsaXx8W10pOltdLHI9bnVsbD09YT92b2lkIDA6YS5ocmVmLnN1YnN0cmluZygwLDFlMyk7cmV0dXJue3I6dXMoKS5zdWJzdHJpbmcoMCwxZTMpLHU6cj9sZShyLGUscnMpOnZvaWQgMH19ZnVuY3Rpb24gZHModCl7dmFyIGkse3I6ZSx1OnJ9PXQscz17JHJlZmVycmVyOmUsJHJlZmVycmluZ19kb21haW46bnVsbD09ZT92b2lkIDA6XCIkZGlyZWN0XCI9PWU/XCIkZGlyZWN0XCI6bnVsbD09KGk9bmUoZSkpP3ZvaWQgMDppLmhvc3R9O2lmKHIpe3MuJGN1cnJlbnRfdXJsPXI7dmFyIG49bmUocik7cy4kaG9zdD1udWxsPT1uP3ZvaWQgMDpuLmhvc3Qscy4kcGF0aG5hbWU9bnVsbD09bj92b2lkIDA6bi5wYXRobmFtZTt2YXIgbz1vcyhyKTtNdChzLG8pfWlmKGUpe3ZhciBhPWFzKGUpO010KHMsYSl9cmV0dXJuIHN9ZnVuY3Rpb24gdnMoKXt0cnl7cmV0dXJuIEludGwuRGF0ZVRpbWVGb3JtYXQoKS5yZXNvbHZlZE9wdGlvbnMoKS50aW1lWm9uZX1jYXRjaCh0KXtyZXR1cm59fWZ1bmN0aW9uIGNzKCl7dHJ5e3JldHVybihuZXcgRGF0ZSkuZ2V0VGltZXpvbmVPZmZzZXQoKX1jYXRjaCh0KXtyZXR1cm59fWZ1bmN0aW9uIGZzKGksZSl7aWYoIWQpcmV0dXJue307dmFyIHIscyxuLG89aT9BdChbXSxpcyxlfHxbXSk6W10sW2wsdV09ZnVuY3Rpb24odCl7Zm9yKHZhciBpPTA7aTxRci5sZW5ndGg7aSsrKXt2YXJbZSxyXT1RcltpXSxzPWUuZXhlYyh0KSxuPXMmJihSKHIpP3Iocyx0KTpyKTtpZihuKXJldHVybiBufXJldHVybltcIlwiLFwiXCJdfShkKTtyZXR1cm4gTXQoTnQoeyRvczpsLCRvc192ZXJzaW9uOnUsJGJyb3dzZXI6S3IoZCxuYXZpZ2F0b3IudmVuZG9yKSwkZGV2aWNlOlpyKGQpLCRkZXZpY2VfdHlwZToocz1kLG49WnIocyksbj09PXVyfHxuPT09bHJ8fFwiS29ib1wiPT09bnx8XCJLaW5kbGUgRmlyZVwiPT09bnx8bj09PU5yP2FyOm49PT1Ucnx8bj09PVJyfHxuPT09SXJ8fG49PT1Ecj9cIkNvbnNvbGVcIjpuPT09ZHI/XCJXZWFyYWJsZVwiOm4/c3I6XCJEZXNrdG9wXCIpLCR0aW1lem9uZTp2cygpLCR0aW1lem9uZV9vZmZzZXQ6Y3MoKX0pLHskY3VycmVudF91cmw6bGUobnVsbD09YT92b2lkIDA6YS5ocmVmLG8scnMpLCRob3N0Om51bGw9PWE/dm9pZCAwOmEuaG9zdCwkcGF0aG5hbWU6bnVsbD09YT92b2lkIDA6YS5wYXRobmFtZSwkcmF3X3VzZXJfYWdlbnQ6ZC5sZW5ndGg+MWUzP2Quc3Vic3RyaW5nKDAsOTk3KStcIi4uLlwiOmQsJGJyb3dzZXJfdmVyc2lvbjpYcihkLG5hdmlnYXRvci52ZW5kb3IpLCRicm93c2VyX2xhbmd1YWdlOmxzKCksJGJyb3dzZXJfbGFuZ3VhZ2VfcHJlZml4OihyPWxzKCksXCJzdHJpbmdcIj09dHlwZW9mIHI/ci5zcGxpdChcIi1cIilbMF06dm9pZCAwKSwkc2NyZWVuX2hlaWdodDpudWxsPT10P3ZvaWQgMDp0LnNjcmVlbi5oZWlnaHQsJHNjcmVlbl93aWR0aDpudWxsPT10P3ZvaWQgMDp0LnNjcmVlbi53aWR0aCwkdmlld3BvcnRfaGVpZ2h0Om51bGw9PXQ/dm9pZCAwOnQuaW5uZXJIZWlnaHQsJHZpZXdwb3J0X3dpZHRoOm51bGw9PXQ/dm9pZCAwOnQuaW5uZXJXaWR0aCwkbGliOlwid2ViXCIsJGxpYl92ZXJzaW9uOmMuTElCX1ZFUlNJT04sJGluc2VydF9pZDpNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwxMCkrTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsMTApLCR0aW1lOkRhdGUubm93KCkvMWUzfSl9dmFyIHBzPVR0KFwiW1dlYiBWaXRhbHNdXCIpLGdzPTllNTtjbGFzcyBfc3tjb25zdHJ1Y3Rvcih0KXt2YXIgaTt0aGlzLlN0PSExLHRoaXMuUD0hMSx0aGlzLk49e3VybDp2b2lkIDAsbWV0cmljczpbXSxmaXJzdE1ldHJpY1RpbWVzdGFtcDp2b2lkIDB9LHRoaXMuRXQ9KCk9PntjbGVhclRpbWVvdXQodGhpcy5rdCksMCE9PXRoaXMuTi5tZXRyaWNzLmxlbmd0aCYmKHRoaXMuX2luc3RhbmNlLmNhcHR1cmUoXCIkd2ViX3ZpdGFsc1wiLHRoaXMuTi5tZXRyaWNzLnJlZHVjZSgoKHQsaSk9Pmcoe30sdCx7W1wiJHdlYl92aXRhbHNfXCIraS5uYW1lK1wiX2V2ZW50XCJdOmcoe30saSksW1wiJHdlYl92aXRhbHNfXCIraS5uYW1lK1wiX3ZhbHVlXCJdOmkudmFsdWV9KSkse30pKSx0aGlzLk49e3VybDp2b2lkIDAsbWV0cmljczpbXSxmaXJzdE1ldHJpY1RpbWVzdGFtcDp2b2lkIDB9KX0sdGhpcy5QdD10PT57dmFyIGksZT1udWxsPT0oaT10aGlzLl9pbnN0YW5jZS5zZXNzaW9uTWFuYWdlcik/dm9pZCAwOmkuY2hlY2tBbmRHZXRTZXNzaW9uQW5kV2luZG93SWQoITApO2lmKEYoZSkpcHMuZXJyb3IoXCJDb3VsZCBub3QgcmVhZCBzZXNzaW9uIElELiBEcm9wcGluZyBtZXRyaWNzIVwiKTtlbHNle3RoaXMuTj10aGlzLk58fHt1cmw6dm9pZCAwLG1ldHJpY3M6W10sZmlyc3RNZXRyaWNUaW1lc3RhbXA6dm9pZCAwfTt2YXIgcj10aGlzLlR0KCk7aWYoIUYocikpaWYoaihudWxsPT10P3ZvaWQgMDp0Lm5hbWUpfHxqKG51bGw9PXQ/dm9pZCAwOnQudmFsdWUpKXBzLmVycm9yKFwiSW52YWxpZCBtZXRyaWMgcmVjZWl2ZWRcIix0KTtlbHNlIGlmKHRoaXMuSXQmJnQudmFsdWU+PXRoaXMuSXQpcHMuZXJyb3IoXCJJZ25vcmluZyBtZXRyaWMgd2l0aCB2YWx1ZSA+PSBcIit0aGlzLkl0LHQpO2Vsc2UgdGhpcy5OLnVybCE9PXImJih0aGlzLkV0KCksdGhpcy5rdD1zZXRUaW1lb3V0KHRoaXMuRXQsdGhpcy5mbHVzaFRvQ2FwdHVyZVRpbWVvdXRNcykpLEYodGhpcy5OLnVybCkmJih0aGlzLk4udXJsPXIpLHRoaXMuTi5maXJzdE1ldHJpY1RpbWVzdGFtcD1GKHRoaXMuTi5maXJzdE1ldHJpY1RpbWVzdGFtcCk/RGF0ZS5ub3coKTp0aGlzLk4uZmlyc3RNZXRyaWNUaW1lc3RhbXAsdC5hdHRyaWJ1dGlvbiYmdC5hdHRyaWJ1dGlvbi5pbnRlcmFjdGlvblRhcmdldEVsZW1lbnQmJih0LmF0dHJpYnV0aW9uLmludGVyYWN0aW9uVGFyZ2V0RWxlbWVudD12b2lkIDApLHRoaXMuTi5tZXRyaWNzLnB1c2goZyh7fSx0LHskY3VycmVudF91cmw6ciwkc2Vzc2lvbl9pZDplLnNlc3Npb25JZCwkd2luZG93X2lkOmUud2luZG93SWQsdGltZXN0YW1wOkRhdGUubm93KCl9KSksdGhpcy5OLm1ldHJpY3MubGVuZ3RoPT09dGhpcy5hbGxvd2VkTWV0cmljcy5sZW5ndGgmJnRoaXMuRXQoKX19LHRoaXMucnQ9KCk9Pnt2YXIgdCxpLGUscixzPXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fO0Yocyl8fEYocy5wb3N0SG9nV2ViVml0YWxzQ2FsbGJhY2tzKXx8KHtvbkxDUDp0LG9uQ0xTOmksb25GQ1A6ZSxvbklOUDpyfT1zLnBvc3RIb2dXZWJWaXRhbHNDYWxsYmFja3MpLHQmJmkmJmUmJnI/KHRoaXMuYWxsb3dlZE1ldHJpY3MuaW5kZXhPZihcIkxDUFwiKT4tMSYmdCh0aGlzLlB0LmJpbmQodGhpcykpLHRoaXMuYWxsb3dlZE1ldHJpY3MuaW5kZXhPZihcIkNMU1wiKT4tMSYmaSh0aGlzLlB0LmJpbmQodGhpcykpLHRoaXMuYWxsb3dlZE1ldHJpY3MuaW5kZXhPZihcIkZDUFwiKT4tMSYmZSh0aGlzLlB0LmJpbmQodGhpcykpLHRoaXMuYWxsb3dlZE1ldHJpY3MuaW5kZXhPZihcIklOUFwiKT4tMSYmcih0aGlzLlB0LmJpbmQodGhpcykpLHRoaXMuUD0hMCk6cHMuZXJyb3IoXCJ3ZWIgdml0YWxzIGNhbGxiYWNrcyBub3QgbG9hZGVkIC0gbm90IHN0YXJ0aW5nXCIpfSx0aGlzLl9pbnN0YW5jZT10LHRoaXMuU3Q9IShudWxsPT0oaT10aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZSl8fCFpLnByb3BzW1p0XSksdGhpcy5zdGFydElmRW5hYmxlZCgpfWdldCBhbGxvd2VkTWV0cmljcygpe3ZhciB0LGksZT1DKHRoaXMuX2luc3RhbmNlLmNvbmZpZy5jYXB0dXJlX3BlcmZvcm1hbmNlKT9udWxsPT0odD10aGlzLl9pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9wZXJmb3JtYW5jZSk/dm9pZCAwOnQud2ViX3ZpdGFsc19hbGxvd2VkX21ldHJpY3M6dm9pZCAwO3JldHVybiBGKGUpPyhudWxsPT0oaT10aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZSk/dm9pZCAwOmkucHJvcHNbaWldKXx8W1wiQ0xTXCIsXCJGQ1BcIixcIklOUFwiLFwiTENQXCJdOmV9Z2V0IGZsdXNoVG9DYXB0dXJlVGltZW91dE1zKCl7cmV0dXJuKEModGhpcy5faW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfcGVyZm9ybWFuY2UpP3RoaXMuX2luc3RhbmNlLmNvbmZpZy5jYXB0dXJlX3BlcmZvcm1hbmNlLndlYl92aXRhbHNfZGVsYXllZF9mbHVzaF9tczp2b2lkIDApfHw1ZTN9Z2V0IEl0KCl7dmFyIHQ9Qyh0aGlzLl9pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9wZXJmb3JtYW5jZSkmJkwodGhpcy5faW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfcGVyZm9ybWFuY2UuX193ZWJfdml0YWxzX21heF92YWx1ZSk/dGhpcy5faW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfcGVyZm9ybWFuY2UuX193ZWJfdml0YWxzX21heF92YWx1ZTpncztyZXR1cm4gMDx0JiZ0PD02ZTQ/Z3M6dH1nZXQgaXNFbmFibGVkKCl7dmFyIHQ9bnVsbD09YT92b2lkIDA6YS5wcm90b2NvbDtpZihcImh0dHA6XCIhPT10JiZcImh0dHBzOlwiIT09dClyZXR1cm4gcHMuaW5mbyhcIldlYiBWaXRhbHMgYXJlIGRpc2FibGVkIG9uIG5vbi1odHRwL2h0dHBzIHByb3RvY29sc1wiKSwhMTt2YXIgaT1DKHRoaXMuX2luc3RhbmNlLmNvbmZpZy5jYXB0dXJlX3BlcmZvcm1hbmNlKT90aGlzLl9pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9wZXJmb3JtYW5jZS53ZWJfdml0YWxzOk4odGhpcy5faW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfcGVyZm9ybWFuY2UpP3RoaXMuX2luc3RhbmNlLmNvbmZpZy5jYXB0dXJlX3BlcmZvcm1hbmNlOnZvaWQgMDtyZXR1cm4gTihpKT9pOnRoaXMuU3R9c3RhcnRJZkVuYWJsZWQoKXt0aGlzLmlzRW5hYmxlZCYmIXRoaXMuUCYmKHBzLmluZm8oXCJlbmFibGVkLCBzdGFydGluZy4uLlwiKSx0aGlzLml0KHRoaXMucnQpKX1vblJlbW90ZUNvbmZpZyh0KXt2YXIgaT1DKHQuY2FwdHVyZVBlcmZvcm1hbmNlKSYmISF0LmNhcHR1cmVQZXJmb3JtYW5jZS53ZWJfdml0YWxzLGU9Qyh0LmNhcHR1cmVQZXJmb3JtYW5jZSk/dC5jYXB0dXJlUGVyZm9ybWFuY2Uud2ViX3ZpdGFsc19hbGxvd2VkX21ldHJpY3M6dm9pZCAwO3RoaXMuX2luc3RhbmNlLnBlcnNpc3RlbmNlJiYodGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UucmVnaXN0ZXIoe1tadF06aX0pLHRoaXMuX2luc3RhbmNlLnBlcnNpc3RlbmNlLnJlZ2lzdGVyKHtbaWldOmV9KSksdGhpcy5TdD1pLHRoaXMuc3RhcnRJZkVuYWJsZWQoKX1pdCh0KXt2YXIgaSxlO251bGwhPShpPXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fKSYmaS5wb3N0SG9nV2ViVml0YWxzQ2FsbGJhY2tzJiZ0KCksbnVsbD09KGU9di5fX1Bvc3Rob2dFeHRlbnNpb25zX18pfHxudWxsPT1lLmxvYWRFeHRlcm5hbERlcGVuZGVuY3l8fGUubG9hZEV4dGVybmFsRGVwZW5kZW5jeSh0aGlzLl9pbnN0YW5jZSxcIndlYi12aXRhbHNcIiwoaT0+e2k/cHMuZXJyb3IoXCJmYWlsZWQgdG8gbG9hZCBzY3JpcHRcIixpKTp0KCl9KSl9VHQoKXt2YXIgaT10P3QubG9jYXRpb24uaHJlZjp2b2lkIDA7aWYoaSl7dmFyIGU9dGhpcy5faW5zdGFuY2UuY29uZmlnLm1hc2tfcGVyc29uYWxfZGF0YV9wcm9wZXJ0aWVzLHI9dGhpcy5faW5zdGFuY2UuY29uZmlnLmN1c3RvbV9wZXJzb25hbF9kYXRhX3Byb3BlcnRpZXMscz1lP0F0KFtdLGlzLHJ8fFtdKTpbXTtyZXR1cm4gbGUoaSxzLHJzKX1wcy5lcnJvcihcIkNvdWxkIG5vdCBkZXRlcm1pbmUgY3VycmVudCBVUkxcIil9fXZhciBtcz1UdChcIltIZWF0bWFwc11cIik7ZnVuY3Rpb24geXModCl7cmV0dXJuIEModCkmJlwiY2xpZW50WFwiaW4gdCYmXCJjbGllbnRZXCJpbiB0JiZMKHQuY2xpZW50WCkmJkwodC5jbGllbnRZKX1jbGFzcyBic3tjb25zdHJ1Y3Rvcih0KXt2YXIgaTt0aGlzLnJhZ2VjbGlja3M9bmV3IGllLHRoaXMuU3Q9ITEsdGhpcy5QPSExLHRoaXMuUnQ9bnVsbCx0aGlzLmluc3RhbmNlPXQsdGhpcy5TdD0hKG51bGw9PShpPXRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UpfHwhaS5wcm9wc1tLdF0pfWdldCBmbHVzaEludGVydmFsTWlsbGlzZWNvbmRzKCl7dmFyIHQ9NWUzO3JldHVybiBDKHRoaXMuaW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfaGVhdG1hcHMpJiZ0aGlzLmluc3RhbmNlLmNvbmZpZy5jYXB0dXJlX2hlYXRtYXBzLmZsdXNoX2ludGVydmFsX21pbGxpc2Vjb25kcyYmKHQ9dGhpcy5pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9oZWF0bWFwcy5mbHVzaF9pbnRlcnZhbF9taWxsaXNlY29uZHMpLHR9Z2V0IGlzRW5hYmxlZCgpe3JldHVybiBGKHRoaXMuaW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfaGVhdG1hcHMpP0YodGhpcy5pbnN0YW5jZS5jb25maWcuZW5hYmxlX2hlYXRtYXBzKT90aGlzLlN0OnRoaXMuaW5zdGFuY2UuY29uZmlnLmVuYWJsZV9oZWF0bWFwczohMSE9PXRoaXMuaW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfaGVhdG1hcHN9c3RhcnRJZkVuYWJsZWQoKXtpZih0aGlzLmlzRW5hYmxlZCl7aWYodGhpcy5QKXJldHVybjttcy5pbmZvKFwic3RhcnRpbmcuLi5cIiksdGhpcy5DdCgpLHRoaXMuT3QoKX1lbHNle3ZhciB0O2NsZWFySW50ZXJ2YWwobnVsbCE9PSh0PXRoaXMuUnQpJiZ2b2lkIDAhPT10P3Q6dm9pZCAwKSx0aGlzLkZ0KCksdGhpcy5nZXRBbmRDbGVhckJ1ZmZlcigpfX1vblJlbW90ZUNvbmZpZyh0KXt2YXIgaT0hIXQuaGVhdG1hcHM7dGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZSYmdGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZS5yZWdpc3Rlcih7W0t0XTppfSksdGhpcy5TdD1pLHRoaXMuc3RhcnRJZkVuYWJsZWQoKX1nZXRBbmRDbGVhckJ1ZmZlcigpe3ZhciB0PXRoaXMuTjtyZXR1cm4gdGhpcy5OPXZvaWQgMCx0fU10KHQpe3RoaXMuQXQodC5vcmlnaW5hbEV2ZW50LFwiZGVhZGNsaWNrXCIpfU90KCl7dGhpcy5SdCYmY2xlYXJJbnRlcnZhbCh0aGlzLlJ0KSx0aGlzLlJ0PWZ1bmN0aW9uKHQpe3JldHVyblwidmlzaWJsZVwiPT09KG51bGw9PXQ/dm9pZCAwOnQudmlzaWJpbGl0eVN0YXRlKX0obyk/c2V0SW50ZXJ2YWwodGhpcy5EdC5iaW5kKHRoaXMpLHRoaXMuZmx1c2hJbnRlcnZhbE1pbGxpc2Vjb25kcyk6bnVsbH1DdCgpe3QmJm8mJih0aGlzLmp0PXRoaXMuRHQuYmluZCh0aGlzKSxxdCh0LFwiYmVmb3JldW5sb2FkXCIsdGhpcy5qdCksdGhpcy5MdD1pPT50aGlzLkF0KGl8fChudWxsPT10P3ZvaWQgMDp0LmV2ZW50KSkscXQobyxcImNsaWNrXCIsdGhpcy5MdCx7Y2FwdHVyZTohMH0pLHRoaXMuTnQ9aT0+dGhpcy5VdChpfHwobnVsbD09dD92b2lkIDA6dC5ldmVudCkpLHF0KG8sXCJtb3VzZW1vdmVcIix0aGlzLk50LHtjYXB0dXJlOiEwfSksdGhpcy56dD1uZXcgemUodGhpcy5pbnN0YW5jZSxOZSx0aGlzLk10LmJpbmQodGhpcykpLHRoaXMuenQuc3RhcnRJZkVuYWJsZWQoKSx0aGlzLkh0PXRoaXMuT3QuYmluZCh0aGlzKSxxdChvLFwidmlzaWJpbGl0eWNoYW5nZVwiLHRoaXMuSHQpLHRoaXMuUD0hMCl9RnQoKXt2YXIgaTt0JiZvJiYodGhpcy5qdCYmdC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYmVmb3JldW5sb2FkXCIsdGhpcy5qdCksdGhpcy5MdCYmby5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLkx0LHtjYXB0dXJlOiEwfSksdGhpcy5OdCYmby5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsdGhpcy5OdCx7Y2FwdHVyZTohMH0pLHRoaXMuSHQmJm8ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIix0aGlzLkh0KSxjbGVhclRpbWVvdXQodGhpcy5CdCksbnVsbD09KGk9dGhpcy56dCl8fGkuc3RvcCgpLHRoaXMuUD0hMSl9cXQoaSxlKXt2YXIgcj10aGlzLmluc3RhbmNlLnNjcm9sbE1hbmFnZXIuc2Nyb2xsWSgpLHM9dGhpcy5pbnN0YW5jZS5zY3JvbGxNYW5hZ2VyLnNjcm9sbFgoKSxuPXRoaXMuaW5zdGFuY2Uuc2Nyb2xsTWFuYWdlci5zY3JvbGxFbGVtZW50KCksbz1mdW5jdGlvbihpLGUscil7Zm9yKHZhciBzPWk7cyYmU2kocykmJiFFaShzLFwiYm9keVwiKTspe2lmKHM9PT1yKXJldHVybiExO2lmKHcoZSxudWxsPT10P3ZvaWQgMDp0LmdldENvbXB1dGVkU3R5bGUocykucG9zaXRpb24pKXJldHVybiEwO3M9RGkocyl9cmV0dXJuITF9KEZpKGkpLFtcImZpeGVkXCIsXCJzdGlja3lcIl0sbik7cmV0dXJue3g6aS5jbGllbnRYKyhvPzA6cykseTppLmNsaWVudFkrKG8/MDpyKSx0YXJnZXRfZml4ZWQ6byx0eXBlOmV9fUF0KHQsaSl7dmFyIGU7aWYodm9pZCAwPT09aSYmKGk9XCJjbGlja1wiKSwhJGkodC50YXJnZXQpJiZ5cyh0KSl7dmFyIHI9dGhpcy5xdCh0LGkpO251bGwhPShlPXRoaXMucmFnZWNsaWNrcykmJmUuaXNSYWdlQ2xpY2sodC5jbGllbnRYLHQuY2xpZW50WSwobmV3IERhdGUpLmdldFRpbWUoKSkmJnRoaXMuV3QoZyh7fSxyLHt0eXBlOlwicmFnZWNsaWNrXCJ9KSksdGhpcy5XdChyKX19VXQodCl7ISRpKHQudGFyZ2V0KSYmeXModCkmJihjbGVhclRpbWVvdXQodGhpcy5CdCksdGhpcy5CdD1zZXRUaW1lb3V0KCgoKT0+e3RoaXMuV3QodGhpcy5xdCh0LFwibW91c2Vtb3ZlXCIpKX0pLDUwMCkpfVd0KGkpe2lmKHQpe3ZhciBlPXQubG9jYXRpb24uaHJlZixyPXRoaXMuaW5zdGFuY2UuY29uZmlnLm1hc2tfcGVyc29uYWxfZGF0YV9wcm9wZXJ0aWVzLHM9dGhpcy5pbnN0YW5jZS5jb25maWcuY3VzdG9tX3BlcnNvbmFsX2RhdGFfcHJvcGVydGllcyxuPXI/QXQoW10saXMsc3x8W10pOltdLG89bGUoZSxuLHJzKTt0aGlzLk49dGhpcy5OfHx7fSx0aGlzLk5bb118fCh0aGlzLk5bb109W10pLHRoaXMuTltvXS5wdXNoKGkpfX1EdCgpe3RoaXMuTiYmIU8odGhpcy5OKSYmdGhpcy5pbnN0YW5jZS5jYXB0dXJlKFwiJCRoZWF0bWFwXCIseyRoZWF0bWFwX2RhdGE6dGhpcy5nZXRBbmRDbGVhckJ1ZmZlcigpfSl9fWNsYXNzIHdze2NvbnN0cnVjdG9yKHQpe3RoaXMuX2luc3RhbmNlPXR9ZG9QYWdlVmlldyhpLGUpe3ZhciByLHM9dGhpcy5HdChpLGUpO3JldHVybiB0aGlzLlZ0PXtwYXRobmFtZTpudWxsIT09KHI9bnVsbD09dD92b2lkIDA6dC5sb2NhdGlvbi5wYXRobmFtZSkmJnZvaWQgMCE9PXI/cjpcIlwiLHBhZ2VWaWV3SWQ6ZSx0aW1lc3RhbXA6aX0sdGhpcy5faW5zdGFuY2Uuc2Nyb2xsTWFuYWdlci5yZXNldENvbnRleHQoKSxzfWRvUGFnZUxlYXZlKHQpe3ZhciBpO3JldHVybiB0aGlzLkd0KHQsbnVsbD09KGk9dGhpcy5WdCk/dm9pZCAwOmkucGFnZVZpZXdJZCl9ZG9FdmVudCgpe3ZhciB0O3JldHVybnskcGFnZXZpZXdfaWQ6bnVsbD09KHQ9dGhpcy5WdCk/dm9pZCAwOnQucGFnZVZpZXdJZH19R3QodCxpKXt2YXIgZT10aGlzLlZ0O2lmKCFlKXJldHVybnskcGFnZXZpZXdfaWQ6aX07dmFyIHI9eyRwYWdldmlld19pZDppLCRwcmV2X3BhZ2V2aWV3X2lkOmUucGFnZVZpZXdJZH0scz10aGlzLl9pbnN0YW5jZS5zY3JvbGxNYW5hZ2VyLmdldENvbnRleHQoKTtpZihzJiYhdGhpcy5faW5zdGFuY2UuY29uZmlnLmRpc2FibGVfc2Nyb2xsX3Byb3BlcnRpZXMpe3ZhcnttYXhTY3JvbGxIZWlnaHQ6bixsYXN0U2Nyb2xsWTpvLG1heFNjcm9sbFk6YSxtYXhDb250ZW50SGVpZ2h0OmwsbGFzdENvbnRlbnRZOnUsbWF4Q29udGVudFk6aH09cztpZighKEYobil8fEYobyl8fEYoYSl8fEYobCl8fEYodSl8fEYoaCkpKXtuPU1hdGguY2VpbChuKSxvPU1hdGguY2VpbChvKSxhPU1hdGguY2VpbChhKSxsPU1hdGguY2VpbChsKSx1PU1hdGguY2VpbCh1KSxoPU1hdGguY2VpbChoKTt2YXIgZD1uPD0xPzE6SihvL24sMCwxLFB0KSx2PW48PTE/MTpKKGEvbiwwLDEsUHQpLGM9bDw9MT8xOkoodS9sLDAsMSxQdCksZj1sPD0xPzE6SihoL2wsMCwxLFB0KTtyPU10KHIseyRwcmV2X3BhZ2V2aWV3X2xhc3Rfc2Nyb2xsOm8sJHByZXZfcGFnZXZpZXdfbGFzdF9zY3JvbGxfcGVyY2VudGFnZTpkLCRwcmV2X3BhZ2V2aWV3X21heF9zY3JvbGw6YSwkcHJldl9wYWdldmlld19tYXhfc2Nyb2xsX3BlcmNlbnRhZ2U6diwkcHJldl9wYWdldmlld19sYXN0X2NvbnRlbnQ6dSwkcHJldl9wYWdldmlld19sYXN0X2NvbnRlbnRfcGVyY2VudGFnZTpjLCRwcmV2X3BhZ2V2aWV3X21heF9jb250ZW50OmgsJHByZXZfcGFnZXZpZXdfbWF4X2NvbnRlbnRfcGVyY2VudGFnZTpmfSl9fXJldHVybiBlLnBhdGhuYW1lJiYoci4kcHJldl9wYWdldmlld19wYXRobmFtZT1lLnBhdGhuYW1lKSxlLnRpbWVzdGFtcCYmKHIuJHByZXZfcGFnZXZpZXdfZHVyYXRpb249KHQuZ2V0VGltZSgpLWUudGltZXN0YW1wLmdldFRpbWUoKSkvMWUzKSxyfX12YXIgeHM9VWludDhBcnJheSwkcz1VaW50MTZBcnJheSxTcz1VaW50MzJBcnJheSxFcz1uZXcgeHMoWzAsMCwwLDAsMCwwLDAsMCwxLDEsMSwxLDIsMiwyLDIsMywzLDMsMyw0LDQsNCw0LDUsNSw1LDUsMCwwLDAsMF0pLGtzPW5ldyB4cyhbMCwwLDAsMCwxLDEsMiwyLDMsMyw0LDQsNSw1LDYsNiw3LDcsOCw4LDksOSwxMCwxMCwxMSwxMSwxMiwxMiwxMywxMywwLDBdKSxQcz1uZXcgeHMoWzE2LDE3LDE4LDAsOCw3LDksNiwxMCw1LDExLDQsMTIsMywxMywyLDE0LDEsMTVdKSxUcz1mdW5jdGlvbih0LGkpe2Zvcih2YXIgZT1uZXcgJHMoMzEpLHI9MDtyPDMxOysrcillW3JdPWkrPTE8PHRbci0xXTt2YXIgcz1uZXcgU3MoZVszMF0pO2ZvcihyPTE7cjwzMDsrK3IpZm9yKHZhciBuPWVbcl07bjxlW3IrMV07KytuKXNbbl09bi1lW3JdPDw1fHI7cmV0dXJuW2Usc119LElzPVRzKEVzLDIpLFJzPUlzWzBdLENzPUlzWzFdO1JzWzI4XT0yNTgsQ3NbMjU4XT0yODtmb3IodmFyIE9zPVRzKGtzLDApWzFdLEZzPW5ldyAkcygzMjc2OCksTXM9MDtNczwzMjc2ODsrK01zKXt2YXIgQXM9KDQzNjkwJk1zKT4+PjF8KDIxODQ1Jk1zKTw8MTtBcz0oNjE2ODAmKEFzPSg1MjQyOCZBcyk+Pj4yfCgxMzEwNyZBcyk8PDIpKT4+PjR8KDM4NTUmQXMpPDw0LEZzW01zXT0oKDY1MjgwJkFzKT4+Pjh8KDI1NSZBcyk8PDgpPj4+MX12YXIgRHM9ZnVuY3Rpb24odCxpLGUpe2Zvcih2YXIgcj10Lmxlbmd0aCxzPTAsbj1uZXcgJHMoaSk7czxyOysrcykrK25bdFtzXS0xXTt2YXIgbyxhPW5ldyAkcyhpKTtmb3Iocz0wO3M8aTsrK3MpYVtzXT1hW3MtMV0rbltzLTFdPDwxO2lmKGUpe289bmV3ICRzKDE8PGkpO3ZhciBsPTE1LWk7Zm9yKHM9MDtzPHI7KytzKWlmKHRbc10pZm9yKHZhciB1PXM8PDR8dFtzXSxoPWktdFtzXSxkPWFbdFtzXS0xXSsrPDxoLHY9ZHwoMTw8aCktMTtkPD12OysrZClvW0ZzW2RdPj4+bF09dX1lbHNlIGZvcihvPW5ldyAkcyhyKSxzPTA7czxyOysrcylvW3NdPUZzW2FbdFtzXS0xXSsrXT4+PjE1LXRbc107cmV0dXJuIG99LGpzPW5ldyB4cygyODgpO2ZvcihNcz0wO01zPDE0NDsrK01zKWpzW01zXT04O2ZvcihNcz0xNDQ7TXM8MjU2OysrTXMpanNbTXNdPTk7Zm9yKE1zPTI1NjtNczwyODA7KytNcylqc1tNc109Nztmb3IoTXM9MjgwO01zPDI4ODsrK01zKWpzW01zXT04O3ZhciBMcz1uZXcgeHMoMzIpO2ZvcihNcz0wO01zPDMyOysrTXMpTHNbTXNdPTU7dmFyIE5zPURzKGpzLDksMCksVXM9RHMoTHMsNSwwKSx6cz1mdW5jdGlvbih0KXtyZXR1cm4odC84Pj4wKSsoNyZ0JiYxKX0sSHM9ZnVuY3Rpb24odCxpLGUpeyhudWxsPT1lfHxlPnQubGVuZ3RoKSYmKGU9dC5sZW5ndGgpO3ZhciByPW5ldyh0IGluc3RhbmNlb2YgJHM/JHM6dCBpbnN0YW5jZW9mIFNzP1NzOnhzKShlLWkpO3JldHVybiByLnNldCh0LnN1YmFycmF5KGksZSkpLHJ9LEJzPWZ1bmN0aW9uKHQsaSxlKXtlPDw9NyZpO3ZhciByPWkvOD4+MDt0W3JdfD1lLHRbcisxXXw9ZT4+Pjh9LHFzPWZ1bmN0aW9uKHQsaSxlKXtlPDw9NyZpO3ZhciByPWkvOD4+MDt0W3JdfD1lLHRbcisxXXw9ZT4+PjgsdFtyKzJdfD1lPj4+MTZ9LFdzPWZ1bmN0aW9uKHQsaSl7Zm9yKHZhciBlPVtdLHI9MDtyPHQubGVuZ3RoOysrcil0W3JdJiZlLnB1c2goe3M6cixmOnRbcl19KTt2YXIgcz1lLmxlbmd0aCxuPWUuc2xpY2UoKTtpZighcylyZXR1cm5bbmV3IHhzKDApLDBdO2lmKDE9PXMpe3ZhciBvPW5ldyB4cyhlWzBdLnMrMSk7cmV0dXJuIG9bZVswXS5zXT0xLFtvLDFdfWUuc29ydCgoZnVuY3Rpb24odCxpKXtyZXR1cm4gdC5mLWkuZn0pKSxlLnB1c2goe3M6LTEsZjoyNTAwMX0pO3ZhciBhPWVbMF0sbD1lWzFdLHU9MCxoPTEsZD0yO2ZvcihlWzBdPXtzOi0xLGY6YS5mK2wuZixsOmEscjpsfTtoIT1zLTE7KWE9ZVtlW3VdLmY8ZVtkXS5mP3UrKzpkKytdLGw9ZVt1IT1oJiZlW3VdLmY8ZVtkXS5mP3UrKzpkKytdLGVbaCsrXT17czotMSxmOmEuZitsLmYsbDphLHI6bH07dmFyIHY9blswXS5zO2ZvcihyPTE7cjxzOysrciluW3JdLnM+diYmKHY9bltyXS5zKTt2YXIgYz1uZXcgJHModisxKSxmPUdzKGVbaC0xXSxjLDApO2lmKGY+aSl7cj0wO3ZhciBwPTAsZz1mLWksXz0xPDxnO2ZvcihuLnNvcnQoKGZ1bmN0aW9uKHQsaSl7cmV0dXJuIGNbaS5zXS1jW3Quc118fHQuZi1pLmZ9KSk7cjxzOysrcil7dmFyIG09bltyXS5zO2lmKCEoY1ttXT5pKSlicmVhaztwKz1fLSgxPDxmLWNbbV0pLGNbbV09aX1mb3IocD4+Pj1nO3A+MDspe3ZhciB5PW5bcl0ucztjW3ldPGk/cC09MTw8aS1jW3ldKystMTorK3J9Zm9yKDtyPj0wJiZwOy0tcil7dmFyIGI9bltyXS5zO2NbYl09PWkmJigtLWNbYl0sKytwKX1mPWl9cmV0dXJuW25ldyB4cyhjKSxmXX0sR3M9ZnVuY3Rpb24odCxpLGUpe3JldHVybi0xPT10LnM/TWF0aC5tYXgoR3ModC5sLGksZSsxKSxHcyh0LnIsaSxlKzEpKTppW3Quc109ZX0sVnM9ZnVuY3Rpb24odCl7Zm9yKHZhciBpPXQubGVuZ3RoO2kmJiF0Wy0taV07KTtmb3IodmFyIGU9bmV3ICRzKCsraSkscj0wLHM9dFswXSxuPTEsbz1mdW5jdGlvbih0KXtlW3IrK109dH0sYT0xO2E8PWk7KythKWlmKHRbYV09PXMmJmEhPWkpKytuO2Vsc2V7aWYoIXMmJm4+Mil7Zm9yKDtuPjEzODtuLT0xMzgpbygzMjc1NCk7bj4yJiYobyhuPjEwP24tMTE8PDV8Mjg2OTA6bi0zPDw1fDEyMzA1KSxuPTApfWVsc2UgaWYobj4zKXtmb3IobyhzKSwtLW47bj42O24tPTYpbyg4MzA0KTtuPjImJihvKG4tMzw8NXw4MjA4KSxuPTApfWZvcig7bi0tOylvKHMpO249MSxzPXRbYV19cmV0dXJuW2Uuc3ViYXJyYXkoMCxyKSxpXX0sSnM9ZnVuY3Rpb24odCxpKXtmb3IodmFyIGU9MCxyPTA7cjxpLmxlbmd0aDsrK3IpZSs9dFtyXSppW3JdO3JldHVybiBlfSxLcz1mdW5jdGlvbih0LGksZSl7dmFyIHI9ZS5sZW5ndGgscz16cyhpKzIpO3Rbc109MjU1JnIsdFtzKzFdPXI+Pj44LHRbcysyXT0yNTVedFtzXSx0W3MrM109MjU1XnRbcysxXTtmb3IodmFyIG49MDtuPHI7KytuKXRbcytuKzRdPWVbbl07cmV0dXJuIDgqKHMrNCtyKX0sWXM9ZnVuY3Rpb24odCxpLGUscixzLG4sbyxhLGwsdSxoKXtCcyhpLGgrKyxlKSwrK3NbMjU2XTtmb3IodmFyIGQ9V3MocywxNSksdj1kWzBdLGM9ZFsxXSxmPVdzKG4sMTUpLHA9ZlswXSxnPWZbMV0sXz1Wcyh2KSxtPV9bMF0seT1fWzFdLGI9VnMocCksdz1iWzBdLHg9YlsxXSxTPW5ldyAkcygxOSksRT0wO0U8bS5sZW5ndGg7KytFKVNbMzEmbVtFXV0rKztmb3IoRT0wO0U8dy5sZW5ndGg7KytFKVNbMzEmd1tFXV0rKztmb3IodmFyIGs9V3MoUyw3KSxQPWtbMF0sVD1rWzFdLEk9MTk7ST40JiYhUFtQc1tJLTFdXTstLUkpO3ZhciBSLEMsTyxGLE09dSs1PDwzLEE9SnMocyxqcykrSnMobixMcykrbyxEPUpzKHMsdikrSnMobixwKStvKzE0KzMqSStKcyhTLFApKygyKlNbMTZdKzMqU1sxN10rNypTWzE4XSk7aWYoTTw9QSYmTTw9RClyZXR1cm4gS3MoaSxoLHQuc3ViYXJyYXkobCxsK3UpKTtpZihCcyhpLGgsMSsoRDxBKSksaCs9MixEPEEpe1I9RHModixjLDApLEM9dixPPURzKHAsZywwKSxGPXA7dmFyIGo9RHMoUCxULDApO0JzKGksaCx5LTI1NyksQnMoaSxoKzUseC0xKSxCcyhpLGgrMTAsSS00KSxoKz0xNDtmb3IoRT0wO0U8STsrK0UpQnMoaSxoKzMqRSxQW1BzW0VdXSk7aCs9MypJO2Zvcih2YXIgTD1bbSx3XSxOPTA7TjwyOysrTil7dmFyIFU9TFtOXTtmb3IoRT0wO0U8VS5sZW5ndGg7KytFKXt2YXIgej0zMSZVW0VdO0JzKGksaCxqW3pdKSxoKz1QW3pdLHo+MTUmJihCcyhpLGgsVVtFXT4+PjUmMTI3KSxoKz1VW0VdPj4+MTIpfX19ZWxzZSBSPU5zLEM9anMsTz1VcyxGPUxzO2ZvcihFPTA7RTxhOysrRSlpZihyW0VdPjI1NSl7ej1yW0VdPj4+MTgmMzE7cXMoaSxoLFJbeisyNTddKSxoKz1DW3orMjU3XSx6PjcmJihCcyhpLGgscltFXT4+PjIzJjMxKSxoKz1Fc1t6XSk7dmFyIEg9MzEmcltFXTtxcyhpLGgsT1tIXSksaCs9RltIXSxIPjMmJihxcyhpLGgscltFXT4+PjUmODE5MSksaCs9a3NbSF0pfWVsc2UgcXMoaSxoLFJbcltFXV0pLGgrPUNbcltFXV07cmV0dXJuIHFzKGksaCxSWzI1Nl0pLGgrQ1syNTZdfSxYcz1uZXcgU3MoWzY1NTQwLDEzMTA4MCwxMzEwODgsMTMxMTA0LDI2MjE3NiwxMDQ4NzA0LDEwNDg4MzIsMjExNDU2MCwyMTE3NjMyXSksUXM9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9bmV3IFNzKDI1NiksaT0wO2k8MjU2OysraSl7Zm9yKHZhciBlPWkscj05Oy0tcjspZT0oMSZlJiYzOTg4MjkyMzg0KV5lPj4+MTt0W2ldPWV9cmV0dXJuIHR9KCksWnM9ZnVuY3Rpb24odCxpLGUscixzKXtyZXR1cm4gZnVuY3Rpb24odCxpLGUscixzLG4pe3ZhciBvPXQubGVuZ3RoLGE9bmV3IHhzKHIrbys1KigxK01hdGguZmxvb3Ioby83ZTMpKStzKSxsPWEuc3ViYXJyYXkocixhLmxlbmd0aC1zKSx1PTA7aWYoIWl8fG88OClmb3IodmFyIGg9MDtoPD1vO2grPTY1NTM1KXt2YXIgZD1oKzY1NTM1O2Q8bz91PUtzKGwsdSx0LnN1YmFycmF5KGgsZCkpOihsW2hdPW4sdT1LcyhsLHUsdC5zdWJhcnJheShoLG8pKSl9ZWxzZXtmb3IodmFyIHY9WHNbaS0xXSxjPXY+Pj4xMyxmPTgxOTEmdixwPSgxPDxlKS0xLGc9bmV3ICRzKDMyNzY4KSxfPW5ldyAkcyhwKzEpLG09TWF0aC5jZWlsKGUvMykseT0yKm0sYj1mdW5jdGlvbihpKXtyZXR1cm4odFtpXV50W2krMV08PG1edFtpKzJdPDx5KSZwfSx3PW5ldyBTcygyNWUzKSx4PW5ldyAkcygyODgpLFM9bmV3ICRzKDMyKSxFPTAsaz0wLFA9KGg9MCwwKSxUPTAsST0wO2g8bzsrK2gpe3ZhciBSPWIoaCksQz0zMjc2NyZoLE89X1tSXTtpZihnW0NdPU8sX1tSXT1DLFQ8PWgpe3ZhciBGPW8taDtpZigoRT43ZTN8fFA+MjQ1NzYpJiZGPjQyMyl7dT1Zcyh0LGwsMCx3LHgsUyxrLFAsSSxoLUksdSksUD1FPWs9MCxJPWg7Zm9yKHZhciBNPTA7TTwyODY7KytNKXhbTV09MDtmb3IoTT0wO008MzA7KytNKVNbTV09MH12YXIgQT0yLEQ9MCxqPWYsTD1DLU8mMzI3Njc7aWYoRj4yJiZSPT1iKGgtTCkpZm9yKHZhciBOPU1hdGgubWluKGMsRiktMSxVPU1hdGgubWluKDMyNzY3LGgpLHo9TWF0aC5taW4oMjU4LEYpO0w8PVUmJi0taiYmQyE9Tzspe2lmKHRbaCtBXT09dFtoK0EtTF0pe2Zvcih2YXIgSD0wO0g8eiYmdFtoK0hdPT10W2grSC1MXTsrK0gpO2lmKEg+QSl7aWYoQT1ILEQ9TCxIPk4pYnJlYWs7dmFyIEI9TWF0aC5taW4oTCxILTIpLHE9MDtmb3IoTT0wO008QjsrK00pe3ZhciBXPWgtTCtNKzMyNzY4JjMyNzY3LEc9Vy1nW1ddKzMyNzY4JjMyNzY3O0c+cSYmKHE9RyxPPVcpfX19TCs9KEM9TyktKE89Z1tDXSkrMzI3NjgmMzI3Njd9aWYoRCl7d1tQKytdPTI2ODQzNTQ1NnxDc1tBXTw8MTh8T3NbRF07dmFyIFY9MzEmQ3NbQV0sSj0zMSZPc1tEXTtrKz1Fc1tWXStrc1tKXSwrK3hbMjU3K1ZdLCsrU1tKXSxUPWgrQSwrK0V9ZWxzZSB3W1ArK109dFtoXSwrK3hbdFtoXV19fXU9WXModCxsLG4sdyx4LFMsayxQLEksaC1JLHUpfXJldHVybiBIcyhhLDAscit6cyh1KStzKX0odCxudWxsPT1pLmxldmVsPzY6aS5sZXZlbCxudWxsPT1pLm1lbT9NYXRoLmNlaWwoMS41Kk1hdGgubWF4KDgsTWF0aC5taW4oMTMsTWF0aC5sb2codC5sZW5ndGgpKSkpOjEyK2kubWVtLGUsciwhMCl9LHRuPWZ1bmN0aW9uKHQsaSxlKXtmb3IoO2U7KytpKXRbaV09ZSxlPj4+PTh9O2Z1bmN0aW9uIGVuKHQsaSl7dm9pZCAwPT09aSYmKGk9e30pO3ZhciBlPWZ1bmN0aW9uKCl7dmFyIHQ9NDI5NDk2NzI5NTtyZXR1cm57cDpmdW5jdGlvbihpKXtmb3IodmFyIGU9dCxyPTA7cjxpLmxlbmd0aDsrK3IpZT1Rc1syNTUmZV5pW3JdXV5lPj4+ODt0PWV9LGQ6ZnVuY3Rpb24oKXtyZXR1cm4gNDI5NDk2NzI5NV50fX19KCkscj10Lmxlbmd0aDtlLnAodCk7dmFyIHMsbj1acyh0LGksMTArKChzPWkpLmZpbGVuYW1lJiZzLmZpbGVuYW1lLmxlbmd0aCsxfHwwKSw4KSxvPW4ubGVuZ3RoO3JldHVybiBmdW5jdGlvbih0LGkpe3ZhciBlPWkuZmlsZW5hbWU7aWYodFswXT0zMSx0WzFdPTEzOSx0WzJdPTgsdFs4XT1pLmxldmVsPDI/NDo5PT1pLmxldmVsPzI6MCx0WzldPTMsMCE9aS5tdGltZSYmdG4odCw0LE1hdGguZmxvb3IobmV3IERhdGUoaS5tdGltZXx8RGF0ZS5ub3coKSkvMWUzKSksZSl7dFszXT04O2Zvcih2YXIgcj0wO3I8PWUubGVuZ3RoOysrcil0W3IrMTBdPWUuY2hhckNvZGVBdChyKX19KG4saSksdG4obixvLTgsZS5kKCkpLHRuKG4sby00LHIpLG59dmFyIHJuPWZ1bmN0aW9uKHQpe3ZhciBpLGUscixzLG49XCJcIjtmb3IoaT1lPTAscj0odD0odCtcIlwiKS5yZXBsYWNlKC9cXHJcXG4vZyxcIlxcblwiKS5yZXBsYWNlKC9cXHIvZyxcIlxcblwiKSkubGVuZ3RoLHM9MDtzPHI7cysrKXt2YXIgbz10LmNoYXJDb2RlQXQocyksYT1udWxsO288MTI4P2UrKzphPW8+MTI3JiZvPDIwNDg/U3RyaW5nLmZyb21DaGFyQ29kZShvPj42fDE5Miw2MyZvfDEyOCk6U3RyaW5nLmZyb21DaGFyQ29kZShvPj4xMnwyMjQsbz4+NiY2M3wxMjgsNjMmb3wxMjgpLEQoYSl8fChlPmkmJihuKz10LnN1YnN0cmluZyhpLGUpKSxuKz1hLGk9ZT1zKzEpfXJldHVybiBlPmkmJihuKz10LnN1YnN0cmluZyhpLHQubGVuZ3RoKSksbn0sc249ISF1fHwhIWwsbm49XCJ0ZXh0L3BsYWluXCIsb249ZnVuY3Rpb24odCxpLGUpe3ZhciByO3ZvaWQgMD09PWUmJihlPSEwKTt2YXJbcyxuXT10LnNwbGl0KFwiP1wiKSxvPWcoe30saSksYT1udWxsIT09KHI9bnVsbD09bj92b2lkIDA6bi5zcGxpdChcIiZcIikubWFwKCh0PT57dmFyIGksW3Isc109dC5zcGxpdChcIj1cIiksbj1lJiZudWxsIT09KGk9b1tyXSkmJnZvaWQgMCE9PWk/aTpzO3JldHVybiBkZWxldGUgb1tyXSxyK1wiPVwiK259KSkpJiZ2b2lkIDAhPT1yP3I6W10sbD1vZShvKTtyZXR1cm4gbCYmYS5wdXNoKGwpLHMrXCI/XCIrYS5qb2luKFwiJlwiKX0sYW49KHQsaSk9PkpTT04uc3RyaW5naWZ5KHQsKCh0LGkpPT5cImJpZ2ludFwiPT10eXBlb2YgaT9pLnRvU3RyaW5nKCk6aSksaSksbG49dD0+e3ZhcntkYXRhOmksY29tcHJlc3Npb246ZX09dDtpZihpKXtpZihlPT09cmUuR1ppcEpTKXt2YXIgcj1lbihmdW5jdGlvbih0LGkpe3ZhciBlPXQubGVuZ3RoO2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBUZXh0RW5jb2RlcilyZXR1cm4obmV3IFRleHRFbmNvZGVyKS5lbmNvZGUodCk7Zm9yKHZhciByPW5ldyB4cyh0Lmxlbmd0aCsodC5sZW5ndGg+Pj4xKSkscz0wLG49ZnVuY3Rpb24odCl7cltzKytdPXR9LG89MDtvPGU7KytvKXtpZihzKzU+ci5sZW5ndGgpe3ZhciBhPW5ldyB4cyhzKzgrKGUtbzw8MSkpO2Euc2V0KHIpLHI9YX12YXIgbD10LmNoYXJDb2RlQXQobyk7bDwxMjh8fGk/bihsKTpsPDIwNDg/KG4oMTkyfGw+Pj42KSxuKDEyOHw2MyZsKSk6bD41NTI5NSYmbDw1NzM0ND8obigyNDB8KGw9NjU1MzYrKDEwNDc1NTImbCl8MTAyMyZ0LmNoYXJDb2RlQXQoKytvKSk+Pj4xOCksbigxMjh8bD4+PjEyJjYzKSxuKDEyOHxsPj4+NiY2MyksbigxMjh8NjMmbCkpOihuKDIyNHxsPj4+MTIpLG4oMTI4fGw+Pj42JjYzKSxuKDEyOHw2MyZsKSl9cmV0dXJuIEhzKHIsMCxzKX0oYW4oaSkpLHttdGltZTowfSkscz1uZXcgQmxvYihbcl0se3R5cGU6bm59KTtyZXR1cm57Y29udGVudFR5cGU6bm4sYm9keTpzLGVzdGltYXRlZFNpemU6cy5zaXplfX1pZihlPT09cmUuQmFzZTY0KXt2YXIgbj1mdW5jdGlvbih0KXt2YXIgaSxlLHIscyxuLG89XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPVwiLGE9MCxsPTAsdT1cIlwiLGg9W107aWYoIXQpcmV0dXJuIHQ7dD1ybih0KTtkb3tpPShuPXQuY2hhckNvZGVBdChhKyspPDwxNnx0LmNoYXJDb2RlQXQoYSsrKTw8OHx0LmNoYXJDb2RlQXQoYSsrKSk+PjE4JjYzLGU9bj4+MTImNjMscj1uPj42JjYzLHM9NjMmbixoW2wrK109by5jaGFyQXQoaSkrby5jaGFyQXQoZSkrby5jaGFyQXQocikrby5jaGFyQXQocyl9d2hpbGUoYTx0Lmxlbmd0aCk7c3dpdGNoKHU9aC5qb2luKFwiXCIpLHQubGVuZ3RoJTMpe2Nhc2UgMTp1PXUuc2xpY2UoMCwtMikrXCI9PVwiO2JyZWFrO2Nhc2UgMjp1PXUuc2xpY2UoMCwtMSkrXCI9XCJ9cmV0dXJuIHV9KGFuKGkpKSxvPSh0PT5cImRhdGE9XCIrZW5jb2RlVVJJQ29tcG9uZW50KFwic3RyaW5nXCI9PXR5cGVvZiB0P3Q6YW4odCkpKShuKTtyZXR1cm57Y29udGVudFR5cGU6XCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIixib2R5Om8sZXN0aW1hdGVkU2l6ZTpuZXcgQmxvYihbb10pLnNpemV9fXZhciBhPWFuKGkpO3JldHVybntjb250ZW50VHlwZTpcImFwcGxpY2F0aW9uL2pzb25cIixib2R5OmEsZXN0aW1hdGVkU2l6ZTpuZXcgQmxvYihbYV0pLnNpemV9fX0sdW49W107bCYmdW4ucHVzaCh7dHJhbnNwb3J0OlwiZmV0Y2hcIixtZXRob2Q6dD0+e3ZhciBpLGUse2NvbnRlbnRUeXBlOnIsYm9keTpzLGVzdGltYXRlZFNpemU6bn09bnVsbCE9PShpPWxuKHQpKSYmdm9pZCAwIT09aT9pOnt9LG89bmV3IEhlYWRlcnM7RnQodC5oZWFkZXJzLChmdW5jdGlvbih0LGkpe28uYXBwZW5kKGksdCl9KSksciYmby5hcHBlbmQoXCJDb250ZW50LVR5cGVcIixyKTt2YXIgYT10LnVybCx1PW51bGw7aWYoaCl7dmFyIGQ9bmV3IGg7dT17c2lnbmFsOmQuc2lnbmFsLHRpbWVvdXQ6c2V0VGltZW91dCgoKCk9PmQuYWJvcnQoKSksdC50aW1lb3V0KX19bChhLGcoe21ldGhvZDoobnVsbD09dD92b2lkIDA6dC5tZXRob2QpfHxcIkdFVFwiLGhlYWRlcnM6byxrZWVwYWxpdmU6XCJQT1NUXCI9PT10Lm1ldGhvZCYmKG58fDApPDUyNDI4LjgsYm9keTpzLHNpZ25hbDpudWxsPT0oZT11KT92b2lkIDA6ZS5zaWduYWx9LHQuZmV0Y2hPcHRpb25zKSkudGhlbigoaT0+aS50ZXh0KCkudGhlbigoZT0+e3ZhciByPXtzdGF0dXNDb2RlOmkuc3RhdHVzLHRleHQ6ZX07aWYoMjAwPT09aS5zdGF0dXMpdHJ5e3IuanNvbj1KU09OLnBhcnNlKGUpfWNhdGNoKHQpe1B0LmVycm9yKHQpfW51bGw9PXQuY2FsbGJhY2t8fHQuY2FsbGJhY2socil9KSkpKS5jYXRjaCgoaT0+e1B0LmVycm9yKGkpLG51bGw9PXQuY2FsbGJhY2t8fHQuY2FsbGJhY2soe3N0YXR1c0NvZGU6MCx0ZXh0Oml9KX0pKS5maW5hbGx5KCgoKT0+dT9jbGVhclRpbWVvdXQodS50aW1lb3V0KTpudWxsKSl9fSksdSYmdW4ucHVzaCh7dHJhbnNwb3J0OlwiWEhSXCIsbWV0aG9kOnQ9Pnt2YXIgaSxlPW5ldyB1O2Uub3Blbih0Lm1ldGhvZHx8XCJHRVRcIix0LnVybCwhMCk7dmFye2NvbnRlbnRUeXBlOnIsYm9keTpzfT1udWxsIT09KGk9bG4odCkpJiZ2b2lkIDAhPT1pP2k6e307RnQodC5oZWFkZXJzLChmdW5jdGlvbih0LGkpe2Uuc2V0UmVxdWVzdEhlYWRlcihpLHQpfSkpLHImJmUuc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtVHlwZVwiLHIpLHQudGltZW91dCYmKGUudGltZW91dD10LnRpbWVvdXQpLHQuZGlzYWJsZVhIUkNyZWRlbnRpYWxzfHwoZS53aXRoQ3JlZGVudGlhbHM9ITApLGUub25yZWFkeXN0YXRlY2hhbmdlPSgpPT57aWYoND09PWUucmVhZHlTdGF0ZSl7dmFyIGk9e3N0YXR1c0NvZGU6ZS5zdGF0dXMsdGV4dDplLnJlc3BvbnNlVGV4dH07aWYoMjAwPT09ZS5zdGF0dXMpdHJ5e2kuanNvbj1KU09OLnBhcnNlKGUucmVzcG9uc2VUZXh0KX1jYXRjaCh0KXt9bnVsbD09dC5jYWxsYmFja3x8dC5jYWxsYmFjayhpKX19LGUuc2VuZChzKX19KSxudWxsIT1uJiZuLnNlbmRCZWFjb24mJnVuLnB1c2goe3RyYW5zcG9ydDpcInNlbmRCZWFjb25cIixtZXRob2Q6dD0+e3ZhciBpPW9uKHQudXJsLHtiZWFjb246XCIxXCJ9KTt0cnl7dmFyIGUse2NvbnRlbnRUeXBlOnIsYm9keTpzfT1udWxsIT09KGU9bG4odCkpJiZ2b2lkIDAhPT1lP2U6e30sbz1cInN0cmluZ1wiPT10eXBlb2Ygcz9uZXcgQmxvYihbc10se3R5cGU6cn0pOnM7bi5zZW5kQmVhY29uKGksbyl9Y2F0Y2godCl7fX19KTt2YXIgaG49ZnVuY3Rpb24odCxpKXtpZighZnVuY3Rpb24odCl7dHJ5e25ldyBSZWdFeHAodCl9Y2F0Y2godCl7cmV0dXJuITF9cmV0dXJuITB9KGkpKXJldHVybiExO3RyeXtyZXR1cm4gbmV3IFJlZ0V4cChpKS50ZXN0KHQpfWNhdGNoKHQpe3JldHVybiExfX07ZnVuY3Rpb24gZG4odCxpLGUpe3JldHVybiBhbih7ZGlzdGluY3RfaWQ6dCx1c2VyUHJvcGVydGllc1RvU2V0OmksdXNlclByb3BlcnRpZXNUb1NldE9uY2U6ZX0pfXZhciB2bj17ZXhhY3Q6KHQsaSk9Pmkuc29tZSgoaT0+dC5zb21lKCh0PT5pPT09dCkpKSksaXNfbm90Oih0LGkpPT5pLmV2ZXJ5KChpPT50LmV2ZXJ5KCh0PT5pIT09dCkpKSkscmVnZXg6KHQsaSk9Pmkuc29tZSgoaT0+dC5zb21lKCh0PT5obihpLHQpKSkpKSxub3RfcmVnZXg6KHQsaSk9PmkuZXZlcnkoKGk9PnQuZXZlcnkoKHQ9PiFobihpLHQpKSkpKSxpY29udGFpbnM6KHQsaSk9PmkubWFwKGNuKS5zb21lKChpPT50Lm1hcChjbikuc29tZSgodD0+aS5pbmNsdWRlcyh0KSkpKSksbm90X2ljb250YWluczoodCxpKT0+aS5tYXAoY24pLmV2ZXJ5KChpPT50Lm1hcChjbikuZXZlcnkoKHQ9PiFpLmluY2x1ZGVzKHQpKSkpKX0sY249dD0+dC50b0xvd2VyQ2FzZSgpLGZuPVR0KFwiW0Vycm9yIHRyYWNraW5nXVwiKTtjbGFzcyBwbntjb25zdHJ1Y3Rvcih0KXt2YXIgaSxlO3RoaXMuSnQ9W10sdGhpcy5LdD1uZXcgZnQoW25ldyBwdCxuZXcgRXQsbmV3IF90LG5ldyBndCxuZXcgJHQsbmV3IHh0LG5ldyB5dCxuZXcgU3RdLFthdCxodF0pLHRoaXMuX2luc3RhbmNlPXQsdGhpcy5KdD1udWxsIT09KGk9bnVsbD09KGU9dGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UpP3ZvaWQgMDplLmdldF9wcm9wZXJ0eShYdCkpJiZ2b2lkIDAhPT1pP2k6W119b25SZW1vdGVDb25maWcodCl7dmFyIGksZSxyLHM9bnVsbCE9PShpPW51bGw9PShlPXQuZXJyb3JUcmFja2luZyk/dm9pZCAwOmUuc3VwcHJlc3Npb25SdWxlcykmJnZvaWQgMCE9PWk/aTpbXSxuPW51bGw9PShyPXQuZXJyb3JUcmFja2luZyk/dm9pZCAwOnIuY2FwdHVyZUV4dGVuc2lvbkV4Y2VwdGlvbnM7dGhpcy5KdD1zLHRoaXMuX2luc3RhbmNlLnBlcnNpc3RlbmNlJiZ0aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZS5yZWdpc3Rlcih7W1h0XTp0aGlzLkp0LFtRdF06bn0pfWdldCBZdCgpe3ZhciB0LGk9ISF0aGlzLl9pbnN0YW5jZS5nZXRfcHJvcGVydHkoUXQpLGU9dGhpcy5faW5zdGFuY2UuY29uZmlnLmVycm9yX3RyYWNraW5nLmNhcHR1cmVFeHRlbnNpb25FeGNlcHRpb25zO3JldHVybiBudWxsIT09KHQ9bnVsbCE9ZT9lOmkpJiZ2b2lkIDAhPT10JiZ0fWJ1aWxkUHJvcGVydGllcyh0LGkpe3JldHVybiB0aGlzLkt0LmJ1aWxkRnJvbVVua25vd24odCx7c3ludGhldGljRXhjZXB0aW9uOm51bGw9PWk/dm9pZCAwOmkuc3ludGhldGljRXhjZXB0aW9uLG1lY2hhbmlzbTp7aGFuZGxlZDpudWxsPT1pP3ZvaWQgMDppLmhhbmRsZWR9fSl9c2VuZEV4Y2VwdGlvbkV2ZW50KHQpe3ZhciBpPXQuJGV4Y2VwdGlvbl9saXN0O2lmKHRoaXMuWHQoaSkpe2lmKHRoaXMuUXQoaSkpcmV0dXJuIHZvaWQgZm4uaW5mbyhcIlNraXBwaW5nIGV4Y2VwdGlvbiBjYXB0dXJlIGJlY2F1c2UgYSBzdXBwcmVzc2lvbiBydWxlIG1hdGNoZWRcIik7aWYoIXRoaXMuWXQmJnRoaXMuWnQoaSkpcmV0dXJuIHZvaWQgZm4uaW5mbyhcIlNraXBwaW5nIGV4Y2VwdGlvbiBjYXB0dXJlIGJlY2F1c2UgaXQgd2FzIHRocm93biBieSBhbiBleHRlbnNpb25cIik7aWYoIXRoaXMuX2luc3RhbmNlLmNvbmZpZy5lcnJvcl90cmFja2luZy5fX2NhcHR1cmVQb3N0SG9nRXhjZXB0aW9ucyYmdGhpcy50aShpKSlyZXR1cm4gdm9pZCBmbi5pbmZvKFwiU2tpcHBpbmcgZXhjZXB0aW9uIGNhcHR1cmUgYmVjYXVzZSBpdCB3YXMgdGhyb3duIGJ5IHRoZSBQb3N0SG9nIFNES1wiKX1yZXR1cm4gdGhpcy5faW5zdGFuY2UuY2FwdHVyZShcIiRleGNlcHRpb25cIix0LHtfbm9UcnVuY2F0ZTohMCxfYmF0Y2hLZXk6XCJleGNlcHRpb25FdmVudFwifSl9UXQodCl7aWYoMD09PXQubGVuZ3RoKXJldHVybiExO3ZhciBpPXQucmVkdWNlKCgodCxpKT0+e3Zhcnt0eXBlOmUsdmFsdWU6cn09aTtyZXR1cm4gTShlKSYmZS5sZW5ndGg+MCYmdC4kZXhjZXB0aW9uX3R5cGVzLnB1c2goZSksTShyKSYmci5sZW5ndGg+MCYmdC4kZXhjZXB0aW9uX3ZhbHVlcy5wdXNoKHIpLHR9KSx7JGV4Y2VwdGlvbl90eXBlczpbXSwkZXhjZXB0aW9uX3ZhbHVlczpbXX0pO3JldHVybiB0aGlzLkp0LnNvbWUoKHQ9Pnt2YXIgZT10LnZhbHVlcy5tYXAoKHQ9Pnt2YXIgZSxyPXZuW3Qub3BlcmF0b3JdLHM9SSh0LnZhbHVlKT90LnZhbHVlOlt0LnZhbHVlXSxuPW51bGwhPT0oZT1pW3Qua2V5XSkmJnZvaWQgMCE9PWU/ZTpbXTtyZXR1cm4gcy5sZW5ndGg+MCYmcihzLG4pfSkpO3JldHVyblwiT1JcIj09PXQudHlwZT9lLnNvbWUoQm9vbGVhbik6ZS5ldmVyeShCb29sZWFuKX0pKX1adCh0KXtyZXR1cm4gdC5mbGF0TWFwKCh0PT57dmFyIGksZTtyZXR1cm4gbnVsbCE9PShpPW51bGw9PShlPXQuc3RhY2t0cmFjZSk/dm9pZCAwOmUuZnJhbWVzKSYmdm9pZCAwIT09aT9pOltdfSkpLnNvbWUoKHQ9PnQuZmlsZW5hbWUmJnQuZmlsZW5hbWUuc3RhcnRzV2l0aChcImNocm9tZS1leHRlbnNpb246Ly9cIikpKX10aSh0KXtpZih0Lmxlbmd0aD4wKXt2YXIgaSxlLHIscyxuPW51bGwhPT0oaT1udWxsPT0oZT10WzBdLnN0YWNrdHJhY2UpP3ZvaWQgMDplLmZyYW1lcykmJnZvaWQgMCE9PWk/aTpbXSxvPW5bbi5sZW5ndGgtMV07cmV0dXJuIG51bGwhPT0ocj1udWxsPT1vfHxudWxsPT0ocz1vLmZpbGVuYW1lKT92b2lkIDA6cy5pbmNsdWRlcyhcInBvc3Rob2cuY29tL3N0YXRpY1wiKSkmJnZvaWQgMCE9PXImJnJ9cmV0dXJuITF9WHQodCl7cmV0dXJuIWoodCkmJkkodCl9fXZhciBnbj1UdChcIltGZWF0dXJlRmxhZ3NdXCIpLF9uPVwiJGFjdGl2ZV9mZWF0dXJlX2ZsYWdzXCIsbW49XCIkb3ZlcnJpZGVfZmVhdHVyZV9mbGFnc1wiLHluPVwiJGZlYXR1cmVfZmxhZ19wYXlsb2Fkc1wiLGJuPVwiJG92ZXJyaWRlX2ZlYXR1cmVfZmxhZ19wYXlsb2Fkc1wiLHduPVwiJGZlYXR1cmVfZmxhZ19yZXF1ZXN0X2lkXCIseG49dD0+e3ZhciBpPXt9O2Zvcih2YXJbZSxyXW9mIER0KHR8fHt9KSlyJiYoaVtlXT1yKTtyZXR1cm4gaX0sJG49dD0+e3ZhciBpPXQuZmxhZ3M7cmV0dXJuIGk/KHQuZmVhdHVyZUZsYWdzPU9iamVjdC5mcm9tRW50cmllcyhPYmplY3Qua2V5cyhpKS5tYXAoKHQ9Pnt2YXIgZTtyZXR1cm5bdCxudWxsIT09KGU9aVt0XS52YXJpYW50KSYmdm9pZCAwIT09ZT9lOmlbdF0uZW5hYmxlZF19KSkpLHQuZmVhdHVyZUZsYWdQYXlsb2Fkcz1PYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmtleXMoaSkuZmlsdGVyKCh0PT5pW3RdLmVuYWJsZWQpKS5maWx0ZXIoKHQ9Pnt2YXIgZTtyZXR1cm4gbnVsbD09KGU9aVt0XS5tZXRhZGF0YSk/dm9pZCAwOmUucGF5bG9hZH0pKS5tYXAoKHQ9Pnt2YXIgZTtyZXR1cm5bdCxudWxsPT0oZT1pW3RdLm1ldGFkYXRhKT92b2lkIDA6ZS5wYXlsb2FkXX0pKSkpOmduLndhcm4oXCJVc2luZyBhbiBvbGRlciB2ZXJzaW9uIG9mIHRoZSBmZWF0dXJlIGZsYWdzIGVuZHBvaW50LiBQbGVhc2UgdXBncmFkZSB5b3VyIFBvc3RIb2cgc2VydmVyIHRvIHRoZSBsYXRlc3QgdmVyc2lvblwiKSx0fSxTbj1mdW5jdGlvbih0KXtyZXR1cm4gdC5GZWF0dXJlRmxhZ3M9XCJmZWF0dXJlX2ZsYWdzXCIsdC5SZWNvcmRpbmdzPVwicmVjb3JkaW5nc1wiLHR9KHt9KTtjbGFzcyBFbntjb25zdHJ1Y3Rvcih0KXt0aGlzLmlpPSExLHRoaXMuZWk9ITEsdGhpcy5yaT0hMSx0aGlzLnNpPSExLHRoaXMubmk9ITEsdGhpcy5vaT0hMSx0aGlzLmFpPSExLHRoaXMuX2luc3RhbmNlPXQsdGhpcy5mZWF0dXJlRmxhZ0V2ZW50SGFuZGxlcnM9W119bGkoKXt2YXIgdD10aGlzLl9pbnN0YW5jZS5jb25maWcuZXZhbHVhdGlvbl9lbnZpcm9ubWVudHM7cmV0dXJuIG51bGwhPXQmJnQubGVuZ3RoP3QuZmlsdGVyKCh0PT57dmFyIGk9dCYmXCJzdHJpbmdcIj09dHlwZW9mIHQmJnQudHJpbSgpLmxlbmd0aD4wO3JldHVybiBpfHxnbi5lcnJvcihcIkludmFsaWQgZXZhbHVhdGlvbiBlbnZpcm9ubWVudCBmb3VuZDpcIix0LFwiRXhwZWN0ZWQgbm9uLWVtcHR5IHN0cmluZ1wiKSxpfSkpOltdfXVpKCl7cmV0dXJuIHRoaXMubGkoKS5sZW5ndGg+MH1mbGFncygpe2lmKHRoaXMuX2luc3RhbmNlLmNvbmZpZy5fX3ByZXZpZXdfcmVtb3RlX2NvbmZpZyl0aGlzLm9pPSEwO2Vsc2V7dmFyIHQ9IXRoaXMuaGkmJih0aGlzLl9pbnN0YW5jZS5jb25maWcuYWR2YW5jZWRfZGlzYWJsZV9mZWF0dXJlX2ZsYWdzfHx0aGlzLl9pbnN0YW5jZS5jb25maWcuYWR2YW5jZWRfZGlzYWJsZV9mZWF0dXJlX2ZsYWdzX29uX2ZpcnN0X2xvYWQpO3RoaXMuZGkoe2Rpc2FibGVGbGFnczp0fSl9fWdldCBoYXNMb2FkZWRGbGFncygpe3JldHVybiB0aGlzLmVpfWdldEZsYWdzKCl7cmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuZ2V0RmxhZ1ZhcmlhbnRzKCkpfWdldEZsYWdzV2l0aERldGFpbHMoKXt2YXIgdD10aGlzLl9pbnN0YW5jZS5nZXRfcHJvcGVydHkoYWkpLGk9dGhpcy5faW5zdGFuY2UuZ2V0X3Byb3BlcnR5KG1uKSxlPXRoaXMuX2luc3RhbmNlLmdldF9wcm9wZXJ0eShibik7aWYoIWUmJiFpKXJldHVybiB0fHx7fTt2YXIgcj1NdCh7fSx0fHx7fSkscz1bLi4ubmV3IFNldChbLi4uT2JqZWN0LmtleXMoZXx8e30pLC4uLk9iamVjdC5rZXlzKGl8fHt9KV0pXTtmb3IodmFyIG4gb2Ygcyl7dmFyIG8sYSxsPXJbbl0sdT1udWxsPT1pP3ZvaWQgMDppW25dLGg9Rih1KT9udWxsIT09KG89bnVsbD09bD92b2lkIDA6bC5lbmFibGVkKSYmdm9pZCAwIT09byYmbzohIXUsZD1GKHUpP2wudmFyaWFudDpcInN0cmluZ1wiPT10eXBlb2YgdT91OnZvaWQgMCx2PW51bGw9PWU/dm9pZCAwOmVbbl0sYz1nKHt9LGwse2VuYWJsZWQ6aCx2YXJpYW50Omg/bnVsbCE9ZD9kOm51bGw9PWw/dm9pZCAwOmwudmFyaWFudDp2b2lkIDB9KTtpZihoIT09KG51bGw9PWw/dm9pZCAwOmwuZW5hYmxlZCkmJihjLm9yaWdpbmFsX2VuYWJsZWQ9bnVsbD09bD92b2lkIDA6bC5lbmFibGVkKSxkIT09KG51bGw9PWw/dm9pZCAwOmwudmFyaWFudCkmJihjLm9yaWdpbmFsX3ZhcmlhbnQ9bnVsbD09bD92b2lkIDA6bC52YXJpYW50KSx2KWMubWV0YWRhdGE9Zyh7fSxudWxsPT1sP3ZvaWQgMDpsLm1ldGFkYXRhLHtwYXlsb2FkOnYsb3JpZ2luYWxfcGF5bG9hZDpudWxsPT1sfHxudWxsPT0oYT1sLm1ldGFkYXRhKT92b2lkIDA6YS5wYXlsb2FkfSk7cltuXT1jfXJldHVybiB0aGlzLmlpfHwoZ24ud2FybihcIiBPdmVycmlkaW5nIGZlYXR1cmUgZmxhZyBkZXRhaWxzIVwiLHtmbGFnRGV0YWlsczp0LG92ZXJyaWRkZW5QYXlsb2FkczplLGZpbmFsRGV0YWlsczpyfSksdGhpcy5paT0hMCkscn1nZXRGbGFnVmFyaWFudHMoKXt2YXIgdD10aGlzLl9pbnN0YW5jZS5nZXRfcHJvcGVydHkobmkpLGk9dGhpcy5faW5zdGFuY2UuZ2V0X3Byb3BlcnR5KG1uKTtpZighaSlyZXR1cm4gdHx8e307Zm9yKHZhciBlPU10KHt9LHQpLHI9T2JqZWN0LmtleXMoaSkscz0wO3M8ci5sZW5ndGg7cysrKWVbcltzXV09aVtyW3NdXTtyZXR1cm4gdGhpcy5paXx8KGduLndhcm4oXCIgT3ZlcnJpZGluZyBmZWF0dXJlIGZsYWdzIVwiLHtlbmFibGVkRmxhZ3M6dCxvdmVycmlkZGVuRmxhZ3M6aSxmaW5hbEZsYWdzOmV9KSx0aGlzLmlpPSEwKSxlfWdldEZsYWdQYXlsb2Fkcygpe3ZhciB0PXRoaXMuX2luc3RhbmNlLmdldF9wcm9wZXJ0eSh5biksaT10aGlzLl9pbnN0YW5jZS5nZXRfcHJvcGVydHkoYm4pO2lmKCFpKXJldHVybiB0fHx7fTtmb3IodmFyIGU9TXQoe30sdHx8e30pLHI9T2JqZWN0LmtleXMoaSkscz0wO3M8ci5sZW5ndGg7cysrKWVbcltzXV09aVtyW3NdXTtyZXR1cm4gdGhpcy5paXx8KGduLndhcm4oXCIgT3ZlcnJpZGluZyBmZWF0dXJlIGZsYWcgcGF5bG9hZHMhXCIse2ZsYWdQYXlsb2Fkczp0LG92ZXJyaWRkZW5QYXlsb2FkczppLGZpbmFsUGF5bG9hZHM6ZX0pLHRoaXMuaWk9ITApLGV9cmVsb2FkRmVhdHVyZUZsYWdzKCl7dGhpcy5zaXx8dGhpcy5faW5zdGFuY2UuY29uZmlnLmFkdmFuY2VkX2Rpc2FibGVfZmVhdHVyZV9mbGFnc3x8dGhpcy5oaXx8KHRoaXMuaGk9c2V0VGltZW91dCgoKCk9Pnt0aGlzLmRpKCl9KSw1KSl9dmkoKXtjbGVhclRpbWVvdXQodGhpcy5oaSksdGhpcy5oaT12b2lkIDB9ZW5zdXJlRmxhZ3NMb2FkZWQoKXt0aGlzLmVpfHx0aGlzLnJpfHx0aGlzLmhpfHx0aGlzLnJlbG9hZEZlYXR1cmVGbGFncygpfXNldEFub255bW91c0Rpc3RpbmN0SWQodCl7dGhpcy4kYW5vbl9kaXN0aW5jdF9pZD10fXNldFJlbG9hZGluZ1BhdXNlZCh0KXt0aGlzLnNpPXR9ZGkodCl7dmFyIGk7aWYodGhpcy52aSgpLCF0aGlzLl9pbnN0YW5jZS5NKCkpaWYodGhpcy5yaSl0aGlzLm5pPSEwO2Vsc2V7dmFyIGU9e3Rva2VuOnRoaXMuX2luc3RhbmNlLmNvbmZpZy50b2tlbixkaXN0aW5jdF9pZDp0aGlzLl9pbnN0YW5jZS5nZXRfZGlzdGluY3RfaWQoKSxncm91cHM6dGhpcy5faW5zdGFuY2UuZ2V0R3JvdXBzKCksJGFub25fZGlzdGluY3RfaWQ6dGhpcy4kYW5vbl9kaXN0aW5jdF9pZCxwZXJzb25fcHJvcGVydGllczpnKHt9LChudWxsPT0oaT10aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZSk/dm9pZCAwOmkuZ2V0X2luaXRpYWxfcHJvcHMoKSl8fHt9LHRoaXMuX2luc3RhbmNlLmdldF9wcm9wZXJ0eShsaSl8fHt9KSxncm91cF9wcm9wZXJ0aWVzOnRoaXMuX2luc3RhbmNlLmdldF9wcm9wZXJ0eSh1aSl9OyhudWxsIT10JiZ0LmRpc2FibGVGbGFnc3x8dGhpcy5faW5zdGFuY2UuY29uZmlnLmFkdmFuY2VkX2Rpc2FibGVfZmVhdHVyZV9mbGFncykmJihlLmRpc2FibGVfZmxhZ3M9ITApLHRoaXMudWkoKSYmKGUuZXZhbHVhdGlvbl9lbnZpcm9ubWVudHM9dGhpcy5saSgpKTt2YXIgcj10aGlzLl9pbnN0YW5jZS5jb25maWcuX19wcmV2aWV3X3JlbW90ZV9jb25maWcscz1yP1wiL2ZsYWdzLz92PTJcIjpcIi9mbGFncy8/dj0yJmNvbmZpZz10cnVlXCIsbj10aGlzLl9pbnN0YW5jZS5jb25maWcuYWR2YW5jZWRfb25seV9ldmFsdWF0ZV9zdXJ2ZXlfZmVhdHVyZV9mbGFncz9cIiZvbmx5X2V2YWx1YXRlX3N1cnZleV9mZWF0dXJlX2ZsYWdzPXRydWVcIjpcIlwiLG89dGhpcy5faW5zdGFuY2UucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcImZsYWdzXCIscytuKTtyJiYoZS50aW1lem9uZT12cygpKSx0aGlzLnJpPSEwLHRoaXMuX2luc3RhbmNlLmNpKHttZXRob2Q6XCJQT1NUXCIsdXJsOm8sZGF0YTplLGNvbXByZXNzaW9uOnRoaXMuX2luc3RhbmNlLmNvbmZpZy5kaXNhYmxlX2NvbXByZXNzaW9uP3ZvaWQgMDpyZS5CYXNlNjQsdGltZW91dDp0aGlzLl9pbnN0YW5jZS5jb25maWcuZmVhdHVyZV9mbGFnX3JlcXVlc3RfdGltZW91dF9tcyxjYWxsYmFjazp0PT57dmFyIGkscixzPSEwOygyMDA9PT10LnN0YXR1c0NvZGUmJih0aGlzLm5pfHwodGhpcy4kYW5vbl9kaXN0aW5jdF9pZD12b2lkIDApLHM9ITEpLHRoaXMucmk9ITEsdGhpcy5vaSl8fCh0aGlzLm9pPSEwLHRoaXMuX2luc3RhbmNlLmZpKG51bGwhPT0ocj10Lmpzb24pJiZ2b2lkIDAhPT1yP3I6e30pKTtpZighZS5kaXNhYmxlX2ZsYWdzfHx0aGlzLm5pKWlmKHRoaXMuYWk9IXMsdC5qc29uJiZudWxsIT0oaT10Lmpzb24ucXVvdGFMaW1pdGVkKSYmaS5pbmNsdWRlcyhTbi5GZWF0dXJlRmxhZ3MpKWduLndhcm4oXCJZb3UgaGF2ZSBoaXQgeW91ciBmZWF0dXJlIGZsYWdzIHF1b3RhIGxpbWl0LCBhbmQgd2lsbCBub3QgYmUgYWJsZSB0byBsb2FkIGZlYXR1cmUgZmxhZ3MgdW50aWwgdGhlIHF1b3RhIGlzIHJlc2V0LiAgUGxlYXNlIHZpc2l0IGh0dHBzOi8vcG9zdGhvZy5jb20vZG9jcy9iaWxsaW5nL2xpbWl0cy1hbGVydHMgdG8gbGVhcm4gbW9yZS5cIik7ZWxzZXt2YXIgbjtpZighZS5kaXNhYmxlX2ZsYWdzKXRoaXMucmVjZWl2ZWRGZWF0dXJlRmxhZ3MobnVsbCE9PShuPXQuanNvbikmJnZvaWQgMCE9PW4/bjp7fSxzKTt0aGlzLm5pJiYodGhpcy5uaT0hMSx0aGlzLmRpKCkpfX19KX19Z2V0RmVhdHVyZUZsYWcodCxpKXtpZih2b2lkIDA9PT1pJiYoaT17fSksdGhpcy5laXx8dGhpcy5nZXRGbGFncygpJiZ0aGlzLmdldEZsYWdzKCkubGVuZ3RoPjApe3ZhciBlPXRoaXMuZ2V0RmxhZ1ZhcmlhbnRzKClbdF0scj1cIlwiK2Uscz10aGlzLl9pbnN0YW5jZS5nZXRfcHJvcGVydHkod24pfHx2b2lkIDAsbj10aGlzLl9pbnN0YW5jZS5nZXRfcHJvcGVydHkodmkpfHx7fTtpZigoaS5zZW5kX2V2ZW50fHwhKFwic2VuZF9ldmVudFwiaW4gaSkpJiYoISh0IGluIG4pfHwhblt0XS5pbmNsdWRlcyhyKSkpe3ZhciBvLGEsbCx1LGgsZCx2LGMsZjtJKG5bdF0pP25bdF0ucHVzaChyKTpuW3RdPVtyXSxudWxsPT0obz10aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZSl8fG8ucmVnaXN0ZXIoe1t2aV06bn0pO3ZhciBwPXRoaXMuZ2V0RmVhdHVyZUZsYWdEZXRhaWxzKHQpLGc9eyRmZWF0dXJlX2ZsYWc6dCwkZmVhdHVyZV9mbGFnX3Jlc3BvbnNlOmUsJGZlYXR1cmVfZmxhZ19wYXlsb2FkOnRoaXMuZ2V0RmVhdHVyZUZsYWdQYXlsb2FkKHQpfHxudWxsLCRmZWF0dXJlX2ZsYWdfcmVxdWVzdF9pZDpzLCRmZWF0dXJlX2ZsYWdfYm9vdHN0cmFwcGVkX3Jlc3BvbnNlOihudWxsPT0oYT10aGlzLl9pbnN0YW5jZS5jb25maWcuYm9vdHN0cmFwKXx8bnVsbD09KGE9YS5mZWF0dXJlRmxhZ3MpP3ZvaWQgMDphW3RdKXx8bnVsbCwkZmVhdHVyZV9mbGFnX2Jvb3RzdHJhcHBlZF9wYXlsb2FkOihudWxsPT0obD10aGlzLl9pbnN0YW5jZS5jb25maWcuYm9vdHN0cmFwKXx8bnVsbD09KGw9bC5mZWF0dXJlRmxhZ1BheWxvYWRzKT92b2lkIDA6bFt0XSl8fG51bGwsJHVzZWRfYm9vdHN0cmFwX3ZhbHVlOiF0aGlzLmFpfTtGKG51bGw9PXB8fG51bGw9PSh1PXAubWV0YWRhdGEpP3ZvaWQgMDp1LnZlcnNpb24pfHwoZy4kZmVhdHVyZV9mbGFnX3ZlcnNpb249cC5tZXRhZGF0YS52ZXJzaW9uKTt2YXIgXyxtPW51bGwhPT0oaD1udWxsPT1wfHxudWxsPT0oZD1wLnJlYXNvbik/dm9pZCAwOmQuZGVzY3JpcHRpb24pJiZ2b2lkIDAhPT1oP2g6bnVsbD09cHx8bnVsbD09KHY9cC5yZWFzb24pP3ZvaWQgMDp2LmNvZGU7aWYobSYmKGcuJGZlYXR1cmVfZmxhZ19yZWFzb249bSksbnVsbCE9cCYmbnVsbCE9KGM9cC5tZXRhZGF0YSkmJmMuaWQmJihnLiRmZWF0dXJlX2ZsYWdfaWQ9cC5tZXRhZGF0YS5pZCksRihudWxsPT1wP3ZvaWQgMDpwLm9yaWdpbmFsX3ZhcmlhbnQpJiZGKG51bGw9PXA/dm9pZCAwOnAub3JpZ2luYWxfZW5hYmxlZCl8fChnLiRmZWF0dXJlX2ZsYWdfb3JpZ2luYWxfcmVzcG9uc2U9RihwLm9yaWdpbmFsX3ZhcmlhbnQpP3Aub3JpZ2luYWxfZW5hYmxlZDpwLm9yaWdpbmFsX3ZhcmlhbnQpLG51bGwhPXAmJm51bGwhPShmPXAubWV0YWRhdGEpJiZmLm9yaWdpbmFsX3BheWxvYWQpZy4kZmVhdHVyZV9mbGFnX29yaWdpbmFsX3BheWxvYWQ9bnVsbD09cHx8bnVsbD09KF89cC5tZXRhZGF0YSk/dm9pZCAwOl8ub3JpZ2luYWxfcGF5bG9hZDt0aGlzLl9pbnN0YW5jZS5jYXB0dXJlKFwiJGZlYXR1cmVfZmxhZ19jYWxsZWRcIixnKX1yZXR1cm4gZX1nbi53YXJuKCdnZXRGZWF0dXJlRmxhZyBmb3Iga2V5IFwiJyt0K1wiXFxcIiBmYWlsZWQuIEZlYXR1cmUgZmxhZ3MgZGlkbid0IGxvYWQgaW4gdGltZS5cIil9Z2V0RmVhdHVyZUZsYWdEZXRhaWxzKHQpe3JldHVybiB0aGlzLmdldEZsYWdzV2l0aERldGFpbHMoKVt0XX1nZXRGZWF0dXJlRmxhZ1BheWxvYWQodCl7cmV0dXJuIHRoaXMuZ2V0RmxhZ1BheWxvYWRzKClbdF19Z2V0UmVtb3RlQ29uZmlnUGF5bG9hZCh0LGkpe3ZhciBlPXRoaXMuX2luc3RhbmNlLmNvbmZpZy50b2tlbixyPXtkaXN0aW5jdF9pZDp0aGlzLl9pbnN0YW5jZS5nZXRfZGlzdGluY3RfaWQoKSx0b2tlbjplfTt0aGlzLnVpKCkmJihyLmV2YWx1YXRpb25fZW52aXJvbm1lbnRzPXRoaXMubGkoKSksdGhpcy5faW5zdGFuY2UuY2koe21ldGhvZDpcIlBPU1RcIix1cmw6dGhpcy5faW5zdGFuY2UucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcImZsYWdzXCIsXCIvZmxhZ3MvP3Y9MiZjb25maWc9dHJ1ZVwiKSxkYXRhOnIsY29tcHJlc3Npb246dGhpcy5faW5zdGFuY2UuY29uZmlnLmRpc2FibGVfY29tcHJlc3Npb24/dm9pZCAwOnJlLkJhc2U2NCx0aW1lb3V0OnRoaXMuX2luc3RhbmNlLmNvbmZpZy5mZWF0dXJlX2ZsYWdfcmVxdWVzdF90aW1lb3V0X21zLGNhbGxiYWNrOmU9Pnt2YXIgcixzPW51bGw9PShyPWUuanNvbik/dm9pZCAwOnIuZmVhdHVyZUZsYWdQYXlsb2FkcztpKChudWxsPT1zP3ZvaWQgMDpzW3RdKXx8dm9pZCAwKX19KX1pc0ZlYXR1cmVFbmFibGVkKHQsaSl7aWYodm9pZCAwPT09aSYmKGk9e30pLHRoaXMuZWl8fHRoaXMuZ2V0RmxhZ3MoKSYmdGhpcy5nZXRGbGFncygpLmxlbmd0aD4wKXt2YXIgZT10aGlzLmdldEZlYXR1cmVGbGFnKHQsaSk7cmV0dXJuIEYoZSk/dm9pZCAwOiEhZX1nbi53YXJuKCdpc0ZlYXR1cmVFbmFibGVkIGZvciBrZXkgXCInK3QrXCJcXFwiIGZhaWxlZC4gRmVhdHVyZSBmbGFncyBkaWRuJ3QgbG9hZCBpbiB0aW1lLlwiKX1hZGRGZWF0dXJlRmxhZ3NIYW5kbGVyKHQpe3RoaXMuZmVhdHVyZUZsYWdFdmVudEhhbmRsZXJzLnB1c2godCl9cmVtb3ZlRmVhdHVyZUZsYWdzSGFuZGxlcih0KXt0aGlzLmZlYXR1cmVGbGFnRXZlbnRIYW5kbGVycz10aGlzLmZlYXR1cmVGbGFnRXZlbnRIYW5kbGVycy5maWx0ZXIoKGk9PmkhPT10KSl9cmVjZWl2ZWRGZWF0dXJlRmxhZ3ModCxpKXtpZih0aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZSl7dGhpcy5laT0hMDt2YXIgZT10aGlzLmdldEZsYWdWYXJpYW50cygpLHI9dGhpcy5nZXRGbGFnUGF5bG9hZHMoKSxzPXRoaXMuZ2V0RmxhZ3NXaXRoRGV0YWlscygpOyFmdW5jdGlvbih0LGksZSxyLHMpe3ZvaWQgMD09PWUmJihlPXt9KSx2b2lkIDA9PT1yJiYocj17fSksdm9pZCAwPT09cyYmKHM9e30pO3ZhciBuPSRuKHQpLG89bi5mbGFncyxhPW4uZmVhdHVyZUZsYWdzLGw9bi5mZWF0dXJlRmxhZ1BheWxvYWRzO2lmKGEpe3ZhciB1PXQucmVxdWVzdElkO2lmKEkoYSkpe2duLndhcm4oXCJ2MSBvZiB0aGUgZmVhdHVyZSBmbGFncyBlbmRwb2ludCBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIHRoZSBsYXRlc3QgdmVyc2lvbi5cIik7dmFyIGg9e307aWYoYSlmb3IodmFyIGQ9MDtkPGEubGVuZ3RoO2QrKyloW2FbZF1dPSEwO2kmJmkucmVnaXN0ZXIoe1tfbl06YSxbbmldOmh9KX1lbHNle3ZhciB2PWEsYz1sLGY9bzt0LmVycm9yc1doaWxlQ29tcHV0aW5nRmxhZ3MmJih2PWcoe30sZSx2KSxjPWcoe30scixjKSxmPWcoe30scyxmKSksaSYmaS5yZWdpc3RlcihnKHtbX25dOk9iamVjdC5rZXlzKHhuKHYpKSxbbmldOnZ8fHt9LFt5bl06Y3x8e30sW2FpXTpmfHx7fX0sdT97W3duXTp1fTp7fSkpfX19KHQsdGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UsZSxyLHMpLHRoaXMucGkoaSl9fW92ZXJyaWRlKHQsaSl7dm9pZCAwPT09aSYmKGk9ITEpLGduLndhcm4oXCJvdmVycmlkZSBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIG92ZXJyaWRlRmVhdHVyZUZsYWdzIGluc3RlYWQuXCIpLHRoaXMub3ZlcnJpZGVGZWF0dXJlRmxhZ3Moe2ZsYWdzOnQsc3VwcHJlc3NXYXJuaW5nOml9KX1vdmVycmlkZUZlYXR1cmVGbGFncyh0KXtpZighdGhpcy5faW5zdGFuY2UuX19sb2FkZWR8fCF0aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZSlyZXR1cm4gZ24udW5pbml0aWFsaXplZFdhcm5pbmcoXCJwb3N0aG9nLmZlYXR1cmVGbGFncy5vdmVycmlkZUZlYXR1cmVGbGFnc1wiKTtpZighMT09PXQpcmV0dXJuIHRoaXMuX2luc3RhbmNlLnBlcnNpc3RlbmNlLnVucmVnaXN0ZXIobW4pLHRoaXMuX2luc3RhbmNlLnBlcnNpc3RlbmNlLnVucmVnaXN0ZXIoYm4pLHZvaWQgdGhpcy5waSgpO2lmKHQmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiYoXCJmbGFnc1wiaW4gdHx8XCJwYXlsb2Fkc1wiaW4gdCkpe3ZhciBpLGU9dDtpZih0aGlzLmlpPUJvb2xlYW4obnVsbCE9PShpPWUuc3VwcHJlc3NXYXJuaW5nKSYmdm9pZCAwIT09aSYmaSksXCJmbGFnc1wiaW4gZSlpZighMT09PWUuZmxhZ3MpdGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UudW5yZWdpc3Rlcihtbik7ZWxzZSBpZihlLmZsYWdzKWlmKEkoZS5mbGFncykpe2Zvcih2YXIgcj17fSxzPTA7czxlLmZsYWdzLmxlbmd0aDtzKyspcltlLmZsYWdzW3NdXT0hMDt0aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZS5yZWdpc3Rlcih7W21uXTpyfSl9ZWxzZSB0aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZS5yZWdpc3Rlcih7W21uXTplLmZsYWdzfSk7cmV0dXJuXCJwYXlsb2Fkc1wiaW4gZSYmKCExPT09ZS5wYXlsb2Fkcz90aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZS51bnJlZ2lzdGVyKGJuKTplLnBheWxvYWRzJiZ0aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZS5yZWdpc3Rlcih7W2JuXTplLnBheWxvYWRzfSkpLHZvaWQgdGhpcy5waSgpfXRoaXMucGkoKX1vbkZlYXR1cmVGbGFncyh0KXtpZih0aGlzLmFkZEZlYXR1cmVGbGFnc0hhbmRsZXIodCksdGhpcy5laSl7dmFye2ZsYWdzOmksZmxhZ1ZhcmlhbnRzOmV9PXRoaXMuZ2koKTt0KGksZSl9cmV0dXJuKCk9PnRoaXMucmVtb3ZlRmVhdHVyZUZsYWdzSGFuZGxlcih0KX11cGRhdGVFYXJseUFjY2Vzc0ZlYXR1cmVFbnJvbGxtZW50KHQsaSxlKXt2YXIgcixzPSh0aGlzLl9pbnN0YW5jZS5nZXRfcHJvcGVydHkob2kpfHxbXSkuZmluZCgoaT0+aS5mbGFnS2V5PT09dCkpLG49e1tcIiRmZWF0dXJlX2Vucm9sbG1lbnQvXCIrdF06aX0sbz17JGZlYXR1cmVfZmxhZzp0LCRmZWF0dXJlX2Vucm9sbG1lbnQ6aSwkc2V0Om59O3MmJihvLiRlYXJseV9hY2Nlc3NfZmVhdHVyZV9uYW1lPXMubmFtZSksZSYmKG8uJGZlYXR1cmVfZW5yb2xsbWVudF9zdGFnZT1lKSx0aGlzLl9pbnN0YW5jZS5jYXB0dXJlKFwiJGZlYXR1cmVfZW5yb2xsbWVudF91cGRhdGVcIixvKSx0aGlzLnNldFBlcnNvblByb3BlcnRpZXNGb3JGbGFncyhuLCExKTt2YXIgYT1nKHt9LHRoaXMuZ2V0RmxhZ1ZhcmlhbnRzKCkse1t0XTppfSk7bnVsbD09KHI9dGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UpfHxyLnJlZ2lzdGVyKHtbX25dOk9iamVjdC5rZXlzKHhuKGEpKSxbbmldOmF9KSx0aGlzLnBpKCl9Z2V0RWFybHlBY2Nlc3NGZWF0dXJlcyh0LGksZSl7dm9pZCAwPT09aSYmKGk9ITEpO3ZhciByPXRoaXMuX2luc3RhbmNlLmdldF9wcm9wZXJ0eShvaSkscz1lP1wiJlwiK2UubWFwKCh0PT5cInN0YWdlPVwiK3QpKS5qb2luKFwiJlwiKTpcIlwiO2lmKHImJiFpKXJldHVybiB0KHIpO3RoaXMuX2luc3RhbmNlLmNpKHt1cmw6dGhpcy5faW5zdGFuY2UucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcImFwaVwiLFwiL2FwaS9lYXJseV9hY2Nlc3NfZmVhdHVyZXMvP3Rva2VuPVwiK3RoaXMuX2luc3RhbmNlLmNvbmZpZy50b2tlbitzKSxtZXRob2Q6XCJHRVRcIixjYWxsYmFjazppPT57dmFyIGUscjtpZihpLmpzb24pe3ZhciBzPWkuanNvbi5lYXJseUFjY2Vzc0ZlYXR1cmVzO3JldHVybiBudWxsPT0oZT10aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZSl8fGUudW5yZWdpc3RlcihvaSksbnVsbD09KHI9dGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UpfHxyLnJlZ2lzdGVyKHtbb2ldOnN9KSx0KHMpfX19KX1naSgpe3ZhciB0PXRoaXMuZ2V0RmxhZ3MoKSxpPXRoaXMuZ2V0RmxhZ1ZhcmlhbnRzKCk7cmV0dXJue2ZsYWdzOnQuZmlsdGVyKCh0PT5pW3RdKSksZmxhZ1ZhcmlhbnRzOk9iamVjdC5rZXlzKGkpLmZpbHRlcigodD0+aVt0XSkpLnJlZHVjZSgoKHQsZSk9Pih0W2VdPWlbZV0sdCkpLHt9KX19cGkodCl7dmFye2ZsYWdzOmksZmxhZ1ZhcmlhbnRzOmV9PXRoaXMuZ2koKTt0aGlzLmZlYXR1cmVGbGFnRXZlbnRIYW5kbGVycy5mb3JFYWNoKChyPT5yKGksZSx7ZXJyb3JzTG9hZGluZzp0fSkpKX1zZXRQZXJzb25Qcm9wZXJ0aWVzRm9yRmxhZ3ModCxpKXt2b2lkIDA9PT1pJiYoaT0hMCk7dmFyIGU9dGhpcy5faW5zdGFuY2UuZ2V0X3Byb3BlcnR5KGxpKXx8e307dGhpcy5faW5zdGFuY2UucmVnaXN0ZXIoe1tsaV06Zyh7fSxlLHQpfSksaSYmdGhpcy5faW5zdGFuY2UucmVsb2FkRmVhdHVyZUZsYWdzKCl9cmVzZXRQZXJzb25Qcm9wZXJ0aWVzRm9yRmxhZ3MoKXt0aGlzLl9pbnN0YW5jZS51bnJlZ2lzdGVyKGxpKX1zZXRHcm91cFByb3BlcnRpZXNGb3JGbGFncyh0LGkpe3ZvaWQgMD09PWkmJihpPSEwKTt2YXIgZT10aGlzLl9pbnN0YW5jZS5nZXRfcHJvcGVydHkodWkpfHx7fTswIT09T2JqZWN0LmtleXMoZSkubGVuZ3RoJiZPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChpPT57ZVtpXT1nKHt9LGVbaV0sdFtpXSksZGVsZXRlIHRbaV19KSksdGhpcy5faW5zdGFuY2UucmVnaXN0ZXIoe1t1aV06Zyh7fSxlLHQpfSksaSYmdGhpcy5faW5zdGFuY2UucmVsb2FkRmVhdHVyZUZsYWdzKCl9cmVzZXRHcm91cFByb3BlcnRpZXNGb3JGbGFncyh0KXtpZih0KXt2YXIgaT10aGlzLl9pbnN0YW5jZS5nZXRfcHJvcGVydHkodWkpfHx7fTt0aGlzLl9pbnN0YW5jZS5yZWdpc3Rlcih7W3VpXTpnKHt9LGkse1t0XTp7fX0pfSl9ZWxzZSB0aGlzLl9pbnN0YW5jZS51bnJlZ2lzdGVyKHVpKX1yZXNldCgpe3RoaXMuZWk9ITEsdGhpcy5yaT0hMSx0aGlzLnNpPSExLHRoaXMubmk9ITEsdGhpcy5vaT0hMSx0aGlzLmFpPSExLHRoaXMuJGFub25fZGlzdGluY3RfaWQ9dm9pZCAwLHRoaXMudmkoKSx0aGlzLmlpPSExfX12YXIga249W1wiY29va2llXCIsXCJsb2NhbHN0b3JhZ2VcIixcImxvY2Fsc3RvcmFnZStjb29raWVcIixcInNlc3Npb25zdG9yYWdlXCIsXCJtZW1vcnlcIl07Y2xhc3MgUG57Y29uc3RydWN0b3IodCxpKXt0aGlzLkM9dCx0aGlzLnByb3BzPXt9LHRoaXMubWk9ITEsdGhpcy55aT0odD0+e3ZhciBpPVwiXCI7cmV0dXJuIHQudG9rZW4mJihpPXQudG9rZW4ucmVwbGFjZSgvXFwrL2csXCJQTFwiKS5yZXBsYWNlKC9cXC8vZyxcIlNMXCIpLnJlcGxhY2UoLz0vZyxcIkVRXCIpKSx0LnBlcnNpc3RlbmNlX25hbWU/XCJwaF9cIit0LnBlcnNpc3RlbmNlX25hbWU6XCJwaF9cIitpK1wiX3Bvc3Rob2dcIn0pKHQpLHRoaXMuWT10aGlzLmJpKHQpLHRoaXMubG9hZCgpLHQuZGVidWcmJlB0LmluZm8oXCJQZXJzaXN0ZW5jZSBsb2FkZWRcIix0LnBlcnNpc3RlbmNlLGcoe30sdGhpcy5wcm9wcykpLHRoaXMudXBkYXRlX2NvbmZpZyh0LHQsaSksdGhpcy5zYXZlKCl9aXNEaXNhYmxlZCgpe3JldHVybiEhdGhpcy53aX1iaSh0KXstMT09PWtuLmluZGV4T2YodC5wZXJzaXN0ZW5jZS50b0xvd2VyQ2FzZSgpKSYmKFB0LmNyaXRpY2FsKFwiVW5rbm93biBwZXJzaXN0ZW5jZSB0eXBlIFwiK3QucGVyc2lzdGVuY2UrXCI7IGZhbGxpbmcgYmFjayB0byBsb2NhbFN0b3JhZ2UrY29va2llXCIpLHQucGVyc2lzdGVuY2U9XCJsb2NhbFN0b3JhZ2UrY29va2llXCIpO3ZhciBpPXQucGVyc2lzdGVuY2UudG9Mb3dlckNhc2UoKTtyZXR1cm5cImxvY2Fsc3RvcmFnZVwiPT09aSYmSWUuSCgpP0llOlwibG9jYWxzdG9yYWdlK2Nvb2tpZVwiPT09aSYmQ2UuSCgpP0NlOlwic2Vzc2lvbnN0b3JhZ2VcIj09PWkmJkFlLkgoKT9BZTpcIm1lbW9yeVwiPT09aT9GZTpcImNvb2tpZVwiPT09aT9QZTpDZS5IKCk/Q2U6UGV9cHJvcGVydGllcygpe3ZhciB0PXt9O3JldHVybiBGdCh0aGlzLnByb3BzLChmdW5jdGlvbihpLGUpe2lmKGU9PT1uaSYmQyhpKSlmb3IodmFyIHI9T2JqZWN0LmtleXMoaSksbj0wO248ci5sZW5ndGg7bisrKXRbXCIkZmVhdHVyZS9cIityW25dXT1pW3Jbbl1dO2Vsc2UgYT1lLGw9ITEsKEQobz14aSk/bDpzJiZvLmluZGV4T2Y9PT1zPy0xIT1vLmluZGV4T2YoYSk6KEZ0KG8sKGZ1bmN0aW9uKHQpe2lmKGx8fChsPXQ9PT1hKSlyZXR1cm4gQ3R9KSksbCkpfHwodFtlXT1pKTt2YXIgbyxhLGx9KSksdH1sb2FkKCl7aWYoIXRoaXMud2kpe3ZhciB0PXRoaXMuWS5XKHRoaXMueWkpO3QmJih0aGlzLnByb3BzPU10KHt9LHQpKX19c2F2ZSgpe3RoaXMud2l8fHRoaXMuWS5HKHRoaXMueWksdGhpcy5wcm9wcyx0aGlzLnhpLHRoaXMuJGksdGhpcy5TaSx0aGlzLkMuZGVidWcpfXJlbW92ZSgpe3RoaXMuWS5WKHRoaXMueWksITEpLHRoaXMuWS5WKHRoaXMueWksITApfWNsZWFyKCl7dGhpcy5yZW1vdmUoKSx0aGlzLnByb3BzPXt9fXJlZ2lzdGVyX29uY2UodCxpLGUpe2lmKEModCkpe0YoaSkmJihpPVwiTm9uZVwiKSx0aGlzLnhpPUYoZSk/dGhpcy5FaTplO3ZhciByPSExO2lmKEZ0KHQsKCh0LGUpPT57dGhpcy5wcm9wcy5oYXNPd25Qcm9wZXJ0eShlKSYmdGhpcy5wcm9wc1tlXSE9PWl8fCh0aGlzLnByb3BzW2VdPXQscj0hMCl9KSkscilyZXR1cm4gdGhpcy5zYXZlKCksITB9cmV0dXJuITF9cmVnaXN0ZXIodCxpKXtpZihDKHQpKXt0aGlzLnhpPUYoaSk/dGhpcy5FaTppO3ZhciBlPSExO2lmKEZ0KHQsKChpLHIpPT57dC5oYXNPd25Qcm9wZXJ0eShyKSYmdGhpcy5wcm9wc1tyXSE9PWkmJih0aGlzLnByb3BzW3JdPWksZT0hMCl9KSksZSlyZXR1cm4gdGhpcy5zYXZlKCksITB9cmV0dXJuITF9dW5yZWdpc3Rlcih0KXt0IGluIHRoaXMucHJvcHMmJihkZWxldGUgdGhpcy5wcm9wc1t0XSx0aGlzLnNhdmUoKSl9dXBkYXRlX2NhbXBhaWduX3BhcmFtcygpe2lmKCF0aGlzLm1pKXt2YXIgdD1ucyh0aGlzLkMuY3VzdG9tX2NhbXBhaWduX3BhcmFtcyx0aGlzLkMubWFza19wZXJzb25hbF9kYXRhX3Byb3BlcnRpZXMsdGhpcy5DLmN1c3RvbV9wZXJzb25hbF9kYXRhX3Byb3BlcnRpZXMpO08oTnQodCkpfHx0aGlzLnJlZ2lzdGVyKHQpLHRoaXMubWk9ITB9fXVwZGF0ZV9zZWFyY2hfa2V5d29yZCgpe3ZhciB0O3RoaXMucmVnaXN0ZXIoKHQ9bnVsbD09bz92b2lkIDA6by5yZWZlcnJlcik/YXModCk6e30pfXVwZGF0ZV9yZWZlcnJlcl9pbmZvKCl7dmFyIHQ7dGhpcy5yZWdpc3Rlcl9vbmNlKHskcmVmZXJyZXI6dXMoKSwkcmVmZXJyaW5nX2RvbWFpbjpudWxsIT1vJiZvLnJlZmVycmVyJiYobnVsbD09KHQ9bmUoby5yZWZlcnJlcikpP3ZvaWQgMDp0Lmhvc3QpfHxcIiRkaXJlY3RcIn0sdm9pZCAwKX1zZXRfaW5pdGlhbF9wZXJzb25faW5mbygpe3RoaXMucHJvcHNbZ2ldfHx0aGlzLnByb3BzW19pXXx8dGhpcy5yZWdpc3Rlcl9vbmNlKHtbbWldOmhzKHRoaXMuQy5tYXNrX3BlcnNvbmFsX2RhdGFfcHJvcGVydGllcyx0aGlzLkMuY3VzdG9tX3BlcnNvbmFsX2RhdGFfcHJvcGVydGllcyl9LHZvaWQgMCl9Z2V0X2luaXRpYWxfcHJvcHMoKXt2YXIgdD17fTtGdChbX2ksZ2ldLChpPT57dmFyIGU9dGhpcy5wcm9wc1tpXTtlJiZGdChlLChmdW5jdGlvbihpLGUpe3RbXCIkaW5pdGlhbF9cIitTKGUpXT1pfSkpfSkpO3ZhciBpLGUscj10aGlzLnByb3BzW21pXTtpZihyKXt2YXIgcz0oaT1kcyhyKSxlPXt9LEZ0KGksKGZ1bmN0aW9uKHQsaSl7ZVtcIiRpbml0aWFsX1wiK1MoaSldPXR9KSksZSk7TXQodCxzKX1yZXR1cm4gdH1zYWZlX21lcmdlKHQpe3JldHVybiBGdCh0aGlzLnByb3BzLChmdW5jdGlvbihpLGUpe2UgaW4gdHx8KHRbZV09aSl9KSksdH11cGRhdGVfY29uZmlnKHQsaSxlKXtpZih0aGlzLkVpPXRoaXMueGk9dC5jb29raWVfZXhwaXJhdGlvbix0aGlzLnNldF9kaXNhYmxlZCh0LmRpc2FibGVfcGVyc2lzdGVuY2V8fCEhZSksdGhpcy5zZXRfY3Jvc3Nfc3ViZG9tYWluKHQuY3Jvc3Nfc3ViZG9tYWluX2Nvb2tpZSksdGhpcy5zZXRfc2VjdXJlKHQuc2VjdXJlX2Nvb2tpZSksdC5wZXJzaXN0ZW5jZSE9PWkucGVyc2lzdGVuY2Upe3ZhciByPXRoaXMuYmkodCkscz10aGlzLnByb3BzO3RoaXMuY2xlYXIoKSx0aGlzLlk9cix0aGlzLnByb3BzPXMsdGhpcy5zYXZlKCl9fXNldF9kaXNhYmxlZCh0KXt0aGlzLndpPXQsdGhpcy53aT90aGlzLnJlbW92ZSgpOnRoaXMuc2F2ZSgpfXNldF9jcm9zc19zdWJkb21haW4odCl7dCE9PXRoaXMuJGkmJih0aGlzLiRpPXQsdGhpcy5yZW1vdmUoKSx0aGlzLnNhdmUoKSl9c2V0X3NlY3VyZSh0KXt0IT09dGhpcy5TaSYmKHRoaXMuU2k9dCx0aGlzLnJlbW92ZSgpLHRoaXMuc2F2ZSgpKX1zZXRfZXZlbnRfdGltZXIodCxpKXt2YXIgZT10aGlzLnByb3BzW1Z0XXx8e307ZVt0XT1pLHRoaXMucHJvcHNbVnRdPWUsdGhpcy5zYXZlKCl9cmVtb3ZlX2V2ZW50X3RpbWVyKHQpe3ZhciBpPSh0aGlzLnByb3BzW1Z0XXx8e30pW3RdO3JldHVybiBGKGkpfHwoZGVsZXRlIHRoaXMucHJvcHNbVnRdW3RdLHRoaXMuc2F2ZSgpKSxpfWdldF9wcm9wZXJ0eSh0KXtyZXR1cm4gdGhpcy5wcm9wc1t0XX1zZXRfcHJvcGVydHkodCxpKXt0aGlzLnByb3BzW3RdPWksdGhpcy5zYXZlKCl9fXZhciBUbj1mdW5jdGlvbih0KXtyZXR1cm4gdC5CdXR0b249XCJidXR0b25cIix0LlRhYj1cInRhYlwiLHQuU2VsZWN0b3I9XCJzZWxlY3RvclwiLHR9KHt9KSxJbj1mdW5jdGlvbih0KXtyZXR1cm4gdC5Ub3BMZWZ0PVwidG9wX2xlZnRcIix0LlRvcFJpZ2h0PVwidG9wX3JpZ2h0XCIsdC5Ub3BDZW50ZXI9XCJ0b3BfY2VudGVyXCIsdC5NaWRkbGVMZWZ0PVwibWlkZGxlX2xlZnRcIix0Lk1pZGRsZVJpZ2h0PVwibWlkZGxlX3JpZ2h0XCIsdC5NaWRkbGVDZW50ZXI9XCJtaWRkbGVfY2VudGVyXCIsdC5MZWZ0PVwibGVmdFwiLHQuQ2VudGVyPVwiY2VudGVyXCIsdC5SaWdodD1cInJpZ2h0XCIsdC5OZXh0VG9UcmlnZ2VyPVwibmV4dF90b190cmlnZ2VyXCIsdH0oe30pLFJuPWZ1bmN0aW9uKHQpe3JldHVybiB0LlBvcG92ZXI9XCJwb3BvdmVyXCIsdC5BUEk9XCJhcGlcIix0LldpZGdldD1cIndpZGdldFwiLHQuRXh0ZXJuYWxTdXJ2ZXk9XCJleHRlcm5hbF9zdXJ2ZXlcIix0fSh7fSksQ249ZnVuY3Rpb24odCl7cmV0dXJuIHQuT3Blbj1cIm9wZW5cIix0Lk11bHRpcGxlQ2hvaWNlPVwibXVsdGlwbGVfY2hvaWNlXCIsdC5TaW5nbGVDaG9pY2U9XCJzaW5nbGVfY2hvaWNlXCIsdC5SYXRpbmc9XCJyYXRpbmdcIix0Lkxpbms9XCJsaW5rXCIsdH0oe30pLE9uPWZ1bmN0aW9uKHQpe3JldHVybiB0Lk5leHRRdWVzdGlvbj1cIm5leHRfcXVlc3Rpb25cIix0LkVuZD1cImVuZFwiLHQuUmVzcG9uc2VCYXNlZD1cInJlc3BvbnNlX2Jhc2VkXCIsdC5TcGVjaWZpY1F1ZXN0aW9uPVwic3BlY2lmaWNfcXVlc3Rpb25cIix0fSh7fSksRm49ZnVuY3Rpb24odCl7cmV0dXJuIHQuT25jZT1cIm9uY2VcIix0LlJlY3VycmluZz1cInJlY3VycmluZ1wiLHQuQWx3YXlzPVwiYWx3YXlzXCIsdH0oe30pLE1uPWZ1bmN0aW9uKHQpe3JldHVybiB0LlNIT1dOPVwic3VydmV5IHNob3duXCIsdC5ESVNNSVNTRUQ9XCJzdXJ2ZXkgZGlzbWlzc2VkXCIsdC5TRU5UPVwic3VydmV5IHNlbnRcIix0fSh7fSksQW49ZnVuY3Rpb24odCl7cmV0dXJuIHQuU1VSVkVZX0lEPVwiJHN1cnZleV9pZFwiLHQuU1VSVkVZX05BTUU9XCIkc3VydmV5X25hbWVcIix0LlNVUlZFWV9SRVNQT05TRT1cIiRzdXJ2ZXlfcmVzcG9uc2VcIix0LlNVUlZFWV9JVEVSQVRJT049XCIkc3VydmV5X2l0ZXJhdGlvblwiLHQuU1VSVkVZX0lURVJBVElPTl9TVEFSVF9EQVRFPVwiJHN1cnZleV9pdGVyYXRpb25fc3RhcnRfZGF0ZVwiLHQuU1VSVkVZX1BBUlRJQUxMWV9DT01QTEVURUQ9XCIkc3VydmV5X3BhcnRpYWxseV9jb21wbGV0ZWRcIix0LlNVUlZFWV9TVUJNSVNTSU9OX0lEPVwiJHN1cnZleV9zdWJtaXNzaW9uX2lkXCIsdC5TVVJWRVlfUVVFU1RJT05TPVwiJHN1cnZleV9xdWVzdGlvbnNcIix0LlNVUlZFWV9DT01QTEVURUQ9XCIkc3VydmV5X2NvbXBsZXRlZFwiLHR9KHt9KSxEbj1mdW5jdGlvbih0KXtyZXR1cm4gdC5Qb3BvdmVyPVwicG9wb3ZlclwiLHQuSW5saW5lPVwiaW5saW5lXCIsdH0oe30pO2NsYXNzIGpue2NvbnN0cnVjdG9yKCl7dGhpcy5raT17fSx0aGlzLmtpPXt9fW9uKHQsaSl7cmV0dXJuIHRoaXMua2lbdF18fCh0aGlzLmtpW3RdPVtdKSx0aGlzLmtpW3RdLnB1c2goaSksKCk9Pnt0aGlzLmtpW3RdPXRoaXMua2lbdF0uZmlsdGVyKCh0PT50IT09aSkpfX1lbWl0KHQsaSl7Zm9yKHZhciBlIG9mIHRoaXMua2lbdF18fFtdKWUoaSk7Zm9yKHZhciByIG9mIHRoaXMua2lbXCIqXCJdfHxbXSlyKHQsaSl9fWNsYXNzIExue2NvbnN0cnVjdG9yKHQpe3RoaXMuUGk9bmV3IGpuLHRoaXMuVGk9KHQsaSk9PnRoaXMuSWkodCxpKSYmdGhpcy5SaSh0LGkpJiZ0aGlzLkNpKHQsaSksdGhpcy5JaT0odCxpKT0+bnVsbD09aXx8IWkuZXZlbnR8fChudWxsPT10P3ZvaWQgMDp0LmV2ZW50KT09PShudWxsPT1pP3ZvaWQgMDppLmV2ZW50KSx0aGlzLl9pbnN0YW5jZT10LHRoaXMuT2k9bmV3IFNldCx0aGlzLkZpPW5ldyBTZXR9aW5pdCgpe3ZhciB0O2lmKCFGKG51bGw9PSh0PXRoaXMuX2luc3RhbmNlKT92b2lkIDA6dC5NaSkpe3ZhciBpO251bGw9PShpPXRoaXMuX2luc3RhbmNlKXx8aS5NaSgoKHQsaSk9Pnt0aGlzLm9uKHQsaSl9KSl9fXJlZ2lzdGVyKHQpe3ZhciBpLGU7aWYoIUYobnVsbD09KGk9dGhpcy5faW5zdGFuY2UpP3ZvaWQgMDppLk1pKSYmKHQuZm9yRWFjaCgodD0+e3ZhciBpLGU7bnVsbD09KGk9dGhpcy5GaSl8fGkuYWRkKHQpLG51bGw9PShlPXQuc3RlcHMpfHxlLmZvckVhY2goKHQ9Pnt2YXIgaTtudWxsPT0oaT10aGlzLk9pKXx8aS5hZGQoKG51bGw9PXQ/dm9pZCAwOnQuZXZlbnQpfHxcIlwiKX0pKX0pKSxudWxsIT0oZT10aGlzLl9pbnN0YW5jZSkmJmUuYXV0b2NhcHR1cmUpKXt2YXIgcixzPW5ldyBTZXQ7dC5mb3JFYWNoKCh0PT57dmFyIGk7bnVsbD09KGk9dC5zdGVwcyl8fGkuZm9yRWFjaCgodD0+e251bGwhPXQmJnQuc2VsZWN0b3ImJnMuYWRkKG51bGw9PXQ/dm9pZCAwOnQuc2VsZWN0b3IpfSkpfSkpLG51bGw9PShyPXRoaXMuX2luc3RhbmNlKXx8ci5hdXRvY2FwdHVyZS5zZXRFbGVtZW50U2VsZWN0b3JzKHMpfX1vbih0LGkpe3ZhciBlO251bGwhPWkmJjAhPXQubGVuZ3RoJiYodGhpcy5PaS5oYXModCl8fHRoaXMuT2kuaGFzKG51bGw9PWk/dm9pZCAwOmkuZXZlbnQpKSYmdGhpcy5GaSYmKG51bGw9PShlPXRoaXMuRmkpP3ZvaWQgMDplLnNpemUpPjAmJnRoaXMuRmkuZm9yRWFjaCgodD0+e3RoaXMuQWkoaSx0KSYmdGhpcy5QaS5lbWl0KFwiYWN0aW9uQ2FwdHVyZWRcIix0Lm5hbWUpfSkpfURpKHQpe3RoaXMub25BY3Rpb24oXCJhY3Rpb25DYXB0dXJlZFwiLChpPT50KGkpKSl9QWkodCxpKXtpZihudWxsPT0obnVsbD09aT92b2lkIDA6aS5zdGVwcykpcmV0dXJuITE7Zm9yKHZhciBlIG9mIGkuc3RlcHMpaWYodGhpcy5UaSh0LGUpKXJldHVybiEwO3JldHVybiExfW9uQWN0aW9uKHQsaSl7cmV0dXJuIHRoaXMuUGkub24odCxpKX1SaSh0LGkpe2lmKG51bGwhPWkmJmkudXJsKXt2YXIgZSxyPW51bGw9PXR8fG51bGw9PShlPXQucHJvcGVydGllcyk/dm9pZCAwOmUuJGN1cnJlbnRfdXJsO2lmKCFyfHxcInN0cmluZ1wiIT10eXBlb2YgcilyZXR1cm4hMTtpZighTG4uamkocixudWxsPT1pP3ZvaWQgMDppLnVybCwobnVsbD09aT92b2lkIDA6aS51cmxfbWF0Y2hpbmcpfHxcImNvbnRhaW5zXCIpKXJldHVybiExfXJldHVybiEwfXN0YXRpYyBqaShpLGUscil7c3dpdGNoKHIpe2Nhc2VcInJlZ2V4XCI6cmV0dXJuISF0JiZobihpLGUpO2Nhc2VcImV4YWN0XCI6cmV0dXJuIGU9PT1pO2Nhc2VcImNvbnRhaW5zXCI6dmFyIHM9TG4uTGkoZSkucmVwbGFjZSgvXy9nLFwiLlwiKS5yZXBsYWNlKC8lL2csXCIuKlwiKTtyZXR1cm4gaG4oaSxzKTtkZWZhdWx0OnJldHVybiExfX1zdGF0aWMgTGkodCl7cmV0dXJuIHQucmVwbGFjZSgvW3xcXFxce30oKVtcXF1eJCsqPy5dL2csXCJcXFxcJCZcIikucmVwbGFjZSgvLS9nLFwiXFxcXHgyZFwiKX1DaSh0LGkpe2lmKChudWxsIT1pJiZpLmhyZWZ8fG51bGwhPWkmJmkudGFnX25hbWV8fG51bGwhPWkmJmkudGV4dCkmJiF0aGlzLk5pKHQpLnNvbWUoKHQ9PiEobnVsbCE9aSYmaS5ocmVmJiYhTG4uamkodC5ocmVmfHxcIlwiLG51bGw9PWk/dm9pZCAwOmkuaHJlZiwobnVsbD09aT92b2lkIDA6aS5ocmVmX21hdGNoaW5nKXx8XCJleGFjdFwiKSkmJigobnVsbD09aXx8IWkudGFnX25hbWV8fHQudGFnX25hbWU9PT0obnVsbD09aT92b2lkIDA6aS50YWdfbmFtZSkpJiYhKG51bGwhPWkmJmkudGV4dCYmIUxuLmppKHQudGV4dHx8XCJcIixudWxsPT1pP3ZvaWQgMDppLnRleHQsKG51bGw9PWk/dm9pZCAwOmkudGV4dF9tYXRjaGluZyl8fFwiZXhhY3RcIikmJiFMbi5qaSh0LiRlbF90ZXh0fHxcIlwiLG51bGw9PWk/dm9pZCAwOmkudGV4dCwobnVsbD09aT92b2lkIDA6aS50ZXh0X21hdGNoaW5nKXx8XCJleGFjdFwiKSkpKSkpcmV0dXJuITE7aWYobnVsbCE9aSYmaS5zZWxlY3Rvcil7dmFyIGUscj1udWxsPT10fHxudWxsPT0oZT10LnByb3BlcnRpZXMpP3ZvaWQgMDplLiRlbGVtZW50X3NlbGVjdG9ycztpZighcilyZXR1cm4hMTtpZighci5pbmNsdWRlcyhudWxsPT1pP3ZvaWQgMDppLnNlbGVjdG9yKSlyZXR1cm4hMX1yZXR1cm4hMH1OaSh0KXtyZXR1cm4gbnVsbD09KG51bGw9PXQ/dm9pZCAwOnQucHJvcGVydGllcy4kZWxlbWVudHMpP1tdOm51bGw9PXQ/dm9pZCAwOnQucHJvcGVydGllcy4kZWxlbWVudHN9fXZhciBObj1UdChcIltTdXJ2ZXlzXVwiKTt2YXIgVW49XCJzZWVuU3VydmV5X1wiLHpuPSh0LGkpPT57dmFyIGU9XCIkc3VydmV5X1wiK2krXCIvXCIrdC5pZDtyZXR1cm4gdC5jdXJyZW50X2l0ZXJhdGlvbiYmdC5jdXJyZW50X2l0ZXJhdGlvbj4wJiYoZT1cIiRzdXJ2ZXlfXCIraStcIi9cIit0LmlkK1wiL1wiK3QuY3VycmVudF9pdGVyYXRpb24pLGV9LEhuPXQ9Pnt2YXIgaT1cIlwiK1VuK3QuaWQ7cmV0dXJuIHQuY3VycmVudF9pdGVyYXRpb24mJnQuY3VycmVudF9pdGVyYXRpb24+MCYmKGk9XCJcIitVbit0LmlkK1wiX1wiK3QuY3VycmVudF9pdGVyYXRpb24pLGl9LEJuPVtSbi5Qb3BvdmVyLFJuLldpZGdldCxSbi5BUEldLHFuPXtpZ25vcmVDb25kaXRpb25zOiExLGlnbm9yZURlbGF5OiExLGRpc3BsYXlUeXBlOkRuLlBvcG92ZXJ9O2NsYXNzIFdue2NvbnN0cnVjdG9yKHQpe3RoaXMuX2luc3RhbmNlPXQsdGhpcy5VaT1uZXcgTWFwLHRoaXMuemk9bmV3IE1hcH1yZWdpc3Rlcih0KXt2YXIgaTtGKG51bGw9PShpPXRoaXMuX2luc3RhbmNlKT92b2lkIDA6aS5NaSl8fCh0aGlzLkhpKHQpLHRoaXMuQmkodCkpfUJpKHQpe3ZhciBpPXQuZmlsdGVyKCh0PT57dmFyIGksZTtyZXR1cm4obnVsbD09KGk9dC5jb25kaXRpb25zKT92b2lkIDA6aS5hY3Rpb25zKSYmKG51bGw9PShlPXQuY29uZGl0aW9ucyl8fG51bGw9PShlPWUuYWN0aW9ucyl8fG51bGw9PShlPWUudmFsdWVzKT92b2lkIDA6ZS5sZW5ndGgpPjB9KSk7aWYoMCE9PWkubGVuZ3RoKXtpZihudWxsPT10aGlzLnFpKXt0aGlzLnFpPW5ldyBMbih0aGlzLl9pbnN0YW5jZSksdGhpcy5xaS5pbml0KCk7dGhpcy5xaS5EaSgodD0+e3RoaXMub25BY3Rpb24odCl9KSl9aS5mb3JFYWNoKCh0PT57dmFyIGksZSxyLHMsbjt0LmNvbmRpdGlvbnMmJm51bGwhPShpPXQuY29uZGl0aW9ucykmJmkuYWN0aW9ucyYmbnVsbCE9KGU9dC5jb25kaXRpb25zKSYmbnVsbCE9KGU9ZS5hY3Rpb25zKSYmZS52YWx1ZXMmJihudWxsPT0ocj10LmNvbmRpdGlvbnMpfHxudWxsPT0ocj1yLmFjdGlvbnMpfHxudWxsPT0ocj1yLnZhbHVlcyk/dm9pZCAwOnIubGVuZ3RoKT4wJiYobnVsbD09KHM9dGhpcy5xaSl8fHMucmVnaXN0ZXIodC5jb25kaXRpb25zLmFjdGlvbnMudmFsdWVzKSxudWxsPT0obj10LmNvbmRpdGlvbnMpfHxudWxsPT0obj1uLmFjdGlvbnMpfHxudWxsPT0obj1uLnZhbHVlcyl8fG4uZm9yRWFjaCgoaT0+e2lmKGkmJmkubmFtZSl7dmFyIGU9dGhpcy56aS5nZXQoaS5uYW1lKTtlJiZlLnB1c2godC5pZCksdGhpcy56aS5zZXQoaS5uYW1lLGV8fFt0LmlkXSl9fSkpKX0pKX19SGkodCl7dmFyIGk7aWYoMCE9PXQuZmlsdGVyKCh0PT57dmFyIGksZTtyZXR1cm4obnVsbD09KGk9dC5jb25kaXRpb25zKT92b2lkIDA6aS5ldmVudHMpJiYobnVsbD09KGU9dC5jb25kaXRpb25zKXx8bnVsbD09KGU9ZS5ldmVudHMpfHxudWxsPT0oZT1lLnZhbHVlcyk/dm9pZCAwOmUubGVuZ3RoKT4wfSkpLmxlbmd0aCl7bnVsbD09KGk9dGhpcy5faW5zdGFuY2UpfHxpLk1pKCgodCxpKT0+e3RoaXMub25FdmVudCh0LGkpfSkpLHQuZm9yRWFjaCgodD0+e3ZhciBpO251bGw9PShpPXQuY29uZGl0aW9ucyl8fG51bGw9PShpPWkuZXZlbnRzKXx8bnVsbD09KGk9aS52YWx1ZXMpfHxpLmZvckVhY2goKGk9PntpZihpJiZpLm5hbWUpe3ZhciBlPXRoaXMuVWkuZ2V0KGkubmFtZSk7ZSYmZS5wdXNoKHQuaWQpLHRoaXMuVWkuc2V0KGkubmFtZSxlfHxbdC5pZF0pfX0pKX0pKX19b25FdmVudCh0LGkpe3ZhciBlLHIscz0obnVsbD09KGU9dGhpcy5faW5zdGFuY2UpfHxudWxsPT0oZT1lLnBlcnNpc3RlbmNlKT92b2lkIDA6ZS5wcm9wc1tkaV0pfHxbXTtpZihNbi5TSE9XTj09PXQmJmkmJnMubGVuZ3RoPjApe3ZhciBuO05uLmluZm8oXCJzdXJ2ZXkgZXZlbnQgbWF0Y2hlZCwgcmVtb3Zpbmcgc3VydmV5IGZyb20gYWN0aXZhdGVkIHN1cnZleXNcIix7ZXZlbnQ6dCxldmVudFBheWxvYWQ6aSxleGlzdGluZ0FjdGl2YXRlZFN1cnZleXM6c30pO3ZhciBvPW51bGw9PWl8fG51bGw9PShuPWkucHJvcGVydGllcyk/dm9pZCAwOm4uJHN1cnZleV9pZDtpZihvKXt2YXIgYT1zLmluZGV4T2Yobyk7YT49MCYmKHMuc3BsaWNlKGEsMSksdGhpcy5XaShzKSl9fWVsc2UgaWYodGhpcy5VaS5oYXModCkpe05uLmluZm8oXCJzdXJ2ZXkgZXZlbnQgbmFtZSBtYXRjaGVkXCIse2V2ZW50OnQsZXZlbnRQYXlsb2FkOmksc3VydmV5czp0aGlzLlVpLmdldCh0KX0pO3ZhciBsPVtdO251bGw9PShyPXRoaXMuX2luc3RhbmNlKXx8ci5nZXRTdXJ2ZXlzKChpPT57bD1pLmZpbHRlcigoaT0+e3ZhciBlO3JldHVybiBudWxsPT0oZT10aGlzLlVpLmdldCh0KSk/dm9pZCAwOmUuaW5jbHVkZXMoaS5pZCl9KSl9KSk7dmFyIHU9bC5maWx0ZXIoKGU9Pnt2YXIgcixzPW51bGw9PShyPWUuY29uZGl0aW9ucyl8fG51bGw9PShyPXIuZXZlbnRzKXx8bnVsbD09KHI9ci52YWx1ZXMpP3ZvaWQgMDpyLmZpbmQoKGk9PmkubmFtZT09PXQpKTtyZXR1cm4hIXMmJighcy5wcm9wZXJ0eUZpbHRlcnN8fE9iamVjdC5lbnRyaWVzKHMucHJvcGVydHlGaWx0ZXJzKS5ldmVyeSgodD0+e3ZhciBlLFtyLHNdPXQsbj1udWxsPT1pfHxudWxsPT0oZT1pLnByb3BlcnRpZXMpP3ZvaWQgMDplW3JdO2lmKEYobil8fEQobikpcmV0dXJuITE7dmFyIG89W1N0cmluZyhuKV0sYT12bltzLm9wZXJhdG9yXTtyZXR1cm4gYT9hKHMudmFsdWVzLG8pOihObi53YXJuKFwiVW5rbm93biBwcm9wZXJ0eSBjb21wYXJpc29uIG9wZXJhdG9yOiBcIitzLm9wZXJhdG9yKSwhMSl9KSkpfSkpO3RoaXMuV2kocy5jb25jYXQodS5tYXAoKHQ9PnQuaWQpKXx8W10pKX19b25BY3Rpb24odCl7dmFyIGksZT0obnVsbD09KGk9dGhpcy5faW5zdGFuY2UpfHxudWxsPT0oaT1pLnBlcnNpc3RlbmNlKT92b2lkIDA6aS5wcm9wc1tkaV0pfHxbXTt0aGlzLnppLmhhcyh0KSYmdGhpcy5XaShlLmNvbmNhdCh0aGlzLnppLmdldCh0KXx8W10pKX1XaSh0KXt2YXIgaTtObi5pbmZvKFwidXBkYXRpbmcgYWN0aXZhdGVkIHN1cnZleXNcIix7YWN0aXZhdGVkU3VydmV5czp0fSksbnVsbD09KGk9dGhpcy5faW5zdGFuY2UpfHxudWxsPT0oaT1pLnBlcnNpc3RlbmNlKXx8aS5yZWdpc3Rlcih7W2RpXTpbLi4ubmV3IFNldCh0KV19KX1nZXRTdXJ2ZXlzKCl7dmFyIHQsaT1udWxsPT0odD10aGlzLl9pbnN0YW5jZSl8fG51bGw9PSh0PXQucGVyc2lzdGVuY2UpP3ZvaWQgMDp0LnByb3BzW2RpXTtyZXR1cm4gaXx8W119Z2V0RXZlbnRUb1N1cnZleXMoKXtyZXR1cm4gdGhpcy5VaX1HaSgpe3JldHVybiB0aGlzLnFpfX1jbGFzcyBHbntjb25zdHJ1Y3Rvcih0KXt0aGlzLlZpPXZvaWQgMCx0aGlzLl9zdXJ2ZXlNYW5hZ2VyPW51bGwsdGhpcy5KaT0hMSx0aGlzLktpPSExLHRoaXMuWWk9W10sdGhpcy5faW5zdGFuY2U9dCx0aGlzLl9zdXJ2ZXlFdmVudFJlY2VpdmVyPW51bGx9b25SZW1vdGVDb25maWcodCl7aWYoIXRoaXMuX2luc3RhbmNlLmNvbmZpZy5kaXNhYmxlX3N1cnZleXMpe3ZhciBpPXQuc3VydmV5cztpZihqKGkpKXJldHVybiBObi53YXJuKFwiRmxhZ3Mgbm90IGxvYWRlZCB5ZXQuIE5vdCBsb2FkaW5nIHN1cnZleXMuXCIpO3ZhciBlPUkoaSk7dGhpcy5WaT1lP2kubGVuZ3RoPjA6aSxObi5pbmZvKFwiZmxhZ3MgcmVzcG9uc2UgcmVjZWl2ZWQsIGlzU3VydmV5c0VuYWJsZWQ6IFwiK3RoaXMuVmkpLHRoaXMubG9hZElmRW5hYmxlZCgpfX1yZXNldCgpe2xvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwibGFzdFNlZW5TdXJ2ZXlEYXRlXCIpO2Zvcih2YXIgdD1bXSxpPTA7aTxsb2NhbFN0b3JhZ2UubGVuZ3RoO2krKyl7dmFyIGU9bG9jYWxTdG9yYWdlLmtleShpKTsobnVsbCE9ZSYmZS5zdGFydHNXaXRoKFVuKXx8bnVsbCE9ZSYmZS5zdGFydHNXaXRoKFwiaW5Qcm9ncmVzc1N1cnZleV9cIikpJiZ0LnB1c2goZSl9dC5mb3JFYWNoKCh0PT5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSh0KSkpfWxvYWRJZkVuYWJsZWQoKXtpZighdGhpcy5fc3VydmV5TWFuYWdlcilpZih0aGlzLktpKU5uLmluZm8oXCJBbHJlYWR5IGluaXRpYWxpemluZyBzdXJ2ZXlzLCBza2lwcGluZy4uLlwiKTtlbHNlIGlmKHRoaXMuX2luc3RhbmNlLmNvbmZpZy5kaXNhYmxlX3N1cnZleXMpTm4uaW5mbyhcIkRpc2FibGVkLiBOb3QgbG9hZGluZyBzdXJ2ZXlzLlwiKTtlbHNlIGlmKHRoaXMuX2luc3RhbmNlLmNvbmZpZy5jb29raWVsZXNzX21vZGUmJnRoaXMuX2luc3RhbmNlLmNvbnNlbnQuaXNPcHRlZE91dCgpKU5uLmluZm8oXCJOb3QgbG9hZGluZyBzdXJ2ZXlzIGluIGNvb2tpZWxlc3MgbW9kZSB3aXRob3V0IGNvbnNlbnQuXCIpO2Vsc2V7dmFyIHQ9bnVsbD09dj92b2lkIDA6di5fX1Bvc3Rob2dFeHRlbnNpb25zX187aWYodCl7aWYoIUYodGhpcy5WaSl8fHRoaXMuX2luc3RhbmNlLmNvbmZpZy5hZHZhbmNlZF9lbmFibGVfc3VydmV5cyl7dmFyIGk9dGhpcy5WaXx8dGhpcy5faW5zdGFuY2UuY29uZmlnLmFkdmFuY2VkX2VuYWJsZV9zdXJ2ZXlzO3RoaXMuS2k9ITA7dHJ5e3ZhciBlPXQuZ2VuZXJhdGVTdXJ2ZXlzO2lmKGUpcmV0dXJuIHZvaWQgdGhpcy5YaShlLGkpO3ZhciByPXQubG9hZEV4dGVybmFsRGVwZW5kZW5jeTtpZighcilyZXR1cm4gdm9pZCB0aGlzLlFpKFwiUG9zdEhvZyBsb2FkRXh0ZXJuYWxEZXBlbmRlbmN5IGV4dGVuc2lvbiBub3QgZm91bmQuXCIpO3IodGhpcy5faW5zdGFuY2UsXCJzdXJ2ZXlzXCIsKGU9PntlfHwhdC5nZW5lcmF0ZVN1cnZleXM/dGhpcy5RaShcIkNvdWxkIG5vdCBsb2FkIHN1cnZleXMgc2NyaXB0XCIsZSk6dGhpcy5YaSh0LmdlbmVyYXRlU3VydmV5cyxpKX0pKX1jYXRjaCh0KXt0aHJvdyB0aGlzLlFpKFwiRXJyb3IgaW5pdGlhbGl6aW5nIHN1cnZleXNcIix0KSx0fWZpbmFsbHl7dGhpcy5LaT0hMX19fWVsc2UgTm4uZXJyb3IoXCJQb3N0SG9nIEV4dGVuc2lvbnMgbm90IGZvdW5kLlwiKX19WGkodCxpKXt0aGlzLl9zdXJ2ZXlNYW5hZ2VyPXQodGhpcy5faW5zdGFuY2UsaSksdGhpcy5fc3VydmV5RXZlbnRSZWNlaXZlcj1uZXcgV24odGhpcy5faW5zdGFuY2UpLE5uLmluZm8oXCJTdXJ2ZXlzIGxvYWRlZCBzdWNjZXNzZnVsbHlcIiksdGhpcy5aaSh7aXNMb2FkZWQ6ITB9KX1RaSh0LGkpe05uLmVycm9yKHQsaSksdGhpcy5aaSh7aXNMb2FkZWQ6ITEsZXJyb3I6dH0pfW9uU3VydmV5c0xvYWRlZCh0KXtyZXR1cm4gdGhpcy5ZaS5wdXNoKHQpLHRoaXMuX3N1cnZleU1hbmFnZXImJnRoaXMuWmkoe2lzTG9hZGVkOiEwfSksKCk9Pnt0aGlzLllpPXRoaXMuWWkuZmlsdGVyKChpPT5pIT09dCkpfX1nZXRTdXJ2ZXlzKHQsaSl7aWYodm9pZCAwPT09aSYmKGk9ITEpLHRoaXMuX2luc3RhbmNlLmNvbmZpZy5kaXNhYmxlX3N1cnZleXMpcmV0dXJuIE5uLmluZm8oXCJEaXNhYmxlZC4gTm90IGxvYWRpbmcgc3VydmV5cy5cIiksdChbXSk7dmFyIGU9dGhpcy5faW5zdGFuY2UuZ2V0X3Byb3BlcnR5KGhpKTtpZihlJiYhaSlyZXR1cm4gdChlLHtpc0xvYWRlZDohMH0pO2lmKHRoaXMuSmkpcmV0dXJuIHQoW10se2lzTG9hZGVkOiExLGVycm9yOlwiU3VydmV5cyBhcmUgYWxyZWFkeSBiZWluZyBsb2FkZWRcIn0pO3RyeXt0aGlzLkppPSEwLHRoaXMuX2luc3RhbmNlLmNpKHt1cmw6dGhpcy5faW5zdGFuY2UucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcImFwaVwiLFwiL2FwaS9zdXJ2ZXlzLz90b2tlbj1cIit0aGlzLl9pbnN0YW5jZS5jb25maWcudG9rZW4pLG1ldGhvZDpcIkdFVFwiLHRpbWVvdXQ6dGhpcy5faW5zdGFuY2UuY29uZmlnLnN1cnZleXNfcmVxdWVzdF90aW1lb3V0X21zLGNhbGxiYWNrOmk9Pnt2YXIgZTt0aGlzLkppPSExO3ZhciByPWkuc3RhdHVzQ29kZTtpZigyMDAhPT1yfHwhaS5qc29uKXt2YXIgcz1cIlN1cnZleXMgQVBJIGNvdWxkIG5vdCBiZSBsb2FkZWQsIHN0YXR1czogXCIrcjtyZXR1cm4gTm4uZXJyb3IocyksdChbXSx7aXNMb2FkZWQ6ITEsZXJyb3I6c30pfXZhciBuLG89aS5qc29uLnN1cnZleXN8fFtdLGE9by5maWx0ZXIoKHQ9PmZ1bmN0aW9uKHQpe3JldHVybiEoIXQuc3RhcnRfZGF0ZXx8dC5lbmRfZGF0ZSl9KHQpJiYoZnVuY3Rpb24odCl7dmFyIGk7cmV0dXJuIShudWxsPT0oaT10LmNvbmRpdGlvbnMpfHxudWxsPT0oaT1pLmV2ZW50cyl8fG51bGw9PShpPWkudmFsdWVzKXx8IWkubGVuZ3RoKX0odCl8fGZ1bmN0aW9uKHQpe3ZhciBpO3JldHVybiEobnVsbD09KGk9dC5jb25kaXRpb25zKXx8bnVsbD09KGk9aS5hY3Rpb25zKXx8bnVsbD09KGk9aS52YWx1ZXMpfHwhaS5sZW5ndGgpfSh0KSkpKTthLmxlbmd0aD4wJiYobnVsbD09KG49dGhpcy5fc3VydmV5RXZlbnRSZWNlaXZlcil8fG4ucmVnaXN0ZXIoYSkpO3JldHVybiBudWxsPT0oZT10aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZSl8fGUucmVnaXN0ZXIoe1toaV06b30pLHQobyx7aXNMb2FkZWQ6ITB9KX19KX1jYXRjaCh0KXt0aHJvdyB0aGlzLkppPSExLHR9fVppKHQpe2Zvcih2YXIgaSBvZiB0aGlzLllpKXRyeXtpZighdC5pc0xvYWRlZClyZXR1cm4gaShbXSx0KTt0aGlzLmdldFN1cnZleXMoaSl9Y2F0Y2godCl7Tm4uZXJyb3IoXCJFcnJvciBpbiBzdXJ2ZXkgY2FsbGJhY2tcIix0KX19Z2V0QWN0aXZlTWF0Y2hpbmdTdXJ2ZXlzKHQsaSl7aWYodm9pZCAwPT09aSYmKGk9ITEpLCFqKHRoaXMuX3N1cnZleU1hbmFnZXIpKXJldHVybiB0aGlzLl9zdXJ2ZXlNYW5hZ2VyLmdldEFjdGl2ZU1hdGNoaW5nU3VydmV5cyh0LGkpO05uLndhcm4oXCJpbml0IHdhcyBub3QgY2FsbGVkXCIpfXRlKHQpe3ZhciBpPW51bGw7cmV0dXJuIHRoaXMuZ2V0U3VydmV5cygoZT0+e3ZhciByO2k9bnVsbCE9PShyPWUuZmluZCgoaT0+aS5pZD09PXQpKSkmJnZvaWQgMCE9PXI/cjpudWxsfSkpLGl9aWUodCl7aWYoaih0aGlzLl9zdXJ2ZXlNYW5hZ2VyKSlyZXR1cm57ZWxpZ2libGU6ITEscmVhc29uOlwiU0RLIGlzIG5vdCBlbmFibGVkIG9yIHN1cnZleSBmdW5jdGlvbmFsaXR5IGlzIG5vdCB5ZXQgbG9hZGVkXCJ9O3ZhciBpPVwic3RyaW5nXCI9PXR5cGVvZiB0P3RoaXMudGUodCk6dDtyZXR1cm4gaT90aGlzLl9zdXJ2ZXlNYW5hZ2VyLmNoZWNrU3VydmV5RWxpZ2liaWxpdHkoaSk6e2VsaWdpYmxlOiExLHJlYXNvbjpcIlN1cnZleSBub3QgZm91bmRcIn19Y2FuUmVuZGVyU3VydmV5KHQpe2lmKGoodGhpcy5fc3VydmV5TWFuYWdlcikpcmV0dXJuIE5uLndhcm4oXCJpbml0IHdhcyBub3QgY2FsbGVkXCIpLHt2aXNpYmxlOiExLGRpc2FibGVkUmVhc29uOlwiU0RLIGlzIG5vdCBlbmFibGVkIG9yIHN1cnZleSBmdW5jdGlvbmFsaXR5IGlzIG5vdCB5ZXQgbG9hZGVkXCJ9O3ZhciBpPXRoaXMuaWUodCk7cmV0dXJue3Zpc2libGU6aS5lbGlnaWJsZSxkaXNhYmxlZFJlYXNvbjppLnJlYXNvbn19Y2FuUmVuZGVyU3VydmV5QXN5bmModCxpKXtyZXR1cm4gaih0aGlzLl9zdXJ2ZXlNYW5hZ2VyKT8oTm4ud2FybihcImluaXQgd2FzIG5vdCBjYWxsZWRcIiksUHJvbWlzZS5yZXNvbHZlKHt2aXNpYmxlOiExLGRpc2FibGVkUmVhc29uOlwiU0RLIGlzIG5vdCBlbmFibGVkIG9yIHN1cnZleSBmdW5jdGlvbmFsaXR5IGlzIG5vdCB5ZXQgbG9hZGVkXCJ9KSk6bmV3IFByb21pc2UoKGU9Pnt0aGlzLmdldFN1cnZleXMoKGk9Pnt2YXIgcixzPW51bGwhPT0ocj1pLmZpbmQoKGk9PmkuaWQ9PT10KSkpJiZ2b2lkIDAhPT1yP3I6bnVsbDtpZihzKXt2YXIgbj10aGlzLmllKHMpO2Uoe3Zpc2libGU6bi5lbGlnaWJsZSxkaXNhYmxlZFJlYXNvbjpuLnJlYXNvbn0pfWVsc2UgZSh7dmlzaWJsZTohMSxkaXNhYmxlZFJlYXNvbjpcIlN1cnZleSBub3QgZm91bmRcIn0pfSksaSl9KSl9cmVuZGVyU3VydmV5KHQsaSl7dmFyIGU7aWYoaih0aGlzLl9zdXJ2ZXlNYW5hZ2VyKSlObi53YXJuKFwiaW5pdCB3YXMgbm90IGNhbGxlZFwiKTtlbHNle3ZhciByPVwic3RyaW5nXCI9PXR5cGVvZiB0P3RoaXMudGUodCk6dDtpZihudWxsIT1yJiZyLmlkKWlmKEJuLmluY2x1ZGVzKHIudHlwZSkpe3ZhciBzPW51bGw9PW8/dm9pZCAwOm8ucXVlcnlTZWxlY3RvcihpKTtpZihzKXJldHVybiBudWxsIT0oZT1yLmFwcGVhcmFuY2UpJiZlLnN1cnZleVBvcHVwRGVsYXlTZWNvbmRzPyhObi5pbmZvKFwiUmVuZGVyaW5nIHN1cnZleSBcIityLmlkK1wiIHdpdGggZGVsYXkgb2YgXCIrci5hcHBlYXJhbmNlLnN1cnZleVBvcHVwRGVsYXlTZWNvbmRzK1wiIHNlY29uZHNcIiksdm9pZCBzZXRUaW1lb3V0KCgoKT0+e3ZhciB0LGk7Tm4uaW5mbyhcIlJlbmRlcmluZyBzdXJ2ZXkgXCIrci5pZCtcIiB3aXRoIGRlbGF5IG9mIFwiKyhudWxsPT0odD1yLmFwcGVhcmFuY2UpP3ZvaWQgMDp0LnN1cnZleVBvcHVwRGVsYXlTZWNvbmRzKStcIiBzZWNvbmRzXCIpLG51bGw9PShpPXRoaXMuX3N1cnZleU1hbmFnZXIpfHxpLnJlbmRlclN1cnZleShyLHMpLE5uLmluZm8oXCJTdXJ2ZXkgXCIrci5pZCtcIiByZW5kZXJlZFwiKX0pLDFlMypyLmFwcGVhcmFuY2Uuc3VydmV5UG9wdXBEZWxheVNlY29uZHMpKTp2b2lkIHRoaXMuX3N1cnZleU1hbmFnZXIucmVuZGVyU3VydmV5KHIscyk7Tm4ud2FybihcIlN1cnZleSBlbGVtZW50IG5vdCBmb3VuZFwiKX1lbHNlIE5uLndhcm4oXCJTdXJ2ZXlzIG9mIHR5cGUgXCIrci50eXBlK1wiIGNhbm5vdCBiZSByZW5kZXJlZCBpbiB0aGUgYXBwXCIpO2Vsc2UgTm4ud2FybihcIlN1cnZleSBub3QgZm91bmRcIil9fWRpc3BsYXlTdXJ2ZXkodCxpKXt2YXIgZTtpZihqKHRoaXMuX3N1cnZleU1hbmFnZXIpKU5uLndhcm4oXCJpbml0IHdhcyBub3QgY2FsbGVkXCIpO2Vsc2V7dmFyIHI9dGhpcy50ZSh0KTtpZihyKXt2YXIgcz1yO2lmKG51bGwhPShlPXIuYXBwZWFyYW5jZSkmJmUuc3VydmV5UG9wdXBEZWxheVNlY29uZHMmJmkuaWdub3JlRGVsYXkmJihzPWcoe30scix7YXBwZWFyYW5jZTpnKHt9LHIuYXBwZWFyYW5jZSx7c3VydmV5UG9wdXBEZWxheVNlY29uZHM6MH0pfSkpLCExPT09aS5pZ25vcmVDb25kaXRpb25zKXt2YXIgbj10aGlzLmNhblJlbmRlclN1cnZleShyKTtpZighbi52aXNpYmxlKXJldHVybiB2b2lkIE5uLndhcm4oXCJTdXJ2ZXkgaXMgbm90IGVsaWdpYmxlIHRvIGJlIGRpc3BsYXllZDogXCIsbi5kaXNhYmxlZFJlYXNvbil9aS5kaXNwbGF5VHlwZSE9PURuLklubGluZT90aGlzLl9zdXJ2ZXlNYW5hZ2VyLmhhbmRsZVBvcG92ZXJTdXJ2ZXkocyk6dGhpcy5yZW5kZXJTdXJ2ZXkocyxpLnNlbGVjdG9yKX1lbHNlIE5uLndhcm4oXCJTdXJ2ZXkgbm90IGZvdW5kXCIpfX19dmFyIFZuPVR0KFwiW1JhdGVMaW1pdGVyXVwiKTtjbGFzcyBKbntjb25zdHJ1Y3Rvcih0KXt2YXIgaSxlO3RoaXMuc2VydmVyTGltaXRzPXt9LHRoaXMubGFzdEV2ZW50UmF0ZUxpbWl0ZWQ9ITEsdGhpcy5jaGVja0ZvckxpbWl0aW5nPXQ9Pnt2YXIgaT10LnRleHQ7aWYoaSYmaS5sZW5ndGgpdHJ5eyhKU09OLnBhcnNlKGkpLnF1b3RhX2xpbWl0ZWR8fFtdKS5mb3JFYWNoKCh0PT57Vm4uaW5mbygodHx8XCJldmVudHNcIikrXCIgaXMgcXVvdGEgbGltaXRlZC5cIiksdGhpcy5zZXJ2ZXJMaW1pdHNbdF09KG5ldyBEYXRlKS5nZXRUaW1lKCkrNmU0fSkpfWNhdGNoKHQpe3JldHVybiB2b2lkIFZuLndhcm4oJ2NvdWxkIG5vdCByYXRlIGxpbWl0IC0gY29udGludWluZy4gRXJyb3I6IFwiJysobnVsbD09dD92b2lkIDA6dC5tZXNzYWdlKSsnXCInLHt0ZXh0Oml9KX19LHRoaXMuaW5zdGFuY2U9dCx0aGlzLmNhcHR1cmVFdmVudHNQZXJTZWNvbmQ9KG51bGw9PShpPXQuY29uZmlnLnJhdGVfbGltaXRpbmcpP3ZvaWQgMDppLmV2ZW50c19wZXJfc2Vjb25kKXx8MTAsdGhpcy5jYXB0dXJlRXZlbnRzQnVyc3RMaW1pdD1NYXRoLm1heCgobnVsbD09KGU9dC5jb25maWcucmF0ZV9saW1pdGluZyk/dm9pZCAwOmUuZXZlbnRzX2J1cnN0X2xpbWl0KXx8MTAqdGhpcy5jYXB0dXJlRXZlbnRzUGVyU2Vjb25kLHRoaXMuY2FwdHVyZUV2ZW50c1BlclNlY29uZCksdGhpcy5sYXN0RXZlbnRSYXRlTGltaXRlZD10aGlzLmNsaWVudFJhdGVMaW1pdENvbnRleHQoITApLmlzUmF0ZUxpbWl0ZWR9Y2xpZW50UmF0ZUxpbWl0Q29udGV4dCh0KXt2YXIgaSxlLHI7dm9pZCAwPT09dCYmKHQ9ITEpO3ZhciBzPShuZXcgRGF0ZSkuZ2V0VGltZSgpLG49bnVsbCE9PShpPW51bGw9PShlPXRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UpP3ZvaWQgMDplLmdldF9wcm9wZXJ0eShwaSkpJiZ2b2lkIDAhPT1pP2k6e3Rva2Vuczp0aGlzLmNhcHR1cmVFdmVudHNCdXJzdExpbWl0LGxhc3Q6c307bi50b2tlbnMrPShzLW4ubGFzdCkvMWUzKnRoaXMuY2FwdHVyZUV2ZW50c1BlclNlY29uZCxuLmxhc3Q9cyxuLnRva2Vucz50aGlzLmNhcHR1cmVFdmVudHNCdXJzdExpbWl0JiYobi50b2tlbnM9dGhpcy5jYXB0dXJlRXZlbnRzQnVyc3RMaW1pdCk7dmFyIG89bi50b2tlbnM8MTtyZXR1cm4gb3x8dHx8KG4udG9rZW5zPU1hdGgubWF4KDAsbi50b2tlbnMtMSkpLCFvfHx0aGlzLmxhc3RFdmVudFJhdGVMaW1pdGVkfHx0fHx0aGlzLmluc3RhbmNlLmNhcHR1cmUoXCIkJGNsaWVudF9pbmdlc3Rpb25fd2FybmluZ1wiLHskJGNsaWVudF9pbmdlc3Rpb25fd2FybmluZ19tZXNzYWdlOlwicG9zdGhvZy1qcyBjbGllbnQgcmF0ZSBsaW1pdGVkLiBDb25maWcgaXMgc2V0IHRvIFwiK3RoaXMuY2FwdHVyZUV2ZW50c1BlclNlY29uZCtcIiBldmVudHMgcGVyIHNlY29uZCBhbmQgXCIrdGhpcy5jYXB0dXJlRXZlbnRzQnVyc3RMaW1pdCtcIiBldmVudHMgYnVyc3QgbGltaXQuXCJ9LHtza2lwX2NsaWVudF9yYXRlX2xpbWl0aW5nOiEwfSksdGhpcy5sYXN0RXZlbnRSYXRlTGltaXRlZD1vLG51bGw9PShyPXRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UpfHxyLnNldF9wcm9wZXJ0eShwaSxuKSx7aXNSYXRlTGltaXRlZDpvLHJlbWFpbmluZ1Rva2VuczpuLnRva2Vuc319aXNTZXJ2ZXJSYXRlTGltaXRlZCh0KXt2YXIgaT10aGlzLnNlcnZlckxpbWl0c1t0fHxcImV2ZW50c1wiXXx8ITE7cmV0dXJuITEhPT1pJiYobmV3IERhdGUpLmdldFRpbWUoKTxpfX12YXIgS249VHQoXCJbUmVtb3RlQ29uZmlnXVwiKTtjbGFzcyBZbntjb25zdHJ1Y3Rvcih0KXt0aGlzLl9pbnN0YW5jZT10fWdldCByZW1vdGVDb25maWcoKXt2YXIgdDtyZXR1cm4gbnVsbD09KHQ9di5fUE9TVEhPR19SRU1PVEVfQ09ORklHKXx8bnVsbD09KHQ9dFt0aGlzLl9pbnN0YW5jZS5jb25maWcudG9rZW5dKT92b2lkIDA6dC5jb25maWd9ZWUodCl7dmFyIGksZTtudWxsIT0oaT12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXykmJmkubG9hZEV4dGVybmFsRGVwZW5kZW5jeT9udWxsPT0oZT12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXyl8fG51bGw9PWUubG9hZEV4dGVybmFsRGVwZW5kZW5jeXx8ZS5sb2FkRXh0ZXJuYWxEZXBlbmRlbmN5KHRoaXMuX2luc3RhbmNlLFwicmVtb3RlLWNvbmZpZ1wiLCgoKT0+dCh0aGlzLnJlbW90ZUNvbmZpZykpKTooS24uZXJyb3IoXCJQb3N0SG9nIEV4dGVuc2lvbnMgbm90IGZvdW5kLiBDYW5ub3QgbG9hZCByZW1vdGUgY29uZmlnLlwiKSx0KCkpfXJlKHQpe3RoaXMuX2luc3RhbmNlLmNpKHttZXRob2Q6XCJHRVRcIix1cmw6dGhpcy5faW5zdGFuY2UucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcImFzc2V0c1wiLFwiL2FycmF5L1wiK3RoaXMuX2luc3RhbmNlLmNvbmZpZy50b2tlbitcIi9jb25maWdcIiksY2FsbGJhY2s6aT0+e3QoaS5qc29uKX19KX1sb2FkKCl7dHJ5e2lmKHRoaXMucmVtb3RlQ29uZmlnKXJldHVybiBLbi5pbmZvKFwiVXNpbmcgcHJlbG9hZGVkIHJlbW90ZSBjb25maWdcIix0aGlzLnJlbW90ZUNvbmZpZyksdm9pZCB0aGlzLmZpKHRoaXMucmVtb3RlQ29uZmlnKTtpZih0aGlzLl9pbnN0YW5jZS5NKCkpcmV0dXJuIHZvaWQgS24ud2FybihcIlJlbW90ZSBjb25maWcgaXMgZGlzYWJsZWQuIEZhbGxpbmcgYmFjayB0byBsb2NhbCBjb25maWcuXCIpO3RoaXMuZWUoKHQ9PntpZighdClyZXR1cm4gS24uaW5mbyhcIk5vIGNvbmZpZyBmb3VuZCBhZnRlciBsb2FkaW5nIHJlbW90ZSBKUyBjb25maWcuIEZhbGxpbmcgYmFjayB0byBKU09OLlwiKSx2b2lkIHRoaXMucmUoKHQ9Pnt0aGlzLmZpKHQpfSkpO3RoaXMuZmkodCl9KSl9Y2F0Y2godCl7S24uZXJyb3IoXCJFcnJvciBsb2FkaW5nIHJlbW90ZSBjb25maWdcIix0KX19ZmkodCl7dD90aGlzLl9pbnN0YW5jZS5jb25maWcuX19wcmV2aWV3X3JlbW90ZV9jb25maWc/KHRoaXMuX2luc3RhbmNlLmZpKHQpLCExIT09dC5oYXNGZWF0dXJlRmxhZ3MmJnRoaXMuX2luc3RhbmNlLmZlYXR1cmVGbGFncy5lbnN1cmVGbGFnc0xvYWRlZCgpKTpLbi5pbmZvKFwiX19wcmV2aWV3X3JlbW90ZV9jb25maWcgaXMgZGlzYWJsZWQuIExvZ2dpbmcgY29uZmlnIGluc3RlYWRcIix0KTpLbi5lcnJvcihcIkZhaWxlZCB0byBmZXRjaCByZW1vdGUgY29uZmlnIGZyb20gUG9zdEhvZy5cIil9fXZhciBYbj0zZTM7Y2xhc3MgUW57Y29uc3RydWN0b3IodCxpKXt0aGlzLnNlPSEwLHRoaXMubmU9W10sdGhpcy5vZT1KKChudWxsPT1pP3ZvaWQgMDppLmZsdXNoX2ludGVydmFsX21zKXx8WG4sMjUwLDVlMyxQdC5jcmVhdGVMb2dnZXIoXCJmbHVzaCBpbnRlcnZhbFwiKSxYbiksdGhpcy5hZT10fWVucXVldWUodCl7dGhpcy5uZS5wdXNoKHQpLHRoaXMubGV8fHRoaXMudWUoKX11bmxvYWQoKXt0aGlzLmhlKCk7dmFyIHQ9dGhpcy5uZS5sZW5ndGg+MD90aGlzLmRlKCk6e30saT1PYmplY3QudmFsdWVzKHQpO1suLi5pLmZpbHRlcigodD0+MD09PXQudXJsLmluZGV4T2YoXCIvZVwiKSkpLC4uLmkuZmlsdGVyKCh0PT4wIT09dC51cmwuaW5kZXhPZihcIi9lXCIpKSldLm1hcCgodD0+e3RoaXMuYWUoZyh7fSx0LHt0cmFuc3BvcnQ6XCJzZW5kQmVhY29uXCJ9KSl9KSl9ZW5hYmxlKCl7dGhpcy5zZT0hMSx0aGlzLnVlKCl9dWUoKXt2YXIgdD10aGlzO3RoaXMuc2V8fCh0aGlzLmxlPXNldFRpbWVvdXQoKCgpPT57aWYodGhpcy5oZSgpLHRoaXMubmUubGVuZ3RoPjApe3ZhciBpPXRoaXMuZGUoKSxlPWZ1bmN0aW9uKCl7dmFyIGU9aVtyXSxzPShuZXcgRGF0ZSkuZ2V0VGltZSgpO2UuZGF0YSYmSShlLmRhdGEpJiZGdChlLmRhdGEsKHQ9Pnt0Lm9mZnNldD1NYXRoLmFicyh0LnRpbWVzdGFtcC1zKSxkZWxldGUgdC50aW1lc3RhbXB9KSksdC5hZShlKX07Zm9yKHZhciByIGluIGkpZSgpfX0pLHRoaXMub2UpKX1oZSgpe2NsZWFyVGltZW91dCh0aGlzLmxlKSx0aGlzLmxlPXZvaWQgMH1kZSgpe3ZhciB0PXt9O3JldHVybiBGdCh0aGlzLm5lLChpPT57dmFyIGUscj1pLHM9KHI/ci5iYXRjaEtleTpudWxsKXx8ci51cmw7Rih0W3NdKSYmKHRbc109Zyh7fSxyLHtkYXRhOltdfSkpLG51bGw9PShlPXRbc10uZGF0YSl8fGUucHVzaChyLmRhdGEpfSkpLHRoaXMubmU9W10sdH19dmFyIFpuPVtcInJldHJpZXNQZXJmb3JtZWRTb0ZhclwiXTtjbGFzcyB0b3tjb25zdHJ1Y3RvcihpKXt0aGlzLnZlPSExLHRoaXMuY2U9M2UzLHRoaXMubmU9W10sdGhpcy5faW5zdGFuY2U9aSx0aGlzLm5lPVtdLHRoaXMuZmU9ITAsIUYodCkmJlwib25MaW5lXCJpbiB0Lm5hdmlnYXRvciYmKHRoaXMuZmU9dC5uYXZpZ2F0b3Iub25MaW5lLHRoaXMucGU9KCk9Pnt0aGlzLmZlPSEwLHRoaXMuRHQoKX0sdGhpcy5nZT0oKT0+e3RoaXMuZmU9ITF9LHF0KHQsXCJvbmxpbmVcIix0aGlzLnBlKSxxdCh0LFwib2ZmbGluZVwiLHRoaXMuZ2UpKX1nZXQgbGVuZ3RoKCl7cmV0dXJuIHRoaXMubmUubGVuZ3RofXJldHJpYWJsZVJlcXVlc3QodCl7dmFye3JldHJpZXNQZXJmb3JtZWRTb0ZhcjppfT10LGU9Xyh0LFpuKTtMKGkpJiZpPjAmJihlLnVybD1vbihlLnVybCx7cmV0cnlfY291bnQ6aX0pKSx0aGlzLl9pbnN0YW5jZS5jaShnKHt9LGUse2NhbGxiYWNrOnQ9PnsyMDAhPT10LnN0YXR1c0NvZGUmJih0LnN0YXR1c0NvZGU8NDAwfHx0LnN0YXR1c0NvZGU+PTUwMCkmJihudWxsIT1pP2k6MCk8MTA/dGhpcy5fZShnKHtyZXRyaWVzUGVyZm9ybWVkU29GYXI6aX0sZSkpOm51bGw9PWUuY2FsbGJhY2t8fGUuY2FsbGJhY2sodCl9fSkpfV9lKHQpe3ZhciBpPXQucmV0cmllc1BlcmZvcm1lZFNvRmFyfHwwO3QucmV0cmllc1BlcmZvcm1lZFNvRmFyPWkrMTt2YXIgZT1mdW5jdGlvbih0KXt2YXIgaT0zZTMqTWF0aC5wb3coMix0KSxlPWkvMixyPU1hdGgubWluKDE4ZTUsaSkscz0oTWF0aC5yYW5kb20oKS0uNSkqKHItZSk7cmV0dXJuIE1hdGguY2VpbChyK3MpfShpKSxyPURhdGUubm93KCkrZTt0aGlzLm5lLnB1c2goe3JldHJ5QXQ6cixyZXF1ZXN0T3B0aW9uczp0fSk7dmFyIHM9XCJFbnF1ZXVlZCBmYWlsZWQgcmVxdWVzdCBmb3IgcmV0cnkgaW4gXCIrZTtuYXZpZ2F0b3Iub25MaW5lfHwocys9XCIgKEJyb3dzZXIgaXMgb2ZmbGluZSlcIiksUHQud2FybihzKSx0aGlzLnZlfHwodGhpcy52ZT0hMCx0aGlzLm1lKCkpfW1lKCl7aWYodGhpcy55ZSYmY2xlYXJUaW1lb3V0KHRoaXMueWUpLDA9PT10aGlzLm5lLmxlbmd0aClyZXR1cm4gdGhpcy52ZT0hMSx2b2lkKHRoaXMueWU9dm9pZCAwKTt0aGlzLnllPXNldFRpbWVvdXQoKCgpPT57dGhpcy5mZSYmdGhpcy5uZS5sZW5ndGg+MCYmdGhpcy5EdCgpLHRoaXMubWUoKX0pLHRoaXMuY2UpfUR0KCl7dmFyIHQ9RGF0ZS5ub3coKSxpPVtdLGU9dGhpcy5uZS5maWx0ZXIoKGU9PmUucmV0cnlBdDx0fHwoaS5wdXNoKGUpLCExKSkpO2lmKHRoaXMubmU9aSxlLmxlbmd0aD4wKWZvcih2YXJ7cmVxdWVzdE9wdGlvbnM6cn1vZiBlKXRoaXMucmV0cmlhYmxlUmVxdWVzdChyKX11bmxvYWQoKXtmb3IodmFye3JlcXVlc3RPcHRpb25zOml9b2YodGhpcy55ZSYmKGNsZWFyVGltZW91dCh0aGlzLnllKSx0aGlzLnllPXZvaWQgMCksdGhpcy52ZT0hMSxGKHQpfHwodGhpcy5wZSYmKHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm9ubGluZVwiLHRoaXMucGUpLHRoaXMucGU9dm9pZCAwKSx0aGlzLmdlJiYodC5yZW1vdmVFdmVudExpc3RlbmVyKFwib2ZmbGluZVwiLHRoaXMuZ2UpLHRoaXMuZ2U9dm9pZCAwKSksdGhpcy5uZSkpdHJ5e3RoaXMuX2luc3RhbmNlLmNpKGcoe30saSx7dHJhbnNwb3J0Olwic2VuZEJlYWNvblwifSkpfWNhdGNoKHQpe1B0LmVycm9yKHQpfXRoaXMubmU9W119fWNsYXNzIGlve2NvbnN0cnVjdG9yKHQpe3RoaXMuYmU9KCk9Pnt2YXIgdCxpLGUscjt0aGlzLndlfHwodGhpcy53ZT17fSk7dmFyIHM9dGhpcy5zY3JvbGxFbGVtZW50KCksbj10aGlzLnNjcm9sbFkoKSxvPXM/TWF0aC5tYXgoMCxzLnNjcm9sbEhlaWdodC1zLmNsaWVudEhlaWdodCk6MCxhPW4rKChudWxsPT1zP3ZvaWQgMDpzLmNsaWVudEhlaWdodCl8fDApLGw9KG51bGw9PXM/dm9pZCAwOnMuc2Nyb2xsSGVpZ2h0KXx8MDt0aGlzLndlLmxhc3RTY3JvbGxZPU1hdGguY2VpbChuKSx0aGlzLndlLm1heFNjcm9sbFk9TWF0aC5tYXgobixudWxsIT09KHQ9dGhpcy53ZS5tYXhTY3JvbGxZKSYmdm9pZCAwIT09dD90OjApLHRoaXMud2UubWF4U2Nyb2xsSGVpZ2h0PU1hdGgubWF4KG8sbnVsbCE9PShpPXRoaXMud2UubWF4U2Nyb2xsSGVpZ2h0KSYmdm9pZCAwIT09aT9pOjApLHRoaXMud2UubGFzdENvbnRlbnRZPWEsdGhpcy53ZS5tYXhDb250ZW50WT1NYXRoLm1heChhLG51bGwhPT0oZT10aGlzLndlLm1heENvbnRlbnRZKSYmdm9pZCAwIT09ZT9lOjApLHRoaXMud2UubWF4Q29udGVudEhlaWdodD1NYXRoLm1heChsLG51bGwhPT0ocj10aGlzLndlLm1heENvbnRlbnRIZWlnaHQpJiZ2b2lkIDAhPT1yP3I6MCl9LHRoaXMuX2luc3RhbmNlPXR9Z2V0Q29udGV4dCgpe3JldHVybiB0aGlzLndlfXJlc2V0Q29udGV4dCgpe3ZhciB0PXRoaXMud2U7cmV0dXJuIHNldFRpbWVvdXQodGhpcy5iZSwwKSx0fXN0YXJ0TWVhc3VyaW5nU2Nyb2xsUG9zaXRpb24oKXtxdCh0LFwic2Nyb2xsXCIsdGhpcy5iZSx7Y2FwdHVyZTohMH0pLHF0KHQsXCJzY3JvbGxlbmRcIix0aGlzLmJlLHtjYXB0dXJlOiEwfSkscXQodCxcInJlc2l6ZVwiLHRoaXMuYmUpfXNjcm9sbEVsZW1lbnQoKXtpZighdGhpcy5faW5zdGFuY2UuY29uZmlnLnNjcm9sbF9yb290X3NlbGVjdG9yKXJldHVybiBudWxsPT10P3ZvaWQgMDp0LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudDt2YXIgaT1JKHRoaXMuX2luc3RhbmNlLmNvbmZpZy5zY3JvbGxfcm9vdF9zZWxlY3Rvcik/dGhpcy5faW5zdGFuY2UuY29uZmlnLnNjcm9sbF9yb290X3NlbGVjdG9yOlt0aGlzLl9pbnN0YW5jZS5jb25maWcuc2Nyb2xsX3Jvb3Rfc2VsZWN0b3JdO2Zvcih2YXIgZSBvZiBpKXt2YXIgcj1udWxsPT10P3ZvaWQgMDp0LmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZSk7aWYocilyZXR1cm4gcn19c2Nyb2xsWSgpe2lmKHRoaXMuX2luc3RhbmNlLmNvbmZpZy5zY3JvbGxfcm9vdF9zZWxlY3Rvcil7dmFyIGk9dGhpcy5zY3JvbGxFbGVtZW50KCk7cmV0dXJuIGkmJmkuc2Nyb2xsVG9wfHwwfXJldHVybiB0JiYodC5zY3JvbGxZfHx0LnBhZ2VZT2Zmc2V0fHx0LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3ApfHwwfXNjcm9sbFgoKXtpZih0aGlzLl9pbnN0YW5jZS5jb25maWcuc2Nyb2xsX3Jvb3Rfc2VsZWN0b3Ipe3ZhciBpPXRoaXMuc2Nyb2xsRWxlbWVudCgpO3JldHVybiBpJiZpLnNjcm9sbExlZnR8fDB9cmV0dXJuIHQmJih0LnNjcm9sbFh8fHQucGFnZVhPZmZzZXR8fHQuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQpfHwwfX12YXIgZW89dD0+aHMobnVsbD09dD92b2lkIDA6dC5jb25maWcubWFza19wZXJzb25hbF9kYXRhX3Byb3BlcnRpZXMsbnVsbD09dD92b2lkIDA6dC5jb25maWcuY3VzdG9tX3BlcnNvbmFsX2RhdGFfcHJvcGVydGllcyk7Y2xhc3Mgcm97Y29uc3RydWN0b3IodCxpLGUscil7dGhpcy54ZT10PT57dmFyIGk9dGhpcy4kZSgpO2lmKCFpfHxpLnNlc3Npb25JZCE9PXQpe3ZhciBlPXtzZXNzaW9uSWQ6dCxwcm9wczp0aGlzLlNlKHRoaXMuX2luc3RhbmNlKX07dGhpcy5FZS5yZWdpc3Rlcih7W2ZpXTplfSl9fSx0aGlzLl9pbnN0YW5jZT10LHRoaXMua2U9aSx0aGlzLkVlPWUsdGhpcy5TZT1yfHxlbyx0aGlzLmtlLm9uU2Vzc2lvbklkKHRoaXMueGUpfSRlKCl7cmV0dXJuIHRoaXMuRWUucHJvcHNbZmldfWdldFNldE9uY2VQcm9wcygpe3ZhciB0LGk9bnVsbD09KHQ9dGhpcy4kZSgpKT92b2lkIDA6dC5wcm9wcztyZXR1cm4gaT9cInJcImluIGk/ZHMoaSk6eyRyZWZlcnJpbmdfZG9tYWluOmkucmVmZXJyaW5nRG9tYWluLCRwYXRobmFtZTppLmluaXRpYWxQYXRoTmFtZSx1dG1fc291cmNlOmkudXRtX3NvdXJjZSx1dG1fY2FtcGFpZ246aS51dG1fY2FtcGFpZ24sdXRtX21lZGl1bTppLnV0bV9tZWRpdW0sdXRtX2NvbnRlbnQ6aS51dG1fY29udGVudCx1dG1fdGVybTppLnV0bV90ZXJtfTp7fX1nZXRTZXNzaW9uUHJvcHMoKXt2YXIgdD17fTtyZXR1cm4gRnQoTnQodGhpcy5nZXRTZXRPbmNlUHJvcHMoKSksKChpLGUpPT57XCIkY3VycmVudF91cmxcIj09PWUmJihlPVwidXJsXCIpLHRbXCIkc2Vzc2lvbl9lbnRyeV9cIitTKGUpXT1pfSkpLHR9fXZhciBzbz1UdChcIltTZXNzaW9uSWRdXCIpO2NsYXNzIG5ve29uKHQsaSl7cmV0dXJuIHRoaXMuUGUub24odCxpKX1jb25zdHJ1Y3Rvcih0LGksZSl7dmFyIHI7aWYodGhpcy5UZT1bXSx0aGlzLkllPXZvaWQgMCx0aGlzLlBlPW5ldyBqbix0aGlzLlJlPSh0LGkpPT5NYXRoLmFicyh0LWkpPnRoaXMuc2Vzc2lvblRpbWVvdXRNcywhdC5wZXJzaXN0ZW5jZSl0aHJvdyBuZXcgRXJyb3IoXCJTZXNzaW9uSWRNYW5hZ2VyIHJlcXVpcmVzIGEgUG9zdEhvZ1BlcnNpc3RlbmNlIGluc3RhbmNlXCIpO2lmKFwiYWx3YXlzXCI9PT10LmNvbmZpZy5jb29raWVsZXNzX21vZGUpdGhyb3cgbmV3IEVycm9yKCdTZXNzaW9uSWRNYW5hZ2VyIGNhbm5vdCBiZSB1c2VkIHdpdGggY29va2llbGVzc19tb2RlPVwiYWx3YXlzXCInKTt0aGlzLkM9dC5jb25maWcsdGhpcy5FZT10LnBlcnNpc3RlbmNlLHRoaXMuQ2U9dm9pZCAwLHRoaXMuT2U9dm9pZCAwLHRoaXMuX3Nlc3Npb25TdGFydFRpbWVzdGFtcD1udWxsLHRoaXMuX3Nlc3Npb25BY3Rpdml0eVRpbWVzdGFtcD1udWxsLHRoaXMuRmU9aXx8eGUsdGhpcy5NZT1lfHx4ZTt2YXIgcz10aGlzLkMucGVyc2lzdGVuY2VfbmFtZXx8dGhpcy5DLnRva2VuLG49dGhpcy5DLnNlc3Npb25faWRsZV90aW1lb3V0X3NlY29uZHN8fDE4MDA7aWYodGhpcy5fc2Vzc2lvblRpbWVvdXRNcz0xZTMqSihuLDYwLDM2ZTMsc28uY3JlYXRlTG9nZ2VyKFwic2Vzc2lvbl9pZGxlX3RpbWVvdXRfc2Vjb25kc1wiKSwxODAwKSx0LnJlZ2lzdGVyKHskY29uZmlndXJlZF9zZXNzaW9uX3RpbWVvdXRfbXM6dGhpcy5fc2Vzc2lvblRpbWVvdXRNc30pLHRoaXMuQWUoKSx0aGlzLkRlPVwicGhfXCIrcytcIl93aW5kb3dfaWRcIix0aGlzLmplPVwicGhfXCIrcytcIl9wcmltYXJ5X3dpbmRvd19leGlzdHNcIix0aGlzLkxlKCkpe3ZhciBvPUFlLlcodGhpcy5EZSksYT1BZS5XKHRoaXMuamUpO28mJiFhP3RoaXMuQ2U9bzpBZS5WKHRoaXMuRGUpLEFlLkcodGhpcy5qZSwhMCl9aWYobnVsbCE9KHI9dGhpcy5DLmJvb3RzdHJhcCkmJnIuc2Vzc2lvbklEKXRyeXt2YXIgbD0odD0+e3ZhciBpPXQucmVwbGFjZSgvLS9nLFwiXCIpO2lmKDMyIT09aS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiTm90IGEgdmFsaWQgVVVJRFwiKTtpZihcIjdcIiE9PWlbMTJdKXRocm93IG5ldyBFcnJvcihcIk5vdCBhIFVVSUR2N1wiKTtyZXR1cm4gcGFyc2VJbnQoaS5zdWJzdHJpbmcoMCwxMiksMTYpfSkodGhpcy5DLmJvb3RzdHJhcC5zZXNzaW9uSUQpO3RoaXMuTmUodGhpcy5DLmJvb3RzdHJhcC5zZXNzaW9uSUQsKG5ldyBEYXRlKS5nZXRUaW1lKCksbCl9Y2F0Y2godCl7c28uZXJyb3IoXCJJbnZhbGlkIHNlc3Npb25JRCBpbiBib290c3RyYXBcIix0KX10aGlzLlVlKCl9Z2V0IHNlc3Npb25UaW1lb3V0TXMoKXtyZXR1cm4gdGhpcy5fc2Vzc2lvblRpbWVvdXRNc31vblNlc3Npb25JZCh0KXtyZXR1cm4gRih0aGlzLlRlKSYmKHRoaXMuVGU9W10pLHRoaXMuVGUucHVzaCh0KSx0aGlzLk9lJiZ0KHRoaXMuT2UsdGhpcy5DZSksKCk9Pnt0aGlzLlRlPXRoaXMuVGUuZmlsdGVyKChpPT5pIT09dCkpfX1MZSgpe3JldHVyblwibWVtb3J5XCIhPT10aGlzLkMucGVyc2lzdGVuY2UmJiF0aGlzLkVlLndpJiZBZS5IKCl9emUodCl7dCE9PXRoaXMuQ2UmJih0aGlzLkNlPXQsdGhpcy5MZSgpJiZBZS5HKHRoaXMuRGUsdCkpfUhlKCl7cmV0dXJuIHRoaXMuQ2U/dGhpcy5DZTp0aGlzLkxlKCk/QWUuVyh0aGlzLkRlKTpudWxsfU5lKHQsaSxlKXt0PT09dGhpcy5PZSYmaT09PXRoaXMuX3Nlc3Npb25BY3Rpdml0eVRpbWVzdGFtcCYmZT09PXRoaXMuX3Nlc3Npb25TdGFydFRpbWVzdGFtcHx8KHRoaXMuX3Nlc3Npb25TdGFydFRpbWVzdGFtcD1lLHRoaXMuX3Nlc3Npb25BY3Rpdml0eVRpbWVzdGFtcD1pLHRoaXMuT2U9dCx0aGlzLkVlLnJlZ2lzdGVyKHtbcmldOltpLHQsZV19KSl9QmUoKXtpZih0aGlzLk9lJiZ0aGlzLl9zZXNzaW9uQWN0aXZpdHlUaW1lc3RhbXAmJnRoaXMuX3Nlc3Npb25TdGFydFRpbWVzdGFtcClyZXR1cm5bdGhpcy5fc2Vzc2lvbkFjdGl2aXR5VGltZXN0YW1wLHRoaXMuT2UsdGhpcy5fc2Vzc2lvblN0YXJ0VGltZXN0YW1wXTt2YXIgdD10aGlzLkVlLnByb3BzW3JpXTtyZXR1cm4gSSh0KSYmMj09PXQubGVuZ3RoJiZ0LnB1c2godFswXSksdHx8WzAsbnVsbCwwXX1yZXNldFNlc3Npb25JZCgpe3RoaXMuTmUobnVsbCxudWxsLG51bGwpfWRlc3Ryb3koKXtjbGVhclRpbWVvdXQodGhpcy5xZSksdGhpcy5xZT12b2lkIDAsdGhpcy5JZSYmdCYmKHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLHRoaXMuSWUse2NhcHR1cmU6ITF9KSx0aGlzLkllPXZvaWQgMCksdGhpcy5UZT1bXX1VZSgpe3RoaXMuSWU9KCk9Pnt0aGlzLkxlKCkmJkFlLlYodGhpcy5qZSl9LHF0KHQsXCJiZWZvcmV1bmxvYWRcIix0aGlzLkllLHtjYXB0dXJlOiExfSl9Y2hlY2tBbmRHZXRTZXNzaW9uQW5kV2luZG93SWQodCxpKXtpZih2b2lkIDA9PT10JiYodD0hMSksdm9pZCAwPT09aSYmKGk9bnVsbCksXCJhbHdheXNcIj09PXRoaXMuQy5jb29raWVsZXNzX21vZGUpdGhyb3cgbmV3IEVycm9yKCdjaGVja0FuZEdldFNlc3Npb25BbmRXaW5kb3dJZCBzaG91bGQgbm90IGJlIGNhbGxlZCB3aXRoIGNvb2tpZWxlc3NfbW9kZT1cImFsd2F5c1wiJyk7dmFyIGU9aXx8KG5ldyBEYXRlKS5nZXRUaW1lKCksW3IscyxuXT10aGlzLkJlKCksbz10aGlzLkhlKCksYT1MKG4pJiZuPjAmJk1hdGguYWJzKGUtbik+ODY0ZTUsbD0hMSx1PSFzLGg9IXUmJiF0JiZ0aGlzLlJlKGUscik7dXx8aHx8YT8ocz10aGlzLkZlKCksbz10aGlzLk1lKCksc28uaW5mbyhcIm5ldyBzZXNzaW9uIElEIGdlbmVyYXRlZFwiLHtzZXNzaW9uSWQ6cyx3aW5kb3dJZDpvLGNoYW5nZVJlYXNvbjp7bm9TZXNzaW9uSWQ6dSxhY3Rpdml0eVRpbWVvdXQ6aCxzZXNzaW9uUGFzdE1heGltdW1MZW5ndGg6YX19KSxuPWUsbD0hMCk6b3x8KG89dGhpcy5NZSgpLGw9ITApO3ZhciBkPTA9PT1yfHwhdHx8YT9lOnIsdj0wPT09bj8obmV3IERhdGUpLmdldFRpbWUoKTpuO3JldHVybiB0aGlzLnplKG8pLHRoaXMuTmUocyxkLHYpLHR8fHRoaXMuQWUoKSxsJiZ0aGlzLlRlLmZvckVhY2goKHQ9PnQocyxvLGw/e25vU2Vzc2lvbklkOnUsYWN0aXZpdHlUaW1lb3V0Omgsc2Vzc2lvblBhc3RNYXhpbXVtTGVuZ3RoOmF9OnZvaWQgMCkpKSx7c2Vzc2lvbklkOnMsd2luZG93SWQ6byxzZXNzaW9uU3RhcnRUaW1lc3RhbXA6dixjaGFuZ2VSZWFzb246bD97bm9TZXNzaW9uSWQ6dSxhY3Rpdml0eVRpbWVvdXQ6aCxzZXNzaW9uUGFzdE1heGltdW1MZW5ndGg6YX06dm9pZCAwLGxhc3RBY3Rpdml0eVRpbWVzdGFtcDpyfX1BZSgpe2NsZWFyVGltZW91dCh0aGlzLnFlKSx0aGlzLnFlPXNldFRpbWVvdXQoKCgpPT57dmFyW3RdPXRoaXMuQmUoKTtpZih0aGlzLlJlKChuZXcgRGF0ZSkuZ2V0VGltZSgpLHQpKXt2YXIgaT10aGlzLk9lO3RoaXMucmVzZXRTZXNzaW9uSWQoKSx0aGlzLlBlLmVtaXQoXCJmb3JjZWRJZGxlUmVzZXRcIix7aWRsZVNlc3Npb25JZDppfSl9fSksMS4xKnRoaXMuc2Vzc2lvblRpbWVvdXRNcyl9fXZhciBvbz1bXCIkc2V0X29uY2VcIixcIiRzZXRcIl0sYW89VHQoXCJbU2l0ZUFwcHNdXCIpO2NsYXNzIGxve2NvbnN0cnVjdG9yKHQpe3RoaXMuX2luc3RhbmNlPXQsdGhpcy5XZT1bXSx0aGlzLmFwcHM9e319Z2V0IGlzRW5hYmxlZCgpe3JldHVybiEhdGhpcy5faW5zdGFuY2UuY29uZmlnLm9wdF9pbl9zaXRlX2FwcHN9R2UodCxpKXtpZihpKXt2YXIgZT10aGlzLmdsb2JhbHNGb3JFdmVudChpKTt0aGlzLldlLnB1c2goZSksdGhpcy5XZS5sZW5ndGg+MWUzJiYodGhpcy5XZT10aGlzLldlLnNsaWNlKDEwKSl9fWdldCBzaXRlQXBwTG9hZGVycygpe3ZhciB0O3JldHVybiBudWxsPT0odD12Ll9QT1NUSE9HX1JFTU9URV9DT05GSUcpfHxudWxsPT0odD10W3RoaXMuX2luc3RhbmNlLmNvbmZpZy50b2tlbl0pP3ZvaWQgMDp0LnNpdGVBcHBzfWluaXQoKXtpZih0aGlzLmlzRW5hYmxlZCl7dmFyIHQ9dGhpcy5faW5zdGFuY2UuTWkodGhpcy5HZS5iaW5kKHRoaXMpKTt0aGlzLlZlPSgpPT57dCgpLHRoaXMuV2U9W10sdGhpcy5WZT12b2lkIDB9fX1nbG9iYWxzRm9yRXZlbnQodCl7dmFyIGksZSxyLHMsbixvLGE7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiRXZlbnQgcGF5bG9hZCBpcyByZXF1aXJlZFwiKTt2YXIgbD17fSx1PXRoaXMuX2luc3RhbmNlLmdldF9wcm9wZXJ0eShcIiRncm91cHNcIil8fFtdLGg9dGhpcy5faW5zdGFuY2UuZ2V0X3Byb3BlcnR5KFwiJHN0b3JlZF9ncm91cF9wcm9wZXJ0aWVzXCIpfHx7fTtmb3IodmFyW2Qsdl1vZiBPYmplY3QuZW50cmllcyhoKSlsW2RdPXtpZDp1W2RdLHR5cGU6ZCxwcm9wZXJ0aWVzOnZ9O3Zhcnskc2V0X29uY2U6Yywkc2V0OmZ9PXQ7cmV0dXJue2V2ZW50Omcoe30sXyh0LG9vKSx7cHJvcGVydGllczpnKHt9LHQucHJvcGVydGllcyxmP3skc2V0Omcoe30sbnVsbCE9PShpPW51bGw9PShlPXQucHJvcGVydGllcyk/dm9pZCAwOmUuJHNldCkmJnZvaWQgMCE9PWk/aTp7fSxmKX06e30sYz97JHNldF9vbmNlOmcoe30sbnVsbCE9PShyPW51bGw9PShzPXQucHJvcGVydGllcyk/dm9pZCAwOnMuJHNldF9vbmNlKSYmdm9pZCAwIT09cj9yOnt9LGMpfTp7fSksZWxlbWVudHNfY2hhaW46bnVsbCE9PShuPW51bGw9PShvPXQucHJvcGVydGllcyk/dm9pZCAwOm8uJGVsZW1lbnRzX2NoYWluKSYmdm9pZCAwIT09bj9uOlwiXCIsZGlzdGluY3RfaWQ6bnVsbD09KGE9dC5wcm9wZXJ0aWVzKT92b2lkIDA6YS5kaXN0aW5jdF9pZH0pLHBlcnNvbjp7cHJvcGVydGllczp0aGlzLl9pbnN0YW5jZS5nZXRfcHJvcGVydHkoXCIkc3RvcmVkX3BlcnNvbl9wcm9wZXJ0aWVzXCIpfSxncm91cHM6bH19c2V0dXBTaXRlQXBwKHQpe3ZhciBpPXRoaXMuYXBwc1t0LmlkXSxlPSgpPT57dmFyIGU7KCFpLmVycm9yZWQmJnRoaXMuV2UubGVuZ3RoJiYoYW8uaW5mbyhcIlByb2Nlc3NpbmcgXCIrdGhpcy5XZS5sZW5ndGgrXCIgZXZlbnRzIGZvciBzaXRlIGFwcCB3aXRoIGlkIFwiK3QuaWQpLHRoaXMuV2UuZm9yRWFjaCgodD0+bnVsbD09aS5wcm9jZXNzRXZlbnQ/dm9pZCAwOmkucHJvY2Vzc0V2ZW50KHQpKSksaS5wcm9jZXNzZWRCdWZmZXI9ITApLE9iamVjdC52YWx1ZXModGhpcy5hcHBzKS5ldmVyeSgodD0+dC5wcm9jZXNzZWRCdWZmZXJ8fHQuZXJyb3JlZCkpKSYmKG51bGw9PShlPXRoaXMuVmUpfHxlLmNhbGwodGhpcykpfSxyPSExLHM9cz0+e2kuZXJyb3JlZD0hcyxpLmxvYWRlZD0hMCxhby5pbmZvKFwiU2l0ZSBhcHAgd2l0aCBpZCBcIit0LmlkK1wiIFwiKyhzP1wibG9hZGVkXCI6XCJlcnJvcmVkXCIpKSxyJiZlKCl9O3RyeXt2YXJ7cHJvY2Vzc0V2ZW50Om59PXQuaW5pdCh7cG9zdGhvZzp0aGlzLl9pbnN0YW5jZSxjYWxsYmFjazp0PT57cyh0KX19KTtuJiYoaS5wcm9jZXNzRXZlbnQ9bikscj0hMH1jYXRjaChpKXthby5lcnJvcihcIkVycm9yIHdoaWxlIGluaXRpYWxpemluZyBQb3N0SG9nIGFwcCB3aXRoIGNvbmZpZyBpZCBcIit0LmlkLGkpLHMoITEpfWlmKHImJmkubG9hZGVkKXRyeXtlKCl9Y2F0Y2goZSl7YW8uZXJyb3IoXCJFcnJvciB3aGlsZSBwcm9jZXNzaW5nIGJ1ZmZlcmVkIGV2ZW50cyBQb3N0SG9nIGFwcCB3aXRoIGNvbmZpZyBpZCBcIit0LmlkLGUpLGkuZXJyb3JlZD0hMH19SmUoKXt2YXIgdD10aGlzLnNpdGVBcHBMb2FkZXJzfHxbXTtmb3IodmFyIGkgb2YgdCl0aGlzLmFwcHNbaS5pZF09e2lkOmkuaWQsbG9hZGVkOiExLGVycm9yZWQ6ITEscHJvY2Vzc2VkQnVmZmVyOiExfTtmb3IodmFyIGUgb2YgdCl0aGlzLnNldHVwU2l0ZUFwcChlKX1LZSh0KXtpZigwIT09T2JqZWN0LmtleXModGhpcy5hcHBzKS5sZW5ndGgpe3ZhciBpPXRoaXMuZ2xvYmFsc0ZvckV2ZW50KHQpO2Zvcih2YXIgZSBvZiBPYmplY3QudmFsdWVzKHRoaXMuYXBwcykpdHJ5e251bGw9PWUucHJvY2Vzc0V2ZW50fHxlLnByb2Nlc3NFdmVudChpKX1jYXRjaChpKXthby5lcnJvcihcIkVycm9yIHdoaWxlIHByb2Nlc3NpbmcgZXZlbnQgXCIrdC5ldmVudCtcIiBmb3Igc2l0ZSBhcHAgXCIrZS5pZCxpKX19fW9uUmVtb3RlQ29uZmlnKHQpe3ZhciBpLGUscixzPXRoaXM7aWYobnVsbCE9KGk9dGhpcy5zaXRlQXBwTG9hZGVycykmJmkubGVuZ3RoKXJldHVybiB0aGlzLmlzRW5hYmxlZD8odGhpcy5KZSgpLHZvaWQgdGhpcy5faW5zdGFuY2Uub24oXCJldmVudENhcHR1cmVkXCIsKHQ9PnRoaXMuS2UodCkpKSk6dm9pZCBhby5lcnJvcignUG9zdEhvZyBzaXRlIGFwcHMgYXJlIGRpc2FibGVkLiBFbmFibGUgdGhlIFwib3B0X2luX3NpdGVfYXBwc1wiIGNvbmZpZyB0byBwcm9jZWVkLicpO2lmKG51bGw9PShlPXRoaXMuVmUpfHxlLmNhbGwodGhpcyksbnVsbCE9KHI9dC5zaXRlQXBwcykmJnIubGVuZ3RoKWlmKHRoaXMuaXNFbmFibGVkKXt2YXIgbj1mdW5jdGlvbih0KXt2YXIgaTt2W1wiX18kJHBoX3NpdGVfYXBwX1wiK3RdPXMuX2luc3RhbmNlLG51bGw9PShpPXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fKXx8bnVsbD09aS5sb2FkU2l0ZUFwcHx8aS5sb2FkU2l0ZUFwcChzLl9pbnN0YW5jZSxhLChpPT57aWYoaSlyZXR1cm4gYW8uZXJyb3IoXCJFcnJvciB3aGlsZSBpbml0aWFsaXppbmcgUG9zdEhvZyBhcHAgd2l0aCBjb25maWcgaWQgXCIrdCxpKX0pKX07Zm9yKHZhcntpZDpvLHVybDphfW9mIHQuc2l0ZUFwcHMpbihvKX1lbHNlIGFvLmVycm9yKCdQb3N0SG9nIHNpdGUgYXBwcyBhcmUgZGlzYWJsZWQuIEVuYWJsZSB0aGUgXCJvcHRfaW5fc2l0ZV9hcHBzXCIgY29uZmlnIHRvIHByb2NlZWQuJyl9fXZhciB1bz1mdW5jdGlvbih0LGkpe2lmKCF0KXJldHVybiExO3ZhciBlPXQudXNlckFnZW50O2lmKGUmJnkoZSxpKSlyZXR1cm4hMDt0cnl7dmFyIHI9bnVsbD09dD92b2lkIDA6dC51c2VyQWdlbnREYXRhO2lmKG51bGwhPXImJnIuYnJhbmRzJiZyLmJyYW5kcy5zb21lKCh0PT55KG51bGw9PXQ/dm9pZCAwOnQuYnJhbmQsaSkpKSlyZXR1cm4hMH1jYXRjaCh0KXt9cmV0dXJuISF0LndlYmRyaXZlcn0saG89ZnVuY3Rpb24odCl7cmV0dXJuIHQuVVM9XCJ1c1wiLHQuRVU9XCJldVwiLHQuQ1VTVE9NPVwiY3VzdG9tXCIsdH0oe30pLHZvPVwiaS5wb3N0aG9nLmNvbVwiO2NsYXNzIGNve2NvbnN0cnVjdG9yKHQpe3RoaXMuWWU9e30sdGhpcy5pbnN0YW5jZT10fWdldCBhcGlIb3N0KCl7dmFyIHQ9dGhpcy5pbnN0YW5jZS5jb25maWcuYXBpX2hvc3QudHJpbSgpLnJlcGxhY2UoL1xcLyQvLFwiXCIpO3JldHVyblwiaHR0cHM6Ly9hcHAucG9zdGhvZy5jb21cIj09PXQ/XCJodHRwczovL3VzLmkucG9zdGhvZy5jb21cIjp0fWdldCBmbGFnc0FwaUhvc3QoKXt2YXIgdD10aGlzLmluc3RhbmNlLmNvbmZpZy5mbGFnc19hcGlfaG9zdDtyZXR1cm4gdD90LnRyaW0oKS5yZXBsYWNlKC9cXC8kLyxcIlwiKTp0aGlzLmFwaUhvc3R9Z2V0IHVpSG9zdCgpe3ZhciB0LGk9bnVsbD09KHQ9dGhpcy5pbnN0YW5jZS5jb25maWcudWlfaG9zdCk/dm9pZCAwOnQucmVwbGFjZSgvXFwvJC8sXCJcIik7cmV0dXJuIGl8fChpPXRoaXMuYXBpSG9zdC5yZXBsYWNlKFwiLlwiK3ZvLFwiLnBvc3Rob2cuY29tXCIpKSxcImh0dHBzOi8vYXBwLnBvc3Rob2cuY29tXCI9PT1pP1wiaHR0cHM6Ly91cy5wb3N0aG9nLmNvbVwiOml9Z2V0IHJlZ2lvbigpe3JldHVybiB0aGlzLlllW3RoaXMuYXBpSG9zdF18fCgvaHR0cHM6XFwvXFwvKGFwcHx1c3x1cy1hc3NldHMpKFxcLmkpP1xcLnBvc3Rob2dcXC5jb20vaS50ZXN0KHRoaXMuYXBpSG9zdCk/dGhpcy5ZZVt0aGlzLmFwaUhvc3RdPWhvLlVTOi9odHRwczpcXC9cXC8oZXV8ZXUtYXNzZXRzKShcXC5pKT9cXC5wb3N0aG9nXFwuY29tL2kudGVzdCh0aGlzLmFwaUhvc3QpP3RoaXMuWWVbdGhpcy5hcGlIb3N0XT1oby5FVTp0aGlzLlllW3RoaXMuYXBpSG9zdF09aG8uQ1VTVE9NKSx0aGlzLlllW3RoaXMuYXBpSG9zdF19ZW5kcG9pbnRGb3IodCxpKXtpZih2b2lkIDA9PT1pJiYoaT1cIlwiKSxpJiYoaT1cIi9cIj09PWlbMF0/aTpcIi9cIitpKSxcInVpXCI9PT10KXJldHVybiB0aGlzLnVpSG9zdCtpO2lmKFwiZmxhZ3NcIj09PXQpcmV0dXJuIHRoaXMuZmxhZ3NBcGlIb3N0K2k7aWYodGhpcy5yZWdpb249PT1oby5DVVNUT00pcmV0dXJuIHRoaXMuYXBpSG9zdCtpO3ZhciBlPXZvK2k7c3dpdGNoKHQpe2Nhc2VcImFzc2V0c1wiOnJldHVyblwiaHR0cHM6Ly9cIit0aGlzLnJlZ2lvbitcIi1hc3NldHMuXCIrZTtjYXNlXCJhcGlcIjpyZXR1cm5cImh0dHBzOi8vXCIrdGhpcy5yZWdpb24rXCIuXCIrZX19fXZhciBmbz17aWNvbnRhaW5zOihpLGUpPT4hIXQmJmUuaHJlZi50b0xvd2VyQ2FzZSgpLmluZGV4T2YoaS50b0xvd2VyQ2FzZSgpKT4tMSxub3RfaWNvbnRhaW5zOihpLGUpPT4hIXQmJi0xPT09ZS5ocmVmLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihpLnRvTG93ZXJDYXNlKCkpLHJlZ2V4OihpLGUpPT4hIXQmJmhuKGUuaHJlZixpKSxub3RfcmVnZXg6KGksZSk9PiEhdCYmIWhuKGUuaHJlZixpKSxleGFjdDoodCxpKT0+aS5ocmVmPT09dCxpc19ub3Q6KHQsaSk9PmkuaHJlZiE9PXR9O2NsYXNzIHBve2NvbnN0cnVjdG9yKHQpe3ZhciBpPXRoaXM7dGhpcy5nZXRXZWJFeHBlcmltZW50c0FuZEV2YWx1YXRlRGlzcGxheUxvZ2ljPWZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJih0PSExKSxpLmdldFdlYkV4cGVyaW1lbnRzKCh0PT57cG8uWGUoXCJyZXRyaWV2ZWQgd2ViIGV4cGVyaW1lbnRzIGZyb20gdGhlIHNlcnZlclwiKSxpLlFlPW5ldyBNYXAsdC5mb3JFYWNoKCh0PT57aWYodC5mZWF0dXJlX2ZsYWdfa2V5KXt2YXIgZTtpZihpLlFlKXBvLlhlKFwic2V0dGluZyBmbGFnIGtleSBcIix0LmZlYXR1cmVfZmxhZ19rZXksXCIgdG8gd2ViIGV4cGVyaW1lbnQgXCIsdCksbnVsbD09KGU9aS5RZSl8fGUuc2V0KHQuZmVhdHVyZV9mbGFnX2tleSx0KTt2YXIgcj1pLl9pbnN0YW5jZS5nZXRGZWF0dXJlRmxhZyh0LmZlYXR1cmVfZmxhZ19rZXkpO00ocikmJnQudmFyaWFudHNbcl0mJmkuWmUodC5uYW1lLHIsdC52YXJpYW50c1tyXS50cmFuc2Zvcm1zKX1lbHNlIGlmKHQudmFyaWFudHMpZm9yKHZhciBzIGluIHQudmFyaWFudHMpe3ZhciBuPXQudmFyaWFudHNbc107cG8udHIobikmJmkuWmUodC5uYW1lLHMsbi50cmFuc2Zvcm1zKX19KSl9KSx0KX0sdGhpcy5faW5zdGFuY2U9dCx0aGlzLl9pbnN0YW5jZS5vbkZlYXR1cmVGbGFncygodD0+e3RoaXMub25GZWF0dXJlRmxhZ3ModCl9KSl9b25GZWF0dXJlRmxhZ3ModCl7aWYodGhpcy5faXNfYm90KCkpcG8uWGUoXCJSZWZ1c2luZyB0byByZW5kZXIgd2ViIGV4cGVyaW1lbnQgc2luY2UgdGhlIHZpZXdlciBpcyBhIGxpa2VseSBib3RcIik7ZWxzZSBpZighdGhpcy5faW5zdGFuY2UuY29uZmlnLmRpc2FibGVfd2ViX2V4cGVyaW1lbnRzKXtpZihqKHRoaXMuUWUpKXJldHVybiB0aGlzLlFlPW5ldyBNYXAsdGhpcy5sb2FkSWZFbmFibGVkKCksdm9pZCB0aGlzLnByZXZpZXdXZWJFeHBlcmltZW50KCk7cG8uWGUoXCJhcHBseWluZyBmZWF0dXJlIGZsYWdzXCIsdCksdC5mb3JFYWNoKCh0PT57dmFyIGk7aWYodGhpcy5RZSYmbnVsbCE9KGk9dGhpcy5RZSkmJmkuaGFzKHQpKXt2YXIgZSxyPXRoaXMuX2luc3RhbmNlLmdldEZlYXR1cmVGbGFnKHQpLHM9bnVsbD09KGU9dGhpcy5RZSk/dm9pZCAwOmUuZ2V0KHQpO3ImJm51bGwhPXMmJnMudmFyaWFudHNbcl0mJnRoaXMuWmUocy5uYW1lLHIscy52YXJpYW50c1tyXS50cmFuc2Zvcm1zKX19KSl9fXByZXZpZXdXZWJFeHBlcmltZW50KCl7dmFyIHQ9cG8uZ2V0V2luZG93TG9jYXRpb24oKTtpZihudWxsIT10JiZ0LnNlYXJjaCl7dmFyIGk9YWUobnVsbD09dD92b2lkIDA6dC5zZWFyY2gsXCJfX2V4cGVyaW1lbnRfaWRcIiksZT1hZShudWxsPT10P3ZvaWQgMDp0LnNlYXJjaCxcIl9fZXhwZXJpbWVudF92YXJpYW50XCIpO2kmJmUmJihwby5YZShcInByZXZpZXdpbmcgd2ViIGV4cGVyaW1lbnRzIFwiK2krXCIgJiYgXCIrZSksdGhpcy5nZXRXZWJFeHBlcmltZW50cygodD0+e3RoaXMuaXIocGFyc2VJbnQoaSksZSx0KX0pLCExLCEwKSl9fWxvYWRJZkVuYWJsZWQoKXt0aGlzLl9pbnN0YW5jZS5jb25maWcuZGlzYWJsZV93ZWJfZXhwZXJpbWVudHN8fHRoaXMuZ2V0V2ViRXhwZXJpbWVudHNBbmRFdmFsdWF0ZURpc3BsYXlMb2dpYygpfWdldFdlYkV4cGVyaW1lbnRzKHQsaSxlKXtpZih0aGlzLl9pbnN0YW5jZS5jb25maWcuZGlzYWJsZV93ZWJfZXhwZXJpbWVudHMmJiFlKXJldHVybiB0KFtdKTt2YXIgcj10aGlzLl9pbnN0YW5jZS5nZXRfcHJvcGVydHkoXCIkd2ViX2V4cGVyaW1lbnRzXCIpO2lmKHImJiFpKXJldHVybiB0KHIpO3RoaXMuX2luc3RhbmNlLmNpKHt1cmw6dGhpcy5faW5zdGFuY2UucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcImFwaVwiLFwiL2FwaS93ZWJfZXhwZXJpbWVudHMvP3Rva2VuPVwiK3RoaXMuX2luc3RhbmNlLmNvbmZpZy50b2tlbiksbWV0aG9kOlwiR0VUXCIsY2FsbGJhY2s6aT0+e2lmKDIwMCE9PWkuc3RhdHVzQ29kZXx8IWkuanNvbilyZXR1cm4gdChbXSk7dmFyIGU9aS5qc29uLmV4cGVyaW1lbnRzfHxbXTtyZXR1cm4gdChlKX19KX1pcih0LGksZSl7dmFyIHI9ZS5maWx0ZXIoKGk9PmkuaWQ9PT10KSk7ciYmci5sZW5ndGg+MCYmKHBvLlhlKFwiUHJldmlld2luZyB3ZWIgZXhwZXJpbWVudCBbXCIrclswXS5uYW1lK1wiXSB3aXRoIHZhcmlhbnQgW1wiK2krXCJdXCIpLHRoaXMuWmUoclswXS5uYW1lLGksclswXS52YXJpYW50c1tpXS50cmFuc2Zvcm1zKSl9c3RhdGljIHRyKHQpe3JldHVybiFqKHQuY29uZGl0aW9ucykmJihwby5lcih0KSYmcG8ucnIodCkpfXN0YXRpYyBlcih0KXt2YXIgaTtpZihqKHQuY29uZGl0aW9ucyl8fGoobnVsbD09KGk9dC5jb25kaXRpb25zKT92b2lkIDA6aS51cmwpKXJldHVybiEwO3ZhciBlLHIscyxuPXBvLmdldFdpbmRvd0xvY2F0aW9uKCk7cmV0dXJuISFuJiYobnVsbD09KGU9dC5jb25kaXRpb25zKXx8IWUudXJsfHxmb1tudWxsIT09KHI9bnVsbD09KHM9dC5jb25kaXRpb25zKT92b2lkIDA6cy51cmxNYXRjaFR5cGUpJiZ2b2lkIDAhPT1yP3I6XCJpY29udGFpbnNcIl0odC5jb25kaXRpb25zLnVybCxuKSl9c3RhdGljIGdldFdpbmRvd0xvY2F0aW9uKCl7cmV0dXJuIG51bGw9PXQ/dm9pZCAwOnQubG9jYXRpb259c3RhdGljIHJyKHQpe3ZhciBpO2lmKGoodC5jb25kaXRpb25zKXx8aihudWxsPT0oaT10LmNvbmRpdGlvbnMpP3ZvaWQgMDppLnV0bSkpcmV0dXJuITA7dmFyIGU9bnMoKTtpZihlLnV0bV9zb3VyY2Upe3ZhciByLHMsbixvLGEsbCx1LGgsZD1udWxsPT0ocj10LmNvbmRpdGlvbnMpfHxudWxsPT0ocj1yLnV0bSl8fCFyLnV0bV9jYW1wYWlnbnx8KG51bGw9PShzPXQuY29uZGl0aW9ucyl8fG51bGw9PShzPXMudXRtKT92b2lkIDA6cy51dG1fY2FtcGFpZ24pPT1lLnV0bV9jYW1wYWlnbix2PW51bGw9PShuPXQuY29uZGl0aW9ucyl8fG51bGw9PShuPW4udXRtKXx8IW4udXRtX3NvdXJjZXx8KG51bGw9PShvPXQuY29uZGl0aW9ucyl8fG51bGw9PShvPW8udXRtKT92b2lkIDA6by51dG1fc291cmNlKT09ZS51dG1fc291cmNlLGM9bnVsbD09KGE9dC5jb25kaXRpb25zKXx8bnVsbD09KGE9YS51dG0pfHwhYS51dG1fbWVkaXVtfHwobnVsbD09KGw9dC5jb25kaXRpb25zKXx8bnVsbD09KGw9bC51dG0pP3ZvaWQgMDpsLnV0bV9tZWRpdW0pPT1lLnV0bV9tZWRpdW0sZj1udWxsPT0odT10LmNvbmRpdGlvbnMpfHxudWxsPT0odT11LnV0bSl8fCF1LnV0bV90ZXJtfHwobnVsbD09KGg9dC5jb25kaXRpb25zKXx8bnVsbD09KGg9aC51dG0pP3ZvaWQgMDpoLnV0bV90ZXJtKT09ZS51dG1fdGVybTtyZXR1cm4gZCYmYyYmZiYmdn1yZXR1cm4hMX1zdGF0aWMgWGUodCl7Zm9yKHZhciBpPWFyZ3VtZW50cy5sZW5ndGgsZT1uZXcgQXJyYXkoaT4xP2ktMTowKSxyPTE7cjxpO3IrKyllW3ItMV09YXJndW1lbnRzW3JdO1B0LmluZm8oXCJbV2ViRXhwZXJpbWVudHNdIFwiK3QsZSl9WmUodCxpLGUpe3RoaXMuX2lzX2JvdCgpP3BvLlhlKFwiUmVmdXNpbmcgdG8gcmVuZGVyIHdlYiBleHBlcmltZW50IHNpbmNlIHRoZSB2aWV3ZXIgaXMgYSBsaWtlbHkgYm90XCIpOlwiY29udHJvbFwiIT09aT9lLmZvckVhY2goKGU9PntpZihlLnNlbGVjdG9yKXt2YXIgcjtwby5YZShcImFwcGx5aW5nIHRyYW5zZm9ybSBvZiB2YXJpYW50IFwiK2krXCIgZm9yIGV4cGVyaW1lbnQgXCIrdCtcIiBcIixlKTt2YXIgcz1udWxsPT0ocj1kb2N1bWVudCk/dm9pZCAwOnIucXVlcnlTZWxlY3RvckFsbChlLnNlbGVjdG9yKTtudWxsPT1zfHxzLmZvckVhY2goKHQ9Pnt2YXIgaT10O2UuaHRtbCYmKGkuaW5uZXJIVE1MPWUuaHRtbCksZS5jc3MmJmkuc2V0QXR0cmlidXRlKFwic3R5bGVcIixlLmNzcyl9KSl9fSkpOnBvLlhlKFwiQ29udHJvbCB2YXJpYW50cyBsZWF2ZSB0aGUgcGFnZSB1bm1vZGlmaWVkLlwiKX1faXNfYm90KCl7cmV0dXJuIG4mJnRoaXMuX2luc3RhbmNlP3VvKG4sdGhpcy5faW5zdGFuY2UuY29uZmlnLmN1c3RvbV9ibG9ja2VkX3VzZXJhZ2VudHMpOnZvaWQgMH19dmFyIGdvPVR0KFwiW1Bvc3RIb2cgRXh0ZXJuYWxJbnRlZ3JhdGlvbnNdXCIpLF9vPXtpbnRlcmNvbTpcImludGVyY29tLWludGVncmF0aW9uXCIsY3Jpc3BDaGF0OlwiY3Jpc3AtY2hhdC1pbnRlZ3JhdGlvblwifTtjbGFzcyBtb3tjb25zdHJ1Y3Rvcih0KXt0aGlzLl9pbnN0YW5jZT10fWl0KHQsaSl7dmFyIGU7bnVsbD09KGU9di5fX1Bvc3Rob2dFeHRlbnNpb25zX18pfHxudWxsPT1lLmxvYWRFeHRlcm5hbERlcGVuZGVuY3l8fGUubG9hZEV4dGVybmFsRGVwZW5kZW5jeSh0aGlzLl9pbnN0YW5jZSx0LCh0PT57aWYodClyZXR1cm4gZ28uZXJyb3IoXCJmYWlsZWQgdG8gbG9hZCBzY3JpcHRcIix0KTtpKCl9KSl9c3RhcnRJZkVuYWJsZWRPclN0b3AoKXt2YXIgdD10aGlzLGk9ZnVuY3Rpb24oaSl7dmFyIGUscyxuOyghcnx8bnVsbCE9KGU9di5fX1Bvc3Rob2dFeHRlbnNpb25zX18pJiZudWxsIT0oZT1lLmludGVncmF0aW9ucykmJmVbaV18fHQuaXQoX29baV0sKCgpPT57dmFyIGU7bnVsbD09KGU9di5fX1Bvc3Rob2dFeHRlbnNpb25zX18pfHxudWxsPT0oZT1lLmludGVncmF0aW9ucyl8fG51bGw9PShlPWVbaV0pfHxlLnN0YXJ0KHQuX2luc3RhbmNlKX0pKSwhciYmbnVsbCE9KHM9di5fX1Bvc3Rob2dFeHRlbnNpb25zX18pJiZudWxsIT0ocz1zLmludGVncmF0aW9ucykmJnNbaV0pJiYobnVsbD09KG49di5fX1Bvc3Rob2dFeHRlbnNpb25zX18pfHxudWxsPT0obj1uLmludGVncmF0aW9ucyl8fG51bGw9PShuPW5baV0pfHxuLnN0b3AoKSl9O2Zvcih2YXJbZSxyXW9mIE9iamVjdC5lbnRyaWVzKG51bGwhPT0ocz10aGlzLl9pbnN0YW5jZS5jb25maWcuaW50ZWdyYXRpb25zKSYmdm9pZCAwIT09cz9zOnt9KSl7dmFyIHM7aShlKX19fXZhciB5bz1cIltTZXNzaW9uUmVjb3JkaW5nXVwiLGJvPVR0KHlvKTtjbGFzcyB3b3tnZXQgc3RhcnRlZCgpe3ZhciB0O3JldHVybiEobnVsbD09KHQ9dGhpcy5zcil8fCF0LmlzU3RhcnRlZCl9Z2V0IHN0YXR1cygpe3JldHVybiB0aGlzLnNyP3RoaXMuc3Iuc3RhdHVzOnRoaXMubnImJiF0aGlzLmFyP1wiZGlzYWJsZWRcIjpcImxhenlfbG9hZGluZ1wifWNvbnN0cnVjdG9yKHQpe2lmKHRoaXMuX2ZvcmNlQWxsb3dMb2NhbGhvc3ROZXR3b3JrQ2FwdHVyZT0hMSx0aGlzLm5yPSExLHRoaXMubHI9dm9pZCAwLHRoaXMuX2luc3RhbmNlPXQsIXRoaXMuX2luc3RhbmNlLnNlc3Npb25NYW5hZ2VyKXRocm93IGJvLmVycm9yKFwic3RhcnRlZCB3aXRob3V0IHZhbGlkIHNlc3Npb25NYW5hZ2VyXCIpLG5ldyBFcnJvcih5bytcIiBzdGFydGVkIHdpdGhvdXQgdmFsaWQgc2Vzc2lvbk1hbmFnZXIuIFRoaXMgaXMgYSBidWcuXCIpO2lmKFwiYWx3YXlzXCI9PT10aGlzLl9pbnN0YW5jZS5jb25maWcuY29va2llbGVzc19tb2RlKXRocm93IG5ldyBFcnJvcih5bysnIGNhbm5vdCBiZSB1c2VkIHdpdGggY29va2llbGVzc19tb2RlPVwiYWx3YXlzXCInKX1nZXQgYXIoKXt2YXIgaSxlPSEobnVsbD09KGk9dGhpcy5faW5zdGFuY2UuZ2V0X3Byb3BlcnR5KGVpKSl8fCFpLmVuYWJsZWQpLHI9IXRoaXMuX2luc3RhbmNlLmNvbmZpZy5kaXNhYmxlX3Nlc3Npb25fcmVjb3JkaW5nLHM9dGhpcy5faW5zdGFuY2UuY29uZmlnLmRpc2FibGVfc2Vzc2lvbl9yZWNvcmRpbmd8fHRoaXMuX2luc3RhbmNlLmNvbnNlbnQuaXNPcHRlZE91dCgpO3JldHVybiB0JiZlJiZyJiYhc31zdGFydElmRW5hYmxlZE9yU3RvcCh0KXt2YXIgaTtpZighdGhpcy5hcnx8bnVsbD09KGk9dGhpcy5zcil8fCFpLmlzU3RhcnRlZCl7dmFyIGU9IUYoT2JqZWN0LmFzc2lnbikmJiFGKEFycmF5LmZyb20pO3RoaXMuYXImJmU/KHRoaXMudXIodCksYm8uaW5mbyhcInN0YXJ0aW5nXCIpKTp0aGlzLnN0b3BSZWNvcmRpbmcoKX19dXIodCl7dmFyIGksZSxyO3RoaXMuYXImJihudWxsIT12JiZudWxsIT0oaT12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXykmJm51bGwhPShpPWkucnJ3ZWIpJiZpLnJlY29yZCYmbnVsbCE9KGU9di5fX1Bvc3Rob2dFeHRlbnNpb25zX18pJiZlLmluaXRTZXNzaW9uUmVjb3JkaW5nP3RoaXMuaHIodCk6bnVsbD09KHI9di5fX1Bvc3Rob2dFeHRlbnNpb25zX18pfHxudWxsPT1yLmxvYWRFeHRlcm5hbERlcGVuZGVuY3l8fHIubG9hZEV4dGVybmFsRGVwZW5kZW5jeSh0aGlzLl9pbnN0YW5jZSx0aGlzLmRyLChpPT57aWYoaSlyZXR1cm4gYm8uZXJyb3IoXCJjb3VsZCBub3QgbG9hZCByZWNvcmRlclwiLGkpO3RoaXMuaHIodCl9KSkpfXN0b3BSZWNvcmRpbmcoKXt2YXIgdCxpO251bGw9PSh0PXRoaXMubHIpfHx0LmNhbGwodGhpcyksdGhpcy5scj12b2lkIDAsbnVsbD09KGk9dGhpcy5zcil8fGkuc3RvcCgpfXZyKCl7dmFyIHQ7bnVsbD09KHQ9dGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UpfHx0LnVucmVnaXN0ZXIoc2kpfWNyKHQpe2lmKHRoaXMuX2luc3RhbmNlLnBlcnNpc3RlbmNlKXt2YXIgaSxlLHI9dGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2Uscz0oKT0+e3ZhciBpPSExPT09dC5zZXNzaW9uUmVjb3JkaW5nP3ZvaWQgMDp0LnNlc3Npb25SZWNvcmRpbmcsZT1udWxsPT1pP3ZvaWQgMDppLnNhbXBsZVJhdGUscz1qKGUpP251bGw6cGFyc2VGbG9hdChlKTtqKHMpJiZ0aGlzLnZyKCk7dmFyIG49bnVsbD09aT92b2lkIDA6aS5taW5pbXVtRHVyYXRpb25NaWxsaXNlY29uZHM7ci5yZWdpc3Rlcih7W2VpXTpnKHtlbmFibGVkOiEhaX0saSx7bmV0d29ya1BheWxvYWRDYXB0dXJlOmcoe2NhcHR1cmVQZXJmb3JtYW5jZTp0LmNhcHR1cmVQZXJmb3JtYW5jZX0sbnVsbD09aT92b2lkIDA6aS5uZXR3b3JrUGF5bG9hZENhcHR1cmUpLGNhbnZhc1JlY29yZGluZzp7ZW5hYmxlZDpudWxsPT1pP3ZvaWQgMDppLnJlY29yZENhbnZhcyxmcHM6bnVsbD09aT92b2lkIDA6aS5jYW52YXNGcHMscXVhbGl0eTpudWxsPT1pP3ZvaWQgMDppLmNhbnZhc1F1YWxpdHl9LHNhbXBsZVJhdGU6cyxtaW5pbXVtRHVyYXRpb25NaWxsaXNlY29uZHM6RihuKT9udWxsOm4sZW5kcG9pbnQ6bnVsbD09aT92b2lkIDA6aS5lbmRwb2ludCx0cmlnZ2VyTWF0Y2hUeXBlOm51bGw9PWk/dm9pZCAwOmkudHJpZ2dlck1hdGNoVHlwZSxtYXNraW5nOm51bGw9PWk/dm9pZCAwOmkubWFza2luZyx1cmxUcmlnZ2VyczpudWxsPT1pP3ZvaWQgMDppLnVybFRyaWdnZXJzfSl9KX07cygpLG51bGw9PShpPXRoaXMubHIpfHxpLmNhbGwodGhpcyksdGhpcy5scj1udWxsPT0oZT10aGlzLl9pbnN0YW5jZS5zZXNzaW9uTWFuYWdlcik/dm9pZCAwOmUub25TZXNzaW9uSWQocyl9fW9uUmVtb3RlQ29uZmlnKHQpe1wic2Vzc2lvblJlY29yZGluZ1wiaW4gdD8hMSE9PXQuc2Vzc2lvblJlY29yZGluZz8odGhpcy5jcih0KSx0aGlzLm5yPSEwLHRoaXMuc3RhcnRJZkVuYWJsZWRPclN0b3AoKSk6dGhpcy5ucj0hMDpiby5pbmZvKFwic2tpcHBpbmcgcmVtb3RlIGNvbmZpZyB3aXRoIG5vIHNlc3Npb25SZWNvcmRpbmdcIix0KX1sb2codCxpKXt2YXIgZTt2b2lkIDA9PT1pJiYoaT1cImxvZ1wiKSxudWxsIT0oZT10aGlzLnNyKSYmZS5sb2c/dGhpcy5zci5sb2codCxpKTpiby53YXJuKFwibG9nIGNhbGxlZCBiZWZvcmUgcmVjb3JkZXIgd2FzIHJlYWR5XCIpfWdldCBkcigpe3ZhciB0LGksZT1udWxsPT0odD10aGlzLl9pbnN0YW5jZSl8fG51bGw9PSh0PXQucGVyc2lzdGVuY2UpP3ZvaWQgMDp0LmdldF9wcm9wZXJ0eShlaSk7cmV0dXJuKG51bGw9PWV8fG51bGw9PShpPWUuc2NyaXB0Q29uZmlnKT92b2lkIDA6aS5zY3JpcHQpfHxcImxhenktcmVjb3JkZXJcIn1ocih0KXt2YXIgaSxlO2lmKG51bGw9PShpPXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fKXx8IWkuaW5pdFNlc3Npb25SZWNvcmRpbmcpdGhyb3cgRXJyb3IoXCJDYWxsZWQgb24gc2NyaXB0IGxvYWRlZCBiZWZvcmUgc2Vzc2lvbiByZWNvcmRpbmcgaXMgYXZhaWxhYmxlXCIpO3RoaXMuc3J8fCh0aGlzLnNyPW51bGw9PShlPXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fKT92b2lkIDA6ZS5pbml0U2Vzc2lvblJlY29yZGluZyh0aGlzLl9pbnN0YW5jZSksdGhpcy5zci5fZm9yY2VBbGxvd0xvY2FsaG9zdE5ldHdvcmtDYXB0dXJlPXRoaXMuX2ZvcmNlQWxsb3dMb2NhbGhvc3ROZXR3b3JrQ2FwdHVyZSk7dGhpcy5zci5zdGFydCh0KX1vblJSd2ViRW1pdCh0KXt2YXIgaTtudWxsPT0oaT10aGlzLnNyKXx8bnVsbD09aS5vblJSd2ViRW1pdHx8aS5vblJSd2ViRW1pdCh0KX1vdmVycmlkZUxpbmtlZEZsYWcoKXt2YXIgdCxpO3RoaXMuc3J8fChudWxsPT0oaT10aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZSl8fGkucmVnaXN0ZXIoeyRyZXBsYXlfb3ZlcnJpZGVfbGlua2VkX2ZsYWc6ITB9KSk7bnVsbD09KHQ9dGhpcy5zcil8fHQub3ZlcnJpZGVMaW5rZWRGbGFnKCl9b3ZlcnJpZGVTYW1wbGluZygpe3ZhciB0LGk7dGhpcy5zcnx8KG51bGw9PShpPXRoaXMuX2luc3RhbmNlLnBlcnNpc3RlbmNlKXx8aS5yZWdpc3Rlcih7JHJlcGxheV9vdmVycmlkZV9zYW1wbGluZzohMH0pKTtudWxsPT0odD10aGlzLnNyKXx8dC5vdmVycmlkZVNhbXBsaW5nKCl9b3ZlcnJpZGVUcmlnZ2VyKHQpe3ZhciBpLGU7dGhpcy5zcnx8KG51bGw9PShlPXRoaXMuX2luc3RhbmNlLnBlcnNpc3RlbmNlKXx8ZS5yZWdpc3Rlcih7W1widXJsXCI9PT10P1wiJHJlcGxheV9vdmVycmlkZV91cmxfdHJpZ2dlclwiOlwiJHJlcGxheV9vdmVycmlkZV9ldmVudF90cmlnZ2VyXCJdOiEwfSkpO251bGw9PShpPXRoaXMuc3IpfHxpLm92ZXJyaWRlVHJpZ2dlcih0KX1nZXQgc2RrRGVidWdQcm9wZXJ0aWVzKCl7dmFyIHQ7cmV0dXJuKG51bGw9PSh0PXRoaXMuc3IpP3ZvaWQgMDp0LnNka0RlYnVnUHJvcGVydGllcyl8fHskcmVjb3JkaW5nX3N0YXR1czp0aGlzLnN0YXR1c319dHJ5QWRkQ3VzdG9tRXZlbnQodCxpKXt2YXIgZTtyZXR1cm4hKG51bGw9PShlPXRoaXMuc3IpfHwhZS50cnlBZGRDdXN0b21FdmVudCh0LGkpKX19dmFyIHhvPXt9LCRvPSgpPT57fSxTbz1cInBvc3Rob2dcIixFbz0hc24mJi0xPT09KG51bGw9PWQ/dm9pZCAwOmQuaW5kZXhPZihcIk1TSUVcIikpJiYtMT09PShudWxsPT1kP3ZvaWQgMDpkLmluZGV4T2YoXCJNb3ppbGxhXCIpKSxrbz1pPT57dmFyIGU7cmV0dXJue2FwaV9ob3N0OlwiaHR0cHM6Ly91cy5pLnBvc3Rob2cuY29tXCIsZmxhZ3NfYXBpX2hvc3Q6bnVsbCx1aV9ob3N0Om51bGwsdG9rZW46XCJcIixhdXRvY2FwdHVyZTohMCxyYWdlY2xpY2s6ITAsY3Jvc3Nfc3ViZG9tYWluX2Nvb2tpZTpIdChudWxsPT1vP3ZvaWQgMDpvLmxvY2F0aW9uKSxwZXJzaXN0ZW5jZTpcImxvY2FsU3RvcmFnZStjb29raWVcIixwZXJzaXN0ZW5jZV9uYW1lOlwiXCIsbG9hZGVkOiRvLHNhdmVfY2FtcGFpZ25fcGFyYW1zOiEwLGN1c3RvbV9jYW1wYWlnbl9wYXJhbXM6W10sY3VzdG9tX2Jsb2NrZWRfdXNlcmFnZW50czpbXSxzYXZlX3JlZmVycmVyOiEwLGNhcHR1cmVfcGFnZXZpZXc6XCIyMDI1LTA1LTI0XCIhPT1pfHxcImhpc3RvcnlfY2hhbmdlXCIsY2FwdHVyZV9wYWdlbGVhdmU6XCJpZl9jYXB0dXJlX3BhZ2V2aWV3XCIsZGVmYXVsdHM6bnVsbCE9aT9pOlwidW5zZXRcIixfX3ByZXZpZXdfZGVmZXJyZWRfaW5pdF9leHRlbnNpb25zOiExLGRlYnVnOmEmJk0obnVsbD09YT92b2lkIDA6YS5zZWFyY2gpJiYtMSE9PWEuc2VhcmNoLmluZGV4T2YoXCJfX3Bvc3Rob2dfZGVidWc9dHJ1ZVwiKXx8ITEsY29va2llX2V4cGlyYXRpb246MzY1LHVwZ3JhZGU6ITEsZGlzYWJsZV9zZXNzaW9uX3JlY29yZGluZzohMSxkaXNhYmxlX3BlcnNpc3RlbmNlOiExLGRpc2FibGVfd2ViX2V4cGVyaW1lbnRzOiEwLGRpc2FibGVfc3VydmV5czohMSxkaXNhYmxlX3N1cnZleXNfYXV0b21hdGljX2Rpc3BsYXk6ITEsZGlzYWJsZV9leHRlcm5hbF9kZXBlbmRlbmN5X2xvYWRpbmc6ITEsZW5hYmxlX3JlY29yZGluZ19jb25zb2xlX2xvZzp2b2lkIDAsc2VjdXJlX2Nvb2tpZTpcImh0dHBzOlwiPT09KG51bGw9PXR8fG51bGw9PShlPXQubG9jYXRpb24pP3ZvaWQgMDplLnByb3RvY29sKSxpcDohMSxvcHRfb3V0X2NhcHR1cmluZ19ieV9kZWZhdWx0OiExLG9wdF9vdXRfcGVyc2lzdGVuY2VfYnlfZGVmYXVsdDohMSxvcHRfb3V0X3VzZXJhZ2VudF9maWx0ZXI6ITEsb3B0X291dF9jYXB0dXJpbmdfcGVyc2lzdGVuY2VfdHlwZTpcImxvY2FsU3RvcmFnZVwiLGNvbnNlbnRfcGVyc2lzdGVuY2VfbmFtZTpudWxsLG9wdF9vdXRfY2FwdHVyaW5nX2Nvb2tpZV9wcmVmaXg6bnVsbCxvcHRfaW5fc2l0ZV9hcHBzOiExLHByb3BlcnR5X2RlbnlsaXN0OltdLHJlc3BlY3RfZG50OiExLHNhbml0aXplX3Byb3BlcnRpZXM6bnVsbCxyZXF1ZXN0X2hlYWRlcnM6e30scmVxdWVzdF9iYXRjaGluZzohMCxwcm9wZXJ0aWVzX3N0cmluZ19tYXhfbGVuZ3RoOjY1NTM1LHNlc3Npb25fcmVjb3JkaW5nOnt9LG1hc2tfYWxsX2VsZW1lbnRfYXR0cmlidXRlczohMSxtYXNrX2FsbF90ZXh0OiExLG1hc2tfcGVyc29uYWxfZGF0YV9wcm9wZXJ0aWVzOiExLGN1c3RvbV9wZXJzb25hbF9kYXRhX3Byb3BlcnRpZXM6W10sYWR2YW5jZWRfZGlzYWJsZV9mbGFnczohMSxhZHZhbmNlZF9kaXNhYmxlX2RlY2lkZTohMSxhZHZhbmNlZF9kaXNhYmxlX2ZlYXR1cmVfZmxhZ3M6ITEsYWR2YW5jZWRfZGlzYWJsZV9mZWF0dXJlX2ZsYWdzX29uX2ZpcnN0X2xvYWQ6ITEsYWR2YW5jZWRfb25seV9ldmFsdWF0ZV9zdXJ2ZXlfZmVhdHVyZV9mbGFnczohMSxhZHZhbmNlZF9lbmFibGVfc3VydmV5czohMSxhZHZhbmNlZF9kaXNhYmxlX3Rvb2xiYXJfbWV0cmljczohMSxmZWF0dXJlX2ZsYWdfcmVxdWVzdF90aW1lb3V0X21zOjNlMyxzdXJ2ZXlzX3JlcXVlc3RfdGltZW91dF9tczoxZTQsb25fcmVxdWVzdF9lcnJvcjp0PT57dmFyIGk9XCJCYWQgSFRUUCBzdGF0dXM6IFwiK3Quc3RhdHVzQ29kZStcIiBcIit0LnRleHQ7UHQuZXJyb3IoaSl9LGdldF9kZXZpY2VfaWQ6dD0+dCxjYXB0dXJlX3BlcmZvcm1hbmNlOnZvaWQgMCxuYW1lOlwicG9zdGhvZ1wiLGJvb3RzdHJhcDp7fSxkaXNhYmxlX2NvbXByZXNzaW9uOiExLHNlc3Npb25faWRsZV90aW1lb3V0X3NlY29uZHM6MTgwMCxwZXJzb25fcHJvZmlsZXM6XCJpZGVudGlmaWVkX29ubHlcIixiZWZvcmVfc2VuZDp2b2lkIDAscmVxdWVzdF9xdWV1ZV9jb25maWc6e2ZsdXNoX2ludGVydmFsX21zOlhufSxlcnJvcl90cmFja2luZzp7fSxfb25DYXB0dXJlOiRvLF9fcHJldmlld19lYWdlcl9sb2FkX3JlcGxheTohMX19LFBvPXQ9Pnt2YXIgaT17fTtGKHQucHJvY2Vzc19wZXJzb24pfHwoaS5wZXJzb25fcHJvZmlsZXM9dC5wcm9jZXNzX3BlcnNvbiksRih0Lnhocl9oZWFkZXJzKXx8KGkucmVxdWVzdF9oZWFkZXJzPXQueGhyX2hlYWRlcnMpLEYodC5jb29raWVfbmFtZSl8fChpLnBlcnNpc3RlbmNlX25hbWU9dC5jb29raWVfbmFtZSksRih0LmRpc2FibGVfY29va2llKXx8KGkuZGlzYWJsZV9wZXJzaXN0ZW5jZT10LmRpc2FibGVfY29va2llKSxGKHQuc3RvcmVfZ29vZ2xlKXx8KGkuc2F2ZV9jYW1wYWlnbl9wYXJhbXM9dC5zdG9yZV9nb29nbGUpLEYodC52ZXJib3NlKXx8KGkuZGVidWc9dC52ZXJib3NlKTt2YXIgZT1NdCh7fSxpLHQpO3JldHVybiBJKHQucHJvcGVydHlfYmxhY2tsaXN0KSYmKEYodC5wcm9wZXJ0eV9kZW55bGlzdCk/ZS5wcm9wZXJ0eV9kZW55bGlzdD10LnByb3BlcnR5X2JsYWNrbGlzdDpJKHQucHJvcGVydHlfZGVueWxpc3QpP2UucHJvcGVydHlfZGVueWxpc3Q9Wy4uLnQucHJvcGVydHlfYmxhY2tsaXN0LC4uLnQucHJvcGVydHlfZGVueWxpc3RdOlB0LmVycm9yKFwiSW52YWxpZCB2YWx1ZSBmb3IgcHJvcGVydHlfZGVueWxpc3QgY29uZmlnOiBcIit0LnByb3BlcnR5X2RlbnlsaXN0KSksZX07Y2xhc3MgVG97Y29uc3RydWN0b3IoKXt0aGlzLl9fZm9yY2VBbGxvd0xvY2FsaG9zdD0hMX1nZXQgcHIoKXtyZXR1cm4gdGhpcy5fX2ZvcmNlQWxsb3dMb2NhbGhvc3R9c2V0IHByKHQpe1B0LmVycm9yKFwiV2ViUGVyZm9ybWFuY2VPYnNlcnZlciBpcyBkZXByZWNhdGVkIGFuZCBoYXMgbm8gaW1wYWN0IG9uIG5ldHdvcmsgY2FwdHVyZS4gVXNlIGBfZm9yY2VBbGxvd0xvY2FsaG9zdE5ldHdvcmtDYXB0dXJlYCBvbiBgcG9zdGhvZy5zZXNzaW9uUmVjb3JkaW5nYFwiKSx0aGlzLl9fZm9yY2VBbGxvd0xvY2FsaG9zdD10fX1jbGFzcyBJb3tnZXQgZGVjaWRlRW5kcG9pbnRXYXNIaXQoKXt2YXIgdCxpO3JldHVybiBudWxsIT09KHQ9bnVsbD09KGk9dGhpcy5mZWF0dXJlRmxhZ3MpP3ZvaWQgMDppLmhhc0xvYWRlZEZsYWdzKSYmdm9pZCAwIT09dCYmdH1nZXQgZmxhZ3NFbmRwb2ludFdhc0hpdCgpe3ZhciB0LGk7cmV0dXJuIG51bGwhPT0odD1udWxsPT0oaT10aGlzLmZlYXR1cmVGbGFncyk/dm9pZCAwOmkuaGFzTG9hZGVkRmxhZ3MpJiZ2b2lkIDAhPT10JiZ0fWNvbnN0cnVjdG9yKCl7dGhpcy53ZWJQZXJmb3JtYW5jZT1uZXcgVG8sdGhpcy5ncj0hMSx0aGlzLnZlcnNpb249Yy5MSUJfVkVSU0lPTix0aGlzLl9yPW5ldyBqbix0aGlzLl9jYWxjdWxhdGVfZXZlbnRfcHJvcGVydGllcz10aGlzLmNhbGN1bGF0ZUV2ZW50UHJvcGVydGllcy5iaW5kKHRoaXMpLHRoaXMuY29uZmlnPWtvKCksdGhpcy5TZW50cnlJbnRlZ3JhdGlvbj1ZZSx0aGlzLnNlbnRyeUludGVncmF0aW9uPXQ9PmZ1bmN0aW9uKHQsaSl7dmFyIGU9S2UodCxpKTtyZXR1cm57bmFtZTpKZSxwcm9jZXNzRXZlbnQ6dD0+ZSh0KX19KHRoaXMsdCksdGhpcy5fX3JlcXVlc3RfcXVldWU9W10sdGhpcy5fX2xvYWRlZD0hMSx0aGlzLmFuYWx5dGljc0RlZmF1bHRFbmRwb2ludD1cIi9lL1wiLHRoaXMubXI9ITEsdGhpcy55cj1udWxsLHRoaXMuYnI9bnVsbCx0aGlzLndyPW51bGwsdGhpcy5mZWF0dXJlRmxhZ3M9bmV3IEVuKHRoaXMpLHRoaXMudG9vbGJhcj1uZXcgaXIodGhpcyksdGhpcy5zY3JvbGxNYW5hZ2VyPW5ldyBpbyh0aGlzKSx0aGlzLnBhZ2VWaWV3TWFuYWdlcj1uZXcgd3ModGhpcyksdGhpcy5zdXJ2ZXlzPW5ldyBHbih0aGlzKSx0aGlzLmV4cGVyaW1lbnRzPW5ldyBwbyh0aGlzKSx0aGlzLmV4Y2VwdGlvbnM9bmV3IHBuKHRoaXMpLHRoaXMucmF0ZUxpbWl0ZXI9bmV3IEpuKHRoaXMpLHRoaXMucmVxdWVzdFJvdXRlcj1uZXcgY28odGhpcyksdGhpcy5jb25zZW50PW5ldyBqZSh0aGlzKSx0aGlzLmV4dGVybmFsSW50ZWdyYXRpb25zPW5ldyBtbyh0aGlzKSx0aGlzLnBlb3BsZT17c2V0Oih0LGksZSk9Pnt2YXIgcj1NKHQpP3tbdF06aX06dDt0aGlzLnNldFBlcnNvblByb3BlcnRpZXMociksbnVsbD09ZXx8ZSh7fSl9LHNldF9vbmNlOih0LGksZSk9Pnt2YXIgcj1NKHQpP3tbdF06aX06dDt0aGlzLnNldFBlcnNvblByb3BlcnRpZXModm9pZCAwLHIpLG51bGw9PWV8fGUoe30pfX0sdGhpcy5vbihcImV2ZW50Q2FwdHVyZWRcIiwodD0+UHQuaW5mbygnc2VuZCBcIicrKG51bGw9PXQ/dm9pZCAwOnQuZXZlbnQpKydcIicsdCkpKX1pbml0KHQsaSxlKXtpZihlJiZlIT09U28pe3ZhciByLHM9bnVsbCE9PShyPXhvW2VdKSYmdm9pZCAwIT09cj9yOm5ldyBJbztyZXR1cm4gcy5faW5pdCh0LGksZSkseG9bZV09cyx4b1tTb11bZV09cyxzfXJldHVybiB0aGlzLl9pbml0KHQsaSxlKX1faW5pdChpLGUscil7dmFyIHM7aWYodm9pZCAwPT09ZSYmKGU9e30pLEYoaSl8fEEoaSkpcmV0dXJuIFB0LmNyaXRpY2FsKFwiUG9zdEhvZyB3YXMgaW5pdGlhbGl6ZWQgd2l0aG91dCBhIHRva2VuLiBUaGlzIGxpa2VseSBpbmRpY2F0ZXMgYSBtaXNjb25maWd1cmF0aW9uLiBQbGVhc2UgY2hlY2sgdGhlIGZpcnN0IGFyZ3VtZW50IHBhc3NlZCB0byBwb3N0aG9nLmluaXQoKVwiKSx0aGlzO2lmKHRoaXMuX19sb2FkZWQpcmV0dXJuIGNvbnNvbGUud2FybihcIltQb3N0SG9nLmpzXVwiLFwiWW91IGhhdmUgYWxyZWFkeSBpbml0aWFsaXplZCBQb3N0SG9nISBSZS1pbml0aWFsaXppbmcgaXMgYSBuby1vcFwiKSx0aGlzO3RoaXMuX19sb2FkZWQ9ITAsdGhpcy5jb25maWc9e30sZS5kZWJ1Zz10aGlzLiRyKGUuZGVidWcpLHRoaXMuU3I9ZSx0aGlzLkVyPVtdLGUucGVyc29uX3Byb2ZpbGVzJiYodGhpcy5icj1lLnBlcnNvbl9wcm9maWxlcyksdGhpcy5zZXRfY29uZmlnKE10KHt9LGtvKGUuZGVmYXVsdHMpLFBvKGUpLHtuYW1lOnIsdG9rZW46aX0pKSx0aGlzLmNvbmZpZy5vbl94aHJfZXJyb3ImJlB0LmVycm9yKFwib25feGhyX2Vycm9yIGlzIGRlcHJlY2F0ZWQuIFVzZSBvbl9yZXF1ZXN0X2Vycm9yIGluc3RlYWRcIiksdGhpcy5jb21wcmVzc2lvbj1lLmRpc2FibGVfY29tcHJlc3Npb24/dm9pZCAwOnJlLkdaaXBKUzt2YXIgbj10aGlzLmtyKCk7dGhpcy5wZXJzaXN0ZW5jZT1uZXcgUG4odGhpcy5jb25maWcsbiksdGhpcy5zZXNzaW9uUGVyc2lzdGVuY2U9XCJzZXNzaW9uU3RvcmFnZVwiPT09dGhpcy5jb25maWcucGVyc2lzdGVuY2V8fFwibWVtb3J5XCI9PT10aGlzLmNvbmZpZy5wZXJzaXN0ZW5jZT90aGlzLnBlcnNpc3RlbmNlOm5ldyBQbihnKHt9LHRoaXMuY29uZmlnLHtwZXJzaXN0ZW5jZTpcInNlc3Npb25TdG9yYWdlXCJ9KSxuKTt2YXIgbz1nKHt9LHRoaXMucGVyc2lzdGVuY2UucHJvcHMpLGE9Zyh7fSx0aGlzLnNlc3Npb25QZXJzaXN0ZW5jZS5wcm9wcyk7dGhpcy5yZWdpc3Rlcih7JGluaXRpYWxpemF0aW9uX3RpbWU6KG5ldyBEYXRlKS50b0lTT1N0cmluZygpfSksdGhpcy5Qcj1uZXcgUW4oKHQ9PnRoaXMuVHIodCkpLHRoaXMuY29uZmlnLnJlcXVlc3RfcXVldWVfY29uZmlnKSx0aGlzLklyPW5ldyB0byh0aGlzKSx0aGlzLl9fcmVxdWVzdF9xdWV1ZT1bXTt2YXIgbD1cImFsd2F5c1wiPT09dGhpcy5jb25maWcuY29va2llbGVzc19tb2RlfHxcIm9uX3JlamVjdFwiPT09dGhpcy5jb25maWcuY29va2llbGVzc19tb2RlJiZ0aGlzLmNvbnNlbnQuaXNFeHBsaWNpdGx5T3B0ZWRPdXQoKTtpZihsfHwodGhpcy5zZXNzaW9uTWFuYWdlcj1uZXcgbm8odGhpcyksdGhpcy5zZXNzaW9uUHJvcHNNYW5hZ2VyPW5ldyBybyh0aGlzLHRoaXMuc2Vzc2lvbk1hbmFnZXIsdGhpcy5wZXJzaXN0ZW5jZSkpLHRoaXMuY29uZmlnLl9fcHJldmlld19kZWZlcnJlZF9pbml0X2V4dGVuc2lvbnM/KFB0LmluZm8oXCJEZWZlcnJpbmcgZXh0ZW5zaW9uIGluaXRpYWxpemF0aW9uIHRvIGltcHJvdmUgc3RhcnR1cCBwZXJmb3JtYW5jZVwiKSxzZXRUaW1lb3V0KCgoKT0+e3RoaXMuUnIobCl9KSwwKSk6KFB0LmluZm8oXCJJbml0aWFsaXppbmcgZXh0ZW5zaW9ucyBzeW5jaHJvbm91c2x5XCIpLHRoaXMuUnIobCkpLGMuREVCVUc9Yy5ERUJVR3x8dGhpcy5jb25maWcuZGVidWcsYy5ERUJVRyYmUHQuaW5mbyhcIlN0YXJ0aW5nIGluIGRlYnVnIG1vZGVcIix7dGhpczp0aGlzLGNvbmZpZzplLHRoaXNDOmcoe30sdGhpcy5jb25maWcpLHA6byxzOmF9KSx2b2lkIDAhPT0obnVsbD09KHM9ZS5ib290c3RyYXApP3ZvaWQgMDpzLmRpc3RpbmN0SUQpKXt2YXIgdSxoLGQ9dGhpcy5jb25maWcuZ2V0X2RldmljZV9pZCh4ZSgpKSx2PW51bGwhPSh1PWUuYm9vdHN0cmFwKSYmdS5pc0lkZW50aWZpZWRJRD9kOmUuYm9vdHN0cmFwLmRpc3RpbmN0SUQ7dGhpcy5wZXJzaXN0ZW5jZS5zZXRfcHJvcGVydHkoY2ksbnVsbCE9KGg9ZS5ib290c3RyYXApJiZoLmlzSWRlbnRpZmllZElEP1wiaWRlbnRpZmllZFwiOlwiYW5vbnltb3VzXCIpLHRoaXMucmVnaXN0ZXIoe2Rpc3RpbmN0X2lkOmUuYm9vdHN0cmFwLmRpc3RpbmN0SUQsJGRldmljZV9pZDp2fSl9aWYodGhpcy5DcigpKXt2YXIgZixwLF89T2JqZWN0LmtleXMoKG51bGw9PShmPWUuYm9vdHN0cmFwKT92b2lkIDA6Zi5mZWF0dXJlRmxhZ3MpfHx7fSkuZmlsdGVyKCh0PT57dmFyIGk7cmV0dXJuIShudWxsPT0oaT1lLmJvb3RzdHJhcCl8fG51bGw9PShpPWkuZmVhdHVyZUZsYWdzKXx8IWlbdF0pfSkpLnJlZHVjZSgoKHQsaSk9Pnt2YXIgcjtyZXR1cm4gdFtpXT0obnVsbD09KHI9ZS5ib290c3RyYXApfHxudWxsPT0ocj1yLmZlYXR1cmVGbGFncyk/dm9pZCAwOnJbaV0pfHwhMSx0fSkse30pLG09T2JqZWN0LmtleXMoKG51bGw9PShwPWUuYm9vdHN0cmFwKT92b2lkIDA6cC5mZWF0dXJlRmxhZ1BheWxvYWRzKXx8e30pLmZpbHRlcigodD0+X1t0XSkpLnJlZHVjZSgoKHQsaSk9Pnt2YXIgcixzO251bGwhPShyPWUuYm9vdHN0cmFwKSYmbnVsbCE9KHI9ci5mZWF0dXJlRmxhZ1BheWxvYWRzKSYmcltpXSYmKHRbaV09bnVsbD09KHM9ZS5ib290c3RyYXApfHxudWxsPT0ocz1zLmZlYXR1cmVGbGFnUGF5bG9hZHMpP3ZvaWQgMDpzW2ldKTtyZXR1cm4gdH0pLHt9KTt0aGlzLmZlYXR1cmVGbGFncy5yZWNlaXZlZEZlYXR1cmVGbGFncyh7ZmVhdHVyZUZsYWdzOl8sZmVhdHVyZUZsYWdQYXlsb2FkczptfSl9aWYobCl0aGlzLnJlZ2lzdGVyX29uY2Uoe2Rpc3RpbmN0X2lkOndpLCRkZXZpY2VfaWQ6bnVsbH0sXCJcIik7ZWxzZSBpZighdGhpcy5nZXRfZGlzdGluY3RfaWQoKSl7dmFyIHk9dGhpcy5jb25maWcuZ2V0X2RldmljZV9pZCh4ZSgpKTt0aGlzLnJlZ2lzdGVyX29uY2Uoe2Rpc3RpbmN0X2lkOnksJGRldmljZV9pZDp5fSxcIlwiKSx0aGlzLnBlcnNpc3RlbmNlLnNldF9wcm9wZXJ0eShjaSxcImFub255bW91c1wiKX1yZXR1cm4gcXQodCxcIm9ucGFnZWhpZGVcImluIHNlbGY/XCJwYWdlaGlkZVwiOlwidW5sb2FkXCIsdGhpcy5faGFuZGxlX3VubG9hZC5iaW5kKHRoaXMpLHtwYXNzaXZlOiExfSksdGhpcy50b29sYmFyLm1heWJlTG9hZFRvb2xiYXIoKSxlLnNlZ21lbnQ/VmUodGhpcywoKCk9PnRoaXMuT3IoKSkpOnRoaXMuT3IoKSxSKHRoaXMuY29uZmlnLl9vbkNhcHR1cmUpJiZ0aGlzLmNvbmZpZy5fb25DYXB0dXJlIT09JG8mJihQdC53YXJuKFwib25DYXB0dXJlIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgYGJlZm9yZV9zZW5kYCBpbnN0ZWFkXCIpLHRoaXMub24oXCJldmVudENhcHR1cmVkXCIsKHQ9PnRoaXMuY29uZmlnLl9vbkNhcHR1cmUodC5ldmVudCx0KSkpKSx0aGlzLmNvbmZpZy5pcCYmUHQud2FybignVGhlIGBpcGAgY29uZmlnIG9wdGlvbiBoYXMgTk8gRUZGRUNUIEFUIEFMTCBhbmQgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIGEgY3VzdG9tIHRyYW5zZm9ybWF0aW9uIG9yIFwiRGlzY2FyZCBJUCBkYXRhXCIgcHJvamVjdCBzZXR0aW5nIGluc3RlYWQuIFNlZSBodHRwczovL3Bvc3Rob2cuY29tL3R1dG9yaWFscy93ZWItcmVkYWN0LXByb3BlcnRpZXMjaGlkaW5nLWN1c3RvbWVyLWlwLWFkZHJlc3MgZm9yIG1vcmUgaW5mb3JtYXRpb24uJyksdGhpc31Scih0KXt2YXIgaT1wZXJmb3JtYW5jZS5ub3coKTt0aGlzLmhpc3RvcnlBdXRvY2FwdHVyZT1uZXcgV2UodGhpcyksdGhpcy5oaXN0b3J5QXV0b2NhcHR1cmUuc3RhcnRJZkVuYWJsZWQoKTt2YXIgZT1bXTtlLnB1c2goKCgpPT57bmV3IHJyKHRoaXMpLnN0YXJ0SWZFbmFibGVkT3JTdG9wKCl9KSksZS5wdXNoKCgoKT0+e3ZhciB0O3RoaXMuc2l0ZUFwcHM9bmV3IGxvKHRoaXMpLG51bGw9PSh0PXRoaXMuc2l0ZUFwcHMpfHx0LmluaXQoKX0pKSx0fHxlLnB1c2goKCgpPT57dGhpcy5zZXNzaW9uUmVjb3JkaW5nPW5ldyB3byh0aGlzKSx0aGlzLnNlc3Npb25SZWNvcmRpbmcuc3RhcnRJZkVuYWJsZWRPclN0b3AoKX0pKSx0aGlzLmNvbmZpZy5kaXNhYmxlX3Njcm9sbF9wcm9wZXJ0aWVzfHxlLnB1c2goKCgpPT57dGhpcy5zY3JvbGxNYW5hZ2VyLnN0YXJ0TWVhc3VyaW5nU2Nyb2xsUG9zaXRpb24oKX0pKSxlLnB1c2goKCgpPT57dGhpcy5hdXRvY2FwdHVyZT1uZXcgcGUodGhpcyksdGhpcy5hdXRvY2FwdHVyZS5zdGFydElmRW5hYmxlZCgpfSkpLGUucHVzaCgoKCk9Pnt0aGlzLnN1cnZleXMubG9hZElmRW5hYmxlZCgpfSkpLGUucHVzaCgoKCk9Pnt0aGlzLmhlYXRtYXBzPW5ldyBicyh0aGlzKSx0aGlzLmhlYXRtYXBzLnN0YXJ0SWZFbmFibGVkKCl9KSksZS5wdXNoKCgoKT0+e3RoaXMud2ViVml0YWxzQXV0b2NhcHR1cmU9bmV3IF9zKHRoaXMpfSkpLGUucHVzaCgoKCk9Pnt0aGlzLmV4Y2VwdGlvbk9ic2VydmVyPW5ldyBCZSh0aGlzKSx0aGlzLmV4Y2VwdGlvbk9ic2VydmVyLnN0YXJ0SWZFbmFibGVkKCl9KSksZS5wdXNoKCgoKT0+e3RoaXMuZGVhZENsaWNrc0F1dG9jYXB0dXJlPW5ldyB6ZSh0aGlzLFVlKSx0aGlzLmRlYWRDbGlja3NBdXRvY2FwdHVyZS5zdGFydElmRW5hYmxlZCgpfSkpLGUucHVzaCgoKCk9PntpZih0aGlzLkZyKXt2YXIgdD10aGlzLkZyO3RoaXMuRnI9dm9pZCAwLHRoaXMuZmkodCl9fSkpLHRoaXMuTXIoZSxpKX1Ncih0LGkpe2Zvcig7dC5sZW5ndGg+MDspe2lmKHRoaXMuY29uZmlnLl9fcHJldmlld19kZWZlcnJlZF9pbml0X2V4dGVuc2lvbnMpaWYocGVyZm9ybWFuY2Uubm93KCktaT49MzAmJnQubGVuZ3RoPjApcmV0dXJuIHZvaWQgc2V0VGltZW91dCgoKCk9Pnt0aGlzLk1yKHQsaSl9KSwwKTt2YXIgZT10LnNoaWZ0KCk7aWYoZSl0cnl7ZSgpfWNhdGNoKHQpe1B0LmVycm9yKFwiRXJyb3IgaW5pdGlhbGl6aW5nIGV4dGVuc2lvbjpcIix0KX19dmFyIHI9TWF0aC5yb3VuZChwZXJmb3JtYW5jZS5ub3coKS1pKTt0aGlzLnJlZ2lzdGVyX2Zvcl9zZXNzaW9uKHskc2RrX2RlYnVnX2V4dGVuc2lvbnNfaW5pdF9tZXRob2Q6dGhpcy5jb25maWcuX19wcmV2aWV3X2RlZmVycmVkX2luaXRfZXh0ZW5zaW9ucz9cImRlZmVycmVkXCI6XCJzeW5jaHJvbm91c1wiLCRzZGtfZGVidWdfZXh0ZW5zaW9uc19pbml0X3RpbWVfbXM6cn0pLHRoaXMuY29uZmlnLl9fcHJldmlld19kZWZlcnJlZF9pbml0X2V4dGVuc2lvbnMmJlB0LmluZm8oXCJQb3N0SG9nIGV4dGVuc2lvbnMgaW5pdGlhbGl6ZWQgKFwiK3IrXCJtcylcIil9ZmkodCl7dmFyIGksZSxyLHMsbixhLGwsdTtpZighb3x8IW8uYm9keSlyZXR1cm4gUHQuaW5mbyhcImRvY3VtZW50IG5vdCByZWFkeSB5ZXQsIHRyeWluZyBhZ2FpbiBpbiA1MDAgbWlsbGlzZWNvbmRzLi4uXCIpLHZvaWQgc2V0VGltZW91dCgoKCk9Pnt0aGlzLmZpKHQpfSksNTAwKTt0aGlzLmNvbmZpZy5fX3ByZXZpZXdfZGVmZXJyZWRfaW5pdF9leHRlbnNpb25zJiYodGhpcy5Gcj10KSx0aGlzLmNvbXByZXNzaW9uPXZvaWQgMCx0LnN1cHBvcnRlZENvbXByZXNzaW9uJiYhdGhpcy5jb25maWcuZGlzYWJsZV9jb21wcmVzc2lvbiYmKHRoaXMuY29tcHJlc3Npb249dyh0LnN1cHBvcnRlZENvbXByZXNzaW9uLHJlLkdaaXBKUyk/cmUuR1ppcEpTOncodC5zdXBwb3J0ZWRDb21wcmVzc2lvbixyZS5CYXNlNjQpP3JlLkJhc2U2NDp2b2lkIDApLG51bGwhPShpPXQuYW5hbHl0aWNzKSYmaS5lbmRwb2ludCYmKHRoaXMuYW5hbHl0aWNzRGVmYXVsdEVuZHBvaW50PXQuYW5hbHl0aWNzLmVuZHBvaW50KSx0aGlzLnNldF9jb25maWcoe3BlcnNvbl9wcm9maWxlczp0aGlzLmJyP3RoaXMuYnI6XCJpZGVudGlmaWVkX29ubHlcIn0pLG51bGw9PShlPXRoaXMuc2l0ZUFwcHMpfHxlLm9uUmVtb3RlQ29uZmlnKHQpLG51bGw9PShyPXRoaXMuc2Vzc2lvblJlY29yZGluZyl8fHIub25SZW1vdGVDb25maWcodCksbnVsbD09KHM9dGhpcy5hdXRvY2FwdHVyZSl8fHMub25SZW1vdGVDb25maWcodCksbnVsbD09KG49dGhpcy5oZWF0bWFwcyl8fG4ub25SZW1vdGVDb25maWcodCksdGhpcy5zdXJ2ZXlzLm9uUmVtb3RlQ29uZmlnKHQpLG51bGw9PShhPXRoaXMud2ViVml0YWxzQXV0b2NhcHR1cmUpfHxhLm9uUmVtb3RlQ29uZmlnKHQpLG51bGw9PShsPXRoaXMuZXhjZXB0aW9uT2JzZXJ2ZXIpfHxsLm9uUmVtb3RlQ29uZmlnKHQpLHRoaXMuZXhjZXB0aW9ucy5vblJlbW90ZUNvbmZpZyh0KSxudWxsPT0odT10aGlzLmRlYWRDbGlja3NBdXRvY2FwdHVyZSl8fHUub25SZW1vdGVDb25maWcodCl9T3IoKXt0cnl7dGhpcy5jb25maWcubG9hZGVkKHRoaXMpfWNhdGNoKHQpe1B0LmNyaXRpY2FsKFwiYGxvYWRlZGAgZnVuY3Rpb24gZmFpbGVkXCIsdCl9dGhpcy5BcigpLHRoaXMuY29uZmlnLmNhcHR1cmVfcGFnZXZpZXcmJnNldFRpbWVvdXQoKCgpPT57KHRoaXMuY29uc2VudC5pc09wdGVkSW4oKXx8XCJhbHdheXNcIj09PXRoaXMuY29uZmlnLmNvb2tpZWxlc3NfbW9kZSkmJnRoaXMuRHIoKX0pLDEpLG5ldyBZbih0aGlzKS5sb2FkKCksdGhpcy5mZWF0dXJlRmxhZ3MuZmxhZ3MoKX1Bcigpe3ZhciB0O3RoaXMuaXNfY2FwdHVyaW5nKCkmJih0aGlzLmNvbmZpZy5yZXF1ZXN0X2JhdGNoaW5nJiYobnVsbD09KHQ9dGhpcy5Qcil8fHQuZW5hYmxlKCkpKX1fZG9tX2xvYWRlZCgpe3RoaXMuaXNfY2FwdHVyaW5nKCkmJk90KHRoaXMuX19yZXF1ZXN0X3F1ZXVlLCh0PT50aGlzLlRyKHQpKSksdGhpcy5fX3JlcXVlc3RfcXVldWU9W10sdGhpcy5BcigpfV9oYW5kbGVfdW5sb2FkKCl7dmFyIHQsaTt0aGlzLmNvbmZpZy5yZXF1ZXN0X2JhdGNoaW5nPyh0aGlzLmpyKCkmJnRoaXMuY2FwdHVyZShcIiRwYWdlbGVhdmVcIiksbnVsbD09KHQ9dGhpcy5Qcil8fHQudW5sb2FkKCksbnVsbD09KGk9dGhpcy5Jcil8fGkudW5sb2FkKCkpOnRoaXMuanIoKSYmdGhpcy5jYXB0dXJlKFwiJHBhZ2VsZWF2ZVwiLG51bGwse3RyYW5zcG9ydDpcInNlbmRCZWFjb25cIn0pfWNpKHQpe3RoaXMuX19sb2FkZWQmJihFbz90aGlzLl9fcmVxdWVzdF9xdWV1ZS5wdXNoKHQpOnRoaXMucmF0ZUxpbWl0ZXIuaXNTZXJ2ZXJSYXRlTGltaXRlZCh0LmJhdGNoS2V5KXx8KHQudHJhbnNwb3J0PXQudHJhbnNwb3J0fHx0aGlzLmNvbmZpZy5hcGlfdHJhbnNwb3J0LHQudXJsPW9uKHQudXJsLHtpcDp0aGlzLmNvbmZpZy5pcD8xOjB9KSx0LmhlYWRlcnM9Zyh7fSx0aGlzLmNvbmZpZy5yZXF1ZXN0X2hlYWRlcnMpLHQuY29tcHJlc3Npb249XCJiZXN0LWF2YWlsYWJsZVwiPT09dC5jb21wcmVzc2lvbj90aGlzLmNvbXByZXNzaW9uOnQuY29tcHJlc3Npb24sdC5kaXNhYmxlWEhSQ3JlZGVudGlhbHM9dGhpcy5jb25maWcuX19wcmV2aWV3X2Rpc2FibGVfeGhyX2NyZWRlbnRpYWxzLHRoaXMuY29uZmlnLl9fcHJldmlld19kaXNhYmxlX2JlYWNvbiYmKHQuZGlzYWJsZVRyYW5zcG9ydD1bXCJzZW5kQmVhY29uXCJdKSx0LmZldGNoT3B0aW9ucz10LmZldGNoT3B0aW9uc3x8dGhpcy5jb25maWcuZmV0Y2hfb3B0aW9ucywodD0+e3ZhciBpLGUscixzPWcoe30sdCk7cy50aW1lb3V0PXMudGltZW91dHx8NmU0LHMudXJsPW9uKHMudXJsLHtfOihuZXcgRGF0ZSkuZ2V0VGltZSgpLnRvU3RyaW5nKCksdmVyOmMuTElCX1ZFUlNJT04sY29tcHJlc3Npb246cy5jb21wcmVzc2lvbn0pO3ZhciBuPW51bGwhPT0oaT1zLnRyYW5zcG9ydCkmJnZvaWQgMCE9PWk/aTpcImZldGNoXCIsbz11bi5maWx0ZXIoKHQ9PiFzLmRpc2FibGVUcmFuc3BvcnR8fCF0LnRyYW5zcG9ydHx8IXMuZGlzYWJsZVRyYW5zcG9ydC5pbmNsdWRlcyh0LnRyYW5zcG9ydCkpKSxhPW51bGwhPT0oZT1udWxsPT0ocj1CdChvLCh0PT50LnRyYW5zcG9ydD09PW4pKSk/dm9pZCAwOnIubWV0aG9kKSYmdm9pZCAwIT09ZT9lOm9bMF0ubWV0aG9kO2lmKCFhKXRocm93IG5ldyBFcnJvcihcIk5vIGF2YWlsYWJsZSB0cmFuc3BvcnQgbWV0aG9kXCIpO2Eocyl9KShnKHt9LHQse2NhbGxiYWNrOmk9Pnt2YXIgZSxyOyh0aGlzLnJhdGVMaW1pdGVyLmNoZWNrRm9yTGltaXRpbmcoaSksaS5zdGF0dXNDb2RlPj00MDApJiYobnVsbD09KGU9KHI9dGhpcy5jb25maWcpLm9uX3JlcXVlc3RfZXJyb3IpfHxlLmNhbGwocixpKSk7bnVsbD09dC5jYWxsYmFja3x8dC5jYWxsYmFjayhpKX19KSkpKX1Ucih0KXt0aGlzLklyP3RoaXMuSXIucmV0cmlhYmxlUmVxdWVzdCh0KTp0aGlzLmNpKHQpfV9leGVjdXRlX2FycmF5KHQpe3ZhciBpLGU9W10scj1bXSxzPVtdO090KHQsKHQ9Pnt0JiYoaT10WzBdLEkoaSk/cy5wdXNoKHQpOlIodCk/dC5jYWxsKHRoaXMpOkkodCkmJlwiYWxpYXNcIj09PWk/ZS5wdXNoKHQpOkkodCkmJi0xIT09aS5pbmRleE9mKFwiY2FwdHVyZVwiKSYmUih0aGlzW2ldKT9zLnB1c2godCk6ci5wdXNoKHQpKX0pKTt2YXIgbj1mdW5jdGlvbih0LGkpe090KHQsKGZ1bmN0aW9uKHQpe2lmKEkodFswXSkpe3ZhciBlPWk7RnQodCwoZnVuY3Rpb24odCl7ZT1lW3RbMF1dLmFwcGx5KGUsdC5zbGljZSgxKSl9KSl9ZWxzZSB0aGlzW3RbMF1dLmFwcGx5KHRoaXMsdC5zbGljZSgxKSl9KSxpKX07bihlLHRoaXMpLG4ocix0aGlzKSxuKHMsdGhpcyl9Q3IoKXt2YXIgdCxpO3JldHVybihudWxsPT0odD10aGlzLmNvbmZpZy5ib290c3RyYXApP3ZvaWQgMDp0LmZlYXR1cmVGbGFncykmJk9iamVjdC5rZXlzKG51bGw9PShpPXRoaXMuY29uZmlnLmJvb3RzdHJhcCk/dm9pZCAwOmkuZmVhdHVyZUZsYWdzKS5sZW5ndGg+MHx8ITF9cHVzaCh0KXt0aGlzLl9leGVjdXRlX2FycmF5KFt0XSl9Y2FwdHVyZSh0LGksZSl7dmFyIHI7aWYodGhpcy5fX2xvYWRlZCYmdGhpcy5wZXJzaXN0ZW5jZSYmdGhpcy5zZXNzaW9uUGVyc2lzdGVuY2UmJnRoaXMuUHIpe2lmKHRoaXMuaXNfY2FwdHVyaW5nKCkpaWYoIUYodCkmJk0odCkpe3ZhciBzPSF0aGlzLmNvbmZpZy5vcHRfb3V0X3VzZXJhZ2VudF9maWx0ZXImJnRoaXMuX2lzX2JvdCgpO2lmKCEocyYmIXRoaXMuY29uZmlnLl9fcHJldmlld19jYXB0dXJlX2JvdF9wYWdldmlld3MpKXt2YXIgbj1udWxsIT1lJiZlLnNraXBfY2xpZW50X3JhdGVfbGltaXRpbmc/dm9pZCAwOnRoaXMucmF0ZUxpbWl0ZXIuY2xpZW50UmF0ZUxpbWl0Q29udGV4dCgpO2lmKG51bGw9PW58fCFuLmlzUmF0ZUxpbWl0ZWQpe251bGwhPWkmJmkuJGN1cnJlbnRfdXJsJiYhTShudWxsPT1pP3ZvaWQgMDppLiRjdXJyZW50X3VybCkmJihQdC5lcnJvcihcIkludmFsaWQgYCRjdXJyZW50X3VybGAgcHJvcGVydHkgcHJvdmlkZWQgdG8gYHBvc3Rob2cuY2FwdHVyZWAuIElucHV0IG11c3QgYmUgYSBzdHJpbmcuIElnbm9yaW5nIHByb3ZpZGVkIHZhbHVlLlwiKSxudWxsPT1pfHxkZWxldGUgaS4kY3VycmVudF91cmwpLHRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlLnVwZGF0ZV9zZWFyY2hfa2V5d29yZCgpLHRoaXMuY29uZmlnLnNhdmVfY2FtcGFpZ25fcGFyYW1zJiZ0aGlzLnNlc3Npb25QZXJzaXN0ZW5jZS51cGRhdGVfY2FtcGFpZ25fcGFyYW1zKCksdGhpcy5jb25maWcuc2F2ZV9yZWZlcnJlciYmdGhpcy5zZXNzaW9uUGVyc2lzdGVuY2UudXBkYXRlX3JlZmVycmVyX2luZm8oKSwodGhpcy5jb25maWcuc2F2ZV9jYW1wYWlnbl9wYXJhbXN8fHRoaXMuY29uZmlnLnNhdmVfcmVmZXJyZXIpJiZ0aGlzLnBlcnNpc3RlbmNlLnNldF9pbml0aWFsX3BlcnNvbl9pbmZvKCk7dmFyIG89bmV3IERhdGUsYT0obnVsbD09ZT92b2lkIDA6ZS50aW1lc3RhbXApfHxvLGw9eGUoKSx1PXt1dWlkOmwsZXZlbnQ6dCxwcm9wZXJ0aWVzOnRoaXMuY2FsY3VsYXRlRXZlbnRQcm9wZXJ0aWVzKHQsaXx8e30sYSxsKX07XCIkcGFnZXZpZXdcIj09PXQmJnRoaXMuY29uZmlnLl9fcHJldmlld19jYXB0dXJlX2JvdF9wYWdldmlld3MmJnMmJih1LmV2ZW50PVwiJGJvdF9wYWdldmlld1wiLHUucHJvcGVydGllcy4kYnJvd3Nlcl90eXBlPVwiYm90XCIpLG4mJih1LnByb3BlcnRpZXMuJGxpYl9yYXRlX2xpbWl0X3JlbWFpbmluZ190b2tlbnM9bi5yZW1haW5pbmdUb2tlbnMpLChudWxsPT1lP3ZvaWQgMDplLiRzZXQpJiYodS4kc2V0PW51bGw9PWU/dm9pZCAwOmUuJHNldCk7dmFyIGgsZD10aGlzLkxyKG51bGw9PWU/dm9pZCAwOmUuJHNldF9vbmNlKTtpZihkJiYodS4kc2V0X29uY2U9ZCksKHU9VXQodSxudWxsIT1lJiZlLl9ub1RydW5jYXRlP251bGw6dGhpcy5jb25maWcucHJvcGVydGllc19zdHJpbmdfbWF4X2xlbmd0aCkpLnRpbWVzdGFtcD1hLEYobnVsbD09ZT92b2lkIDA6ZS50aW1lc3RhbXApfHwodS5wcm9wZXJ0aWVzLiRldmVudF90aW1lX292ZXJyaWRlX3Byb3ZpZGVkPSEwLHUucHJvcGVydGllcy4kZXZlbnRfdGltZV9vdmVycmlkZV9zeXN0ZW1fdGltZT1vKSx0PT09TW4uRElTTUlTU0VEfHx0PT09TW4uU0VOVCl7dmFyIHY9bnVsbD09aT92b2lkIDA6aVtBbi5TVVJWRVlfSURdLGM9bnVsbD09aT92b2lkIDA6aVtBbi5TVVJWRVlfSVRFUkFUSU9OXTtoPXtpZDp2LGN1cnJlbnRfaXRlcmF0aW9uOmN9LGxvY2FsU3RvcmFnZS5nZXRJdGVtKEhuKGgpKXx8bG9jYWxTdG9yYWdlLnNldEl0ZW0oSG4oaCksXCJ0cnVlXCIpLHUuJHNldD1nKHt9LHUuJHNldCx7W3puKHtpZDp2LGN1cnJlbnRfaXRlcmF0aW9uOmN9LHQ9PT1Nbi5TRU5UP1wicmVzcG9uZGVkXCI6XCJkaXNtaXNzZWRcIildOiEwfSl9dmFyIGY9Zyh7fSx1LnByb3BlcnRpZXMuJHNldCx1LiRzZXQpO2lmKE8oZil8fHRoaXMuc2V0UGVyc29uUHJvcGVydGllc0ZvckZsYWdzKGYpLCFqKHRoaXMuY29uZmlnLmJlZm9yZV9zZW5kKSl7dmFyIHA9dGhpcy5Ocih1KTtpZighcClyZXR1cm47dT1wfXRoaXMuX3IuZW1pdChcImV2ZW50Q2FwdHVyZWRcIix1KTt2YXIgXz17bWV0aG9kOlwiUE9TVFwiLHVybDpudWxsIT09KHI9bnVsbD09ZT92b2lkIDA6ZS5fdXJsKSYmdm9pZCAwIT09cj9yOnRoaXMucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcImFwaVwiLHRoaXMuYW5hbHl0aWNzRGVmYXVsdEVuZHBvaW50KSxkYXRhOnUsY29tcHJlc3Npb246XCJiZXN0LWF2YWlsYWJsZVwiLGJhdGNoS2V5Om51bGw9PWU/dm9pZCAwOmUuX2JhdGNoS2V5fTtyZXR1cm4hdGhpcy5jb25maWcucmVxdWVzdF9iYXRjaGluZ3x8ZSYmKG51bGw9PWV8fCFlLl9iYXRjaEtleSl8fG51bGwhPWUmJmUuc2VuZF9pbnN0YW50bHk/dGhpcy5UcihfKTp0aGlzLlByLmVucXVldWUoXyksdX1QdC5jcml0aWNhbChcIlRoaXMgY2FwdHVyZSBjYWxsIGlzIGlnbm9yZWQgZHVlIHRvIGNsaWVudCByYXRlIGxpbWl0aW5nLlwiKX19ZWxzZSBQdC5lcnJvcihcIk5vIGV2ZW50IG5hbWUgcHJvdmlkZWQgdG8gcG9zdGhvZy5jYXB0dXJlXCIpfWVsc2UgUHQudW5pbml0aWFsaXplZFdhcm5pbmcoXCJwb3N0aG9nLmNhcHR1cmVcIil9TWkodCl7cmV0dXJuIHRoaXMub24oXCJldmVudENhcHR1cmVkXCIsKGk9PnQoaS5ldmVudCxpKSkpfWNhbGN1bGF0ZUV2ZW50UHJvcGVydGllcyh0LGksZSxyLHMpe2lmKGU9ZXx8bmV3IERhdGUsIXRoaXMucGVyc2lzdGVuY2V8fCF0aGlzLnNlc3Npb25QZXJzaXN0ZW5jZSlyZXR1cm4gaTt2YXIgbj1zP3ZvaWQgMDp0aGlzLnBlcnNpc3RlbmNlLnJlbW92ZV9ldmVudF90aW1lcih0KSxhPWcoe30saSk7aWYoYS50b2tlbj10aGlzLmNvbmZpZy50b2tlbixhLiRjb25maWdfZGVmYXVsdHM9dGhpcy5jb25maWcuZGVmYXVsdHMsKFwiYWx3YXlzXCI9PXRoaXMuY29uZmlnLmNvb2tpZWxlc3NfbW9kZXx8XCJvbl9yZWplY3RcIj09dGhpcy5jb25maWcuY29va2llbGVzc19tb2RlJiZ0aGlzLmNvbnNlbnQuaXNFeHBsaWNpdGx5T3B0ZWRPdXQoKSkmJihhLiRjb29raWVsZXNzX21vZGU9ITApLFwiJHNuYXBzaG90XCI9PT10KXt2YXIgbD1nKHt9LHRoaXMucGVyc2lzdGVuY2UucHJvcGVydGllcygpLHRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlLnByb3BlcnRpZXMoKSk7cmV0dXJuIGEuZGlzdGluY3RfaWQ9bC5kaXN0aW5jdF9pZCwoIU0oYS5kaXN0aW5jdF9pZCkmJiFMKGEuZGlzdGluY3RfaWQpfHxBKGEuZGlzdGluY3RfaWQpKSYmUHQuZXJyb3IoXCJJbnZhbGlkIGRpc3RpbmN0X2lkIGZvciByZXBsYXkgZXZlbnQuIFRoaXMgaW5kaWNhdGVzIGEgYnVnIGluIHlvdXIgaW1wbGVtZW50YXRpb25cIiksYX12YXIgdSxoPWZzKHRoaXMuY29uZmlnLm1hc2tfcGVyc29uYWxfZGF0YV9wcm9wZXJ0aWVzLHRoaXMuY29uZmlnLmN1c3RvbV9wZXJzb25hbF9kYXRhX3Byb3BlcnRpZXMpO2lmKHRoaXMuc2Vzc2lvbk1hbmFnZXIpe3ZhcntzZXNzaW9uSWQ6dix3aW5kb3dJZDpjfT10aGlzLnNlc3Npb25NYW5hZ2VyLmNoZWNrQW5kR2V0U2Vzc2lvbkFuZFdpbmRvd0lkKHMsZS5nZXRUaW1lKCkpO2EuJHNlc3Npb25faWQ9dixhLiR3aW5kb3dfaWQ9Y310aGlzLnNlc3Npb25Qcm9wc01hbmFnZXImJk10KGEsdGhpcy5zZXNzaW9uUHJvcHNNYW5hZ2VyLmdldFNlc3Npb25Qcm9wcygpKTt0cnl7dmFyIGY7dGhpcy5zZXNzaW9uUmVjb3JkaW5nJiZNdChhLHRoaXMuc2Vzc2lvblJlY29yZGluZy5zZGtEZWJ1Z1Byb3BlcnRpZXMpLGEuJHNka19kZWJ1Z19yZXRyeV9xdWV1ZV9zaXplPW51bGw9PShmPXRoaXMuSXIpP3ZvaWQgMDpmLmxlbmd0aH1jYXRjaCh0KXthLiRzZGtfZGVidWdfZXJyb3JfY2FwdHVyaW5nX3Byb3BlcnRpZXM9U3RyaW5nKHQpfWlmKHRoaXMucmVxdWVzdFJvdXRlci5yZWdpb249PT1oby5DVVNUT00mJihhLiRsaWJfY3VzdG9tX2FwaV9ob3N0PXRoaXMuY29uZmlnLmFwaV9ob3N0KSx1PVwiJHBhZ2V2aWV3XCIhPT10fHxzP1wiJHBhZ2VsZWF2ZVwiIT09dHx8cz90aGlzLnBhZ2VWaWV3TWFuYWdlci5kb0V2ZW50KCk6dGhpcy5wYWdlVmlld01hbmFnZXIuZG9QYWdlTGVhdmUoZSk6dGhpcy5wYWdlVmlld01hbmFnZXIuZG9QYWdlVmlldyhlLHIpLGE9TXQoYSx1KSxcIiRwYWdldmlld1wiPT09dCYmbyYmKGEudGl0bGU9by50aXRsZSksIUYobikpe3ZhciBwPWUuZ2V0VGltZSgpLW47YS4kZHVyYXRpb249cGFyc2VGbG9hdCgocC8xZTMpLnRvRml4ZWQoMykpfWQmJnRoaXMuY29uZmlnLm9wdF9vdXRfdXNlcmFnZW50X2ZpbHRlciYmKGEuJGJyb3dzZXJfdHlwZT10aGlzLl9pc19ib3QoKT9cImJvdFwiOlwiYnJvd3NlclwiKSwoYT1NdCh7fSxoLHRoaXMucGVyc2lzdGVuY2UucHJvcGVydGllcygpLHRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlLnByb3BlcnRpZXMoKSxhKSkuJGlzX2lkZW50aWZpZWQ9dGhpcy5faXNJZGVudGlmaWVkKCksSSh0aGlzLmNvbmZpZy5wcm9wZXJ0eV9kZW55bGlzdCk/RnQodGhpcy5jb25maWcucHJvcGVydHlfZGVueWxpc3QsKGZ1bmN0aW9uKHQpe2RlbGV0ZSBhW3RdfSkpOlB0LmVycm9yKFwiSW52YWxpZCB2YWx1ZSBmb3IgcHJvcGVydHlfZGVueWxpc3QgY29uZmlnOiBcIit0aGlzLmNvbmZpZy5wcm9wZXJ0eV9kZW55bGlzdCtcIiBvciBwcm9wZXJ0eV9ibGFja2xpc3QgY29uZmlnOiBcIit0aGlzLmNvbmZpZy5wcm9wZXJ0eV9ibGFja2xpc3QpO3ZhciBfPXRoaXMuY29uZmlnLnNhbml0aXplX3Byb3BlcnRpZXM7XyYmKFB0LmVycm9yKFwic2FuaXRpemVfcHJvcGVydGllcyBpcyBkZXByZWNhdGVkLiBVc2UgYmVmb3JlX3NlbmQgaW5zdGVhZFwiKSxhPV8oYSx0KSk7dmFyIG09dGhpcy5VcigpO3JldHVybiBhLiRwcm9jZXNzX3BlcnNvbl9wcm9maWxlPW0sbSYmIXMmJnRoaXMuenIoXCJfY2FsY3VsYXRlX2V2ZW50X3Byb3BlcnRpZXNcIiksYX1Mcih0KXt2YXIgaTtpZighdGhpcy5wZXJzaXN0ZW5jZXx8IXRoaXMuVXIoKSlyZXR1cm4gdDtpZih0aGlzLmdyKXJldHVybiB0O3ZhciBlPXRoaXMucGVyc2lzdGVuY2UuZ2V0X2luaXRpYWxfcHJvcHMoKSxyPW51bGw9PShpPXRoaXMuc2Vzc2lvblByb3BzTWFuYWdlcik/dm9pZCAwOmkuZ2V0U2V0T25jZVByb3BzKCkscz1NdCh7fSxlLHJ8fHt9LHR8fHt9KSxuPXRoaXMuY29uZmlnLnNhbml0aXplX3Byb3BlcnRpZXM7cmV0dXJuIG4mJihQdC5lcnJvcihcInNhbml0aXplX3Byb3BlcnRpZXMgaXMgZGVwcmVjYXRlZC4gVXNlIGJlZm9yZV9zZW5kIGluc3RlYWRcIikscz1uKHMsXCIkc2V0X29uY2VcIikpLHRoaXMuZ3I9ITAsTyhzKT92b2lkIDA6c31yZWdpc3Rlcih0LGkpe3ZhciBlO251bGw9PShlPXRoaXMucGVyc2lzdGVuY2UpfHxlLnJlZ2lzdGVyKHQsaSl9cmVnaXN0ZXJfb25jZSh0LGksZSl7dmFyIHI7bnVsbD09KHI9dGhpcy5wZXJzaXN0ZW5jZSl8fHIucmVnaXN0ZXJfb25jZSh0LGksZSl9cmVnaXN0ZXJfZm9yX3Nlc3Npb24odCl7dmFyIGk7bnVsbD09KGk9dGhpcy5zZXNzaW9uUGVyc2lzdGVuY2UpfHxpLnJlZ2lzdGVyKHQpfXVucmVnaXN0ZXIodCl7dmFyIGk7bnVsbD09KGk9dGhpcy5wZXJzaXN0ZW5jZSl8fGkudW5yZWdpc3Rlcih0KX11bnJlZ2lzdGVyX2Zvcl9zZXNzaW9uKHQpe3ZhciBpO251bGw9PShpPXRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlKXx8aS51bnJlZ2lzdGVyKHQpfUhyKHQsaSl7dGhpcy5yZWdpc3Rlcih7W3RdOml9KX1nZXRGZWF0dXJlRmxhZyh0LGkpe3JldHVybiB0aGlzLmZlYXR1cmVGbGFncy5nZXRGZWF0dXJlRmxhZyh0LGkpfWdldEZlYXR1cmVGbGFnUGF5bG9hZCh0KXt2YXIgaT10aGlzLmZlYXR1cmVGbGFncy5nZXRGZWF0dXJlRmxhZ1BheWxvYWQodCk7dHJ5e3JldHVybiBKU09OLnBhcnNlKGkpfWNhdGNoKHQpe3JldHVybiBpfX1pc0ZlYXR1cmVFbmFibGVkKHQsaSl7cmV0dXJuIHRoaXMuZmVhdHVyZUZsYWdzLmlzRmVhdHVyZUVuYWJsZWQodCxpKX1yZWxvYWRGZWF0dXJlRmxhZ3MoKXt0aGlzLmZlYXR1cmVGbGFncy5yZWxvYWRGZWF0dXJlRmxhZ3MoKX11cGRhdGVFYXJseUFjY2Vzc0ZlYXR1cmVFbnJvbGxtZW50KHQsaSxlKXt0aGlzLmZlYXR1cmVGbGFncy51cGRhdGVFYXJseUFjY2Vzc0ZlYXR1cmVFbnJvbGxtZW50KHQsaSxlKX1nZXRFYXJseUFjY2Vzc0ZlYXR1cmVzKHQsaSxlKXtyZXR1cm4gdm9pZCAwPT09aSYmKGk9ITEpLHRoaXMuZmVhdHVyZUZsYWdzLmdldEVhcmx5QWNjZXNzRmVhdHVyZXModCxpLGUpfW9uKHQsaSl7cmV0dXJuIHRoaXMuX3Iub24odCxpKX1vbkZlYXR1cmVGbGFncyh0KXtyZXR1cm4gdGhpcy5mZWF0dXJlRmxhZ3Mub25GZWF0dXJlRmxhZ3ModCl9b25TdXJ2ZXlzTG9hZGVkKHQpe3JldHVybiB0aGlzLnN1cnZleXMub25TdXJ2ZXlzTG9hZGVkKHQpfW9uU2Vzc2lvbklkKHQpe3ZhciBpLGU7cmV0dXJuIG51bGwhPT0oaT1udWxsPT0oZT10aGlzLnNlc3Npb25NYW5hZ2VyKT92b2lkIDA6ZS5vblNlc3Npb25JZCh0KSkmJnZvaWQgMCE9PWk/aTooKT0+e319Z2V0U3VydmV5cyh0LGkpe3ZvaWQgMD09PWkmJihpPSExKSx0aGlzLnN1cnZleXMuZ2V0U3VydmV5cyh0LGkpfWdldEFjdGl2ZU1hdGNoaW5nU3VydmV5cyh0LGkpe3ZvaWQgMD09PWkmJihpPSExKSx0aGlzLnN1cnZleXMuZ2V0QWN0aXZlTWF0Y2hpbmdTdXJ2ZXlzKHQsaSl9cmVuZGVyU3VydmV5KHQsaSl7dGhpcy5zdXJ2ZXlzLnJlbmRlclN1cnZleSh0LGkpfWRpc3BsYXlTdXJ2ZXkodCxpKXt2b2lkIDA9PT1pJiYoaT1xbiksdGhpcy5zdXJ2ZXlzLmRpc3BsYXlTdXJ2ZXkodCxpKX1jYW5SZW5kZXJTdXJ2ZXkodCl7cmV0dXJuIHRoaXMuc3VydmV5cy5jYW5SZW5kZXJTdXJ2ZXkodCl9Y2FuUmVuZGVyU3VydmV5QXN5bmModCxpKXtyZXR1cm4gdm9pZCAwPT09aSYmKGk9ITEpLHRoaXMuc3VydmV5cy5jYW5SZW5kZXJTdXJ2ZXlBc3luYyh0LGkpfWlkZW50aWZ5KHQsaSxlKXtpZighdGhpcy5fX2xvYWRlZHx8IXRoaXMucGVyc2lzdGVuY2UpcmV0dXJuIFB0LnVuaW5pdGlhbGl6ZWRXYXJuaW5nKFwicG9zdGhvZy5pZGVudGlmeVwiKTtpZihMKHQpJiYodD10LnRvU3RyaW5nKCksUHQud2FybihcIlRoZSBmaXJzdCBhcmd1bWVudCB0byBwb3N0aG9nLmlkZW50aWZ5IHdhcyBhIG51bWJlciwgYnV0IGl0IHNob3VsZCBiZSBhIHN0cmluZy4gSXQgaGFzIGJlZW4gY29udmVydGVkIHRvIGEgc3RyaW5nLlwiKSksdClpZihbXCJkaXN0aW5jdF9pZFwiLFwiZGlzdGluY3RpZFwiXS5pbmNsdWRlcyh0LnRvTG93ZXJDYXNlKCkpKVB0LmNyaXRpY2FsKCdUaGUgc3RyaW5nIFwiJyt0KydcIiB3YXMgc2V0IGluIHBvc3Rob2cuaWRlbnRpZnkgd2hpY2ggaW5kaWNhdGVzIGFuIGVycm9yLiBUaGlzIElEIHNob3VsZCBiZSB1bmlxdWUgdG8gdGhlIHVzZXIgYW5kIG5vdCBhIGhhcmRjb2RlZCBzdHJpbmcuJyk7ZWxzZSBpZih0IT09d2kpe2lmKHRoaXMuenIoXCJwb3N0aG9nLmlkZW50aWZ5XCIpKXt2YXIgcj10aGlzLmdldF9kaXN0aW5jdF9pZCgpO2lmKHRoaXMucmVnaXN0ZXIoeyR1c2VyX2lkOnR9KSwhdGhpcy5nZXRfcHJvcGVydHkoXCIkZGV2aWNlX2lkXCIpKXt2YXIgcz1yO3RoaXMucmVnaXN0ZXJfb25jZSh7JGhhZF9wZXJzaXN0ZWRfZGlzdGluY3RfaWQ6ITAsJGRldmljZV9pZDpzfSxcIlwiKX10IT09ciYmdCE9PXRoaXMuZ2V0X3Byb3BlcnR5KEd0KSYmKHRoaXMudW5yZWdpc3RlcihHdCksdGhpcy5yZWdpc3Rlcih7ZGlzdGluY3RfaWQ6dH0pKTt2YXIgbj1cImFub255bW91c1wiPT09KHRoaXMucGVyc2lzdGVuY2UuZ2V0X3Byb3BlcnR5KGNpKXx8XCJhbm9ueW1vdXNcIik7dCE9PXImJm4/KHRoaXMucGVyc2lzdGVuY2Uuc2V0X3Byb3BlcnR5KGNpLFwiaWRlbnRpZmllZFwiKSx0aGlzLnNldFBlcnNvblByb3BlcnRpZXNGb3JGbGFncyhnKHt9LGV8fHt9LGl8fHt9KSwhMSksdGhpcy5jYXB0dXJlKFwiJGlkZW50aWZ5XCIse2Rpc3RpbmN0X2lkOnQsJGFub25fZGlzdGluY3RfaWQ6cn0seyRzZXQ6aXx8e30sJHNldF9vbmNlOmV8fHt9fSksdGhpcy53cj1kbih0LGksZSksdGhpcy5mZWF0dXJlRmxhZ3Muc2V0QW5vbnltb3VzRGlzdGluY3RJZChyKSk6KGl8fGUpJiZ0aGlzLnNldFBlcnNvblByb3BlcnRpZXMoaSxlKSx0IT09ciYmKHRoaXMucmVsb2FkRmVhdHVyZUZsYWdzKCksdGhpcy51bnJlZ2lzdGVyKHZpKSl9fWVsc2UgUHQuY3JpdGljYWwoJ1RoZSBzdHJpbmcgXCInK3dpKydcIiB3YXMgc2V0IGluIHBvc3Rob2cuaWRlbnRpZnkgd2hpY2ggaW5kaWNhdGVzIGFuIGVycm9yLiBUaGlzIElEIGlzIG9ubHkgdXNlZCBhcyBhIHNlbnRpbmVsIHZhbHVlLicpO2Vsc2UgUHQuZXJyb3IoXCJVbmlxdWUgdXNlciBpZCBoYXMgbm90IGJlZW4gc2V0IGluIHBvc3Rob2cuaWRlbnRpZnlcIil9c2V0UGVyc29uUHJvcGVydGllcyh0LGkpe2lmKCh0fHxpKSYmdGhpcy56cihcInBvc3Rob2cuc2V0UGVyc29uUHJvcGVydGllc1wiKSl7dmFyIGU9ZG4odGhpcy5nZXRfZGlzdGluY3RfaWQoKSx0LGkpO3RoaXMud3IhPT1lPyh0aGlzLnNldFBlcnNvblByb3BlcnRpZXNGb3JGbGFncyhnKHt9LGl8fHt9LHR8fHt9KSksdGhpcy5jYXB0dXJlKFwiJHNldFwiLHskc2V0OnR8fHt9LCRzZXRfb25jZTppfHx7fX0pLHRoaXMud3I9ZSk6UHQuaW5mbyhcIkEgZHVwbGljYXRlIHNldFBlcnNvblByb3BlcnRpZXMgY2FsbCB3YXMgbWFkZSB3aXRoIHRoZSBzYW1lIHByb3BlcnRpZXMuIEl0IGhhcyBiZWVuIGlnbm9yZWQuXCIpfX1ncm91cCh0LGksZSl7aWYodCYmaSl7aWYodGhpcy56cihcInBvc3Rob2cuZ3JvdXBcIikpe3ZhciByPXRoaXMuZ2V0R3JvdXBzKCk7clt0XSE9PWkmJnRoaXMucmVzZXRHcm91cFByb3BlcnRpZXNGb3JGbGFncyh0KSx0aGlzLnJlZ2lzdGVyKHskZ3JvdXBzOmcoe30scix7W3RdOml9KX0pLGUmJih0aGlzLmNhcHR1cmUoXCIkZ3JvdXBpZGVudGlmeVwiLHskZ3JvdXBfdHlwZTp0LCRncm91cF9rZXk6aSwkZ3JvdXBfc2V0OmV9KSx0aGlzLnNldEdyb3VwUHJvcGVydGllc0ZvckZsYWdzKHtbdF06ZX0pKSxyW3RdPT09aXx8ZXx8dGhpcy5yZWxvYWRGZWF0dXJlRmxhZ3MoKX19ZWxzZSBQdC5lcnJvcihcInBvc3Rob2cuZ3JvdXAgcmVxdWlyZXMgYSBncm91cCB0eXBlIGFuZCBncm91cCBrZXlcIil9cmVzZXRHcm91cHMoKXt0aGlzLnJlZ2lzdGVyKHskZ3JvdXBzOnt9fSksdGhpcy5yZXNldEdyb3VwUHJvcGVydGllc0ZvckZsYWdzKCksdGhpcy5yZWxvYWRGZWF0dXJlRmxhZ3MoKX1zZXRQZXJzb25Qcm9wZXJ0aWVzRm9yRmxhZ3ModCxpKXt2b2lkIDA9PT1pJiYoaT0hMCksdGhpcy5mZWF0dXJlRmxhZ3Muc2V0UGVyc29uUHJvcGVydGllc0ZvckZsYWdzKHQsaSl9cmVzZXRQZXJzb25Qcm9wZXJ0aWVzRm9yRmxhZ3MoKXt0aGlzLmZlYXR1cmVGbGFncy5yZXNldFBlcnNvblByb3BlcnRpZXNGb3JGbGFncygpfXNldEdyb3VwUHJvcGVydGllc0ZvckZsYWdzKHQsaSl7dm9pZCAwPT09aSYmKGk9ITApLHRoaXMuenIoXCJwb3N0aG9nLnNldEdyb3VwUHJvcGVydGllc0ZvckZsYWdzXCIpJiZ0aGlzLmZlYXR1cmVGbGFncy5zZXRHcm91cFByb3BlcnRpZXNGb3JGbGFncyh0LGkpfXJlc2V0R3JvdXBQcm9wZXJ0aWVzRm9yRmxhZ3ModCl7dGhpcy5mZWF0dXJlRmxhZ3MucmVzZXRHcm91cFByb3BlcnRpZXNGb3JGbGFncyh0KX1yZXNldCh0KXt2YXIgaSxlLHIscztpZihQdC5pbmZvKFwicmVzZXRcIiksIXRoaXMuX19sb2FkZWQpcmV0dXJuIFB0LnVuaW5pdGlhbGl6ZWRXYXJuaW5nKFwicG9zdGhvZy5yZXNldFwiKTt2YXIgbj10aGlzLmdldF9wcm9wZXJ0eShcIiRkZXZpY2VfaWRcIik7aWYodGhpcy5jb25zZW50LnJlc2V0KCksbnVsbD09KGk9dGhpcy5wZXJzaXN0ZW5jZSl8fGkuY2xlYXIoKSxudWxsPT0oZT10aGlzLnNlc3Npb25QZXJzaXN0ZW5jZSl8fGUuY2xlYXIoKSx0aGlzLnN1cnZleXMucmVzZXQoKSx0aGlzLmZlYXR1cmVGbGFncy5yZXNldCgpLG51bGw9PShyPXRoaXMucGVyc2lzdGVuY2UpfHxyLnNldF9wcm9wZXJ0eShjaSxcImFub255bW91c1wiKSxudWxsPT0ocz10aGlzLnNlc3Npb25NYW5hZ2VyKXx8cy5yZXNldFNlc3Npb25JZCgpLHRoaXMud3I9bnVsbCxcImFsd2F5c1wiPT09dGhpcy5jb25maWcuY29va2llbGVzc19tb2RlKXRoaXMucmVnaXN0ZXJfb25jZSh7ZGlzdGluY3RfaWQ6d2ksJGRldmljZV9pZDpudWxsfSxcIlwiKTtlbHNle3ZhciBvPXRoaXMuY29uZmlnLmdldF9kZXZpY2VfaWQoeGUoKSk7dGhpcy5yZWdpc3Rlcl9vbmNlKHtkaXN0aW5jdF9pZDpvLCRkZXZpY2VfaWQ6dD9vOm59LFwiXCIpfXRoaXMucmVnaXN0ZXIoeyRsYXN0X3Bvc3Rob2dfcmVzZXQ6KG5ldyBEYXRlKS50b0lTT1N0cmluZygpfSwxKX1nZXRfZGlzdGluY3RfaWQoKXtyZXR1cm4gdGhpcy5nZXRfcHJvcGVydHkoXCJkaXN0aW5jdF9pZFwiKX1nZXRHcm91cHMoKXtyZXR1cm4gdGhpcy5nZXRfcHJvcGVydHkoXCIkZ3JvdXBzXCIpfHx7fX1nZXRfc2Vzc2lvbl9pZCgpe3ZhciB0LGk7cmV0dXJuIG51bGwhPT0odD1udWxsPT0oaT10aGlzLnNlc3Npb25NYW5hZ2VyKT92b2lkIDA6aS5jaGVja0FuZEdldFNlc3Npb25BbmRXaW5kb3dJZCghMCkuc2Vzc2lvbklkKSYmdm9pZCAwIT09dD90OlwiXCJ9Z2V0X3Nlc3Npb25fcmVwbGF5X3VybCh0KXtpZighdGhpcy5zZXNzaW9uTWFuYWdlcilyZXR1cm5cIlwiO3ZhcntzZXNzaW9uSWQ6aSxzZXNzaW9uU3RhcnRUaW1lc3RhbXA6ZX09dGhpcy5zZXNzaW9uTWFuYWdlci5jaGVja0FuZEdldFNlc3Npb25BbmRXaW5kb3dJZCghMCkscj10aGlzLnJlcXVlc3RSb3V0ZXIuZW5kcG9pbnRGb3IoXCJ1aVwiLFwiL3Byb2plY3QvXCIrdGhpcy5jb25maWcudG9rZW4rXCIvcmVwbGF5L1wiK2kpO2lmKG51bGwhPXQmJnQud2l0aFRpbWVzdGFtcCYmZSl7dmFyIHMsbj1udWxsIT09KHM9dC50aW1lc3RhbXBMb29rQmFjaykmJnZvaWQgMCE9PXM/czoxMDtpZighZSlyZXR1cm4gcjtyKz1cIj90PVwiK01hdGgubWF4KE1hdGguZmxvb3IoKChuZXcgRGF0ZSkuZ2V0VGltZSgpLWUpLzFlMyktbiwwKX1yZXR1cm4gcn1hbGlhcyh0LGkpe3JldHVybiB0PT09dGhpcy5nZXRfcHJvcGVydHkoV3QpPyhQdC5jcml0aWNhbChcIkF0dGVtcHRpbmcgdG8gY3JlYXRlIGFsaWFzIGZvciBleGlzdGluZyBQZW9wbGUgdXNlciAtIGFib3J0aW5nLlwiKSwtMik6dGhpcy56cihcInBvc3Rob2cuYWxpYXNcIik/KEYoaSkmJihpPXRoaXMuZ2V0X2Rpc3RpbmN0X2lkKCkpLHQhPT1pPyh0aGlzLkhyKEd0LHQpLHRoaXMuY2FwdHVyZShcIiRjcmVhdGVfYWxpYXNcIix7YWxpYXM6dCxkaXN0aW5jdF9pZDppfSkpOihQdC53YXJuKFwiYWxpYXMgbWF0Y2hlcyBjdXJyZW50IGRpc3RpbmN0X2lkIC0gc2tpcHBpbmcgYXBpIGNhbGwuXCIpLHRoaXMuaWRlbnRpZnkodCksLTEpKTp2b2lkIDB9c2V0X2NvbmZpZyh0KXt2YXIgaT1nKHt9LHRoaXMuY29uZmlnKTtpZihDKHQpKXt2YXIgZSxyLHMsbixvO010KHRoaXMuY29uZmlnLFBvKHQpKTt2YXIgYT10aGlzLmtyKCk7bnVsbD09KGU9dGhpcy5wZXJzaXN0ZW5jZSl8fGUudXBkYXRlX2NvbmZpZyh0aGlzLmNvbmZpZyxpLGEpLHRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlPVwic2Vzc2lvblN0b3JhZ2VcIj09PXRoaXMuY29uZmlnLnBlcnNpc3RlbmNlfHxcIm1lbW9yeVwiPT09dGhpcy5jb25maWcucGVyc2lzdGVuY2U/dGhpcy5wZXJzaXN0ZW5jZTpuZXcgUG4oZyh7fSx0aGlzLmNvbmZpZyx7cGVyc2lzdGVuY2U6XCJzZXNzaW9uU3RvcmFnZVwifSksYSk7dmFyIGw9dGhpcy4kcih0aGlzLmNvbmZpZy5kZWJ1Zyk7TihsKSYmKHRoaXMuY29uZmlnLmRlYnVnPWwpLE4odGhpcy5jb25maWcuZGVidWcpJiYodGhpcy5jb25maWcuZGVidWc/KGMuREVCVUc9ITAsSWUuSCgpJiZJZS5HKFwicGhfZGVidWdcIixcInRydWVcIiksUHQuaW5mbyhcInNldF9jb25maWdcIix7Y29uZmlnOnQsb2xkQ29uZmlnOmksbmV3Q29uZmlnOmcoe30sdGhpcy5jb25maWcpfSkpOihjLkRFQlVHPSExLEllLkgoKSYmSWUuVihcInBoX2RlYnVnXCIpKSksbnVsbD09KHI9dGhpcy5zZXNzaW9uUmVjb3JkaW5nKXx8ci5zdGFydElmRW5hYmxlZE9yU3RvcCgpLG51bGw9PShzPXRoaXMuYXV0b2NhcHR1cmUpfHxzLnN0YXJ0SWZFbmFibGVkKCksbnVsbD09KG49dGhpcy5oZWF0bWFwcyl8fG4uc3RhcnRJZkVuYWJsZWQoKSx0aGlzLnN1cnZleXMubG9hZElmRW5hYmxlZCgpLHRoaXMuQnIoKSxudWxsPT0obz10aGlzLmV4dGVybmFsSW50ZWdyYXRpb25zKXx8by5zdGFydElmRW5hYmxlZE9yU3RvcCgpfX1zdGFydFNlc3Npb25SZWNvcmRpbmcodCl7dmFyIGk9ITA9PT10LGU9e3NhbXBsaW5nOml8fCEobnVsbD09dHx8IXQuc2FtcGxpbmcpLGxpbmtlZF9mbGFnOml8fCEobnVsbD09dHx8IXQubGlua2VkX2ZsYWcpLHVybF90cmlnZ2VyOml8fCEobnVsbD09dHx8IXQudXJsX3RyaWdnZXIpLGV2ZW50X3RyaWdnZXI6aXx8IShudWxsPT10fHwhdC5ldmVudF90cmlnZ2VyKX07aWYoT2JqZWN0LnZhbHVlcyhlKS5zb21lKEJvb2xlYW4pKXt2YXIgcixzLG4sbyxhO2lmKG51bGw9PShyPXRoaXMuc2Vzc2lvbk1hbmFnZXIpfHxyLmNoZWNrQW5kR2V0U2Vzc2lvbkFuZFdpbmRvd0lkKCksZS5zYW1wbGluZyludWxsPT0ocz10aGlzLnNlc3Npb25SZWNvcmRpbmcpfHxzLm92ZXJyaWRlU2FtcGxpbmcoKTtpZihlLmxpbmtlZF9mbGFnKW51bGw9PShuPXRoaXMuc2Vzc2lvblJlY29yZGluZyl8fG4ub3ZlcnJpZGVMaW5rZWRGbGFnKCk7aWYoZS51cmxfdHJpZ2dlciludWxsPT0obz10aGlzLnNlc3Npb25SZWNvcmRpbmcpfHxvLm92ZXJyaWRlVHJpZ2dlcihcInVybFwiKTtpZihlLmV2ZW50X3RyaWdnZXIpbnVsbD09KGE9dGhpcy5zZXNzaW9uUmVjb3JkaW5nKXx8YS5vdmVycmlkZVRyaWdnZXIoXCJldmVudFwiKX10aGlzLnNldF9jb25maWcoe2Rpc2FibGVfc2Vzc2lvbl9yZWNvcmRpbmc6ITF9KX1zdG9wU2Vzc2lvblJlY29yZGluZygpe3RoaXMuc2V0X2NvbmZpZyh7ZGlzYWJsZV9zZXNzaW9uX3JlY29yZGluZzohMH0pfXNlc3Npb25SZWNvcmRpbmdTdGFydGVkKCl7dmFyIHQ7cmV0dXJuIShudWxsPT0odD10aGlzLnNlc3Npb25SZWNvcmRpbmcpfHwhdC5zdGFydGVkKX1jYXB0dXJlRXhjZXB0aW9uKHQsaSl7dmFyIGU9bmV3IEVycm9yKFwiUG9zdEhvZyBzeW50aGV0aWNFeGNlcHRpb25cIikscj10aGlzLmV4Y2VwdGlvbnMuYnVpbGRQcm9wZXJ0aWVzKHQse2hhbmRsZWQ6ITAsc3ludGhldGljRXhjZXB0aW9uOmV9KTtyZXR1cm4gdGhpcy5leGNlcHRpb25zLnNlbmRFeGNlcHRpb25FdmVudChnKHt9LHIsaSkpfWxvYWRUb29sYmFyKHQpe3JldHVybiB0aGlzLnRvb2xiYXIubG9hZFRvb2xiYXIodCl9Z2V0X3Byb3BlcnR5KHQpe3ZhciBpO3JldHVybiBudWxsPT0oaT10aGlzLnBlcnNpc3RlbmNlKT92b2lkIDA6aS5wcm9wc1t0XX1nZXRTZXNzaW9uUHJvcGVydHkodCl7dmFyIGk7cmV0dXJuIG51bGw9PShpPXRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlKT92b2lkIDA6aS5wcm9wc1t0XX10b1N0cmluZygpe3ZhciB0LGk9bnVsbCE9PSh0PXRoaXMuY29uZmlnLm5hbWUpJiZ2b2lkIDAhPT10P3Q6U287cmV0dXJuIGkhPT1TbyYmKGk9U28rXCIuXCIraSksaX1faXNJZGVudGlmaWVkKCl7dmFyIHQsaTtyZXR1cm5cImlkZW50aWZpZWRcIj09PShudWxsPT0odD10aGlzLnBlcnNpc3RlbmNlKT92b2lkIDA6dC5nZXRfcHJvcGVydHkoY2kpKXx8XCJpZGVudGlmaWVkXCI9PT0obnVsbD09KGk9dGhpcy5zZXNzaW9uUGVyc2lzdGVuY2UpP3ZvaWQgMDppLmdldF9wcm9wZXJ0eShjaSkpfVVyKCl7dmFyIHQsaTtyZXR1cm4hKFwibmV2ZXJcIj09PXRoaXMuY29uZmlnLnBlcnNvbl9wcm9maWxlc3x8XCJpZGVudGlmaWVkX29ubHlcIj09PXRoaXMuY29uZmlnLnBlcnNvbl9wcm9maWxlcyYmIXRoaXMuX2lzSWRlbnRpZmllZCgpJiZPKHRoaXMuZ2V0R3JvdXBzKCkpJiYobnVsbD09KHQ9dGhpcy5wZXJzaXN0ZW5jZSl8fG51bGw9PSh0PXQucHJvcHMpfHwhdFtHdF0pJiYobnVsbD09KGk9dGhpcy5wZXJzaXN0ZW5jZSl8fG51bGw9PShpPWkucHJvcHMpfHwhaVt5aV0pKX1qcigpe3JldHVybiEwPT09dGhpcy5jb25maWcuY2FwdHVyZV9wYWdlbGVhdmV8fFwiaWZfY2FwdHVyZV9wYWdldmlld1wiPT09dGhpcy5jb25maWcuY2FwdHVyZV9wYWdlbGVhdmUmJighMD09PXRoaXMuY29uZmlnLmNhcHR1cmVfcGFnZXZpZXd8fFwiaGlzdG9yeV9jaGFuZ2VcIj09PXRoaXMuY29uZmlnLmNhcHR1cmVfcGFnZXZpZXcpfWNyZWF0ZVBlcnNvblByb2ZpbGUoKXt0aGlzLlVyKCl8fHRoaXMuenIoXCJwb3N0aG9nLmNyZWF0ZVBlcnNvblByb2ZpbGVcIikmJnRoaXMuc2V0UGVyc29uUHJvcGVydGllcyh7fSx7fSl9enIodCl7cmV0dXJuXCJuZXZlclwiPT09dGhpcy5jb25maWcucGVyc29uX3Byb2ZpbGVzPyhQdC5lcnJvcih0Kycgd2FzIGNhbGxlZCwgYnV0IHByb2Nlc3NfcGVyc29uIGlzIHNldCB0byBcIm5ldmVyXCIuIFRoaXMgY2FsbCB3aWxsIGJlIGlnbm9yZWQuJyksITEpOih0aGlzLkhyKHlpLCEwKSwhMCl9a3IoKXtpZihcImFsd2F5c1wiPT09dGhpcy5jb25maWcuY29va2llbGVzc19tb2RlKXJldHVybiEwO3ZhciB0PXRoaXMuY29uc2VudC5pc09wdGVkT3V0KCksaT10aGlzLmNvbmZpZy5vcHRfb3V0X3BlcnNpc3RlbmNlX2J5X2RlZmF1bHR8fFwib25fcmVqZWN0XCI9PT10aGlzLmNvbmZpZy5jb29raWVsZXNzX21vZGU7cmV0dXJuIHRoaXMuY29uZmlnLmRpc2FibGVfcGVyc2lzdGVuY2V8fHQmJiEhaX1Ccigpe3ZhciB0LGksZSxyLHM9dGhpcy5rcigpOyhudWxsPT0odD10aGlzLnBlcnNpc3RlbmNlKT92b2lkIDA6dC53aSkhPT1zJiYobnVsbD09KGU9dGhpcy5wZXJzaXN0ZW5jZSl8fGUuc2V0X2Rpc2FibGVkKHMpKTsobnVsbD09KGk9dGhpcy5zZXNzaW9uUGVyc2lzdGVuY2UpP3ZvaWQgMDppLndpKSE9PXMmJihudWxsPT0ocj10aGlzLnNlc3Npb25QZXJzaXN0ZW5jZSl8fHIuc2V0X2Rpc2FibGVkKHMpKTtyZXR1cm4gc31vcHRfaW5fY2FwdHVyaW5nKHQpe2lmKFwiYWx3YXlzXCIhPT10aGlzLmNvbmZpZy5jb29raWVsZXNzX21vZGUpe3ZhciBpLGU7aWYoXCJvbl9yZWplY3RcIj09PXRoaXMuY29uZmlnLmNvb2tpZWxlc3NfbW9kZSYmdGhpcy5jb25zZW50LmlzRXhwbGljaXRseU9wdGVkT3V0KCkpdGhpcy5yZXNldCghMCksbnVsbD09KGk9dGhpcy5zZXNzaW9uTWFuYWdlcil8fGkuZGVzdHJveSgpLHRoaXMuc2Vzc2lvbk1hbmFnZXI9bmV3IG5vKHRoaXMpLHRoaXMucGVyc2lzdGVuY2UmJih0aGlzLnNlc3Npb25Qcm9wc01hbmFnZXI9bmV3IHJvKHRoaXMsdGhpcy5zZXNzaW9uTWFuYWdlcix0aGlzLnBlcnNpc3RlbmNlKSksdGhpcy5zZXNzaW9uUmVjb3JkaW5nPW5ldyB3byh0aGlzKSx0aGlzLnNlc3Npb25SZWNvcmRpbmcuc3RhcnRJZkVuYWJsZWRPclN0b3AoKTtpZih0aGlzLmNvbnNlbnQub3B0SW5PdXQoITApLHRoaXMuQnIoKSx0aGlzLkFyKCksXCJvbl9yZWplY3RcIj09dGhpcy5jb25maWcuY29va2llbGVzc19tb2RlJiZ0aGlzLnN1cnZleXMubG9hZElmRW5hYmxlZCgpLEYobnVsbD09dD92b2lkIDA6dC5jYXB0dXJlRXZlbnROYW1lKXx8bnVsbCE9dCYmdC5jYXB0dXJlRXZlbnROYW1lKXRoaXMuY2FwdHVyZShudWxsIT09KGU9bnVsbD09dD92b2lkIDA6dC5jYXB0dXJlRXZlbnROYW1lKSYmdm9pZCAwIT09ZT9lOlwiJG9wdF9pblwiLG51bGw9PXQ/dm9pZCAwOnQuY2FwdHVyZVByb3BlcnRpZXMse3NlbmRfaW5zdGFudGx5OiEwfSk7dGhpcy5jb25maWcuY2FwdHVyZV9wYWdldmlldyYmdGhpcy5EcigpfWVsc2UgUHQud2FybignQ29uc2VudCBvcHQgaW4vb3V0IGlzIG5vdCB2YWxpZCB3aXRoIGNvb2tpZWxlc3NfbW9kZT1cImFsd2F5c1wiIGFuZCB3aWxsIGJlIGlnbm9yZWQnKX1vcHRfb3V0X2NhcHR1cmluZygpe3ZhciB0LGk7XCJhbHdheXNcIiE9PXRoaXMuY29uZmlnLmNvb2tpZWxlc3NfbW9kZT8oXCJvbl9yZWplY3RcIj09PXRoaXMuY29uZmlnLmNvb2tpZWxlc3NfbW9kZSYmdGhpcy5jb25zZW50LmlzT3B0ZWRJbigpJiZ0aGlzLnJlc2V0KCEwKSx0aGlzLmNvbnNlbnQub3B0SW5PdXQoITEpLHRoaXMuQnIoKSxcIm9uX3JlamVjdFwiPT09dGhpcy5jb25maWcuY29va2llbGVzc19tb2RlJiYodGhpcy5yZWdpc3Rlcih7ZGlzdGluY3RfaWQ6d2ksJGRldmljZV9pZDpudWxsfSksbnVsbD09KHQ9dGhpcy5zZXNzaW9uTWFuYWdlcil8fHQuZGVzdHJveSgpLHRoaXMuc2Vzc2lvbk1hbmFnZXI9dm9pZCAwLHRoaXMuc2Vzc2lvblByb3BzTWFuYWdlcj12b2lkIDAsbnVsbD09KGk9dGhpcy5zZXNzaW9uUmVjb3JkaW5nKXx8aS5zdG9wUmVjb3JkaW5nKCksdGhpcy5zZXNzaW9uUmVjb3JkaW5nPXZvaWQgMCx0aGlzLkRyKCkpKTpQdC53YXJuKCdDb25zZW50IG9wdCBpbi9vdXQgaXMgbm90IHZhbGlkIHdpdGggY29va2llbGVzc19tb2RlPVwiYWx3YXlzXCIgYW5kIHdpbGwgYmUgaWdub3JlZCcpfWhhc19vcHRlZF9pbl9jYXB0dXJpbmcoKXtyZXR1cm4gdGhpcy5jb25zZW50LmlzT3B0ZWRJbigpfWhhc19vcHRlZF9vdXRfY2FwdHVyaW5nKCl7cmV0dXJuIHRoaXMuY29uc2VudC5pc09wdGVkT3V0KCl9Z2V0X2V4cGxpY2l0X2NvbnNlbnRfc3RhdHVzKCl7dmFyIHQ9dGhpcy5jb25zZW50LmNvbnNlbnQ7cmV0dXJuIHQ9PT1EZS5HUkFOVEVEP1wiZ3JhbnRlZFwiOnQ9PT1EZS5ERU5JRUQ/XCJkZW5pZWRcIjpcInBlbmRpbmdcIn1pc19jYXB0dXJpbmcoKXtyZXR1cm5cImFsd2F5c1wiPT09dGhpcy5jb25maWcuY29va2llbGVzc19tb2RlfHwoXCJvbl9yZWplY3RcIj09PXRoaXMuY29uZmlnLmNvb2tpZWxlc3NfbW9kZT90aGlzLmNvbnNlbnQuaXNFeHBsaWNpdGx5T3B0ZWRPdXQoKXx8dGhpcy5jb25zZW50LmlzT3B0ZWRJbigpOiF0aGlzLmhhc19vcHRlZF9vdXRfY2FwdHVyaW5nKCkpfWNsZWFyX29wdF9pbl9vdXRfY2FwdHVyaW5nKCl7dGhpcy5jb25zZW50LnJlc2V0KCksdGhpcy5CcigpfV9pc19ib3QoKXtyZXR1cm4gbj91byhuLHRoaXMuY29uZmlnLmN1c3RvbV9ibG9ja2VkX3VzZXJhZ2VudHMpOnZvaWQgMH1Ecigpe28mJihcInZpc2libGVcIj09PW8udmlzaWJpbGl0eVN0YXRlP3RoaXMubXJ8fCh0aGlzLm1yPSEwLHRoaXMuY2FwdHVyZShcIiRwYWdldmlld1wiLHt0aXRsZTpvLnRpdGxlfSx7c2VuZF9pbnN0YW50bHk6ITB9KSx0aGlzLnlyJiYoby5yZW1vdmVFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLHRoaXMueXIpLHRoaXMueXI9bnVsbCkpOnRoaXMueXJ8fCh0aGlzLnlyPXRoaXMuRHIuYmluZCh0aGlzKSxxdChvLFwidmlzaWJpbGl0eWNoYW5nZVwiLHRoaXMueXIpKSl9ZGVidWcoaSl7ITE9PT1pPyhudWxsPT10fHx0LmNvbnNvbGUubG9nKFwiWW91J3ZlIGRpc2FibGVkIGRlYnVnIG1vZGUuXCIpLHRoaXMuc2V0X2NvbmZpZyh7ZGVidWc6ITF9KSk6KG51bGw9PXR8fHQuY29uc29sZS5sb2coXCJZb3UncmUgbm93IGluIGRlYnVnIG1vZGUuIEFsbCBjYWxscyB0byBQb3N0SG9nIHdpbGwgYmUgbG9nZ2VkIGluIHlvdXIgY29uc29sZS5cXG5Zb3UgY2FuIGRpc2FibGUgdGhpcyB3aXRoIGBwb3N0aG9nLmRlYnVnKGZhbHNlKWAuXCIpLHRoaXMuc2V0X2NvbmZpZyh7ZGVidWc6ITB9KSl9TSgpe3ZhciB0LGksZSxyLHMsbixvLGE9dGhpcy5Tcnx8e307cmV0dXJuXCJhZHZhbmNlZF9kaXNhYmxlX2ZsYWdzXCJpbiBhPyEhYS5hZHZhbmNlZF9kaXNhYmxlX2ZsYWdzOiExIT09dGhpcy5jb25maWcuYWR2YW5jZWRfZGlzYWJsZV9mbGFncz8hIXRoaXMuY29uZmlnLmFkdmFuY2VkX2Rpc2FibGVfZmxhZ3M6ITA9PT10aGlzLmNvbmZpZy5hZHZhbmNlZF9kaXNhYmxlX2RlY2lkZT8oUHQud2FybihcIkNvbmZpZyBmaWVsZCAnYWR2YW5jZWRfZGlzYWJsZV9kZWNpZGUnIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgJ2FkdmFuY2VkX2Rpc2FibGVfZmxhZ3MnIGluc3RlYWQuIFRoZSBvbGQgZmllbGQgd2lsbCBiZSByZW1vdmVkIGluIGEgZnV0dXJlIG1ham9yIHZlcnNpb24uXCIpLCEwKTooZT1cImFkdmFuY2VkX2Rpc2FibGVfZGVjaWRlXCIscj0hMSxzPVB0LG49KGk9XCJhZHZhbmNlZF9kaXNhYmxlX2ZsYWdzXCIpaW4odD1hKSYmIUYodFtpXSksbz1lIGluIHQmJiFGKHRbZV0pLG4/dFtpXTpvPyhzJiZzLndhcm4oXCJDb25maWcgZmllbGQgJ1wiK2UrXCInIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgJ1wiK2krXCInIGluc3RlYWQuIFRoZSBvbGQgZmllbGQgd2lsbCBiZSByZW1vdmVkIGluIGEgZnV0dXJlIG1ham9yIHZlcnNpb24uXCIpLHRbZV0pOnIpfU5yKHQpe2lmKGoodGhpcy5jb25maWcuYmVmb3JlX3NlbmQpKXJldHVybiB0O3ZhciBpPUkodGhpcy5jb25maWcuYmVmb3JlX3NlbmQpP3RoaXMuY29uZmlnLmJlZm9yZV9zZW5kOlt0aGlzLmNvbmZpZy5iZWZvcmVfc2VuZF0sZT10O2Zvcih2YXIgciBvZiBpKXtpZihlPXIoZSksaihlKSl7dmFyIHM9XCJFdmVudCAnXCIrdC5ldmVudCtcIicgd2FzIHJlamVjdGVkIGluIGJlZm9yZVNlbmQgZnVuY3Rpb25cIjtyZXR1cm4geih0LmV2ZW50KT9QdC53YXJuKHMrXCIuIFRoaXMgY2FuIGNhdXNlIHVuZXhwZWN0ZWQgYmVoYXZpb3IuXCIpOlB0LmluZm8ocyksbnVsbH1lLnByb3BlcnRpZXMmJiFPKGUucHJvcGVydGllcyl8fFB0Lndhcm4oXCJFdmVudCAnXCIrdC5ldmVudCtcIicgaGFzIG5vIHByb3BlcnRpZXMgYWZ0ZXIgYmVmb3JlU2VuZCBmdW5jdGlvbiwgdGhpcyBpcyBsaWtlbHkgYW4gZXJyb3IuXCIpfXJldHVybiBlfWdldFBhZ2VWaWV3SWQoKXt2YXIgdDtyZXR1cm4gbnVsbD09KHQ9dGhpcy5wYWdlVmlld01hbmFnZXIuVnQpP3ZvaWQgMDp0LnBhZ2VWaWV3SWR9Y2FwdHVyZVRyYWNlRmVlZGJhY2sodCxpKXt0aGlzLmNhcHR1cmUoXCIkYWlfZmVlZGJhY2tcIix7JGFpX3RyYWNlX2lkOlN0cmluZyh0KSwkYWlfZmVlZGJhY2tfdGV4dDppfSl9Y2FwdHVyZVRyYWNlTWV0cmljKHQsaSxlKXt0aGlzLmNhcHR1cmUoXCIkYWlfbWV0cmljXCIseyRhaV90cmFjZV9pZDpTdHJpbmcodCksJGFpX21ldHJpY19uYW1lOmksJGFpX21ldHJpY192YWx1ZTpTdHJpbmcoZSl9KX0kcih0KXt2YXIgaT1OKHQpJiYhdCxlPUllLkgoKSYmXCJ0cnVlXCI9PT1JZS5xKFwicGhfZGVidWdcIik7cmV0dXJuIWkmJighIWV8fHQpfX0hZnVuY3Rpb24odCxpKXtmb3IodmFyIGU9MDtlPGkubGVuZ3RoO2UrKyl0LnByb3RvdHlwZVtpW2VdXT1MdCh0LnByb3RvdHlwZVtpW2VdXSl9KElvLFtcImlkZW50aWZ5XCJdKTt2YXIgUm8sQ289KFJvPXhvW1NvXT1uZXcgSW8sZnVuY3Rpb24oKXtmdW5jdGlvbiBpKCl7aS5kb25lfHwoaS5kb25lPSEwLEVvPSExLEZ0KHhvLChmdW5jdGlvbih0KXt0Ll9kb21fbG9hZGVkKCl9KSkpfW51bGwhPW8mJm8uYWRkRXZlbnRMaXN0ZW5lcj9cImNvbXBsZXRlXCI9PT1vLnJlYWR5U3RhdGU/aSgpOnF0KG8sXCJET01Db250ZW50TG9hZGVkXCIsaSx7Y2FwdHVyZTohMX0pOnQmJlB0LmVycm9yKFwiQnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgYGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXJgIHNvIFBvc3RIb2cgY291bGRuJ3QgYmUgaW5pdGlhbGl6ZWRcIil9KCksUm8pO2V4cG9ydHtlZSBhcyBDT1BZX0FVVE9DQVBUVVJFX0VWRU5ULHJlIGFzIENvbXByZXNzaW9uLERuIGFzIERpc3BsYXlTdXJ2ZXlUeXBlLElvIGFzIFBvc3RIb2csTW4gYXMgU3VydmV5RXZlbnROYW1lLEFuIGFzIFN1cnZleUV2ZW50UHJvcGVydGllcyxJbiBhcyBTdXJ2ZXlQb3NpdGlvbixPbiBhcyBTdXJ2ZXlRdWVzdGlvbkJyYW5jaGluZ1R5cGUsQ24gYXMgU3VydmV5UXVlc3Rpb25UeXBlLEZuIGFzIFN1cnZleVNjaGVkdWxlLFJuIGFzIFN1cnZleVR5cGUsVG4gYXMgU3VydmV5V2lkZ2V0VHlwZSxDbyBhcyBkZWZhdWx0LENvIGFzIHBvc3Rob2csc2UgYXMgc2V2ZXJpdHlMZXZlbHN9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bW9kdWxlLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/posthog-js/dist/module.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/posthog-js/react/dist/esm/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/posthog-js/react/dist/esm/index.js ***!
  \*********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PostHogCaptureOnViewed: function() { return /* binding */ PostHogCaptureOnViewed; },\n/* harmony export */   PostHogContext: function() { return /* binding */ PostHogContext; },\n/* harmony export */   PostHogErrorBoundary: function() { return /* binding */ PostHogErrorBoundary; },\n/* harmony export */   PostHogFeature: function() { return /* binding */ PostHogFeature; },\n/* harmony export */   PostHogProvider: function() { return /* binding */ PostHogProvider; },\n/* harmony export */   captureFeatureInteraction: function() { return /* binding */ captureFeatureInteraction; },\n/* harmony export */   captureFeatureView: function() { return /* binding */ captureFeatureView; },\n/* harmony export */   setupReactErrorHandler: function() { return /* binding */ setupReactErrorHandler; },\n/* harmony export */   useActiveFeatureFlags: function() { return /* binding */ useActiveFeatureFlags; },\n/* harmony export */   useFeatureFlagEnabled: function() { return /* binding */ useFeatureFlagEnabled; },\n/* harmony export */   useFeatureFlagPayload: function() { return /* binding */ useFeatureFlagPayload; },\n/* harmony export */   useFeatureFlagVariantKey: function() { return /* binding */ useFeatureFlagVariantKey; },\n/* harmony export */   usePostHog: function() { return /* binding */ usePostHog; }\n/* harmony export */ });\n/* harmony import */ var posthog_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! posthog-js */ \"(app-pages-browser)/./node_modules/posthog-js/dist/module.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\n\nvar PostHogContext = (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)({\n    client: posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n    bootstrap: undefined,\n});\n\nfunction isDeepEqual(obj1, obj2, visited) {\n    if (visited === void 0) { visited = new WeakMap(); }\n    if (obj1 === obj2) {\n        return true;\n    }\n    if (typeof obj1 !== 'object' || obj1 === null || typeof obj2 !== 'object' || obj2 === null) {\n        return false;\n    }\n    if (visited.has(obj1) && visited.get(obj1) === obj2) {\n        return true;\n    }\n    visited.set(obj1, obj2);\n    var keys1 = Object.keys(obj1);\n    var keys2 = Object.keys(obj2);\n    if (keys1.length !== keys2.length) {\n        return false;\n    }\n    for (var _i = 0, keys1_1 = keys1; _i < keys1_1.length; _i++) {\n        var key = keys1_1[_i];\n        if (!keys2.includes(key)) {\n            return false;\n        }\n        if (!isDeepEqual(obj1[key], obj2[key], visited)) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction PostHogProvider(_a) {\n    var _b, _c;\n    var children = _a.children, client = _a.client, apiKey = _a.apiKey, options = _a.options;\n    var previousInitializationRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    var posthog = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {\n        if (client) {\n            if (apiKey) {\n                console.warn('[PostHog.js] You have provided both `client` and `apiKey` to `PostHogProvider`. `apiKey` will be ignored in favour of `client`.');\n            }\n            if (options) {\n                console.warn('[PostHog.js] You have provided both `client` and `options` to `PostHogProvider`. `options` will be ignored in favour of `client`.');\n            }\n            return client;\n        }\n        if (apiKey) {\n            return posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n        }\n        console.warn('[PostHog.js] No `apiKey` or `client` were provided to `PostHogProvider`. Using default global `window.posthog` instance. You must initialize it manually. This is not recommended behavior.');\n        return posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n    }, [client, apiKey, JSON.stringify(options)]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\n        if (client) {\n            return;\n        }\n        var previousInitialization = previousInitializationRef.current;\n        if (!previousInitialization) {\n            if (posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].__loaded) {\n                console.warn('[PostHog.js] `posthog` was already loaded elsewhere. This may cause issues.');\n            }\n            posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].init(apiKey, options);\n            previousInitializationRef.current = {\n                apiKey: apiKey,\n                options: options !== null && options !== void 0 ? options : {},\n            };\n        }\n        else {\n            if (apiKey !== previousInitialization.apiKey) {\n                console.warn(\"[PostHog.js] You have provided a different `apiKey` to `PostHogProvider` than the one that was already initialized. This is not supported by our provider and we'll keep using the previous key. If you need to toggle between API Keys you need to control the `client` yourself and pass it in as a prop rather than an `apiKey` prop.\");\n            }\n            if (options && !isDeepEqual(options, previousInitialization.options)) {\n                posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].set_config(options);\n            }\n            previousInitializationRef.current = {\n                apiKey: apiKey,\n                options: options !== null && options !== void 0 ? options : {},\n            };\n        }\n    }, [client, apiKey, JSON.stringify(options)]);\n    return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(PostHogContext.Provider, { value: { client: posthog, bootstrap: (_b = options === null || options === void 0 ? void 0 : options.bootstrap) !== null && _b !== void 0 ? _b : (_c = client === null || client === void 0 ? void 0 : client.config) === null || _c === void 0 ? void 0 : _c.bootstrap } }, children));\n}\n\nvar isFunction = function (f) {\n    return typeof f === 'function';\n};\nvar isUndefined = function (x) {\n    return x === void 0;\n};\nvar isNull = function (x) {\n    return x === null;\n};\n\nfunction useFeatureFlagEnabled(flag) {\n    var _a;\n    var _b = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(PostHogContext), client = _b.client, bootstrap = _b.bootstrap;\n    var _c = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(function () { return client.isFeatureEnabled(flag); }), featureEnabled = _c[0], setFeatureEnabled = _c[1];\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\n        return client.onFeatureFlags(function () {\n            setFeatureEnabled(client.isFeatureEnabled(flag));\n        });\n    }, [client, flag]);\n    var bootstrapped = (_a = bootstrap === null || bootstrap === void 0 ? void 0 : bootstrap.featureFlags) === null || _a === void 0 ? void 0 : _a[flag];\n    if (!client.featureFlags.hasLoadedFlags && (bootstrap === null || bootstrap === void 0 ? void 0 : bootstrap.featureFlags)) {\n        return isUndefined(bootstrapped) ? undefined : !!bootstrapped;\n    }\n    return featureEnabled;\n}\n\nfunction useFeatureFlagPayload(flag) {\n    var _a = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(PostHogContext), client = _a.client, bootstrap = _a.bootstrap;\n    var _b = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(function () { return client.getFeatureFlagPayload(flag); }), featureFlagPayload = _b[0], setFeatureFlagPayload = _b[1];\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\n        return client.onFeatureFlags(function () {\n            setFeatureFlagPayload(client.getFeatureFlagPayload(flag));\n        });\n    }, [client, flag]);\n    if (!client.featureFlags.hasLoadedFlags && (bootstrap === null || bootstrap === void 0 ? void 0 : bootstrap.featureFlagPayloads)) {\n        return bootstrap.featureFlagPayloads[flag];\n    }\n    return featureFlagPayload;\n}\n\nfunction useActiveFeatureFlags() {\n    var _a = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(PostHogContext), client = _a.client, bootstrap = _a.bootstrap;\n    var _b = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(function () { return client.featureFlags.getFlags(); }), featureFlags = _b[0], setFeatureFlags = _b[1];\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\n        return client.onFeatureFlags(function (flags) {\n            setFeatureFlags(flags);\n        });\n    }, [client]);\n    if (!client.featureFlags.hasLoadedFlags && (bootstrap === null || bootstrap === void 0 ? void 0 : bootstrap.featureFlags)) {\n        return Object.keys(bootstrap.featureFlags);\n    }\n    return featureFlags;\n}\n\nfunction useFeatureFlagVariantKey(flag) {\n    var _a = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(PostHogContext), client = _a.client, bootstrap = _a.bootstrap;\n    var _b = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(function () {\n        return client.getFeatureFlag(flag);\n    }), featureFlagVariantKey = _b[0], setFeatureFlagVariantKey = _b[1];\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\n        return client.onFeatureFlags(function () {\n            setFeatureFlagVariantKey(client.getFeatureFlag(flag));\n        });\n    }, [client, flag]);\n    if (!client.featureFlags.hasLoadedFlags && (bootstrap === null || bootstrap === void 0 ? void 0 : bootstrap.featureFlags)) {\n        return bootstrap.featureFlags[flag];\n    }\n    return featureFlagVariantKey;\n}\n\nvar usePostHog = function () {\n    var client = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(PostHogContext).client;\n    return client;\n};\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\ntypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\n\nfunction VisibilityAndClickTracker(_a) {\n    var children = _a.children, onIntersect = _a.onIntersect, onClick = _a.onClick, trackView = _a.trackView, options = _a.options, props = __rest(_a, [\"children\", \"onIntersect\", \"onClick\", \"trackView\", \"options\"]);\n    var ref = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    var observerOptions = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () { return (__assign({ threshold: 0.1 }, options)); }, [options === null || options === void 0 ? void 0 : options.threshold, options === null || options === void 0 ? void 0 : options.root, options === null || options === void 0 ? void 0 : options.rootMargin]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\n        if (isNull(ref.current) || !trackView)\n            return;\n        var observer = new IntersectionObserver(function (_a) {\n            var entry = _a[0];\n            return onIntersect(entry);\n        }, observerOptions);\n        observer.observe(ref.current);\n        return function () { return observer.disconnect(); };\n    }, [observerOptions, trackView, onIntersect]);\n    return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", __assign({ ref: ref }, props, { onClick: onClick }), children));\n}\n\nfunction VisibilityAndClickTrackers(_a) {\n    var children = _a.children, trackInteraction = _a.trackInteraction, trackView = _a.trackView, options = _a.options, onInteract = _a.onInteract, onView = _a.onView, props = __rest(_a, [\"children\", \"trackInteraction\", \"trackView\", \"options\", \"onInteract\", \"onView\"]);\n    var clickTrackedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    var visibilityTrackedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    var cachedOnClick = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function () {\n        if (!clickTrackedRef.current && trackInteraction && onInteract) {\n            onInteract();\n            clickTrackedRef.current = true;\n        }\n    }, [trackInteraction, onInteract]);\n    var onIntersect = function (entry) {\n        if (!visibilityTrackedRef.current && entry.isIntersecting && onView) {\n            onView();\n            visibilityTrackedRef.current = true;\n        }\n    };\n    var trackedChildren = react__WEBPACK_IMPORTED_MODULE_1__.Children.map(children, function (child) {\n        return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(VisibilityAndClickTracker, __assign({ onClick: cachedOnClick, onIntersect: onIntersect, trackView: trackView, options: options }, props), child));\n    });\n    return react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null, trackedChildren);\n}\n\nfunction PostHogFeature(_a) {\n    var flag = _a.flag, match = _a.match, children = _a.children, fallback = _a.fallback, visibilityObserverOptions = _a.visibilityObserverOptions, trackInteraction = _a.trackInteraction, trackView = _a.trackView, props = __rest(_a, [\"flag\", \"match\", \"children\", \"fallback\", \"visibilityObserverOptions\", \"trackInteraction\", \"trackView\"]);\n    var payload = useFeatureFlagPayload(flag);\n    var variant = useFeatureFlagVariantKey(flag);\n    var posthog = usePostHog();\n    var shouldTrackInteraction = trackInteraction !== null && trackInteraction !== void 0 ? trackInteraction : true;\n    var shouldTrackView = trackView !== null && trackView !== void 0 ? trackView : true;\n    if (isUndefined(match) || variant === match) {\n        var childNode = isFunction(children) ? children(payload) : children;\n        return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(VisibilityAndClickTrackers, __assign({ flag: flag, options: visibilityObserverOptions, trackInteraction: shouldTrackInteraction, trackView: shouldTrackView, onInteract: function () { return captureFeatureInteraction({ flag: flag, posthog: posthog, flagVariant: variant }); }, onView: function () { return captureFeatureView({ flag: flag, posthog: posthog, flagVariant: variant }); } }, props), childNode));\n    }\n    return react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null, fallback);\n}\nfunction captureFeatureInteraction(_a) {\n    var _b;\n    var flag = _a.flag, posthog = _a.posthog, flagVariant = _a.flagVariant;\n    var properties = {\n        feature_flag: flag,\n        $set: (_b = {}, _b[\"$feature_interaction/\".concat(flag)] = flagVariant !== null && flagVariant !== void 0 ? flagVariant : true, _b),\n    };\n    if (typeof flagVariant === 'string') {\n        properties.feature_flag_variant = flagVariant;\n    }\n    posthog.capture('$feature_interaction', properties);\n}\nfunction captureFeatureView(_a) {\n    var _b;\n    var flag = _a.flag, posthog = _a.posthog, flagVariant = _a.flagVariant;\n    var properties = {\n        feature_flag: flag,\n        $set: (_b = {}, _b[\"$feature_view/\".concat(flag)] = flagVariant !== null && flagVariant !== void 0 ? flagVariant : true, _b),\n    };\n    if (typeof flagVariant === 'string') {\n        properties.feature_flag_variant = flagVariant;\n    }\n    posthog.capture('$feature_view', properties);\n}\n\nfunction TrackedChild(_a) {\n    var child = _a.child, index = _a.index, name = _a.name, properties = _a.properties, observerOptions = _a.observerOptions;\n    var trackedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    var posthog = usePostHog();\n    var onIntersect = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function (entry) {\n        if (entry.isIntersecting && !trackedRef.current) {\n            posthog.capture('$element_viewed', __assign({ element_name: name, child_index: index }, properties));\n            trackedRef.current = true;\n        }\n    }, [posthog, name, index, properties]);\n    return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(VisibilityAndClickTracker, { onIntersect: onIntersect, trackView: true, options: observerOptions }, child));\n}\nfunction PostHogCaptureOnViewed(_a) {\n    var name = _a.name, properties = _a.properties, observerOptions = _a.observerOptions, trackAllChildren = _a.trackAllChildren, children = _a.children, props = __rest(_a, [\"name\", \"properties\", \"observerOptions\", \"trackAllChildren\", \"children\"]);\n    var trackedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    var posthog = usePostHog();\n    var onIntersect = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function (entry) {\n        if (entry.isIntersecting && !trackedRef.current) {\n            posthog.capture('$element_viewed', __assign({ element_name: name }, properties));\n            trackedRef.current = true;\n        }\n    }, [posthog, name, properties]);\n    if (trackAllChildren) {\n        var trackedChildren = react__WEBPACK_IMPORTED_MODULE_1__.Children.map(children, function (child, index) {\n            return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(TrackedChild, { key: index, child: child, index: index, name: name, properties: properties, observerOptions: observerOptions }));\n        });\n        return react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", __assign({}, props), trackedChildren);\n    }\n    return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(VisibilityAndClickTracker, __assign({ onIntersect: onIntersect, trackView: true, options: observerOptions }, props), children));\n}\n\nvar INITIAL_STATE = {\n    componentStack: null,\n    exceptionEvent: null,\n    error: null,\n};\nvar __POSTHOG_ERROR_MESSAGES = {\n    INVALID_FALLBACK: '[PostHog.js][PostHogErrorBoundary] Invalid fallback prop, provide a valid React element or a function that returns a valid React element.',\n};\nvar PostHogErrorBoundary = (function (_super) {\n    __extends(PostHogErrorBoundary, _super);\n    function PostHogErrorBoundary(props) {\n        var _this = _super.call(this, props) || this;\n        _this.state = INITIAL_STATE;\n        return _this;\n    }\n    PostHogErrorBoundary.prototype.componentDidCatch = function (error, errorInfo) {\n        var additionalProperties = this.props.additionalProperties;\n        var currentProperties;\n        if (isFunction(additionalProperties)) {\n            currentProperties = additionalProperties(error);\n        }\n        else if (typeof additionalProperties === 'object') {\n            currentProperties = additionalProperties;\n        }\n        var client = this.context.client;\n        var exceptionEvent = client.captureException(error, currentProperties);\n        var componentStack = errorInfo.componentStack;\n        this.setState({\n            error: error,\n            componentStack: componentStack,\n            exceptionEvent: exceptionEvent,\n        });\n    };\n    PostHogErrorBoundary.prototype.render = function () {\n        var _a = this.props, children = _a.children, fallback = _a.fallback;\n        var state = this.state;\n        if (state.componentStack == null) {\n            return isFunction(children) ? children() : children;\n        }\n        var element = isFunction(fallback)\n            ? react__WEBPACK_IMPORTED_MODULE_1___default().createElement(fallback, {\n                error: state.error,\n                componentStack: state.componentStack,\n                exceptionEvent: state.exceptionEvent,\n            })\n            : fallback;\n        if (react__WEBPACK_IMPORTED_MODULE_1___default().isValidElement(element)) {\n            return element;\n        }\n        console.warn(__POSTHOG_ERROR_MESSAGES.INVALID_FALLBACK);\n        return react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null);\n    };\n    PostHogErrorBoundary.contextType = PostHogContext;\n    return PostHogErrorBoundary;\n}((react__WEBPACK_IMPORTED_MODULE_1___default().Component)));\n\nvar setupReactErrorHandler = function (client, callback) {\n    return function (error, errorInfo) {\n        var event = client.captureException(error);\n        if (callback) {\n            callback(event, error, errorInfo);\n        }\n    };\n};\n\n\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9wb3N0aG9nLWpzL3JlYWN0L2Rpc3QvZXNtL2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBbUM7QUFDbUY7O0FBRXRILHFCQUFxQixvREFBYTtBQUNsQyxZQUFZLGtEQUFTO0FBQ3JCO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MscUJBQXFCO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyw2Q0FBTTtBQUMxQyxrQkFBa0IsOENBQU87QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsa0RBQVM7QUFDNUI7QUFDQTtBQUNBLGVBQWUsa0RBQVM7QUFDeEIsS0FBSztBQUNMLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGtEQUFTO0FBQ3pCO0FBQ0E7QUFDQSxZQUFZLGtEQUFTO0FBQ3JCO0FBQ0E7QUFDQSw4RUFBOEU7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isa0RBQVM7QUFDekI7QUFDQTtBQUNBO0FBQ0EsOEVBQThFO0FBQzlFO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWSwwREFBbUIsNEJBQTRCLFNBQVMsa1FBQWtRO0FBQ3RVOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxpREFBVTtBQUN2QixhQUFhLCtDQUFRLGVBQWUsdUNBQXVDO0FBQzNFLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0Es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QW9CLDBEQUFtQixpQkFBaUIsOEdBQThHO0FBQ3RLLFNBQVM7QUFDVCxlQUFlLDBEQUFtQixtQkFBbUI7QUFDckQ7QUFDQSxZQUFZLDBEQUFtQix1Q0FBdUMscUVBQXFFO0FBQzNJOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDBEQUFtQjtBQUNqQztBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxZQUFZLDJEQUFvQjtBQUNoQztBQUNBO0FBQ0E7QUFDQSxlQUFlLDBEQUFtQixDQUFDLHVEQUFjO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBLENBQUMsQ0FBQyx3REFBZTs7QUFFakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFMlI7QUFDM1IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3Bvc3Rob2ctanMvcmVhY3QvZGlzdC9lc20vaW5kZXguanM/ZDI1OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcG9zdGhvZ0pzIGZyb20gJ3Bvc3Rob2ctanMnO1xuaW1wb3J0IFJlYWN0LCB7IGNyZWF0ZUNvbnRleHQsIHVzZVJlZiwgdXNlTWVtbywgdXNlRWZmZWN0LCB1c2VDb250ZXh0LCB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2ssIENoaWxkcmVuIH0gZnJvbSAncmVhY3QnO1xuXG52YXIgUG9zdEhvZ0NvbnRleHQgPSBjcmVhdGVDb250ZXh0KHtcbiAgICBjbGllbnQ6IHBvc3Rob2dKcyxcbiAgICBib290c3RyYXA6IHVuZGVmaW5lZCxcbn0pO1xuXG5mdW5jdGlvbiBpc0RlZXBFcXVhbChvYmoxLCBvYmoyLCB2aXNpdGVkKSB7XG4gICAgaWYgKHZpc2l0ZWQgPT09IHZvaWQgMCkgeyB2aXNpdGVkID0gbmV3IFdlYWtNYXAoKTsgfVxuICAgIGlmIChvYmoxID09PSBvYmoyKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG9iajEgIT09ICdvYmplY3QnIHx8IG9iajEgPT09IG51bGwgfHwgdHlwZW9mIG9iajIgIT09ICdvYmplY3QnIHx8IG9iajIgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAodmlzaXRlZC5oYXMob2JqMSkgJiYgdmlzaXRlZC5nZXQob2JqMSkgPT09IG9iajIpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHZpc2l0ZWQuc2V0KG9iajEsIG9iajIpO1xuICAgIHZhciBrZXlzMSA9IE9iamVjdC5rZXlzKG9iajEpO1xuICAgIHZhciBrZXlzMiA9IE9iamVjdC5rZXlzKG9iajIpO1xuICAgIGlmIChrZXlzMS5sZW5ndGggIT09IGtleXMyLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvciAodmFyIF9pID0gMCwga2V5czFfMSA9IGtleXMxOyBfaSA8IGtleXMxXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzMV8xW19pXTtcbiAgICAgICAgaWYgKCFrZXlzMi5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0RlZXBFcXVhbChvYmoxW2tleV0sIG9iajJba2V5XSwgdmlzaXRlZCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gUG9zdEhvZ1Byb3ZpZGVyKF9hKSB7XG4gICAgdmFyIF9iLCBfYztcbiAgICB2YXIgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbiwgY2xpZW50ID0gX2EuY2xpZW50LCBhcGlLZXkgPSBfYS5hcGlLZXksIG9wdGlvbnMgPSBfYS5vcHRpb25zO1xuICAgIHZhciBwcmV2aW91c0luaXRpYWxpemF0aW9uUmVmID0gdXNlUmVmKG51bGwpO1xuICAgIHZhciBwb3N0aG9nID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChjbGllbnQpIHtcbiAgICAgICAgICAgIGlmIChhcGlLZXkpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1tQb3N0SG9nLmpzXSBZb3UgaGF2ZSBwcm92aWRlZCBib3RoIGBjbGllbnRgIGFuZCBgYXBpS2V5YCB0byBgUG9zdEhvZ1Byb3ZpZGVyYC4gYGFwaUtleWAgd2lsbCBiZSBpZ25vcmVkIGluIGZhdm91ciBvZiBgY2xpZW50YC4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdbUG9zdEhvZy5qc10gWW91IGhhdmUgcHJvdmlkZWQgYm90aCBgY2xpZW50YCBhbmQgYG9wdGlvbnNgIHRvIGBQb3N0SG9nUHJvdmlkZXJgLiBgb3B0aW9uc2Agd2lsbCBiZSBpZ25vcmVkIGluIGZhdm91ciBvZiBgY2xpZW50YC4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjbGllbnQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFwaUtleSkge1xuICAgICAgICAgICAgcmV0dXJuIHBvc3Rob2dKcztcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLndhcm4oJ1tQb3N0SG9nLmpzXSBObyBgYXBpS2V5YCBvciBgY2xpZW50YCB3ZXJlIHByb3ZpZGVkIHRvIGBQb3N0SG9nUHJvdmlkZXJgLiBVc2luZyBkZWZhdWx0IGdsb2JhbCBgd2luZG93LnBvc3Rob2dgIGluc3RhbmNlLiBZb3UgbXVzdCBpbml0aWFsaXplIGl0IG1hbnVhbGx5LiBUaGlzIGlzIG5vdCByZWNvbW1lbmRlZCBiZWhhdmlvci4nKTtcbiAgICAgICAgcmV0dXJuIHBvc3Rob2dKcztcbiAgICB9LCBbY2xpZW50LCBhcGlLZXksIEpTT04uc3RyaW5naWZ5KG9wdGlvbnMpXSk7XG4gICAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGNsaWVudCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwcmV2aW91c0luaXRpYWxpemF0aW9uID0gcHJldmlvdXNJbml0aWFsaXphdGlvblJlZi5jdXJyZW50O1xuICAgICAgICBpZiAoIXByZXZpb3VzSW5pdGlhbGl6YXRpb24pIHtcbiAgICAgICAgICAgIGlmIChwb3N0aG9nSnMuX19sb2FkZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1tQb3N0SG9nLmpzXSBgcG9zdGhvZ2Agd2FzIGFscmVhZHkgbG9hZGVkIGVsc2V3aGVyZS4gVGhpcyBtYXkgY2F1c2UgaXNzdWVzLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcG9zdGhvZ0pzLmluaXQoYXBpS2V5LCBvcHRpb25zKTtcbiAgICAgICAgICAgIHByZXZpb3VzSW5pdGlhbGl6YXRpb25SZWYuY3VycmVudCA9IHtcbiAgICAgICAgICAgICAgICBhcGlLZXk6IGFwaUtleSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBvcHRpb25zICE9PSBudWxsICYmIG9wdGlvbnMgIT09IHZvaWQgMCA/IG9wdGlvbnMgOiB7fSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoYXBpS2V5ICE9PSBwcmV2aW91c0luaXRpYWxpemF0aW9uLmFwaUtleSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIltQb3N0SG9nLmpzXSBZb3UgaGF2ZSBwcm92aWRlZCBhIGRpZmZlcmVudCBgYXBpS2V5YCB0byBgUG9zdEhvZ1Byb3ZpZGVyYCB0aGFuIHRoZSBvbmUgdGhhdCB3YXMgYWxyZWFkeSBpbml0aWFsaXplZC4gVGhpcyBpcyBub3Qgc3VwcG9ydGVkIGJ5IG91ciBwcm92aWRlciBhbmQgd2UnbGwga2VlcCB1c2luZyB0aGUgcHJldmlvdXMga2V5LiBJZiB5b3UgbmVlZCB0byB0b2dnbGUgYmV0d2VlbiBBUEkgS2V5cyB5b3UgbmVlZCB0byBjb250cm9sIHRoZSBgY2xpZW50YCB5b3Vyc2VsZiBhbmQgcGFzcyBpdCBpbiBhcyBhIHByb3AgcmF0aGVyIHRoYW4gYW4gYGFwaUtleWAgcHJvcC5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0aW9ucyAmJiAhaXNEZWVwRXF1YWwob3B0aW9ucywgcHJldmlvdXNJbml0aWFsaXphdGlvbi5vcHRpb25zKSkge1xuICAgICAgICAgICAgICAgIHBvc3Rob2dKcy5zZXRfY29uZmlnKG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJldmlvdXNJbml0aWFsaXphdGlvblJlZi5jdXJyZW50ID0ge1xuICAgICAgICAgICAgICAgIGFwaUtleTogYXBpS2V5LFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnMgIT09IG51bGwgJiYgb3B0aW9ucyAhPT0gdm9pZCAwID8gb3B0aW9ucyA6IHt9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH0sIFtjbGllbnQsIGFwaUtleSwgSlNPTi5zdHJpbmdpZnkob3B0aW9ucyldKTtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUG9zdEhvZ0NvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IHsgY2xpZW50OiBwb3N0aG9nLCBib290c3RyYXA6IChfYiA9IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5ib290c3RyYXApICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IChfYyA9IGNsaWVudCA9PT0gbnVsbCB8fCBjbGllbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNsaWVudC5jb25maWcpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5ib290c3RyYXAgfSB9LCBjaGlsZHJlbikpO1xufVxuXG52YXIgaXNGdW5jdGlvbiA9IGZ1bmN0aW9uIChmKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBmID09PSAnZnVuY3Rpb24nO1xufTtcbnZhciBpc1VuZGVmaW5lZCA9IGZ1bmN0aW9uICh4KSB7XG4gICAgcmV0dXJuIHggPT09IHZvaWQgMDtcbn07XG52YXIgaXNOdWxsID0gZnVuY3Rpb24gKHgpIHtcbiAgICByZXR1cm4geCA9PT0gbnVsbDtcbn07XG5cbmZ1bmN0aW9uIHVzZUZlYXR1cmVGbGFnRW5hYmxlZChmbGFnKSB7XG4gICAgdmFyIF9hO1xuICAgIHZhciBfYiA9IHVzZUNvbnRleHQoUG9zdEhvZ0NvbnRleHQpLCBjbGllbnQgPSBfYi5jbGllbnQsIGJvb3RzdHJhcCA9IF9iLmJvb3RzdHJhcDtcbiAgICB2YXIgX2MgPSB1c2VTdGF0ZShmdW5jdGlvbiAoKSB7IHJldHVybiBjbGllbnQuaXNGZWF0dXJlRW5hYmxlZChmbGFnKTsgfSksIGZlYXR1cmVFbmFibGVkID0gX2NbMF0sIHNldEZlYXR1cmVFbmFibGVkID0gX2NbMV07XG4gICAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGNsaWVudC5vbkZlYXR1cmVGbGFncyhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzZXRGZWF0dXJlRW5hYmxlZChjbGllbnQuaXNGZWF0dXJlRW5hYmxlZChmbGFnKSk7XG4gICAgICAgIH0pO1xuICAgIH0sIFtjbGllbnQsIGZsYWddKTtcbiAgICB2YXIgYm9vdHN0cmFwcGVkID0gKF9hID0gYm9vdHN0cmFwID09PSBudWxsIHx8IGJvb3RzdHJhcCA9PT0gdm9pZCAwID8gdm9pZCAwIDogYm9vdHN0cmFwLmZlYXR1cmVGbGFncykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hW2ZsYWddO1xuICAgIGlmICghY2xpZW50LmZlYXR1cmVGbGFncy5oYXNMb2FkZWRGbGFncyAmJiAoYm9vdHN0cmFwID09PSBudWxsIHx8IGJvb3RzdHJhcCA9PT0gdm9pZCAwID8gdm9pZCAwIDogYm9vdHN0cmFwLmZlYXR1cmVGbGFncykpIHtcbiAgICAgICAgcmV0dXJuIGlzVW5kZWZpbmVkKGJvb3RzdHJhcHBlZCkgPyB1bmRlZmluZWQgOiAhIWJvb3RzdHJhcHBlZDtcbiAgICB9XG4gICAgcmV0dXJuIGZlYXR1cmVFbmFibGVkO1xufVxuXG5mdW5jdGlvbiB1c2VGZWF0dXJlRmxhZ1BheWxvYWQoZmxhZykge1xuICAgIHZhciBfYSA9IHVzZUNvbnRleHQoUG9zdEhvZ0NvbnRleHQpLCBjbGllbnQgPSBfYS5jbGllbnQsIGJvb3RzdHJhcCA9IF9hLmJvb3RzdHJhcDtcbiAgICB2YXIgX2IgPSB1c2VTdGF0ZShmdW5jdGlvbiAoKSB7IHJldHVybiBjbGllbnQuZ2V0RmVhdHVyZUZsYWdQYXlsb2FkKGZsYWcpOyB9KSwgZmVhdHVyZUZsYWdQYXlsb2FkID0gX2JbMF0sIHNldEZlYXR1cmVGbGFnUGF5bG9hZCA9IF9iWzFdO1xuICAgIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBjbGllbnQub25GZWF0dXJlRmxhZ3MoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc2V0RmVhdHVyZUZsYWdQYXlsb2FkKGNsaWVudC5nZXRGZWF0dXJlRmxhZ1BheWxvYWQoZmxhZykpO1xuICAgICAgICB9KTtcbiAgICB9LCBbY2xpZW50LCBmbGFnXSk7XG4gICAgaWYgKCFjbGllbnQuZmVhdHVyZUZsYWdzLmhhc0xvYWRlZEZsYWdzICYmIChib290c3RyYXAgPT09IG51bGwgfHwgYm9vdHN0cmFwID09PSB2b2lkIDAgPyB2b2lkIDAgOiBib290c3RyYXAuZmVhdHVyZUZsYWdQYXlsb2FkcykpIHtcbiAgICAgICAgcmV0dXJuIGJvb3RzdHJhcC5mZWF0dXJlRmxhZ1BheWxvYWRzW2ZsYWddO1xuICAgIH1cbiAgICByZXR1cm4gZmVhdHVyZUZsYWdQYXlsb2FkO1xufVxuXG5mdW5jdGlvbiB1c2VBY3RpdmVGZWF0dXJlRmxhZ3MoKSB7XG4gICAgdmFyIF9hID0gdXNlQ29udGV4dChQb3N0SG9nQ29udGV4dCksIGNsaWVudCA9IF9hLmNsaWVudCwgYm9vdHN0cmFwID0gX2EuYm9vdHN0cmFwO1xuICAgIHZhciBfYiA9IHVzZVN0YXRlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNsaWVudC5mZWF0dXJlRmxhZ3MuZ2V0RmxhZ3MoKTsgfSksIGZlYXR1cmVGbGFncyA9IF9iWzBdLCBzZXRGZWF0dXJlRmxhZ3MgPSBfYlsxXTtcbiAgICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gY2xpZW50Lm9uRmVhdHVyZUZsYWdzKGZ1bmN0aW9uIChmbGFncykge1xuICAgICAgICAgICAgc2V0RmVhdHVyZUZsYWdzKGZsYWdzKTtcbiAgICAgICAgfSk7XG4gICAgfSwgW2NsaWVudF0pO1xuICAgIGlmICghY2xpZW50LmZlYXR1cmVGbGFncy5oYXNMb2FkZWRGbGFncyAmJiAoYm9vdHN0cmFwID09PSBudWxsIHx8IGJvb3RzdHJhcCA9PT0gdm9pZCAwID8gdm9pZCAwIDogYm9vdHN0cmFwLmZlYXR1cmVGbGFncykpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKGJvb3RzdHJhcC5mZWF0dXJlRmxhZ3MpO1xuICAgIH1cbiAgICByZXR1cm4gZmVhdHVyZUZsYWdzO1xufVxuXG5mdW5jdGlvbiB1c2VGZWF0dXJlRmxhZ1ZhcmlhbnRLZXkoZmxhZykge1xuICAgIHZhciBfYSA9IHVzZUNvbnRleHQoUG9zdEhvZ0NvbnRleHQpLCBjbGllbnQgPSBfYS5jbGllbnQsIGJvb3RzdHJhcCA9IF9hLmJvb3RzdHJhcDtcbiAgICB2YXIgX2IgPSB1c2VTdGF0ZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBjbGllbnQuZ2V0RmVhdHVyZUZsYWcoZmxhZyk7XG4gICAgfSksIGZlYXR1cmVGbGFnVmFyaWFudEtleSA9IF9iWzBdLCBzZXRGZWF0dXJlRmxhZ1ZhcmlhbnRLZXkgPSBfYlsxXTtcbiAgICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gY2xpZW50Lm9uRmVhdHVyZUZsYWdzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNldEZlYXR1cmVGbGFnVmFyaWFudEtleShjbGllbnQuZ2V0RmVhdHVyZUZsYWcoZmxhZykpO1xuICAgICAgICB9KTtcbiAgICB9LCBbY2xpZW50LCBmbGFnXSk7XG4gICAgaWYgKCFjbGllbnQuZmVhdHVyZUZsYWdzLmhhc0xvYWRlZEZsYWdzICYmIChib290c3RyYXAgPT09IG51bGwgfHwgYm9vdHN0cmFwID09PSB2b2lkIDAgPyB2b2lkIDAgOiBib290c3RyYXAuZmVhdHVyZUZsYWdzKSkge1xuICAgICAgICByZXR1cm4gYm9vdHN0cmFwLmZlYXR1cmVGbGFnc1tmbGFnXTtcbiAgICB9XG4gICAgcmV0dXJuIGZlYXR1cmVGbGFnVmFyaWFudEtleTtcbn1cblxudmFyIHVzZVBvc3RIb2cgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNsaWVudCA9IHVzZUNvbnRleHQoUG9zdEhvZ0NvbnRleHQpLmNsaWVudDtcbiAgICByZXR1cm4gY2xpZW50O1xufTtcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlLCBTdXBwcmVzc2VkRXJyb3IsIFN5bWJvbCwgSXRlcmF0b3IgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbnZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxyXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICAgICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbnR5cGVvZiBTdXBwcmVzc2VkRXJyb3IgPT09IFwiZnVuY3Rpb25cIiA/IFN1cHByZXNzZWRFcnJvciA6IGZ1bmN0aW9uIChlcnJvciwgc3VwcHJlc3NlZCwgbWVzc2FnZSkge1xyXG4gICAgdmFyIGUgPSBuZXcgRXJyb3IobWVzc2FnZSk7XHJcbiAgICByZXR1cm4gZS5uYW1lID0gXCJTdXBwcmVzc2VkRXJyb3JcIiwgZS5lcnJvciA9IGVycm9yLCBlLnN1cHByZXNzZWQgPSBzdXBwcmVzc2VkLCBlO1xyXG59O1xuXG5mdW5jdGlvbiBWaXNpYmlsaXR5QW5kQ2xpY2tUcmFja2VyKF9hKSB7XG4gICAgdmFyIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sIG9uSW50ZXJzZWN0ID0gX2Eub25JbnRlcnNlY3QsIG9uQ2xpY2sgPSBfYS5vbkNsaWNrLCB0cmFja1ZpZXcgPSBfYS50cmFja1ZpZXcsIG9wdGlvbnMgPSBfYS5vcHRpb25zLCBwcm9wcyA9IF9fcmVzdChfYSwgW1wiY2hpbGRyZW5cIiwgXCJvbkludGVyc2VjdFwiLCBcIm9uQ2xpY2tcIiwgXCJ0cmFja1ZpZXdcIiwgXCJvcHRpb25zXCJdKTtcbiAgICB2YXIgcmVmID0gdXNlUmVmKG51bGwpO1xuICAgIHZhciBvYnNlcnZlck9wdGlvbnMgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHsgcmV0dXJuIChfX2Fzc2lnbih7IHRocmVzaG9sZDogMC4xIH0sIG9wdGlvbnMpKTsgfSwgW29wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy50aHJlc2hvbGQsIG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5yb290LCBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMucm9vdE1hcmdpbl0pO1xuICAgIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChpc051bGwocmVmLmN1cnJlbnQpIHx8ICF0cmFja1ZpZXcpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHZhciBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgIHZhciBlbnRyeSA9IF9hWzBdO1xuICAgICAgICAgICAgcmV0dXJuIG9uSW50ZXJzZWN0KGVudHJ5KTtcbiAgICAgICAgfSwgb2JzZXJ2ZXJPcHRpb25zKTtcbiAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShyZWYuY3VycmVudCk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiBvYnNlcnZlci5kaXNjb25uZWN0KCk7IH07XG4gICAgfSwgW29ic2VydmVyT3B0aW9ucywgdHJhY2tWaWV3LCBvbkludGVyc2VjdF0pO1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBfX2Fzc2lnbih7IHJlZjogcmVmIH0sIHByb3BzLCB7IG9uQ2xpY2s6IG9uQ2xpY2sgfSksIGNoaWxkcmVuKSk7XG59XG5cbmZ1bmN0aW9uIFZpc2liaWxpdHlBbmRDbGlja1RyYWNrZXJzKF9hKSB7XG4gICAgdmFyIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sIHRyYWNrSW50ZXJhY3Rpb24gPSBfYS50cmFja0ludGVyYWN0aW9uLCB0cmFja1ZpZXcgPSBfYS50cmFja1ZpZXcsIG9wdGlvbnMgPSBfYS5vcHRpb25zLCBvbkludGVyYWN0ID0gX2Eub25JbnRlcmFjdCwgb25WaWV3ID0gX2Eub25WaWV3LCBwcm9wcyA9IF9fcmVzdChfYSwgW1wiY2hpbGRyZW5cIiwgXCJ0cmFja0ludGVyYWN0aW9uXCIsIFwidHJhY2tWaWV3XCIsIFwib3B0aW9uc1wiLCBcIm9uSW50ZXJhY3RcIiwgXCJvblZpZXdcIl0pO1xuICAgIHZhciBjbGlja1RyYWNrZWRSZWYgPSB1c2VSZWYoZmFsc2UpO1xuICAgIHZhciB2aXNpYmlsaXR5VHJhY2tlZFJlZiA9IHVzZVJlZihmYWxzZSk7XG4gICAgdmFyIGNhY2hlZE9uQ2xpY2sgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghY2xpY2tUcmFja2VkUmVmLmN1cnJlbnQgJiYgdHJhY2tJbnRlcmFjdGlvbiAmJiBvbkludGVyYWN0KSB7XG4gICAgICAgICAgICBvbkludGVyYWN0KCk7XG4gICAgICAgICAgICBjbGlja1RyYWNrZWRSZWYuY3VycmVudCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9LCBbdHJhY2tJbnRlcmFjdGlvbiwgb25JbnRlcmFjdF0pO1xuICAgIHZhciBvbkludGVyc2VjdCA9IGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgICBpZiAoIXZpc2liaWxpdHlUcmFja2VkUmVmLmN1cnJlbnQgJiYgZW50cnkuaXNJbnRlcnNlY3RpbmcgJiYgb25WaWV3KSB7XG4gICAgICAgICAgICBvblZpZXcoKTtcbiAgICAgICAgICAgIHZpc2liaWxpdHlUcmFja2VkUmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgdHJhY2tlZENoaWxkcmVuID0gQ2hpbGRyZW4ubWFwKGNoaWxkcmVuLCBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFZpc2liaWxpdHlBbmRDbGlja1RyYWNrZXIsIF9fYXNzaWduKHsgb25DbGljazogY2FjaGVkT25DbGljaywgb25JbnRlcnNlY3Q6IG9uSW50ZXJzZWN0LCB0cmFja1ZpZXc6IHRyYWNrVmlldywgb3B0aW9uczogb3B0aW9ucyB9LCBwcm9wcyksIGNoaWxkKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIHRyYWNrZWRDaGlsZHJlbik7XG59XG5cbmZ1bmN0aW9uIFBvc3RIb2dGZWF0dXJlKF9hKSB7XG4gICAgdmFyIGZsYWcgPSBfYS5mbGFnLCBtYXRjaCA9IF9hLm1hdGNoLCBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLCBmYWxsYmFjayA9IF9hLmZhbGxiYWNrLCB2aXNpYmlsaXR5T2JzZXJ2ZXJPcHRpb25zID0gX2EudmlzaWJpbGl0eU9ic2VydmVyT3B0aW9ucywgdHJhY2tJbnRlcmFjdGlvbiA9IF9hLnRyYWNrSW50ZXJhY3Rpb24sIHRyYWNrVmlldyA9IF9hLnRyYWNrVmlldywgcHJvcHMgPSBfX3Jlc3QoX2EsIFtcImZsYWdcIiwgXCJtYXRjaFwiLCBcImNoaWxkcmVuXCIsIFwiZmFsbGJhY2tcIiwgXCJ2aXNpYmlsaXR5T2JzZXJ2ZXJPcHRpb25zXCIsIFwidHJhY2tJbnRlcmFjdGlvblwiLCBcInRyYWNrVmlld1wiXSk7XG4gICAgdmFyIHBheWxvYWQgPSB1c2VGZWF0dXJlRmxhZ1BheWxvYWQoZmxhZyk7XG4gICAgdmFyIHZhcmlhbnQgPSB1c2VGZWF0dXJlRmxhZ1ZhcmlhbnRLZXkoZmxhZyk7XG4gICAgdmFyIHBvc3Rob2cgPSB1c2VQb3N0SG9nKCk7XG4gICAgdmFyIHNob3VsZFRyYWNrSW50ZXJhY3Rpb24gPSB0cmFja0ludGVyYWN0aW9uICE9PSBudWxsICYmIHRyYWNrSW50ZXJhY3Rpb24gIT09IHZvaWQgMCA/IHRyYWNrSW50ZXJhY3Rpb24gOiB0cnVlO1xuICAgIHZhciBzaG91bGRUcmFja1ZpZXcgPSB0cmFja1ZpZXcgIT09IG51bGwgJiYgdHJhY2tWaWV3ICE9PSB2b2lkIDAgPyB0cmFja1ZpZXcgOiB0cnVlO1xuICAgIGlmIChpc1VuZGVmaW5lZChtYXRjaCkgfHwgdmFyaWFudCA9PT0gbWF0Y2gpIHtcbiAgICAgICAgdmFyIGNoaWxkTm9kZSA9IGlzRnVuY3Rpb24oY2hpbGRyZW4pID8gY2hpbGRyZW4ocGF5bG9hZCkgOiBjaGlsZHJlbjtcbiAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFZpc2liaWxpdHlBbmRDbGlja1RyYWNrZXJzLCBfX2Fzc2lnbih7IGZsYWc6IGZsYWcsIG9wdGlvbnM6IHZpc2liaWxpdHlPYnNlcnZlck9wdGlvbnMsIHRyYWNrSW50ZXJhY3Rpb246IHNob3VsZFRyYWNrSW50ZXJhY3Rpb24sIHRyYWNrVmlldzogc2hvdWxkVHJhY2tWaWV3LCBvbkludGVyYWN0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjYXB0dXJlRmVhdHVyZUludGVyYWN0aW9uKHsgZmxhZzogZmxhZywgcG9zdGhvZzogcG9zdGhvZywgZmxhZ1ZhcmlhbnQ6IHZhcmlhbnQgfSk7IH0sIG9uVmlldzogZnVuY3Rpb24gKCkgeyByZXR1cm4gY2FwdHVyZUZlYXR1cmVWaWV3KHsgZmxhZzogZmxhZywgcG9zdGhvZzogcG9zdGhvZywgZmxhZ1ZhcmlhbnQ6IHZhcmlhbnQgfSk7IH0gfSwgcHJvcHMpLCBjaGlsZE5vZGUpKTtcbiAgICB9XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIGZhbGxiYWNrKTtcbn1cbmZ1bmN0aW9uIGNhcHR1cmVGZWF0dXJlSW50ZXJhY3Rpb24oX2EpIHtcbiAgICB2YXIgX2I7XG4gICAgdmFyIGZsYWcgPSBfYS5mbGFnLCBwb3N0aG9nID0gX2EucG9zdGhvZywgZmxhZ1ZhcmlhbnQgPSBfYS5mbGFnVmFyaWFudDtcbiAgICB2YXIgcHJvcGVydGllcyA9IHtcbiAgICAgICAgZmVhdHVyZV9mbGFnOiBmbGFnLFxuICAgICAgICAkc2V0OiAoX2IgPSB7fSwgX2JbXCIkZmVhdHVyZV9pbnRlcmFjdGlvbi9cIi5jb25jYXQoZmxhZyldID0gZmxhZ1ZhcmlhbnQgIT09IG51bGwgJiYgZmxhZ1ZhcmlhbnQgIT09IHZvaWQgMCA/IGZsYWdWYXJpYW50IDogdHJ1ZSwgX2IpLFxuICAgIH07XG4gICAgaWYgKHR5cGVvZiBmbGFnVmFyaWFudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcHJvcGVydGllcy5mZWF0dXJlX2ZsYWdfdmFyaWFudCA9IGZsYWdWYXJpYW50O1xuICAgIH1cbiAgICBwb3N0aG9nLmNhcHR1cmUoJyRmZWF0dXJlX2ludGVyYWN0aW9uJywgcHJvcGVydGllcyk7XG59XG5mdW5jdGlvbiBjYXB0dXJlRmVhdHVyZVZpZXcoX2EpIHtcbiAgICB2YXIgX2I7XG4gICAgdmFyIGZsYWcgPSBfYS5mbGFnLCBwb3N0aG9nID0gX2EucG9zdGhvZywgZmxhZ1ZhcmlhbnQgPSBfYS5mbGFnVmFyaWFudDtcbiAgICB2YXIgcHJvcGVydGllcyA9IHtcbiAgICAgICAgZmVhdHVyZV9mbGFnOiBmbGFnLFxuICAgICAgICAkc2V0OiAoX2IgPSB7fSwgX2JbXCIkZmVhdHVyZV92aWV3L1wiLmNvbmNhdChmbGFnKV0gPSBmbGFnVmFyaWFudCAhPT0gbnVsbCAmJiBmbGFnVmFyaWFudCAhPT0gdm9pZCAwID8gZmxhZ1ZhcmlhbnQgOiB0cnVlLCBfYiksXG4gICAgfTtcbiAgICBpZiAodHlwZW9mIGZsYWdWYXJpYW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICBwcm9wZXJ0aWVzLmZlYXR1cmVfZmxhZ192YXJpYW50ID0gZmxhZ1ZhcmlhbnQ7XG4gICAgfVxuICAgIHBvc3Rob2cuY2FwdHVyZSgnJGZlYXR1cmVfdmlldycsIHByb3BlcnRpZXMpO1xufVxuXG5mdW5jdGlvbiBUcmFja2VkQ2hpbGQoX2EpIHtcbiAgICB2YXIgY2hpbGQgPSBfYS5jaGlsZCwgaW5kZXggPSBfYS5pbmRleCwgbmFtZSA9IF9hLm5hbWUsIHByb3BlcnRpZXMgPSBfYS5wcm9wZXJ0aWVzLCBvYnNlcnZlck9wdGlvbnMgPSBfYS5vYnNlcnZlck9wdGlvbnM7XG4gICAgdmFyIHRyYWNrZWRSZWYgPSB1c2VSZWYoZmFsc2UpO1xuICAgIHZhciBwb3N0aG9nID0gdXNlUG9zdEhvZygpO1xuICAgIHZhciBvbkludGVyc2VjdCA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgICBpZiAoZW50cnkuaXNJbnRlcnNlY3RpbmcgJiYgIXRyYWNrZWRSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgcG9zdGhvZy5jYXB0dXJlKCckZWxlbWVudF92aWV3ZWQnLCBfX2Fzc2lnbih7IGVsZW1lbnRfbmFtZTogbmFtZSwgY2hpbGRfaW5kZXg6IGluZGV4IH0sIHByb3BlcnRpZXMpKTtcbiAgICAgICAgICAgIHRyYWNrZWRSZWYuY3VycmVudCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9LCBbcG9zdGhvZywgbmFtZSwgaW5kZXgsIHByb3BlcnRpZXNdKTtcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoVmlzaWJpbGl0eUFuZENsaWNrVHJhY2tlciwgeyBvbkludGVyc2VjdDogb25JbnRlcnNlY3QsIHRyYWNrVmlldzogdHJ1ZSwgb3B0aW9uczogb2JzZXJ2ZXJPcHRpb25zIH0sIGNoaWxkKSk7XG59XG5mdW5jdGlvbiBQb3N0SG9nQ2FwdHVyZU9uVmlld2VkKF9hKSB7XG4gICAgdmFyIG5hbWUgPSBfYS5uYW1lLCBwcm9wZXJ0aWVzID0gX2EucHJvcGVydGllcywgb2JzZXJ2ZXJPcHRpb25zID0gX2Eub2JzZXJ2ZXJPcHRpb25zLCB0cmFja0FsbENoaWxkcmVuID0gX2EudHJhY2tBbGxDaGlsZHJlbiwgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbiwgcHJvcHMgPSBfX3Jlc3QoX2EsIFtcIm5hbWVcIiwgXCJwcm9wZXJ0aWVzXCIsIFwib2JzZXJ2ZXJPcHRpb25zXCIsIFwidHJhY2tBbGxDaGlsZHJlblwiLCBcImNoaWxkcmVuXCJdKTtcbiAgICB2YXIgdHJhY2tlZFJlZiA9IHVzZVJlZihmYWxzZSk7XG4gICAgdmFyIHBvc3Rob2cgPSB1c2VQb3N0SG9nKCk7XG4gICAgdmFyIG9uSW50ZXJzZWN0ID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgIGlmIChlbnRyeS5pc0ludGVyc2VjdGluZyAmJiAhdHJhY2tlZFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICBwb3N0aG9nLmNhcHR1cmUoJyRlbGVtZW50X3ZpZXdlZCcsIF9fYXNzaWduKHsgZWxlbWVudF9uYW1lOiBuYW1lIH0sIHByb3BlcnRpZXMpKTtcbiAgICAgICAgICAgIHRyYWNrZWRSZWYuY3VycmVudCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9LCBbcG9zdGhvZywgbmFtZSwgcHJvcGVydGllc10pO1xuICAgIGlmICh0cmFja0FsbENoaWxkcmVuKSB7XG4gICAgICAgIHZhciB0cmFja2VkQ2hpbGRyZW4gPSBDaGlsZHJlbi5tYXAoY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCwgaW5kZXgpIHtcbiAgICAgICAgICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChUcmFja2VkQ2hpbGQsIHsga2V5OiBpbmRleCwgY2hpbGQ6IGNoaWxkLCBpbmRleDogaW5kZXgsIG5hbWU6IG5hbWUsIHByb3BlcnRpZXM6IHByb3BlcnRpZXMsIG9ic2VydmVyT3B0aW9uczogb2JzZXJ2ZXJPcHRpb25zIH0pKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIF9fYXNzaWduKHt9LCBwcm9wcyksIHRyYWNrZWRDaGlsZHJlbik7XG4gICAgfVxuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChWaXNpYmlsaXR5QW5kQ2xpY2tUcmFja2VyLCBfX2Fzc2lnbih7IG9uSW50ZXJzZWN0OiBvbkludGVyc2VjdCwgdHJhY2tWaWV3OiB0cnVlLCBvcHRpb25zOiBvYnNlcnZlck9wdGlvbnMgfSwgcHJvcHMpLCBjaGlsZHJlbikpO1xufVxuXG52YXIgSU5JVElBTF9TVEFURSA9IHtcbiAgICBjb21wb25lbnRTdGFjazogbnVsbCxcbiAgICBleGNlcHRpb25FdmVudDogbnVsbCxcbiAgICBlcnJvcjogbnVsbCxcbn07XG52YXIgX19QT1NUSE9HX0VSUk9SX01FU1NBR0VTID0ge1xuICAgIElOVkFMSURfRkFMTEJBQ0s6ICdbUG9zdEhvZy5qc11bUG9zdEhvZ0Vycm9yQm91bmRhcnldIEludmFsaWQgZmFsbGJhY2sgcHJvcCwgcHJvdmlkZSBhIHZhbGlkIFJlYWN0IGVsZW1lbnQgb3IgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSB2YWxpZCBSZWFjdCBlbGVtZW50LicsXG59O1xudmFyIFBvc3RIb2dFcnJvckJvdW5kYXJ5ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUG9zdEhvZ0Vycm9yQm91bmRhcnksIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUG9zdEhvZ0Vycm9yQm91bmRhcnkocHJvcHMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnN0YXRlID0gSU5JVElBTF9TVEFURTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBQb3N0SG9nRXJyb3JCb3VuZGFyeS5wcm90b3R5cGUuY29tcG9uZW50RGlkQ2F0Y2ggPSBmdW5jdGlvbiAoZXJyb3IsIGVycm9ySW5mbykge1xuICAgICAgICB2YXIgYWRkaXRpb25hbFByb3BlcnRpZXMgPSB0aGlzLnByb3BzLmFkZGl0aW9uYWxQcm9wZXJ0aWVzO1xuICAgICAgICB2YXIgY3VycmVudFByb3BlcnRpZXM7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKGFkZGl0aW9uYWxQcm9wZXJ0aWVzKSkge1xuICAgICAgICAgICAgY3VycmVudFByb3BlcnRpZXMgPSBhZGRpdGlvbmFsUHJvcGVydGllcyhlcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGFkZGl0aW9uYWxQcm9wZXJ0aWVzID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgY3VycmVudFByb3BlcnRpZXMgPSBhZGRpdGlvbmFsUHJvcGVydGllcztcbiAgICAgICAgfVxuICAgICAgICB2YXIgY2xpZW50ID0gdGhpcy5jb250ZXh0LmNsaWVudDtcbiAgICAgICAgdmFyIGV4Y2VwdGlvbkV2ZW50ID0gY2xpZW50LmNhcHR1cmVFeGNlcHRpb24oZXJyb3IsIGN1cnJlbnRQcm9wZXJ0aWVzKTtcbiAgICAgICAgdmFyIGNvbXBvbmVudFN0YWNrID0gZXJyb3JJbmZvLmNvbXBvbmVudFN0YWNrO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGVycm9yOiBlcnJvcixcbiAgICAgICAgICAgIGNvbXBvbmVudFN0YWNrOiBjb21wb25lbnRTdGFjayxcbiAgICAgICAgICAgIGV4Y2VwdGlvbkV2ZW50OiBleGNlcHRpb25FdmVudCxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBQb3N0SG9nRXJyb3JCb3VuZGFyeS5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLnByb3BzLCBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLCBmYWxsYmFjayA9IF9hLmZhbGxiYWNrO1xuICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgICAgICBpZiAoc3RhdGUuY29tcG9uZW50U3RhY2sgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGlzRnVuY3Rpb24oY2hpbGRyZW4pID8gY2hpbGRyZW4oKSA6IGNoaWxkcmVuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlbGVtZW50ID0gaXNGdW5jdGlvbihmYWxsYmFjaylcbiAgICAgICAgICAgID8gUmVhY3QuY3JlYXRlRWxlbWVudChmYWxsYmFjaywge1xuICAgICAgICAgICAgICAgIGVycm9yOiBzdGF0ZS5lcnJvcixcbiAgICAgICAgICAgICAgICBjb21wb25lbnRTdGFjazogc3RhdGUuY29tcG9uZW50U3RhY2ssXG4gICAgICAgICAgICAgICAgZXhjZXB0aW9uRXZlbnQ6IHN0YXRlLmV4Y2VwdGlvbkV2ZW50LFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIDogZmFsbGJhY2s7XG4gICAgICAgIGlmIChSZWFjdC5pc1ZhbGlkRWxlbWVudChlbGVtZW50KSkge1xuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS53YXJuKF9fUE9TVEhPR19FUlJPUl9NRVNTQUdFUy5JTlZBTElEX0ZBTExCQUNLKTtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwpO1xuICAgIH07XG4gICAgUG9zdEhvZ0Vycm9yQm91bmRhcnkuY29udGV4dFR5cGUgPSBQb3N0SG9nQ29udGV4dDtcbiAgICByZXR1cm4gUG9zdEhvZ0Vycm9yQm91bmRhcnk7XG59KFJlYWN0LkNvbXBvbmVudCkpO1xuXG52YXIgc2V0dXBSZWFjdEVycm9ySGFuZGxlciA9IGZ1bmN0aW9uIChjbGllbnQsIGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChlcnJvciwgZXJyb3JJbmZvKSB7XG4gICAgICAgIHZhciBldmVudCA9IGNsaWVudC5jYXB0dXJlRXhjZXB0aW9uKGVycm9yKTtcbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhldmVudCwgZXJyb3IsIGVycm9ySW5mbyk7XG4gICAgICAgIH1cbiAgICB9O1xufTtcblxuZXhwb3J0IHsgUG9zdEhvZ0NhcHR1cmVPblZpZXdlZCwgUG9zdEhvZ0NvbnRleHQsIFBvc3RIb2dFcnJvckJvdW5kYXJ5LCBQb3N0SG9nRmVhdHVyZSwgUG9zdEhvZ1Byb3ZpZGVyLCBjYXB0dXJlRmVhdHVyZUludGVyYWN0aW9uLCBjYXB0dXJlRmVhdHVyZVZpZXcsIHNldHVwUmVhY3RFcnJvckhhbmRsZXIsIHVzZUFjdGl2ZUZlYXR1cmVGbGFncywgdXNlRmVhdHVyZUZsYWdFbmFibGVkLCB1c2VGZWF0dXJlRmxhZ1BheWxvYWQsIHVzZUZlYXR1cmVGbGFnVmFyaWFudEtleSwgdXNlUG9zdEhvZyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/posthog-js/react/dist/esm/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./app/globals.css":
/*!*************************!*\
  !*** ./app/globals.css ***!
  \*************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"38a592af5207\");\nif (true) { module.hot.accept() }\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9nbG9iYWxzLmNzcyIsIm1hcHBpbmdzIjoiO0FBQUEsK0RBQWUsY0FBYztBQUM3QixJQUFJLElBQVUsSUFBSSxpQkFBaUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vYXBwL2dsb2JhbHMuY3NzP2VmNWMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgXCIzOGE1OTJhZjUyMDdcIlxuaWYgKG1vZHVsZS5ob3QpIHsgbW9kdWxlLmhvdC5hY2NlcHQoKSB9XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/globals.css\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/providers/PostHogClientProvider.tsx":
/*!********************************************************!*\
  !*** ./components/providers/PostHogClientProvider.tsx ***!
  \********************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PostHogClientProvider: function() { return /* binding */ PostHogClientProvider; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var posthog_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! posthog-js */ \"(app-pages-browser)/./node_modules/posthog-js/dist/module.js\");\n/* harmony import */ var posthog_js_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! posthog-js/react */ \"(app-pages-browser)/./node_modules/posthog-js/react/dist/esm/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* __next_internal_client_entry_do_not_use__ PostHogClientProvider auto */ \nvar _s = $RefreshSig$();\n\n\n\nfunction PostHogClientProvider(props) {\n    _s();\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(()=>{\n        const key = \"your-posthog-key\";\n        if (!key) return;\n        posthog_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].init(key, {\n            api_host: \"https://us.i.posthog.com\" || 0,\n            capture_pageview: true,\n            capture_pageleave: true\n        });\n    }, []);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(posthog_js_react__WEBPACK_IMPORTED_MODULE_2__.PostHogProvider, {\n        client: posthog_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n        children: props.children\n    }, void 0, false, {\n        fileName: \"/Users/wju99/appdo/interview/reprally/components/providers/PostHogClientProvider.tsx\",\n        lineNumber: 22,\n        columnNumber: 10\n    }, this);\n}\n_s(PostHogClientProvider, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = PostHogClientProvider;\nvar _c;\n$RefreshReg$(_c, \"PostHogClientProvider\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvcHJvdmlkZXJzL1Bvc3RIb2dDbGllbnRQcm92aWRlci50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFFaUM7QUFDa0I7QUFDakI7QUFNM0IsU0FBU0csc0JBQXNCQyxLQUFZOztJQUNoREYsZ0RBQVNBLENBQUM7UUFDUixNQUFNRyxNQUFNQyxrQkFBbUM7UUFDL0MsSUFBSSxDQUFDRCxLQUFLO1FBQ1ZMLGtEQUFPQSxDQUFDUyxJQUFJLENBQUNKLEtBQUs7WUFDaEJLLFVBQVVKLDBCQUFvQyxJQUFJLENBQTBCO1lBQzVFTSxrQkFBa0I7WUFDbEJDLG1CQUFtQjtRQUNyQjtJQUNGLEdBQUcsRUFBRTtJQUVMLHFCQUFPLDhEQUFDWiw2REFBZUE7UUFBQ2EsUUFBUWQsa0RBQU9BO2tCQUFHSSxNQUFNVyxRQUFROzs7Ozs7QUFDMUQ7R0FaZ0JaO0tBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2NvbXBvbmVudHMvcHJvdmlkZXJzL1Bvc3RIb2dDbGllbnRQcm92aWRlci50c3g/NjVjMSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHBvc3Rob2cgZnJvbSBcInBvc3Rob2ctanNcIjtcbmltcG9ydCB7IFBvc3RIb2dQcm92aWRlciB9IGZyb20gXCJwb3N0aG9nLWpzL3JlYWN0XCI7XG5pbXBvcnQgeyB1c2VFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcblxudHlwZSBQcm9wcyA9IHtcbiAgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBQb3N0SG9nQ2xpZW50UHJvdmlkZXIocHJvcHM6IFByb3BzKSB7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3Qga2V5ID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfUE9TVEhPR19LRVk7XG4gICAgaWYgKCFrZXkpIHJldHVybjtcbiAgICBwb3N0aG9nLmluaXQoa2V5LCB7XG4gICAgICBhcGlfaG9zdDogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfUE9TVEhPR19IT1NUIHx8IFwiaHR0cHM6Ly91cy5pLnBvc3Rob2cuY29tXCIsXG4gICAgICBjYXB0dXJlX3BhZ2V2aWV3OiB0cnVlLFxuICAgICAgY2FwdHVyZV9wYWdlbGVhdmU6IHRydWVcbiAgICB9KTtcbiAgfSwgW10pO1xuXG4gIHJldHVybiA8UG9zdEhvZ1Byb3ZpZGVyIGNsaWVudD17cG9zdGhvZ30+e3Byb3BzLmNoaWxkcmVufTwvUG9zdEhvZ1Byb3ZpZGVyPjtcbn1cblxuIl0sIm5hbWVzIjpbInBvc3Rob2ciLCJQb3N0SG9nUHJvdmlkZXIiLCJ1c2VFZmZlY3QiLCJQb3N0SG9nQ2xpZW50UHJvdmlkZXIiLCJwcm9wcyIsImtleSIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19QT1NUSE9HX0tFWSIsImluaXQiLCJhcGlfaG9zdCIsIk5FWFRfUFVCTElDX1BPU1RIT0dfSE9TVCIsImNhcHR1cmVfcGFnZXZpZXciLCJjYXB0dXJlX3BhZ2VsZWF2ZSIsImNsaWVudCIsImNoaWxkcmVuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/providers/PostHogClientProvider.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js ***!
  \****************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("/**\n * @license React\n * react-jsx-dev-runtime.development.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n\nif (true) {\n  (function() {\n'use strict';\n\nvar React = __webpack_require__(/*! next/dist/compiled/react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n\n// ATTENTION\n// When adding new symbols to this file,\n// Please consider also adding to 'react-devtools-shared/src/backend/ReactSymbols'\n// The Symbol used to tag the ReactElement-like types.\nvar REACT_ELEMENT_TYPE = Symbol.for('react.element');\nvar REACT_PORTAL_TYPE = Symbol.for('react.portal');\nvar REACT_FRAGMENT_TYPE = Symbol.for('react.fragment');\nvar REACT_STRICT_MODE_TYPE = Symbol.for('react.strict_mode');\nvar REACT_PROFILER_TYPE = Symbol.for('react.profiler');\nvar REACT_PROVIDER_TYPE = Symbol.for('react.provider'); // TODO: Delete with enableRenderableContext\n\nvar REACT_CONSUMER_TYPE = Symbol.for('react.consumer');\nvar REACT_CONTEXT_TYPE = Symbol.for('react.context');\nvar REACT_FORWARD_REF_TYPE = Symbol.for('react.forward_ref');\nvar REACT_SUSPENSE_TYPE = Symbol.for('react.suspense');\nvar REACT_SUSPENSE_LIST_TYPE = Symbol.for('react.suspense_list');\nvar REACT_MEMO_TYPE = Symbol.for('react.memo');\nvar REACT_LAZY_TYPE = Symbol.for('react.lazy');\nvar REACT_OFFSCREEN_TYPE = Symbol.for('react.offscreen');\nvar REACT_CACHE_TYPE = Symbol.for('react.cache');\nvar MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nvar FAUX_ITERATOR_SYMBOL = '@@iterator';\nfunction getIteratorFn(maybeIterable) {\n  if (maybeIterable === null || typeof maybeIterable !== 'object') {\n    return null;\n  }\n\n  var maybeIterator = MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL];\n\n  if (typeof maybeIterator === 'function') {\n    return maybeIterator;\n  }\n\n  return null;\n}\n\nvar ReactSharedInternals = React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n\nfunction error(format) {\n  {\n    {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      printWarning('error', format, args);\n    }\n  }\n}\n\nfunction printWarning(level, format, args) {\n  // When changing this logic, you might want to also\n  // update consoleWithStackDev.www.js as well.\n  {\n    var ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n    var stack = ReactDebugCurrentFrame.getStackAddendum();\n\n    if (stack !== '') {\n      format += '%s';\n      args = args.concat([stack]);\n    } // eslint-disable-next-line react-internal/safe-string-coercion\n\n\n    var argsWithFormat = args.map(function (item) {\n      return String(item);\n    }); // Careful: RN currently depends on this prefix\n\n    argsWithFormat.unshift('Warning: ' + format); // We intentionally don't use spread (or .apply) directly because it\n    // breaks IE9: https://github.com/facebook/react/issues/13610\n    // eslint-disable-next-line react-internal/no-production-logging\n\n    Function.prototype.apply.call(console[level], console, argsWithFormat);\n  }\n}\n\n// -----------------------------------------------------------------------------\n\nvar enableScopeAPI = false; // Experimental Create Event Handle API.\nvar enableCacheElement = false;\nvar enableTransitionTracing = false; // No known bugs, but needs performance testing\n\nvar enableLegacyHidden = false; // Enables unstable_avoidThisFallback feature in Fiber\nvar enableRenderableContext = false;\n// stuff. Intended to enable React core members to more easily debug scheduling\n// issues in DEV builds.\n\nvar enableDebugTracing = false;\n\nfunction getWrappedName(outerType, innerType, wrapperName) {\n  var displayName = outerType.displayName;\n\n  if (displayName) {\n    return displayName;\n  }\n\n  var functionName = innerType.displayName || innerType.name || '';\n  return functionName !== '' ? wrapperName + \"(\" + functionName + \")\" : wrapperName;\n} // Keep in sync with react-reconciler/getComponentNameFromFiber\n\n\nfunction getContextName(type) {\n  return type.displayName || 'Context';\n}\n\nvar REACT_CLIENT_REFERENCE$2 = Symbol.for('react.client.reference'); // Note that the reconciler package should generally prefer to use getComponentNameFromFiber() instead.\n\nfunction getComponentNameFromType(type) {\n  if (type == null) {\n    // Host root, text node or just invalid type.\n    return null;\n  }\n\n  if (typeof type === 'function') {\n    if (type.$$typeof === REACT_CLIENT_REFERENCE$2) {\n      // TODO: Create a convention for naming client references with debug info.\n      return null;\n    }\n\n    return type.displayName || type.name || null;\n  }\n\n  if (typeof type === 'string') {\n    return type;\n  }\n\n  switch (type) {\n    case REACT_FRAGMENT_TYPE:\n      return 'Fragment';\n\n    case REACT_PORTAL_TYPE:\n      return 'Portal';\n\n    case REACT_PROFILER_TYPE:\n      return 'Profiler';\n\n    case REACT_STRICT_MODE_TYPE:\n      return 'StrictMode';\n\n    case REACT_SUSPENSE_TYPE:\n      return 'Suspense';\n\n    case REACT_SUSPENSE_LIST_TYPE:\n      return 'SuspenseList';\n\n    case REACT_CACHE_TYPE:\n      {\n        return 'Cache';\n      }\n\n  }\n\n  if (typeof type === 'object') {\n    {\n      if (typeof type.tag === 'number') {\n        error('Received an unexpected object in getComponentNameFromType(). ' + 'This is likely a bug in React. Please file an issue.');\n      }\n    }\n\n    switch (type.$$typeof) {\n      case REACT_PROVIDER_TYPE:\n        {\n          var provider = type;\n          return getContextName(provider._context) + '.Provider';\n        }\n\n      case REACT_CONTEXT_TYPE:\n        var context = type;\n\n        {\n          return getContextName(context) + '.Consumer';\n        }\n\n      case REACT_CONSUMER_TYPE:\n        {\n          return null;\n        }\n\n      case REACT_FORWARD_REF_TYPE:\n        return getWrappedName(type, type.render, 'ForwardRef');\n\n      case REACT_MEMO_TYPE:\n        var outerName = type.displayName || null;\n\n        if (outerName !== null) {\n          return outerName;\n        }\n\n        return getComponentNameFromType(type.type) || 'Memo';\n\n      case REACT_LAZY_TYPE:\n        {\n          var lazyComponent = type;\n          var payload = lazyComponent._payload;\n          var init = lazyComponent._init;\n\n          try {\n            return getComponentNameFromType(init(payload));\n          } catch (x) {\n            return null;\n          }\n        }\n    }\n  }\n\n  return null;\n}\n\n// $FlowFixMe[method-unbinding]\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nvar assign = Object.assign;\n\n/*\n * The `'' + value` pattern (used in perf-sensitive code) throws for Symbol\n * and Temporal.* types. See https://github.com/facebook/react/pull/22064.\n *\n * The functions in this module will throw an easier-to-understand,\n * easier-to-debug exception with a clear errors message message explaining the\n * problem. (Instead of a confusing exception thrown inside the implementation\n * of the `value` object).\n */\n// $FlowFixMe[incompatible-return] only called in DEV, so void return is not possible.\nfunction typeName(value) {\n  {\n    // toStringTag is needed for namespaced types like Temporal.Instant\n    var hasToStringTag = typeof Symbol === 'function' && Symbol.toStringTag;\n    var type = hasToStringTag && value[Symbol.toStringTag] || value.constructor.name || 'Object'; // $FlowFixMe[incompatible-return]\n\n    return type;\n  }\n} // $FlowFixMe[incompatible-return] only called in DEV, so void return is not possible.\n\n\nfunction willCoercionThrow(value) {\n  {\n    try {\n      testStringCoercion(value);\n      return false;\n    } catch (e) {\n      return true;\n    }\n  }\n}\n\nfunction testStringCoercion(value) {\n  // If you ended up here by following an exception call stack, here's what's\n  // happened: you supplied an object or symbol value to React (as a prop, key,\n  // DOM attribute, CSS property, string ref, etc.) and when React tried to\n  // coerce it to a string using `'' + value`, an exception was thrown.\n  //\n  // The most common types that will cause this exception are `Symbol` instances\n  // and Temporal objects like `Temporal.Instant`. But any object that has a\n  // `valueOf` or `[Symbol.toPrimitive]` method that throws will also cause this\n  // exception. (Library authors do this to prevent users from using built-in\n  // numeric operators like `+` or comparison operators like `>=` because custom\n  // methods are needed to perform accurate arithmetic or comparison.)\n  //\n  // To fix the problem, coerce this object or symbol value to a string before\n  // passing it to React. The most reliable way is usually `String(value)`.\n  //\n  // To find which value is throwing, check the browser or debugger console.\n  // Before this exception was thrown, there should be `console.error` output\n  // that shows the type (Symbol, Temporal.PlainDate, etc.) that caused the\n  // problem and how that type was used: key, atrribute, input value prop, etc.\n  // In most cases, this console output also shows the component and its\n  // ancestor components where the exception happened.\n  //\n  // eslint-disable-next-line react-internal/safe-string-coercion\n  return '' + value;\n}\nfunction checkKeyStringCoercion(value) {\n  {\n    if (willCoercionThrow(value)) {\n      error('The provided key is an unsupported type %s.' + ' This value must be coerced to a string before using it here.', typeName(value));\n\n      return testStringCoercion(value); // throw (to help callers find troubleshooting comments)\n    }\n  }\n}\n\nvar REACT_CLIENT_REFERENCE$1 = Symbol.for('react.client.reference');\nfunction isValidElementType(type) {\n  if (typeof type === 'string' || typeof type === 'function') {\n    return true;\n  } // Note: typeof might be other than 'symbol' or 'number' (e.g. if it's a polyfill).\n\n\n  if (type === REACT_FRAGMENT_TYPE || type === REACT_PROFILER_TYPE || enableDebugTracing  || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || enableLegacyHidden  || type === REACT_OFFSCREEN_TYPE || enableScopeAPI  || enableCacheElement  || enableTransitionTracing ) {\n    return true;\n  }\n\n  if (typeof type === 'object' && type !== null) {\n    if (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || enableRenderableContext  || type.$$typeof === REACT_FORWARD_REF_TYPE || // This needs to include all possible module reference object\n    // types supported by any Flight configuration anywhere since\n    // we don't know which Flight build this will end up being used\n    // with.\n    type.$$typeof === REACT_CLIENT_REFERENCE$1 || type.getModuleId !== undefined) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nvar isArrayImpl = Array.isArray; // eslint-disable-next-line no-redeclare\n\nfunction isArray(a) {\n  return isArrayImpl(a);\n}\n\n// Helpers to patch console.logs to avoid logging during side-effect free\n// replaying on render function. This currently only patches the object\n// lazily which won't cover if the log function was extracted eagerly.\n// We could also eagerly patch the method.\nvar disabledDepth = 0;\nvar prevLog;\nvar prevInfo;\nvar prevWarn;\nvar prevError;\nvar prevGroup;\nvar prevGroupCollapsed;\nvar prevGroupEnd;\n\nfunction disabledLog() {}\n\ndisabledLog.__reactDisabledLog = true;\nfunction disableLogs() {\n  {\n    if (disabledDepth === 0) {\n      /* eslint-disable react-internal/no-production-logging */\n      prevLog = console.log;\n      prevInfo = console.info;\n      prevWarn = console.warn;\n      prevError = console.error;\n      prevGroup = console.group;\n      prevGroupCollapsed = console.groupCollapsed;\n      prevGroupEnd = console.groupEnd; // https://github.com/facebook/react/issues/19099\n\n      var props = {\n        configurable: true,\n        enumerable: true,\n        value: disabledLog,\n        writable: true\n      }; // $FlowFixMe[cannot-write] Flow thinks console is immutable.\n\n      Object.defineProperties(console, {\n        info: props,\n        log: props,\n        warn: props,\n        error: props,\n        group: props,\n        groupCollapsed: props,\n        groupEnd: props\n      });\n      /* eslint-enable react-internal/no-production-logging */\n    }\n\n    disabledDepth++;\n  }\n}\nfunction reenableLogs() {\n  {\n    disabledDepth--;\n\n    if (disabledDepth === 0) {\n      /* eslint-disable react-internal/no-production-logging */\n      var props = {\n        configurable: true,\n        enumerable: true,\n        writable: true\n      }; // $FlowFixMe[cannot-write] Flow thinks console is immutable.\n\n      Object.defineProperties(console, {\n        log: assign({}, props, {\n          value: prevLog\n        }),\n        info: assign({}, props, {\n          value: prevInfo\n        }),\n        warn: assign({}, props, {\n          value: prevWarn\n        }),\n        error: assign({}, props, {\n          value: prevError\n        }),\n        group: assign({}, props, {\n          value: prevGroup\n        }),\n        groupCollapsed: assign({}, props, {\n          value: prevGroupCollapsed\n        }),\n        groupEnd: assign({}, props, {\n          value: prevGroupEnd\n        })\n      });\n      /* eslint-enable react-internal/no-production-logging */\n    }\n\n    if (disabledDepth < 0) {\n      error('disabledDepth fell below zero. ' + 'This is a bug in React. Please file an issue.');\n    }\n  }\n}\n\nvar ReactCurrentDispatcher = ReactSharedInternals.ReactCurrentDispatcher;\nvar prefix;\nfunction describeBuiltInComponentFrame(name, ownerFn) {\n  {\n    if (prefix === undefined) {\n      // Extract the VM specific prefix used by each line.\n      try {\n        throw Error();\n      } catch (x) {\n        var match = x.stack.trim().match(/\\n( *(at )?)/);\n        prefix = match && match[1] || '';\n      }\n    } // We use the prefix to ensure our stacks line up with native stack frames.\n\n\n    return '\\n' + prefix + name;\n  }\n}\nvar reentry = false;\nvar componentFrameCache;\n\n{\n  var PossiblyWeakMap = typeof WeakMap === 'function' ? WeakMap : Map;\n  componentFrameCache = new PossiblyWeakMap();\n}\n/**\n * Leverages native browser/VM stack frames to get proper details (e.g.\n * filename, line + col number) for a single component in a component stack. We\n * do this by:\n *   (1) throwing and catching an error in the function - this will be our\n *       control error.\n *   (2) calling the component which will eventually throw an error that we'll\n *       catch - this will be our sample error.\n *   (3) diffing the control and sample error stacks to find the stack frame\n *       which represents our component.\n */\n\n\nfunction describeNativeComponentFrame(fn, construct) {\n  // If something asked for a stack inside a fake render, it should get ignored.\n  if (!fn || reentry) {\n    return '';\n  }\n\n  {\n    var frame = componentFrameCache.get(fn);\n\n    if (frame !== undefined) {\n      return frame;\n    }\n  }\n\n  reentry = true;\n  var previousPrepareStackTrace = Error.prepareStackTrace; // $FlowFixMe[incompatible-type] It does accept undefined.\n\n  Error.prepareStackTrace = undefined;\n  var previousDispatcher;\n\n  {\n    previousDispatcher = ReactCurrentDispatcher.current; // Set the dispatcher in DEV because this might be call in the render function\n    // for warnings.\n\n    ReactCurrentDispatcher.current = null;\n    disableLogs();\n  }\n  /**\n   * Finding a common stack frame between sample and control errors can be\n   * tricky given the different types and levels of stack trace truncation from\n   * different JS VMs. So instead we'll attempt to control what that common\n   * frame should be through this object method:\n   * Having both the sample and control errors be in the function under the\n   * `DescribeNativeComponentFrameRoot` property, + setting the `name` and\n   * `displayName` properties of the function ensures that a stack\n   * frame exists that has the method name `DescribeNativeComponentFrameRoot` in\n   * it for both control and sample stacks.\n   */\n\n\n  var RunInRootFrame = {\n    DetermineComponentFrameRoot: function () {\n      var control;\n\n      try {\n        // This should throw.\n        if (construct) {\n          // Something should be setting the props in the constructor.\n          var Fake = function () {\n            throw Error();\n          }; // $FlowFixMe[prop-missing]\n\n\n          Object.defineProperty(Fake.prototype, 'props', {\n            set: function () {\n              // We use a throwing setter instead of frozen or non-writable props\n              // because that won't throw in a non-strict mode function.\n              throw Error();\n            }\n          });\n\n          if (typeof Reflect === 'object' && Reflect.construct) {\n            // We construct a different control for this case to include any extra\n            // frames added by the construct call.\n            try {\n              Reflect.construct(Fake, []);\n            } catch (x) {\n              control = x;\n            }\n\n            Reflect.construct(fn, [], Fake);\n          } else {\n            try {\n              Fake.call();\n            } catch (x) {\n              control = x;\n            } // $FlowFixMe[prop-missing] found when upgrading Flow\n\n\n            fn.call(Fake.prototype);\n          }\n        } else {\n          try {\n            throw Error();\n          } catch (x) {\n            control = x;\n          } // TODO(luna): This will currently only throw if the function component\n          // tries to access React/ReactDOM/props. We should probably make this throw\n          // in simple components too\n\n\n          var maybePromise = fn(); // If the function component returns a promise, it's likely an async\n          // component, which we don't yet support. Attach a noop catch handler to\n          // silence the error.\n          // TODO: Implement component stacks for async client components?\n\n          if (maybePromise && typeof maybePromise.catch === 'function') {\n            maybePromise.catch(function () {});\n          }\n        }\n      } catch (sample) {\n        // This is inlined manually because closure doesn't do it for us.\n        if (sample && control && typeof sample.stack === 'string') {\n          return [sample.stack, control.stack];\n        }\n      }\n\n      return [null, null];\n    }\n  }; // $FlowFixMe[prop-missing]\n\n  RunInRootFrame.DetermineComponentFrameRoot.displayName = 'DetermineComponentFrameRoot';\n  var namePropDescriptor = Object.getOwnPropertyDescriptor(RunInRootFrame.DetermineComponentFrameRoot, 'name'); // Before ES6, the `name` property was not configurable.\n\n  if (namePropDescriptor && namePropDescriptor.configurable) {\n    // V8 utilizes a function's `name` property when generating a stack trace.\n    Object.defineProperty(RunInRootFrame.DetermineComponentFrameRoot, // Configurable properties can be updated even if its writable descriptor\n    // is set to `false`.\n    // $FlowFixMe[cannot-write]\n    'name', {\n      value: 'DetermineComponentFrameRoot'\n    });\n  }\n\n  try {\n    var _RunInRootFrame$Deter = RunInRootFrame.DetermineComponentFrameRoot(),\n        sampleStack = _RunInRootFrame$Deter[0],\n        controlStack = _RunInRootFrame$Deter[1];\n\n    if (sampleStack && controlStack) {\n      // This extracts the first frame from the sample that isn't also in the control.\n      // Skipping one frame that we assume is the frame that calls the two.\n      var sampleLines = sampleStack.split('\\n');\n      var controlLines = controlStack.split('\\n');\n      var s = 0;\n      var c = 0;\n\n      while (s < sampleLines.length && !sampleLines[s].includes('DetermineComponentFrameRoot')) {\n        s++;\n      }\n\n      while (c < controlLines.length && !controlLines[c].includes('DetermineComponentFrameRoot')) {\n        c++;\n      } // We couldn't find our intentionally injected common root frame, attempt\n      // to find another common root frame by search from the bottom of the\n      // control stack...\n\n\n      if (s === sampleLines.length || c === controlLines.length) {\n        s = sampleLines.length - 1;\n        c = controlLines.length - 1;\n\n        while (s >= 1 && c >= 0 && sampleLines[s] !== controlLines[c]) {\n          // We expect at least one stack frame to be shared.\n          // Typically this will be the root most one. However, stack frames may be\n          // cut off due to maximum stack limits. In this case, one maybe cut off\n          // earlier than the other. We assume that the sample is longer or the same\n          // and there for cut off earlier. So we should find the root most frame in\n          // the sample somewhere in the control.\n          c--;\n        }\n      }\n\n      for (; s >= 1 && c >= 0; s--, c--) {\n        // Next we find the first one that isn't the same which should be the\n        // frame that called our sample function and the control.\n        if (sampleLines[s] !== controlLines[c]) {\n          // In V8, the first line is describing the message but other VMs don't.\n          // If we're about to return the first line, and the control is also on the same\n          // line, that's a pretty good indicator that our sample threw at same line as\n          // the control. I.e. before we entered the sample frame. So we ignore this result.\n          // This can happen if you passed a class to function component, or non-function.\n          if (s !== 1 || c !== 1) {\n            do {\n              s--;\n              c--; // We may still have similar intermediate frames from the construct call.\n              // The next one that isn't the same should be our match though.\n\n              if (c < 0 || sampleLines[s] !== controlLines[c]) {\n                // V8 adds a \"new\" prefix for native classes. Let's remove it to make it prettier.\n                var _frame = '\\n' + sampleLines[s].replace(' at new ', ' at '); // If our component frame is labeled \"<anonymous>\"\n                // but we have a user-provided \"displayName\"\n                // splice it in to make the stack more readable.\n\n\n                if (fn.displayName && _frame.includes('<anonymous>')) {\n                  _frame = _frame.replace('<anonymous>', fn.displayName);\n                }\n\n                if (true) {\n                  if (typeof fn === 'function') {\n                    componentFrameCache.set(fn, _frame);\n                  }\n                } // Return the line we found.\n\n\n                return _frame;\n              }\n            } while (s >= 1 && c >= 0);\n          }\n\n          break;\n        }\n      }\n    }\n  } finally {\n    reentry = false;\n\n    {\n      ReactCurrentDispatcher.current = previousDispatcher;\n      reenableLogs();\n    }\n\n    Error.prepareStackTrace = previousPrepareStackTrace;\n  } // Fallback to just using the name if we couldn't make it throw.\n\n\n  var name = fn ? fn.displayName || fn.name : '';\n  var syntheticFrame = name ? describeBuiltInComponentFrame(name) : '';\n\n  {\n    if (typeof fn === 'function') {\n      componentFrameCache.set(fn, syntheticFrame);\n    }\n  }\n\n  return syntheticFrame;\n}\nfunction describeFunctionComponentFrame(fn, ownerFn) {\n  {\n    return describeNativeComponentFrame(fn, false);\n  }\n}\n\nfunction shouldConstruct(Component) {\n  var prototype = Component.prototype;\n  return !!(prototype && prototype.isReactComponent);\n}\n\nfunction describeUnknownElementTypeFrameInDEV(type, ownerFn) {\n\n  if (type == null) {\n    return '';\n  }\n\n  if (typeof type === 'function') {\n    {\n      return describeNativeComponentFrame(type, shouldConstruct(type));\n    }\n  }\n\n  if (typeof type === 'string') {\n    return describeBuiltInComponentFrame(type);\n  }\n\n  switch (type) {\n    case REACT_SUSPENSE_TYPE:\n      return describeBuiltInComponentFrame('Suspense');\n\n    case REACT_SUSPENSE_LIST_TYPE:\n      return describeBuiltInComponentFrame('SuspenseList');\n  }\n\n  if (typeof type === 'object') {\n    switch (type.$$typeof) {\n      case REACT_FORWARD_REF_TYPE:\n        return describeFunctionComponentFrame(type.render);\n\n      case REACT_MEMO_TYPE:\n        // Memo may contain any component type so we recursively resolve it.\n        return describeUnknownElementTypeFrameInDEV(type.type, ownerFn);\n\n      case REACT_LAZY_TYPE:\n        {\n          var lazyComponent = type;\n          var payload = lazyComponent._payload;\n          var init = lazyComponent._init;\n\n          try {\n            // Lazy may contain any component type so we recursively resolve it.\n            return describeUnknownElementTypeFrameInDEV(init(payload), ownerFn);\n          } catch (x) {}\n        }\n    }\n  }\n\n  return '';\n}\n\nvar ReactCurrentOwner = ReactSharedInternals.ReactCurrentOwner;\nvar ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\nvar REACT_CLIENT_REFERENCE = Symbol.for('react.client.reference');\nvar specialPropKeyWarningShown;\nvar specialPropRefWarningShown;\nvar didWarnAboutStringRefs;\n\n{\n  didWarnAboutStringRefs = {};\n}\n\nfunction hasValidRef(config) {\n  {\n    if (hasOwnProperty.call(config, 'ref')) {\n      var getter = Object.getOwnPropertyDescriptor(config, 'ref').get;\n\n      if (getter && getter.isReactWarning) {\n        return false;\n      }\n    }\n  }\n\n  return config.ref !== undefined;\n}\n\nfunction hasValidKey(config) {\n  {\n    if (hasOwnProperty.call(config, 'key')) {\n      var getter = Object.getOwnPropertyDescriptor(config, 'key').get;\n\n      if (getter && getter.isReactWarning) {\n        return false;\n      }\n    }\n  }\n\n  return config.key !== undefined;\n}\n\nfunction warnIfStringRefCannotBeAutoConverted(config, self) {\n  {\n    if (typeof config.ref === 'string' && ReactCurrentOwner.current && self && ReactCurrentOwner.current.stateNode !== self) {\n      var componentName = getComponentNameFromType(ReactCurrentOwner.current.type);\n\n      if (!didWarnAboutStringRefs[componentName]) {\n        error('Component \"%s\" contains the string ref \"%s\". ' + 'Support for string refs will be removed in a future major release. ' + 'This case cannot be automatically converted to an arrow function. ' + 'We ask you to manually fix this case by using useRef() or createRef() instead. ' + 'Learn more about using refs safely here: ' + 'https://reactjs.org/link/strict-mode-string-ref', getComponentNameFromType(ReactCurrentOwner.current.type), config.ref);\n\n        didWarnAboutStringRefs[componentName] = true;\n      }\n    }\n  }\n}\n\nfunction defineKeyPropWarningGetter(props, displayName) {\n  {\n    var warnAboutAccessingKey = function () {\n      if (!specialPropKeyWarningShown) {\n        specialPropKeyWarningShown = true;\n\n        error('%s: `key` is not a prop. Trying to access it will result ' + 'in `undefined` being returned. If you need to access the same ' + 'value within the child component, you should pass it as a different ' + 'prop. (https://reactjs.org/link/special-props)', displayName);\n      }\n    };\n\n    warnAboutAccessingKey.isReactWarning = true;\n    Object.defineProperty(props, 'key', {\n      get: warnAboutAccessingKey,\n      configurable: true\n    });\n  }\n}\n\nfunction defineRefPropWarningGetter(props, displayName) {\n  {\n    {\n      var warnAboutAccessingRef = function () {\n        if (!specialPropRefWarningShown) {\n          specialPropRefWarningShown = true;\n\n          error('%s: `ref` is not a prop. Trying to access it will result ' + 'in `undefined` being returned. If you need to access the same ' + 'value within the child component, you should pass it as a different ' + 'prop. (https://reactjs.org/link/special-props)', displayName);\n        }\n      };\n\n      warnAboutAccessingRef.isReactWarning = true;\n      Object.defineProperty(props, 'ref', {\n        get: warnAboutAccessingRef,\n        configurable: true\n      });\n    }\n  }\n}\n/**\n * Factory method to create a new React element. This no longer adheres to\n * the class pattern, so do not use new to call it. Also, instanceof check\n * will not work. Instead test $$typeof field against Symbol.for('react.element') to check\n * if something is a React Element.\n *\n * @param {*} type\n * @param {*} props\n * @param {*} key\n * @param {string|object} ref\n * @param {*} owner\n * @param {*} self A *temporary* helper to detect places where `this` is\n * different from the `owner` when React.createElement is called, so that we\n * can warn. We want to get rid of owner and replace string `ref`s with arrow\n * functions, and as long as `this` and owner are the same, there will be no\n * change in behavior.\n * @param {*} source An annotation object (added by a transpiler or otherwise)\n * indicating filename, line number, and/or other information.\n * @internal\n */\n\n\nfunction ReactElement(type, key, _ref, self, source, owner, props) {\n  var ref;\n\n  {\n    ref = _ref;\n  }\n\n  var element;\n\n  {\n    // In prod, `ref` is a regular property. It will be removed in a\n    // future release.\n    element = {\n      // This tag allows us to uniquely identify this as a React Element\n      $$typeof: REACT_ELEMENT_TYPE,\n      // Built-in properties that belong on the element\n      type: type,\n      key: key,\n      ref: ref,\n      props: props,\n      // Record the component responsible for creating this element.\n      _owner: owner\n    };\n  }\n\n  {\n    // The validation flag is currently mutative. We put it on\n    // an external backing store so that we can freeze the whole object.\n    // This can be replaced with a WeakMap once they are implemented in\n    // commonly used development environments.\n    element._store = {}; // To make comparing ReactElements easier for testing purposes, we make\n    // the validation flag non-enumerable (where possible, which should\n    // include every environment we run tests in), so the test framework\n    // ignores it.\n\n    Object.defineProperty(element._store, 'validated', {\n      configurable: false,\n      enumerable: false,\n      writable: true,\n      value: false\n    }); // debugInfo contains Server Component debug information.\n\n    Object.defineProperty(element, '_debugInfo', {\n      configurable: false,\n      enumerable: false,\n      writable: true,\n      value: null\n    });\n\n    if (Object.freeze) {\n      Object.freeze(element.props);\n      Object.freeze(element);\n    }\n  }\n\n  return element;\n}\nvar didWarnAboutKeySpread = {};\n/**\n * https://github.com/reactjs/rfcs/pull/107\n * @param {*} type\n * @param {object} props\n * @param {string} key\n */\n\nfunction jsxDEV$1(type, config, maybeKey, isStaticChildren, source, self) {\n  {\n    if (!isValidElementType(type)) {\n      // This is an invalid element type.\n      //\n      // We warn in this case but don't throw. We expect the element creation to\n      // succeed and there will likely be errors in render.\n      var info = '';\n\n      if (type === undefined || typeof type === 'object' && type !== null && Object.keys(type).length === 0) {\n        info += ' You likely forgot to export your component from the file ' + \"it's defined in, or you might have mixed up default and named imports.\";\n      }\n\n      var typeString;\n\n      if (type === null) {\n        typeString = 'null';\n      } else if (isArray(type)) {\n        typeString = 'array';\n      } else if (type !== undefined && type.$$typeof === REACT_ELEMENT_TYPE) {\n        typeString = \"<\" + (getComponentNameFromType(type.type) || 'Unknown') + \" />\";\n        info = ' Did you accidentally export a JSX literal instead of a component?';\n      } else {\n        typeString = typeof type;\n      }\n\n      error('React.jsx: type is invalid -- expected a string (for ' + 'built-in components) or a class/function (for composite ' + 'components) but got: %s.%s', typeString, info);\n    } else {\n      // This is a valid element type.\n      // Skip key warning if the type isn't valid since our key validation logic\n      // doesn't expect a non-string/function type and can throw confusing\n      // errors. We don't want exception behavior to differ between dev and\n      // prod. (Rendering will throw with a helpful message and as soon as the\n      // type is fixed, the key warnings will appear.)\n      var children = config.children;\n\n      if (children !== undefined) {\n        if (isStaticChildren) {\n          if (isArray(children)) {\n            for (var i = 0; i < children.length; i++) {\n              validateChildKeys(children[i], type);\n            }\n\n            if (Object.freeze) {\n              Object.freeze(children);\n            }\n          } else {\n            error('React.jsx: Static children should always be an array. ' + 'You are likely explicitly calling React.jsxs or React.jsxDEV. ' + 'Use the Babel transform instead.');\n          }\n        } else {\n          validateChildKeys(children, type);\n        }\n      }\n    } // Warn about key spread regardless of whether the type is valid.\n\n\n    if (hasOwnProperty.call(config, 'key')) {\n      var componentName = getComponentNameFromType(type);\n      var keys = Object.keys(config).filter(function (k) {\n        return k !== 'key';\n      });\n      var beforeExample = keys.length > 0 ? '{key: someKey, ' + keys.join(': ..., ') + ': ...}' : '{key: someKey}';\n\n      if (!didWarnAboutKeySpread[componentName + beforeExample]) {\n        var afterExample = keys.length > 0 ? '{' + keys.join(': ..., ') + ': ...}' : '{}';\n\n        error('A props object containing a \"key\" prop is being spread into JSX:\\n' + '  let props = %s;\\n' + '  <%s {...props} />\\n' + 'React keys must be passed directly to JSX without using spread:\\n' + '  let props = %s;\\n' + '  <%s key={someKey} {...props} />', beforeExample, componentName, afterExample, componentName);\n\n        didWarnAboutKeySpread[componentName + beforeExample] = true;\n      }\n    }\n\n    var propName; // Reserved names are extracted\n\n    var props = {};\n    var key = null;\n    var ref = null; // Currently, key can be spread in as a prop. This causes a potential\n    // issue if key is also explicitly declared (ie. <div {...props} key=\"Hi\" />\n    // or <div key=\"Hi\" {...props} /> ). We want to deprecate key spread,\n    // but as an intermediary step, we will use jsxDEV for everything except\n    // <div {...props} key=\"Hi\" />, because we aren't currently able to tell if\n    // key is explicitly declared to be undefined or not.\n\n    if (maybeKey !== undefined) {\n      {\n        checkKeyStringCoercion(maybeKey);\n      }\n\n      key = '' + maybeKey;\n    }\n\n    if (hasValidKey(config)) {\n      {\n        checkKeyStringCoercion(config.key);\n      }\n\n      key = '' + config.key;\n    }\n\n    if (hasValidRef(config)) {\n      {\n        ref = config.ref;\n      }\n\n      warnIfStringRefCannotBeAutoConverted(config, self);\n    } // Remaining properties are added to a new props object\n\n\n    for (propName in config) {\n      if (hasOwnProperty.call(config, propName) && // Skip over reserved prop names\n      propName !== 'key' && (propName !== 'ref')) {\n        props[propName] = config[propName];\n      }\n    } // Resolve default props\n\n\n    if (type && type.defaultProps) {\n      var defaultProps = type.defaultProps;\n\n      for (propName in defaultProps) {\n        if (props[propName] === undefined) {\n          props[propName] = defaultProps[propName];\n        }\n      }\n    }\n\n    if (key || ref) {\n      var displayName = typeof type === 'function' ? type.displayName || type.name || 'Unknown' : type;\n\n      if (key) {\n        defineKeyPropWarningGetter(props, displayName);\n      }\n\n      if (ref) {\n        defineRefPropWarningGetter(props, displayName);\n      }\n    }\n\n    var element = ReactElement(type, key, ref, self, source, ReactCurrentOwner.current, props);\n\n    if (type === REACT_FRAGMENT_TYPE) {\n      validateFragmentProps(element);\n    }\n\n    return element;\n  }\n}\n\nfunction getDeclarationErrorAddendum() {\n  {\n    if (ReactCurrentOwner.current) {\n      var name = getComponentNameFromType(ReactCurrentOwner.current.type);\n\n      if (name) {\n        return '\\n\\nCheck the render method of `' + name + '`.';\n      }\n    }\n\n    return '';\n  }\n}\n/**\n * Ensure that every element either is passed in a static location, in an\n * array with an explicit keys property defined, or in an object literal\n * with valid key property.\n *\n * @internal\n * @param {ReactNode} node Statically passed child of any type.\n * @param {*} parentType node's parent's type.\n */\n\n\nfunction validateChildKeys(node, parentType) {\n  {\n    if (typeof node !== 'object' || !node) {\n      return;\n    }\n\n    if (node.$$typeof === REACT_CLIENT_REFERENCE) ; else if (isArray(node)) {\n      for (var i = 0; i < node.length; i++) {\n        var child = node[i];\n\n        if (isValidElement(child)) {\n          validateExplicitKey(child, parentType);\n        }\n      }\n    } else if (isValidElement(node)) {\n      // This element was passed in a valid location.\n      if (node._store) {\n        node._store.validated = true;\n      }\n    } else {\n      var iteratorFn = getIteratorFn(node);\n\n      if (typeof iteratorFn === 'function') {\n        // Entry iterators used to provide implicit keys,\n        // but now we print a separate warning for them later.\n        if (iteratorFn !== node.entries) {\n          var iterator = iteratorFn.call(node);\n          var step;\n\n          while (!(step = iterator.next()).done) {\n            if (isValidElement(step.value)) {\n              validateExplicitKey(step.value, parentType);\n            }\n          }\n        }\n      }\n    }\n  }\n}\n/**\n * Verifies the object is a ReactElement.\n * See https://reactjs.org/docs/react-api.html#isvalidelement\n * @param {?object} object\n * @return {boolean} True if `object` is a ReactElement.\n * @final\n */\n\n\nfunction isValidElement(object) {\n  return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n}\nvar ownerHasKeyUseWarning = {};\n/**\n * Warn if the element doesn't have an explicit key assigned to it.\n * This element is in an array. The array could grow and shrink or be\n * reordered. All children that haven't already been validated are required to\n * have a \"key\" property assigned to it. Error statuses are cached so a warning\n * will only be shown once.\n *\n * @internal\n * @param {ReactElement} element Element that requires a key.\n * @param {*} parentType element's parent's type.\n */\n\nfunction validateExplicitKey(element, parentType) {\n  {\n    if (!element._store || element._store.validated || element.key != null) {\n      return;\n    }\n\n    element._store.validated = true;\n    var currentComponentErrorInfo = getCurrentComponentErrorInfo(parentType);\n\n    if (ownerHasKeyUseWarning[currentComponentErrorInfo]) {\n      return;\n    }\n\n    ownerHasKeyUseWarning[currentComponentErrorInfo] = true; // Usually the current owner is the offender, but if it accepts children as a\n    // property, it may be the creator of the child that's responsible for\n    // assigning it a key.\n\n    var childOwner = '';\n\n    if (element && element._owner && element._owner !== ReactCurrentOwner.current) {\n      // Give the component that originally created this child.\n      childOwner = \" It was passed a child from \" + getComponentNameFromType(element._owner.type) + \".\";\n    }\n\n    setCurrentlyValidatingElement(element);\n\n    error('Each child in a list should have a unique \"key\" prop.' + '%s%s See https://reactjs.org/link/warning-keys for more information.', currentComponentErrorInfo, childOwner);\n\n    setCurrentlyValidatingElement(null);\n  }\n}\n\nfunction setCurrentlyValidatingElement(element) {\n  {\n    if (element) {\n      var owner = element._owner;\n      var stack = describeUnknownElementTypeFrameInDEV(element.type, owner ? owner.type : null);\n      ReactDebugCurrentFrame.setExtraStackFrame(stack);\n    } else {\n      ReactDebugCurrentFrame.setExtraStackFrame(null);\n    }\n  }\n}\n\nfunction getCurrentComponentErrorInfo(parentType) {\n  {\n    var info = getDeclarationErrorAddendum();\n\n    if (!info) {\n      var parentName = getComponentNameFromType(parentType);\n\n      if (parentName) {\n        info = \"\\n\\nCheck the top-level render call using <\" + parentName + \">.\";\n      }\n    }\n\n    return info;\n  }\n}\n/**\n * Given a fragment, validate that it can only be provided with fragment props\n * @param {ReactElement} fragment\n */\n\n\nfunction validateFragmentProps(fragment) {\n  // TODO: Move this to render phase instead of at element creation.\n  {\n    var keys = Object.keys(fragment.props);\n\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n\n      if (key !== 'children' && key !== 'key') {\n        setCurrentlyValidatingElement(fragment);\n\n        error('Invalid prop `%s` supplied to `React.Fragment`. ' + 'React.Fragment can only have `key` and `children` props.', key);\n\n        setCurrentlyValidatingElement(null);\n        break;\n      }\n    }\n\n    if (fragment.ref !== null) {\n      setCurrentlyValidatingElement(fragment);\n\n      error('Invalid attribute `ref` supplied to `React.Fragment`.');\n\n      setCurrentlyValidatingElement(null);\n    }\n  }\n}\n\nvar jsxDEV = jsxDEV$1 ;\n\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.jsxDEV = jsxDEV;\n  })();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY29tcGlsZWQvcmVhY3QvY2pzL3JlYWN0LWpzeC1kZXYtcnVudGltZS5kZXZlbG9wbWVudC5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWE7O0FBRWIsSUFBSSxJQUFxQztBQUN6QztBQUNBOztBQUVBLFlBQVksbUJBQU8sQ0FBQyxzR0FBMEI7O0FBRTlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RDs7QUFFeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlHQUFpRyxlQUFlO0FBQ2hIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07OztBQUdOO0FBQ0E7QUFDQSxLQUFLLEdBQUc7O0FBRVIsa0RBQWtEO0FBQ2xEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBLDRCQUE0QjtBQUM1QjtBQUNBLHFDQUFxQzs7QUFFckMsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7O0FBR0Y7QUFDQTtBQUNBOztBQUVBLHFFQUFxRTs7QUFFckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0dBQWtHOztBQUVsRztBQUNBO0FBQ0EsRUFBRTs7O0FBR0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsd0NBQXdDO0FBQ3hDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7OztBQUdKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxpQ0FBaUM7O0FBRWpDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1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O0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZCxXQUFXLEdBQUc7QUFDZCxXQUFXLEdBQUc7QUFDZCxXQUFXLGVBQWU7QUFDMUIsV0FBVyxHQUFHO0FBQ2QsV0FBVyxHQUFHO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZDtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtB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QUFXLGNBQWM7QUFDekI7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG9CQUFvQixpQkFBaUI7QUFDckM7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBLGdCQUFnQjtBQUNoQixjQUFjO0FBQ2QsR0FBRztBQUNIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY29tcGlsZWQvcmVhY3QvY2pzL3JlYWN0LWpzeC1kZXYtcnVudGltZS5kZXZlbG9wbWVudC5qcz9lOGQ3Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2UgUmVhY3RcbiAqIHJlYWN0LWpzeC1kZXYtcnVudGltZS5kZXZlbG9wbWVudC5qc1xuICpcbiAqIENvcHlyaWdodCAoYykgTWV0YSBQbGF0Zm9ybXMsIEluYy4gYW5kIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gIChmdW5jdGlvbigpIHtcbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0ID0gcmVxdWlyZShcIm5leHQvZGlzdC9jb21waWxlZC9yZWFjdFwiKTtcblxuLy8gQVRURU5USU9OXG4vLyBXaGVuIGFkZGluZyBuZXcgc3ltYm9scyB0byB0aGlzIGZpbGUsXG4vLyBQbGVhc2UgY29uc2lkZXIgYWxzbyBhZGRpbmcgdG8gJ3JlYWN0LWRldnRvb2xzLXNoYXJlZC9zcmMvYmFja2VuZC9SZWFjdFN5bWJvbHMnXG4vLyBUaGUgU3ltYm9sIHVzZWQgdG8gdGFnIHRoZSBSZWFjdEVsZW1lbnQtbGlrZSB0eXBlcy5cbnZhciBSRUFDVF9FTEVNRU5UX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5lbGVtZW50Jyk7XG52YXIgUkVBQ1RfUE9SVEFMX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5wb3J0YWwnKTtcbnZhciBSRUFDVF9GUkFHTUVOVF9UWVBFID0gU3ltYm9sLmZvcigncmVhY3QuZnJhZ21lbnQnKTtcbnZhciBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFID0gU3ltYm9sLmZvcigncmVhY3Quc3RyaWN0X21vZGUnKTtcbnZhciBSRUFDVF9QUk9GSUxFUl9UWVBFID0gU3ltYm9sLmZvcigncmVhY3QucHJvZmlsZXInKTtcbnZhciBSRUFDVF9QUk9WSURFUl9UWVBFID0gU3ltYm9sLmZvcigncmVhY3QucHJvdmlkZXInKTsgLy8gVE9ETzogRGVsZXRlIHdpdGggZW5hYmxlUmVuZGVyYWJsZUNvbnRleHRcblxudmFyIFJFQUNUX0NPTlNVTUVSX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5jb25zdW1lcicpO1xudmFyIFJFQUNUX0NPTlRFWFRfVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0LmNvbnRleHQnKTtcbnZhciBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFID0gU3ltYm9sLmZvcigncmVhY3QuZm9yd2FyZF9yZWYnKTtcbnZhciBSRUFDVF9TVVNQRU5TRV9UWVBFID0gU3ltYm9sLmZvcigncmVhY3Quc3VzcGVuc2UnKTtcbnZhciBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5zdXNwZW5zZV9saXN0Jyk7XG52YXIgUkVBQ1RfTUVNT19UWVBFID0gU3ltYm9sLmZvcigncmVhY3QubWVtbycpO1xudmFyIFJFQUNUX0xBWllfVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0LmxhenknKTtcbnZhciBSRUFDVF9PRkZTQ1JFRU5fVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0Lm9mZnNjcmVlbicpO1xudmFyIFJFQUNUX0NBQ0hFX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5jYWNoZScpO1xudmFyIE1BWUJFX0lURVJBVE9SX1NZTUJPTCA9IFN5bWJvbC5pdGVyYXRvcjtcbnZhciBGQVVYX0lURVJBVE9SX1NZTUJPTCA9ICdAQGl0ZXJhdG9yJztcbmZ1bmN0aW9uIGdldEl0ZXJhdG9yRm4obWF5YmVJdGVyYWJsZSkge1xuICBpZiAobWF5YmVJdGVyYWJsZSA9PT0gbnVsbCB8fCB0eXBlb2YgbWF5YmVJdGVyYWJsZSAhPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBtYXliZUl0ZXJhdG9yID0gTUFZQkVfSVRFUkFUT1JfU1lNQk9MICYmIG1heWJlSXRlcmFibGVbTUFZQkVfSVRFUkFUT1JfU1lNQk9MXSB8fCBtYXliZUl0ZXJhYmxlW0ZBVVhfSVRFUkFUT1JfU1lNQk9MXTtcblxuICBpZiAodHlwZW9mIG1heWJlSXRlcmF0b3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gbWF5YmVJdGVyYXRvcjtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG52YXIgUmVhY3RTaGFyZWRJbnRlcm5hbHMgPSBSZWFjdC5fX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRDtcblxuZnVuY3Rpb24gZXJyb3IoZm9ybWF0KSB7XG4gIHtcbiAgICB7XG4gICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjIgPiAxID8gX2xlbjIgLSAxIDogMCksIF9rZXkyID0gMTsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICBhcmdzW19rZXkyIC0gMV0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgfVxuXG4gICAgICBwcmludFdhcm5pbmcoJ2Vycm9yJywgZm9ybWF0LCBhcmdzKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcHJpbnRXYXJuaW5nKGxldmVsLCBmb3JtYXQsIGFyZ3MpIHtcbiAgLy8gV2hlbiBjaGFuZ2luZyB0aGlzIGxvZ2ljLCB5b3UgbWlnaHQgd2FudCB0byBhbHNvXG4gIC8vIHVwZGF0ZSBjb25zb2xlV2l0aFN0YWNrRGV2Lnd3dy5qcyBhcyB3ZWxsLlxuICB7XG4gICAgdmFyIFJlYWN0RGVidWdDdXJyZW50RnJhbWUgPSBSZWFjdFNoYXJlZEludGVybmFscy5SZWFjdERlYnVnQ3VycmVudEZyYW1lO1xuICAgIHZhciBzdGFjayA9IFJlYWN0RGVidWdDdXJyZW50RnJhbWUuZ2V0U3RhY2tBZGRlbmR1bSgpO1xuXG4gICAgaWYgKHN0YWNrICE9PSAnJykge1xuICAgICAgZm9ybWF0ICs9ICclcyc7XG4gICAgICBhcmdzID0gYXJncy5jb25jYXQoW3N0YWNrXSk7XG4gICAgfSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaW50ZXJuYWwvc2FmZS1zdHJpbmctY29lcmNpb25cblxuXG4gICAgdmFyIGFyZ3NXaXRoRm9ybWF0ID0gYXJncy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHJldHVybiBTdHJpbmcoaXRlbSk7XG4gICAgfSk7IC8vIENhcmVmdWw6IFJOIGN1cnJlbnRseSBkZXBlbmRzIG9uIHRoaXMgcHJlZml4XG5cbiAgICBhcmdzV2l0aEZvcm1hdC51bnNoaWZ0KCdXYXJuaW5nOiAnICsgZm9ybWF0KTsgLy8gV2UgaW50ZW50aW9uYWxseSBkb24ndCB1c2Ugc3ByZWFkIChvciAuYXBwbHkpIGRpcmVjdGx5IGJlY2F1c2UgaXRcbiAgICAvLyBicmVha3MgSUU5OiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzEzNjEwXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWludGVybmFsL25vLXByb2R1Y3Rpb24tbG9nZ2luZ1xuXG4gICAgRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwoY29uc29sZVtsZXZlbF0sIGNvbnNvbGUsIGFyZ3NXaXRoRm9ybWF0KTtcbiAgfVxufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG52YXIgZW5hYmxlU2NvcGVBUEkgPSBmYWxzZTsgLy8gRXhwZXJpbWVudGFsIENyZWF0ZSBFdmVudCBIYW5kbGUgQVBJLlxudmFyIGVuYWJsZUNhY2hlRWxlbWVudCA9IGZhbHNlO1xudmFyIGVuYWJsZVRyYW5zaXRpb25UcmFjaW5nID0gZmFsc2U7IC8vIE5vIGtub3duIGJ1Z3MsIGJ1dCBuZWVkcyBwZXJmb3JtYW5jZSB0ZXN0aW5nXG5cbnZhciBlbmFibGVMZWdhY3lIaWRkZW4gPSBmYWxzZTsgLy8gRW5hYmxlcyB1bnN0YWJsZV9hdm9pZFRoaXNGYWxsYmFjayBmZWF0dXJlIGluIEZpYmVyXG52YXIgZW5hYmxlUmVuZGVyYWJsZUNvbnRleHQgPSBmYWxzZTtcbi8vIHN0dWZmLiBJbnRlbmRlZCB0byBlbmFibGUgUmVhY3QgY29yZSBtZW1iZXJzIHRvIG1vcmUgZWFzaWx5IGRlYnVnIHNjaGVkdWxpbmdcbi8vIGlzc3VlcyBpbiBERVYgYnVpbGRzLlxuXG52YXIgZW5hYmxlRGVidWdUcmFjaW5nID0gZmFsc2U7XG5cbmZ1bmN0aW9uIGdldFdyYXBwZWROYW1lKG91dGVyVHlwZSwgaW5uZXJUeXBlLCB3cmFwcGVyTmFtZSkge1xuICB2YXIgZGlzcGxheU5hbWUgPSBvdXRlclR5cGUuZGlzcGxheU5hbWU7XG5cbiAgaWYgKGRpc3BsYXlOYW1lKSB7XG4gICAgcmV0dXJuIGRpc3BsYXlOYW1lO1xuICB9XG5cbiAgdmFyIGZ1bmN0aW9uTmFtZSA9IGlubmVyVHlwZS5kaXNwbGF5TmFtZSB8fCBpbm5lclR5cGUubmFtZSB8fCAnJztcbiAgcmV0dXJuIGZ1bmN0aW9uTmFtZSAhPT0gJycgPyB3cmFwcGVyTmFtZSArIFwiKFwiICsgZnVuY3Rpb25OYW1lICsgXCIpXCIgOiB3cmFwcGVyTmFtZTtcbn0gLy8gS2VlcCBpbiBzeW5jIHdpdGggcmVhY3QtcmVjb25jaWxlci9nZXRDb21wb25lbnROYW1lRnJvbUZpYmVyXG5cblxuZnVuY3Rpb24gZ2V0Q29udGV4dE5hbWUodHlwZSkge1xuICByZXR1cm4gdHlwZS5kaXNwbGF5TmFtZSB8fCAnQ29udGV4dCc7XG59XG5cbnZhciBSRUFDVF9DTElFTlRfUkVGRVJFTkNFJDIgPSBTeW1ib2wuZm9yKCdyZWFjdC5jbGllbnQucmVmZXJlbmNlJyk7IC8vIE5vdGUgdGhhdCB0aGUgcmVjb25jaWxlciBwYWNrYWdlIHNob3VsZCBnZW5lcmFsbHkgcHJlZmVyIHRvIHVzZSBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKCkgaW5zdGVhZC5cblxuZnVuY3Rpb24gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUpIHtcbiAgaWYgKHR5cGUgPT0gbnVsbCkge1xuICAgIC8vIEhvc3Qgcm9vdCwgdGV4dCBub2RlIG9yIGp1c3QgaW52YWxpZCB0eXBlLlxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgaWYgKHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0UkMikge1xuICAgICAgLy8gVE9ETzogQ3JlYXRlIGEgY29udmVudGlvbiBmb3IgbmFtaW5nIGNsaWVudCByZWZlcmVuY2VzIHdpdGggZGVidWcgaW5mby5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiB0eXBlLmRpc3BsYXlOYW1lIHx8IHR5cGUubmFtZSB8fCBudWxsO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB0eXBlO1xuICB9XG5cbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSBSRUFDVF9GUkFHTUVOVF9UWVBFOlxuICAgICAgcmV0dXJuICdGcmFnbWVudCc7XG5cbiAgICBjYXNlIFJFQUNUX1BPUlRBTF9UWVBFOlxuICAgICAgcmV0dXJuICdQb3J0YWwnO1xuXG4gICAgY2FzZSBSRUFDVF9QUk9GSUxFUl9UWVBFOlxuICAgICAgcmV0dXJuICdQcm9maWxlcic7XG5cbiAgICBjYXNlIFJFQUNUX1NUUklDVF9NT0RFX1RZUEU6XG4gICAgICByZXR1cm4gJ1N0cmljdE1vZGUnO1xuXG4gICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9UWVBFOlxuICAgICAgcmV0dXJuICdTdXNwZW5zZSc7XG5cbiAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRTpcbiAgICAgIHJldHVybiAnU3VzcGVuc2VMaXN0JztcblxuICAgIGNhc2UgUkVBQ1RfQ0FDSEVfVFlQRTpcbiAgICAgIHtcbiAgICAgICAgcmV0dXJuICdDYWNoZSc7XG4gICAgICB9XG5cbiAgfVxuXG4gIGlmICh0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICB7XG4gICAgICBpZiAodHlwZW9mIHR5cGUudGFnID09PSAnbnVtYmVyJykge1xuICAgICAgICBlcnJvcignUmVjZWl2ZWQgYW4gdW5leHBlY3RlZCBvYmplY3QgaW4gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKCkuICcgKyAnVGhpcyBpcyBsaWtlbHkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHN3aXRjaCAodHlwZS4kJHR5cGVvZikge1xuICAgICAgY2FzZSBSRUFDVF9QUk9WSURFUl9UWVBFOlxuICAgICAgICB7XG4gICAgICAgICAgdmFyIHByb3ZpZGVyID0gdHlwZTtcbiAgICAgICAgICByZXR1cm4gZ2V0Q29udGV4dE5hbWUocHJvdmlkZXIuX2NvbnRleHQpICsgJy5Qcm92aWRlcic7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSBSRUFDVF9DT05URVhUX1RZUEU6XG4gICAgICAgIHZhciBjb250ZXh0ID0gdHlwZTtcblxuICAgICAgICB7XG4gICAgICAgICAgcmV0dXJuIGdldENvbnRleHROYW1lKGNvbnRleHQpICsgJy5Db25zdW1lcic7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSBSRUFDVF9DT05TVU1FUl9UWVBFOlxuICAgICAgICB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFOlxuICAgICAgICByZXR1cm4gZ2V0V3JhcHBlZE5hbWUodHlwZSwgdHlwZS5yZW5kZXIsICdGb3J3YXJkUmVmJyk7XG5cbiAgICAgIGNhc2UgUkVBQ1RfTUVNT19UWVBFOlxuICAgICAgICB2YXIgb3V0ZXJOYW1lID0gdHlwZS5kaXNwbGF5TmFtZSB8fCBudWxsO1xuXG4gICAgICAgIGlmIChvdXRlck5hbWUgIT09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gb3V0ZXJOYW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlLnR5cGUpIHx8ICdNZW1vJztcblxuICAgICAgY2FzZSBSRUFDVF9MQVpZX1RZUEU6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgbGF6eUNvbXBvbmVudCA9IHR5cGU7XG4gICAgICAgICAgdmFyIHBheWxvYWQgPSBsYXp5Q29tcG9uZW50Ll9wYXlsb2FkO1xuICAgICAgICAgIHZhciBpbml0ID0gbGF6eUNvbXBvbmVudC5faW5pdDtcblxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKGluaXQocGF5bG9hZCkpO1xuICAgICAgICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG4vLyAkRmxvd0ZpeE1lW21ldGhvZC11bmJpbmRpbmddXG52YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG52YXIgYXNzaWduID0gT2JqZWN0LmFzc2lnbjtcblxuLypcbiAqIFRoZSBgJycgKyB2YWx1ZWAgcGF0dGVybiAodXNlZCBpbiBwZXJmLXNlbnNpdGl2ZSBjb2RlKSB0aHJvd3MgZm9yIFN5bWJvbFxuICogYW5kIFRlbXBvcmFsLiogdHlwZXMuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvcHVsbC8yMjA2NC5cbiAqXG4gKiBUaGUgZnVuY3Rpb25zIGluIHRoaXMgbW9kdWxlIHdpbGwgdGhyb3cgYW4gZWFzaWVyLXRvLXVuZGVyc3RhbmQsXG4gKiBlYXNpZXItdG8tZGVidWcgZXhjZXB0aW9uIHdpdGggYSBjbGVhciBlcnJvcnMgbWVzc2FnZSBtZXNzYWdlIGV4cGxhaW5pbmcgdGhlXG4gKiBwcm9ibGVtLiAoSW5zdGVhZCBvZiBhIGNvbmZ1c2luZyBleGNlcHRpb24gdGhyb3duIGluc2lkZSB0aGUgaW1wbGVtZW50YXRpb25cbiAqIG9mIHRoZSBgdmFsdWVgIG9iamVjdCkuXG4gKi9cbi8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXJldHVybl0gb25seSBjYWxsZWQgaW4gREVWLCBzbyB2b2lkIHJldHVybiBpcyBub3QgcG9zc2libGUuXG5mdW5jdGlvbiB0eXBlTmFtZSh2YWx1ZSkge1xuICB7XG4gICAgLy8gdG9TdHJpbmdUYWcgaXMgbmVlZGVkIGZvciBuYW1lc3BhY2VkIHR5cGVzIGxpa2UgVGVtcG9yYWwuSW5zdGFudFxuICAgIHZhciBoYXNUb1N0cmluZ1RhZyA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLnRvU3RyaW5nVGFnO1xuICAgIHZhciB0eXBlID0gaGFzVG9TdHJpbmdUYWcgJiYgdmFsdWVbU3ltYm9sLnRvU3RyaW5nVGFnXSB8fCB2YWx1ZS5jb25zdHJ1Y3Rvci5uYW1lIHx8ICdPYmplY3QnOyAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS1yZXR1cm5dXG5cbiAgICByZXR1cm4gdHlwZTtcbiAgfVxufSAvLyAkRmxvd0ZpeE1lW2luY29tcGF0aWJsZS1yZXR1cm5dIG9ubHkgY2FsbGVkIGluIERFViwgc28gdm9pZCByZXR1cm4gaXMgbm90IHBvc3NpYmxlLlxuXG5cbmZ1bmN0aW9uIHdpbGxDb2VyY2lvblRocm93KHZhbHVlKSB7XG4gIHtcbiAgICB0cnkge1xuICAgICAgdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKSB7XG4gIC8vIElmIHlvdSBlbmRlZCB1cCBoZXJlIGJ5IGZvbGxvd2luZyBhbiBleGNlcHRpb24gY2FsbCBzdGFjaywgaGVyZSdzIHdoYXQnc1xuICAvLyBoYXBwZW5lZDogeW91IHN1cHBsaWVkIGFuIG9iamVjdCBvciBzeW1ib2wgdmFsdWUgdG8gUmVhY3QgKGFzIGEgcHJvcCwga2V5LFxuICAvLyBET00gYXR0cmlidXRlLCBDU1MgcHJvcGVydHksIHN0cmluZyByZWYsIGV0Yy4pIGFuZCB3aGVuIFJlYWN0IHRyaWVkIHRvXG4gIC8vIGNvZXJjZSBpdCB0byBhIHN0cmluZyB1c2luZyBgJycgKyB2YWx1ZWAsIGFuIGV4Y2VwdGlvbiB3YXMgdGhyb3duLlxuICAvL1xuICAvLyBUaGUgbW9zdCBjb21tb24gdHlwZXMgdGhhdCB3aWxsIGNhdXNlIHRoaXMgZXhjZXB0aW9uIGFyZSBgU3ltYm9sYCBpbnN0YW5jZXNcbiAgLy8gYW5kIFRlbXBvcmFsIG9iamVjdHMgbGlrZSBgVGVtcG9yYWwuSW5zdGFudGAuIEJ1dCBhbnkgb2JqZWN0IHRoYXQgaGFzIGFcbiAgLy8gYHZhbHVlT2ZgIG9yIGBbU3ltYm9sLnRvUHJpbWl0aXZlXWAgbWV0aG9kIHRoYXQgdGhyb3dzIHdpbGwgYWxzbyBjYXVzZSB0aGlzXG4gIC8vIGV4Y2VwdGlvbi4gKExpYnJhcnkgYXV0aG9ycyBkbyB0aGlzIHRvIHByZXZlbnQgdXNlcnMgZnJvbSB1c2luZyBidWlsdC1pblxuICAvLyBudW1lcmljIG9wZXJhdG9ycyBsaWtlIGArYCBvciBjb21wYXJpc29uIG9wZXJhdG9ycyBsaWtlIGA+PWAgYmVjYXVzZSBjdXN0b21cbiAgLy8gbWV0aG9kcyBhcmUgbmVlZGVkIHRvIHBlcmZvcm0gYWNjdXJhdGUgYXJpdGhtZXRpYyBvciBjb21wYXJpc29uLilcbiAgLy9cbiAgLy8gVG8gZml4IHRoZSBwcm9ibGVtLCBjb2VyY2UgdGhpcyBvYmplY3Qgb3Igc3ltYm9sIHZhbHVlIHRvIGEgc3RyaW5nIGJlZm9yZVxuICAvLyBwYXNzaW5nIGl0IHRvIFJlYWN0LiBUaGUgbW9zdCByZWxpYWJsZSB3YXkgaXMgdXN1YWxseSBgU3RyaW5nKHZhbHVlKWAuXG4gIC8vXG4gIC8vIFRvIGZpbmQgd2hpY2ggdmFsdWUgaXMgdGhyb3dpbmcsIGNoZWNrIHRoZSBicm93c2VyIG9yIGRlYnVnZ2VyIGNvbnNvbGUuXG4gIC8vIEJlZm9yZSB0aGlzIGV4Y2VwdGlvbiB3YXMgdGhyb3duLCB0aGVyZSBzaG91bGQgYmUgYGNvbnNvbGUuZXJyb3JgIG91dHB1dFxuICAvLyB0aGF0IHNob3dzIHRoZSB0eXBlIChTeW1ib2wsIFRlbXBvcmFsLlBsYWluRGF0ZSwgZXRjLikgdGhhdCBjYXVzZWQgdGhlXG4gIC8vIHByb2JsZW0gYW5kIGhvdyB0aGF0IHR5cGUgd2FzIHVzZWQ6IGtleSwgYXRycmlidXRlLCBpbnB1dCB2YWx1ZSBwcm9wLCBldGMuXG4gIC8vIEluIG1vc3QgY2FzZXMsIHRoaXMgY29uc29sZSBvdXRwdXQgYWxzbyBzaG93cyB0aGUgY29tcG9uZW50IGFuZCBpdHNcbiAgLy8gYW5jZXN0b3IgY29tcG9uZW50cyB3aGVyZSB0aGUgZXhjZXB0aW9uIGhhcHBlbmVkLlxuICAvL1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaW50ZXJuYWwvc2FmZS1zdHJpbmctY29lcmNpb25cbiAgcmV0dXJuICcnICsgdmFsdWU7XG59XG5mdW5jdGlvbiBjaGVja0tleVN0cmluZ0NvZXJjaW9uKHZhbHVlKSB7XG4gIHtcbiAgICBpZiAod2lsbENvZXJjaW9uVGhyb3codmFsdWUpKSB7XG4gICAgICBlcnJvcignVGhlIHByb3ZpZGVkIGtleSBpcyBhbiB1bnN1cHBvcnRlZCB0eXBlICVzLicgKyAnIFRoaXMgdmFsdWUgbXVzdCBiZSBjb2VyY2VkIHRvIGEgc3RyaW5nIGJlZm9yZSB1c2luZyBpdCBoZXJlLicsIHR5cGVOYW1lKHZhbHVlKSk7XG5cbiAgICAgIHJldHVybiB0ZXN0U3RyaW5nQ29lcmNpb24odmFsdWUpOyAvLyB0aHJvdyAodG8gaGVscCBjYWxsZXJzIGZpbmQgdHJvdWJsZXNob290aW5nIGNvbW1lbnRzKVxuICAgIH1cbiAgfVxufVxuXG52YXIgUkVBQ1RfQ0xJRU5UX1JFRkVSRU5DRSQxID0gU3ltYm9sLmZvcigncmVhY3QuY2xpZW50LnJlZmVyZW5jZScpO1xuZnVuY3Rpb24gaXNWYWxpZEVsZW1lbnRUeXBlKHR5cGUpIHtcbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiB0cnVlO1xuICB9IC8vIE5vdGU6IHR5cGVvZiBtaWdodCBiZSBvdGhlciB0aGFuICdzeW1ib2wnIG9yICdudW1iZXInIChlLmcuIGlmIGl0J3MgYSBwb2x5ZmlsbCkuXG5cblxuICBpZiAodHlwZSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRSB8fCB0eXBlID09PSBSRUFDVF9QUk9GSUxFUl9UWVBFIHx8IGVuYWJsZURlYnVnVHJhY2luZyAgfHwgdHlwZSA9PT0gUkVBQ1RfU1RSSUNUX01PREVfVFlQRSB8fCB0eXBlID09PSBSRUFDVF9TVVNQRU5TRV9UWVBFIHx8IHR5cGUgPT09IFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRSB8fCBlbmFibGVMZWdhY3lIaWRkZW4gIHx8IHR5cGUgPT09IFJFQUNUX09GRlNDUkVFTl9UWVBFIHx8IGVuYWJsZVNjb3BlQVBJICB8fCBlbmFibGVDYWNoZUVsZW1lbnQgIHx8IGVuYWJsZVRyYW5zaXRpb25UcmFjaW5nICkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnb2JqZWN0JyAmJiB0eXBlICE9PSBudWxsKSB7XG4gICAgaWYgKHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0xBWllfVFlQRSB8fCB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9NRU1PX1RZUEUgfHwgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfQ09OVEVYVF9UWVBFIHx8IHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX1BST1ZJREVSX1RZUEUgfHwgZW5hYmxlUmVuZGVyYWJsZUNvbnRleHQgIHx8IHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0ZPUldBUkRfUkVGX1RZUEUgfHwgLy8gVGhpcyBuZWVkcyB0byBpbmNsdWRlIGFsbCBwb3NzaWJsZSBtb2R1bGUgcmVmZXJlbmNlIG9iamVjdFxuICAgIC8vIHR5cGVzIHN1cHBvcnRlZCBieSBhbnkgRmxpZ2h0IGNvbmZpZ3VyYXRpb24gYW55d2hlcmUgc2luY2VcbiAgICAvLyB3ZSBkb24ndCBrbm93IHdoaWNoIEZsaWdodCBidWlsZCB0aGlzIHdpbGwgZW5kIHVwIGJlaW5nIHVzZWRcbiAgICAvLyB3aXRoLlxuICAgIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0UkMSB8fCB0eXBlLmdldE1vZHVsZUlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxudmFyIGlzQXJyYXlJbXBsID0gQXJyYXkuaXNBcnJheTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlZGVjbGFyZVxuXG5mdW5jdGlvbiBpc0FycmF5KGEpIHtcbiAgcmV0dXJuIGlzQXJyYXlJbXBsKGEpO1xufVxuXG4vLyBIZWxwZXJzIHRvIHBhdGNoIGNvbnNvbGUubG9ncyB0byBhdm9pZCBsb2dnaW5nIGR1cmluZyBzaWRlLWVmZmVjdCBmcmVlXG4vLyByZXBsYXlpbmcgb24gcmVuZGVyIGZ1bmN0aW9uLiBUaGlzIGN1cnJlbnRseSBvbmx5IHBhdGNoZXMgdGhlIG9iamVjdFxuLy8gbGF6aWx5IHdoaWNoIHdvbid0IGNvdmVyIGlmIHRoZSBsb2cgZnVuY3Rpb24gd2FzIGV4dHJhY3RlZCBlYWdlcmx5LlxuLy8gV2UgY291bGQgYWxzbyBlYWdlcmx5IHBhdGNoIHRoZSBtZXRob2QuXG52YXIgZGlzYWJsZWREZXB0aCA9IDA7XG52YXIgcHJldkxvZztcbnZhciBwcmV2SW5mbztcbnZhciBwcmV2V2FybjtcbnZhciBwcmV2RXJyb3I7XG52YXIgcHJldkdyb3VwO1xudmFyIHByZXZHcm91cENvbGxhcHNlZDtcbnZhciBwcmV2R3JvdXBFbmQ7XG5cbmZ1bmN0aW9uIGRpc2FibGVkTG9nKCkge31cblxuZGlzYWJsZWRMb2cuX19yZWFjdERpc2FibGVkTG9nID0gdHJ1ZTtcbmZ1bmN0aW9uIGRpc2FibGVMb2dzKCkge1xuICB7XG4gICAgaWYgKGRpc2FibGVkRGVwdGggPT09IDApIHtcbiAgICAgIC8qIGVzbGludC1kaXNhYmxlIHJlYWN0LWludGVybmFsL25vLXByb2R1Y3Rpb24tbG9nZ2luZyAqL1xuICAgICAgcHJldkxvZyA9IGNvbnNvbGUubG9nO1xuICAgICAgcHJldkluZm8gPSBjb25zb2xlLmluZm87XG4gICAgICBwcmV2V2FybiA9IGNvbnNvbGUud2FybjtcbiAgICAgIHByZXZFcnJvciA9IGNvbnNvbGUuZXJyb3I7XG4gICAgICBwcmV2R3JvdXAgPSBjb25zb2xlLmdyb3VwO1xuICAgICAgcHJldkdyb3VwQ29sbGFwc2VkID0gY29uc29sZS5ncm91cENvbGxhcHNlZDtcbiAgICAgIHByZXZHcm91cEVuZCA9IGNvbnNvbGUuZ3JvdXBFbmQ7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMTkwOTlcblxuICAgICAgdmFyIHByb3BzID0ge1xuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBkaXNhYmxlZExvZyxcbiAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgIH07IC8vICRGbG93Rml4TWVbY2Fubm90LXdyaXRlXSBGbG93IHRoaW5rcyBjb25zb2xlIGlzIGltbXV0YWJsZS5cblxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoY29uc29sZSwge1xuICAgICAgICBpbmZvOiBwcm9wcyxcbiAgICAgICAgbG9nOiBwcm9wcyxcbiAgICAgICAgd2FybjogcHJvcHMsXG4gICAgICAgIGVycm9yOiBwcm9wcyxcbiAgICAgICAgZ3JvdXA6IHByb3BzLFxuICAgICAgICBncm91cENvbGxhcHNlZDogcHJvcHMsXG4gICAgICAgIGdyb3VwRW5kOiBwcm9wc1xuICAgICAgfSk7XG4gICAgICAvKiBlc2xpbnQtZW5hYmxlIHJlYWN0LWludGVybmFsL25vLXByb2R1Y3Rpb24tbG9nZ2luZyAqL1xuICAgIH1cblxuICAgIGRpc2FibGVkRGVwdGgrKztcbiAgfVxufVxuZnVuY3Rpb24gcmVlbmFibGVMb2dzKCkge1xuICB7XG4gICAgZGlzYWJsZWREZXB0aC0tO1xuXG4gICAgaWYgKGRpc2FibGVkRGVwdGggPT09IDApIHtcbiAgICAgIC8qIGVzbGludC1kaXNhYmxlIHJlYWN0LWludGVybmFsL25vLXByb2R1Y3Rpb24tbG9nZ2luZyAqL1xuICAgICAgdmFyIHByb3BzID0ge1xuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgICB9OyAvLyAkRmxvd0ZpeE1lW2Nhbm5vdC13cml0ZV0gRmxvdyB0aGlua3MgY29uc29sZSBpcyBpbW11dGFibGUuXG5cbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGNvbnNvbGUsIHtcbiAgICAgICAgbG9nOiBhc3NpZ24oe30sIHByb3BzLCB7XG4gICAgICAgICAgdmFsdWU6IHByZXZMb2dcbiAgICAgICAgfSksXG4gICAgICAgIGluZm86IGFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICAgICAgICB2YWx1ZTogcHJldkluZm9cbiAgICAgICAgfSksXG4gICAgICAgIHdhcm46IGFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICAgICAgICB2YWx1ZTogcHJldldhcm5cbiAgICAgICAgfSksXG4gICAgICAgIGVycm9yOiBhc3NpZ24oe30sIHByb3BzLCB7XG4gICAgICAgICAgdmFsdWU6IHByZXZFcnJvclxuICAgICAgICB9KSxcbiAgICAgICAgZ3JvdXA6IGFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICAgICAgICB2YWx1ZTogcHJldkdyb3VwXG4gICAgICAgIH0pLFxuICAgICAgICBncm91cENvbGxhcHNlZDogYXNzaWduKHt9LCBwcm9wcywge1xuICAgICAgICAgIHZhbHVlOiBwcmV2R3JvdXBDb2xsYXBzZWRcbiAgICAgICAgfSksXG4gICAgICAgIGdyb3VwRW5kOiBhc3NpZ24oe30sIHByb3BzLCB7XG4gICAgICAgICAgdmFsdWU6IHByZXZHcm91cEVuZFxuICAgICAgICB9KVxuICAgICAgfSk7XG4gICAgICAvKiBlc2xpbnQtZW5hYmxlIHJlYWN0LWludGVybmFsL25vLXByb2R1Y3Rpb24tbG9nZ2luZyAqL1xuICAgIH1cblxuICAgIGlmIChkaXNhYmxlZERlcHRoIDwgMCkge1xuICAgICAgZXJyb3IoJ2Rpc2FibGVkRGVwdGggZmVsbCBiZWxvdyB6ZXJvLiAnICsgJ1RoaXMgaXMgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpO1xuICAgIH1cbiAgfVxufVxuXG52YXIgUmVhY3RDdXJyZW50RGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLlJlYWN0Q3VycmVudERpc3BhdGNoZXI7XG52YXIgcHJlZml4O1xuZnVuY3Rpb24gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUobmFtZSwgb3duZXJGbikge1xuICB7XG4gICAgaWYgKHByZWZpeCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBFeHRyYWN0IHRoZSBWTSBzcGVjaWZpYyBwcmVmaXggdXNlZCBieSBlYWNoIGxpbmUuXG4gICAgICB0cnkge1xuICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICB2YXIgbWF0Y2ggPSB4LnN0YWNrLnRyaW0oKS5tYXRjaCgvXFxuKCAqKGF0ICk/KS8pO1xuICAgICAgICBwcmVmaXggPSBtYXRjaCAmJiBtYXRjaFsxXSB8fCAnJztcbiAgICAgIH1cbiAgICB9IC8vIFdlIHVzZSB0aGUgcHJlZml4IHRvIGVuc3VyZSBvdXIgc3RhY2tzIGxpbmUgdXAgd2l0aCBuYXRpdmUgc3RhY2sgZnJhbWVzLlxuXG5cbiAgICByZXR1cm4gJ1xcbicgKyBwcmVmaXggKyBuYW1lO1xuICB9XG59XG52YXIgcmVlbnRyeSA9IGZhbHNlO1xudmFyIGNvbXBvbmVudEZyYW1lQ2FjaGU7XG5cbntcbiAgdmFyIFBvc3NpYmx5V2Vha01hcCA9IHR5cGVvZiBXZWFrTWFwID09PSAnZnVuY3Rpb24nID8gV2Vha01hcCA6IE1hcDtcbiAgY29tcG9uZW50RnJhbWVDYWNoZSA9IG5ldyBQb3NzaWJseVdlYWtNYXAoKTtcbn1cbi8qKlxuICogTGV2ZXJhZ2VzIG5hdGl2ZSBicm93c2VyL1ZNIHN0YWNrIGZyYW1lcyB0byBnZXQgcHJvcGVyIGRldGFpbHMgKGUuZy5cbiAqIGZpbGVuYW1lLCBsaW5lICsgY29sIG51bWJlcikgZm9yIGEgc2luZ2xlIGNvbXBvbmVudCBpbiBhIGNvbXBvbmVudCBzdGFjay4gV2VcbiAqIGRvIHRoaXMgYnk6XG4gKiAgICgxKSB0aHJvd2luZyBhbmQgY2F0Y2hpbmcgYW4gZXJyb3IgaW4gdGhlIGZ1bmN0aW9uIC0gdGhpcyB3aWxsIGJlIG91clxuICogICAgICAgY29udHJvbCBlcnJvci5cbiAqICAgKDIpIGNhbGxpbmcgdGhlIGNvbXBvbmVudCB3aGljaCB3aWxsIGV2ZW50dWFsbHkgdGhyb3cgYW4gZXJyb3IgdGhhdCB3ZSdsbFxuICogICAgICAgY2F0Y2ggLSB0aGlzIHdpbGwgYmUgb3VyIHNhbXBsZSBlcnJvci5cbiAqICAgKDMpIGRpZmZpbmcgdGhlIGNvbnRyb2wgYW5kIHNhbXBsZSBlcnJvciBzdGFja3MgdG8gZmluZCB0aGUgc3RhY2sgZnJhbWVcbiAqICAgICAgIHdoaWNoIHJlcHJlc2VudHMgb3VyIGNvbXBvbmVudC5cbiAqL1xuXG5cbmZ1bmN0aW9uIGRlc2NyaWJlTmF0aXZlQ29tcG9uZW50RnJhbWUoZm4sIGNvbnN0cnVjdCkge1xuICAvLyBJZiBzb21ldGhpbmcgYXNrZWQgZm9yIGEgc3RhY2sgaW5zaWRlIGEgZmFrZSByZW5kZXIsIGl0IHNob3VsZCBnZXQgaWdub3JlZC5cbiAgaWYgKCFmbiB8fCByZWVudHJ5KSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAge1xuICAgIHZhciBmcmFtZSA9IGNvbXBvbmVudEZyYW1lQ2FjaGUuZ2V0KGZuKTtcblxuICAgIGlmIChmcmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZnJhbWU7XG4gICAgfVxuICB9XG5cbiAgcmVlbnRyeSA9IHRydWU7XG4gIHZhciBwcmV2aW91c1ByZXBhcmVTdGFja1RyYWNlID0gRXJyb3IucHJlcGFyZVN0YWNrVHJhY2U7IC8vICRGbG93Rml4TWVbaW5jb21wYXRpYmxlLXR5cGVdIEl0IGRvZXMgYWNjZXB0IHVuZGVmaW5lZC5cblxuICBFcnJvci5wcmVwYXJlU3RhY2tUcmFjZSA9IHVuZGVmaW5lZDtcbiAgdmFyIHByZXZpb3VzRGlzcGF0Y2hlcjtcblxuICB7XG4gICAgcHJldmlvdXNEaXNwYXRjaGVyID0gUmVhY3RDdXJyZW50RGlzcGF0Y2hlci5jdXJyZW50OyAvLyBTZXQgdGhlIGRpc3BhdGNoZXIgaW4gREVWIGJlY2F1c2UgdGhpcyBtaWdodCBiZSBjYWxsIGluIHRoZSByZW5kZXIgZnVuY3Rpb25cbiAgICAvLyBmb3Igd2FybmluZ3MuXG5cbiAgICBSZWFjdEN1cnJlbnREaXNwYXRjaGVyLmN1cnJlbnQgPSBudWxsO1xuICAgIGRpc2FibGVMb2dzKCk7XG4gIH1cbiAgLyoqXG4gICAqIEZpbmRpbmcgYSBjb21tb24gc3RhY2sgZnJhbWUgYmV0d2VlbiBzYW1wbGUgYW5kIGNvbnRyb2wgZXJyb3JzIGNhbiBiZVxuICAgKiB0cmlja3kgZ2l2ZW4gdGhlIGRpZmZlcmVudCB0eXBlcyBhbmQgbGV2ZWxzIG9mIHN0YWNrIHRyYWNlIHRydW5jYXRpb24gZnJvbVxuICAgKiBkaWZmZXJlbnQgSlMgVk1zLiBTbyBpbnN0ZWFkIHdlJ2xsIGF0dGVtcHQgdG8gY29udHJvbCB3aGF0IHRoYXQgY29tbW9uXG4gICAqIGZyYW1lIHNob3VsZCBiZSB0aHJvdWdoIHRoaXMgb2JqZWN0IG1ldGhvZDpcbiAgICogSGF2aW5nIGJvdGggdGhlIHNhbXBsZSBhbmQgY29udHJvbCBlcnJvcnMgYmUgaW4gdGhlIGZ1bmN0aW9uIHVuZGVyIHRoZVxuICAgKiBgRGVzY3JpYmVOYXRpdmVDb21wb25lbnRGcmFtZVJvb3RgIHByb3BlcnR5LCArIHNldHRpbmcgdGhlIGBuYW1lYCBhbmRcbiAgICogYGRpc3BsYXlOYW1lYCBwcm9wZXJ0aWVzIG9mIHRoZSBmdW5jdGlvbiBlbnN1cmVzIHRoYXQgYSBzdGFja1xuICAgKiBmcmFtZSBleGlzdHMgdGhhdCBoYXMgdGhlIG1ldGhvZCBuYW1lIGBEZXNjcmliZU5hdGl2ZUNvbXBvbmVudEZyYW1lUm9vdGAgaW5cbiAgICogaXQgZm9yIGJvdGggY29udHJvbCBhbmQgc2FtcGxlIHN0YWNrcy5cbiAgICovXG5cblxuICB2YXIgUnVuSW5Sb290RnJhbWUgPSB7XG4gICAgRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290OiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgY29udHJvbDtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gVGhpcyBzaG91bGQgdGhyb3cuXG4gICAgICAgIGlmIChjb25zdHJ1Y3QpIHtcbiAgICAgICAgICAvLyBTb21ldGhpbmcgc2hvdWxkIGJlIHNldHRpbmcgdGhlIHByb3BzIGluIHRoZSBjb25zdHJ1Y3Rvci5cbiAgICAgICAgICB2YXIgRmFrZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCk7XG4gICAgICAgICAgfTsgLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddXG5cblxuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGYWtlLnByb3RvdHlwZSwgJ3Byb3BzJywge1xuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIC8vIFdlIHVzZSBhIHRocm93aW5nIHNldHRlciBpbnN0ZWFkIG9mIGZyb3plbiBvciBub24td3JpdGFibGUgcHJvcHNcbiAgICAgICAgICAgICAgLy8gYmVjYXVzZSB0aGF0IHdvbid0IHRocm93IGluIGEgbm9uLXN0cmljdCBtb2RlIGZ1bmN0aW9uLlxuICAgICAgICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSAnb2JqZWN0JyAmJiBSZWZsZWN0LmNvbnN0cnVjdCkge1xuICAgICAgICAgICAgLy8gV2UgY29uc3RydWN0IGEgZGlmZmVyZW50IGNvbnRyb2wgZm9yIHRoaXMgY2FzZSB0byBpbmNsdWRlIGFueSBleHRyYVxuICAgICAgICAgICAgLy8gZnJhbWVzIGFkZGVkIGJ5IHRoZSBjb25zdHJ1Y3QgY2FsbC5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIFJlZmxlY3QuY29uc3RydWN0KEZha2UsIFtdKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgICAgICAgICAgY29udHJvbCA9IHg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIFJlZmxlY3QuY29uc3RydWN0KGZuLCBbXSwgRmFrZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIEZha2UuY2FsbCgpO1xuICAgICAgICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICAgICAgICBjb250cm9sID0geDtcbiAgICAgICAgICAgIH0gLy8gJEZsb3dGaXhNZVtwcm9wLW1pc3NpbmddIGZvdW5kIHdoZW4gdXBncmFkaW5nIEZsb3dcblxuXG4gICAgICAgICAgICBmbi5jYWxsKEZha2UucHJvdG90eXBlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCk7XG4gICAgICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICAgICAgY29udHJvbCA9IHg7XG4gICAgICAgICAgfSAvLyBUT0RPKGx1bmEpOiBUaGlzIHdpbGwgY3VycmVudGx5IG9ubHkgdGhyb3cgaWYgdGhlIGZ1bmN0aW9uIGNvbXBvbmVudFxuICAgICAgICAgIC8vIHRyaWVzIHRvIGFjY2VzcyBSZWFjdC9SZWFjdERPTS9wcm9wcy4gV2Ugc2hvdWxkIHByb2JhYmx5IG1ha2UgdGhpcyB0aHJvd1xuICAgICAgICAgIC8vIGluIHNpbXBsZSBjb21wb25lbnRzIHRvb1xuXG5cbiAgICAgICAgICB2YXIgbWF5YmVQcm9taXNlID0gZm4oKTsgLy8gSWYgdGhlIGZ1bmN0aW9uIGNvbXBvbmVudCByZXR1cm5zIGEgcHJvbWlzZSwgaXQncyBsaWtlbHkgYW4gYXN5bmNcbiAgICAgICAgICAvLyBjb21wb25lbnQsIHdoaWNoIHdlIGRvbid0IHlldCBzdXBwb3J0LiBBdHRhY2ggYSBub29wIGNhdGNoIGhhbmRsZXIgdG9cbiAgICAgICAgICAvLyBzaWxlbmNlIHRoZSBlcnJvci5cbiAgICAgICAgICAvLyBUT0RPOiBJbXBsZW1lbnQgY29tcG9uZW50IHN0YWNrcyBmb3IgYXN5bmMgY2xpZW50IGNvbXBvbmVudHM/XG5cbiAgICAgICAgICBpZiAobWF5YmVQcm9taXNlICYmIHR5cGVvZiBtYXliZVByb21pc2UuY2F0Y2ggPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIG1heWJlUHJvbWlzZS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChzYW1wbGUpIHtcbiAgICAgICAgLy8gVGhpcyBpcyBpbmxpbmVkIG1hbnVhbGx5IGJlY2F1c2UgY2xvc3VyZSBkb2Vzbid0IGRvIGl0IGZvciB1cy5cbiAgICAgICAgaWYgKHNhbXBsZSAmJiBjb250cm9sICYmIHR5cGVvZiBzYW1wbGUuc3RhY2sgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgcmV0dXJuIFtzYW1wbGUuc3RhY2ssIGNvbnRyb2wuc3RhY2tdO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBbbnVsbCwgbnVsbF07XG4gICAgfVxuICB9OyAvLyAkRmxvd0ZpeE1lW3Byb3AtbWlzc2luZ11cblxuICBSdW5JblJvb3RGcmFtZS5EZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3QuZGlzcGxheU5hbWUgPSAnRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290JztcbiAgdmFyIG5hbWVQcm9wRGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoUnVuSW5Sb290RnJhbWUuRGV0ZXJtaW5lQ29tcG9uZW50RnJhbWVSb290LCAnbmFtZScpOyAvLyBCZWZvcmUgRVM2LCB0aGUgYG5hbWVgIHByb3BlcnR5IHdhcyBub3QgY29uZmlndXJhYmxlLlxuXG4gIGlmIChuYW1lUHJvcERlc2NyaXB0b3IgJiYgbmFtZVByb3BEZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSkge1xuICAgIC8vIFY4IHV0aWxpemVzIGEgZnVuY3Rpb24ncyBgbmFtZWAgcHJvcGVydHkgd2hlbiBnZW5lcmF0aW5nIGEgc3RhY2sgdHJhY2UuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJ1bkluUm9vdEZyYW1lLkRldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdCwgLy8gQ29uZmlndXJhYmxlIHByb3BlcnRpZXMgY2FuIGJlIHVwZGF0ZWQgZXZlbiBpZiBpdHMgd3JpdGFibGUgZGVzY3JpcHRvclxuICAgIC8vIGlzIHNldCB0byBgZmFsc2VgLlxuICAgIC8vICRGbG93Rml4TWVbY2Fubm90LXdyaXRlXVxuICAgICduYW1lJywge1xuICAgICAgdmFsdWU6ICdEZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3QnXG4gICAgfSk7XG4gIH1cblxuICB0cnkge1xuICAgIHZhciBfUnVuSW5Sb290RnJhbWUkRGV0ZXIgPSBSdW5JblJvb3RGcmFtZS5EZXRlcm1pbmVDb21wb25lbnRGcmFtZVJvb3QoKSxcbiAgICAgICAgc2FtcGxlU3RhY2sgPSBfUnVuSW5Sb290RnJhbWUkRGV0ZXJbMF0sXG4gICAgICAgIGNvbnRyb2xTdGFjayA9IF9SdW5JblJvb3RGcmFtZSREZXRlclsxXTtcblxuICAgIGlmIChzYW1wbGVTdGFjayAmJiBjb250cm9sU3RhY2spIHtcbiAgICAgIC8vIFRoaXMgZXh0cmFjdHMgdGhlIGZpcnN0IGZyYW1lIGZyb20gdGhlIHNhbXBsZSB0aGF0IGlzbid0IGFsc28gaW4gdGhlIGNvbnRyb2wuXG4gICAgICAvLyBTa2lwcGluZyBvbmUgZnJhbWUgdGhhdCB3ZSBhc3N1bWUgaXMgdGhlIGZyYW1lIHRoYXQgY2FsbHMgdGhlIHR3by5cbiAgICAgIHZhciBzYW1wbGVMaW5lcyA9IHNhbXBsZVN0YWNrLnNwbGl0KCdcXG4nKTtcbiAgICAgIHZhciBjb250cm9sTGluZXMgPSBjb250cm9sU3RhY2suc3BsaXQoJ1xcbicpO1xuICAgICAgdmFyIHMgPSAwO1xuICAgICAgdmFyIGMgPSAwO1xuXG4gICAgICB3aGlsZSAocyA8IHNhbXBsZUxpbmVzLmxlbmd0aCAmJiAhc2FtcGxlTGluZXNbc10uaW5jbHVkZXMoJ0RldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdCcpKSB7XG4gICAgICAgIHMrKztcbiAgICAgIH1cblxuICAgICAgd2hpbGUgKGMgPCBjb250cm9sTGluZXMubGVuZ3RoICYmICFjb250cm9sTGluZXNbY10uaW5jbHVkZXMoJ0RldGVybWluZUNvbXBvbmVudEZyYW1lUm9vdCcpKSB7XG4gICAgICAgIGMrKztcbiAgICAgIH0gLy8gV2UgY291bGRuJ3QgZmluZCBvdXIgaW50ZW50aW9uYWxseSBpbmplY3RlZCBjb21tb24gcm9vdCBmcmFtZSwgYXR0ZW1wdFxuICAgICAgLy8gdG8gZmluZCBhbm90aGVyIGNvbW1vbiByb290IGZyYW1lIGJ5IHNlYXJjaCBmcm9tIHRoZSBib3R0b20gb2YgdGhlXG4gICAgICAvLyBjb250cm9sIHN0YWNrLi4uXG5cblxuICAgICAgaWYgKHMgPT09IHNhbXBsZUxpbmVzLmxlbmd0aCB8fCBjID09PSBjb250cm9sTGluZXMubGVuZ3RoKSB7XG4gICAgICAgIHMgPSBzYW1wbGVMaW5lcy5sZW5ndGggLSAxO1xuICAgICAgICBjID0gY29udHJvbExpbmVzLmxlbmd0aCAtIDE7XG5cbiAgICAgICAgd2hpbGUgKHMgPj0gMSAmJiBjID49IDAgJiYgc2FtcGxlTGluZXNbc10gIT09IGNvbnRyb2xMaW5lc1tjXSkge1xuICAgICAgICAgIC8vIFdlIGV4cGVjdCBhdCBsZWFzdCBvbmUgc3RhY2sgZnJhbWUgdG8gYmUgc2hhcmVkLlxuICAgICAgICAgIC8vIFR5cGljYWxseSB0aGlzIHdpbGwgYmUgdGhlIHJvb3QgbW9zdCBvbmUuIEhvd2V2ZXIsIHN0YWNrIGZyYW1lcyBtYXkgYmVcbiAgICAgICAgICAvLyBjdXQgb2ZmIGR1ZSB0byBtYXhpbXVtIHN0YWNrIGxpbWl0cy4gSW4gdGhpcyBjYXNlLCBvbmUgbWF5YmUgY3V0IG9mZlxuICAgICAgICAgIC8vIGVhcmxpZXIgdGhhbiB0aGUgb3RoZXIuIFdlIGFzc3VtZSB0aGF0IHRoZSBzYW1wbGUgaXMgbG9uZ2VyIG9yIHRoZSBzYW1lXG4gICAgICAgICAgLy8gYW5kIHRoZXJlIGZvciBjdXQgb2ZmIGVhcmxpZXIuIFNvIHdlIHNob3VsZCBmaW5kIHRoZSByb290IG1vc3QgZnJhbWUgaW5cbiAgICAgICAgICAvLyB0aGUgc2FtcGxlIHNvbWV3aGVyZSBpbiB0aGUgY29udHJvbC5cbiAgICAgICAgICBjLS07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZm9yICg7IHMgPj0gMSAmJiBjID49IDA7IHMtLSwgYy0tKSB7XG4gICAgICAgIC8vIE5leHQgd2UgZmluZCB0aGUgZmlyc3Qgb25lIHRoYXQgaXNuJ3QgdGhlIHNhbWUgd2hpY2ggc2hvdWxkIGJlIHRoZVxuICAgICAgICAvLyBmcmFtZSB0aGF0IGNhbGxlZCBvdXIgc2FtcGxlIGZ1bmN0aW9uIGFuZCB0aGUgY29udHJvbC5cbiAgICAgICAgaWYgKHNhbXBsZUxpbmVzW3NdICE9PSBjb250cm9sTGluZXNbY10pIHtcbiAgICAgICAgICAvLyBJbiBWOCwgdGhlIGZpcnN0IGxpbmUgaXMgZGVzY3JpYmluZyB0aGUgbWVzc2FnZSBidXQgb3RoZXIgVk1zIGRvbid0LlxuICAgICAgICAgIC8vIElmIHdlJ3JlIGFib3V0IHRvIHJldHVybiB0aGUgZmlyc3QgbGluZSwgYW5kIHRoZSBjb250cm9sIGlzIGFsc28gb24gdGhlIHNhbWVcbiAgICAgICAgICAvLyBsaW5lLCB0aGF0J3MgYSBwcmV0dHkgZ29vZCBpbmRpY2F0b3IgdGhhdCBvdXIgc2FtcGxlIHRocmV3IGF0IHNhbWUgbGluZSBhc1xuICAgICAgICAgIC8vIHRoZSBjb250cm9sLiBJLmUuIGJlZm9yZSB3ZSBlbnRlcmVkIHRoZSBzYW1wbGUgZnJhbWUuIFNvIHdlIGlnbm9yZSB0aGlzIHJlc3VsdC5cbiAgICAgICAgICAvLyBUaGlzIGNhbiBoYXBwZW4gaWYgeW91IHBhc3NlZCBhIGNsYXNzIHRvIGZ1bmN0aW9uIGNvbXBvbmVudCwgb3Igbm9uLWZ1bmN0aW9uLlxuICAgICAgICAgIGlmIChzICE9PSAxIHx8IGMgIT09IDEpIHtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgcy0tO1xuICAgICAgICAgICAgICBjLS07IC8vIFdlIG1heSBzdGlsbCBoYXZlIHNpbWlsYXIgaW50ZXJtZWRpYXRlIGZyYW1lcyBmcm9tIHRoZSBjb25zdHJ1Y3QgY2FsbC5cbiAgICAgICAgICAgICAgLy8gVGhlIG5leHQgb25lIHRoYXQgaXNuJ3QgdGhlIHNhbWUgc2hvdWxkIGJlIG91ciBtYXRjaCB0aG91Z2guXG5cbiAgICAgICAgICAgICAgaWYgKGMgPCAwIHx8IHNhbXBsZUxpbmVzW3NdICE9PSBjb250cm9sTGluZXNbY10pIHtcbiAgICAgICAgICAgICAgICAvLyBWOCBhZGRzIGEgXCJuZXdcIiBwcmVmaXggZm9yIG5hdGl2ZSBjbGFzc2VzLiBMZXQncyByZW1vdmUgaXQgdG8gbWFrZSBpdCBwcmV0dGllci5cbiAgICAgICAgICAgICAgICB2YXIgX2ZyYW1lID0gJ1xcbicgKyBzYW1wbGVMaW5lc1tzXS5yZXBsYWNlKCcgYXQgbmV3ICcsICcgYXQgJyk7IC8vIElmIG91ciBjb21wb25lbnQgZnJhbWUgaXMgbGFiZWxlZCBcIjxhbm9ueW1vdXM+XCJcbiAgICAgICAgICAgICAgICAvLyBidXQgd2UgaGF2ZSBhIHVzZXItcHJvdmlkZWQgXCJkaXNwbGF5TmFtZVwiXG4gICAgICAgICAgICAgICAgLy8gc3BsaWNlIGl0IGluIHRvIG1ha2UgdGhlIHN0YWNrIG1vcmUgcmVhZGFibGUuXG5cblxuICAgICAgICAgICAgICAgIGlmIChmbi5kaXNwbGF5TmFtZSAmJiBfZnJhbWUuaW5jbHVkZXMoJzxhbm9ueW1vdXM+JykpIHtcbiAgICAgICAgICAgICAgICAgIF9mcmFtZSA9IF9mcmFtZS5yZXBsYWNlKCc8YW5vbnltb3VzPicsIGZuLmRpc3BsYXlOYW1lKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRGcmFtZUNhY2hlLnNldChmbiwgX2ZyYW1lKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IC8vIFJldHVybiB0aGUgbGluZSB3ZSBmb3VuZC5cblxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9mcmFtZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSB3aGlsZSAocyA+PSAxICYmIGMgPj0gMCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0gZmluYWxseSB7XG4gICAgcmVlbnRyeSA9IGZhbHNlO1xuXG4gICAge1xuICAgICAgUmVhY3RDdXJyZW50RGlzcGF0Y2hlci5jdXJyZW50ID0gcHJldmlvdXNEaXNwYXRjaGVyO1xuICAgICAgcmVlbmFibGVMb2dzKCk7XG4gICAgfVxuXG4gICAgRXJyb3IucHJlcGFyZVN0YWNrVHJhY2UgPSBwcmV2aW91c1ByZXBhcmVTdGFja1RyYWNlO1xuICB9IC8vIEZhbGxiYWNrIHRvIGp1c3QgdXNpbmcgdGhlIG5hbWUgaWYgd2UgY291bGRuJ3QgbWFrZSBpdCB0aHJvdy5cblxuXG4gIHZhciBuYW1lID0gZm4gPyBmbi5kaXNwbGF5TmFtZSB8fCBmbi5uYW1lIDogJyc7XG4gIHZhciBzeW50aGV0aWNGcmFtZSA9IG5hbWUgPyBkZXNjcmliZUJ1aWx0SW5Db21wb25lbnRGcmFtZShuYW1lKSA6ICcnO1xuXG4gIHtcbiAgICBpZiAodHlwZW9mIGZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjb21wb25lbnRGcmFtZUNhY2hlLnNldChmbiwgc3ludGhldGljRnJhbWUpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBzeW50aGV0aWNGcmFtZTtcbn1cbmZ1bmN0aW9uIGRlc2NyaWJlRnVuY3Rpb25Db21wb25lbnRGcmFtZShmbiwgb3duZXJGbikge1xuICB7XG4gICAgcmV0dXJuIGRlc2NyaWJlTmF0aXZlQ29tcG9uZW50RnJhbWUoZm4sIGZhbHNlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzaG91bGRDb25zdHJ1Y3QoQ29tcG9uZW50KSB7XG4gIHZhciBwcm90b3R5cGUgPSBDb21wb25lbnQucHJvdG90eXBlO1xuICByZXR1cm4gISEocHJvdG90eXBlICYmIHByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50KTtcbn1cblxuZnVuY3Rpb24gZGVzY3JpYmVVbmtub3duRWxlbWVudFR5cGVGcmFtZUluREVWKHR5cGUsIG93bmVyRm4pIHtcblxuICBpZiAodHlwZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAge1xuICAgICAgcmV0dXJuIGRlc2NyaWJlTmF0aXZlQ29tcG9uZW50RnJhbWUodHlwZSwgc2hvdWxkQ29uc3RydWN0KHR5cGUpKTtcbiAgICB9XG4gIH1cblxuICBpZiAodHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKHR5cGUpO1xuICB9XG5cbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9UWVBFOlxuICAgICAgcmV0dXJuIGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKCdTdXNwZW5zZScpO1xuXG4gICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEU6XG4gICAgICByZXR1cm4gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUoJ1N1c3BlbnNlTGlzdCcpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnb2JqZWN0Jykge1xuICAgIHN3aXRjaCAodHlwZS4kJHR5cGVvZikge1xuICAgICAgY2FzZSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFOlxuICAgICAgICByZXR1cm4gZGVzY3JpYmVGdW5jdGlvbkNvbXBvbmVudEZyYW1lKHR5cGUucmVuZGVyKTtcblxuICAgICAgY2FzZSBSRUFDVF9NRU1PX1RZUEU6XG4gICAgICAgIC8vIE1lbW8gbWF5IGNvbnRhaW4gYW55IGNvbXBvbmVudCB0eXBlIHNvIHdlIHJlY3Vyc2l2ZWx5IHJlc29sdmUgaXQuXG4gICAgICAgIHJldHVybiBkZXNjcmliZVVua25vd25FbGVtZW50VHlwZUZyYW1lSW5ERVYodHlwZS50eXBlLCBvd25lckZuKTtcblxuICAgICAgY2FzZSBSRUFDVF9MQVpZX1RZUEU6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgbGF6eUNvbXBvbmVudCA9IHR5cGU7XG4gICAgICAgICAgdmFyIHBheWxvYWQgPSBsYXp5Q29tcG9uZW50Ll9wYXlsb2FkO1xuICAgICAgICAgIHZhciBpbml0ID0gbGF6eUNvbXBvbmVudC5faW5pdDtcblxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBMYXp5IG1heSBjb250YWluIGFueSBjb21wb25lbnQgdHlwZSBzbyB3ZSByZWN1cnNpdmVseSByZXNvbHZlIGl0LlxuICAgICAgICAgICAgcmV0dXJuIGRlc2NyaWJlVW5rbm93bkVsZW1lbnRUeXBlRnJhbWVJbkRFVihpbml0KHBheWxvYWQpLCBvd25lckZuKTtcbiAgICAgICAgICB9IGNhdGNoICh4KSB7fVxuICAgICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuICcnO1xufVxuXG52YXIgUmVhY3RDdXJyZW50T3duZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5SZWFjdEN1cnJlbnRPd25lcjtcbnZhciBSZWFjdERlYnVnQ3VycmVudEZyYW1lID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZTtcbnZhciBSRUFDVF9DTElFTlRfUkVGRVJFTkNFID0gU3ltYm9sLmZvcigncmVhY3QuY2xpZW50LnJlZmVyZW5jZScpO1xudmFyIHNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duO1xudmFyIHNwZWNpYWxQcm9wUmVmV2FybmluZ1Nob3duO1xudmFyIGRpZFdhcm5BYm91dFN0cmluZ1JlZnM7XG5cbntcbiAgZGlkV2FybkFib3V0U3RyaW5nUmVmcyA9IHt9O1xufVxuXG5mdW5jdGlvbiBoYXNWYWxpZFJlZihjb25maWcpIHtcbiAge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgJ3JlZicpKSB7XG4gICAgICB2YXIgZ2V0dGVyID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihjb25maWcsICdyZWYnKS5nZXQ7XG5cbiAgICAgIGlmIChnZXR0ZXIgJiYgZ2V0dGVyLmlzUmVhY3RXYXJuaW5nKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gY29uZmlnLnJlZiAhPT0gdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBoYXNWYWxpZEtleShjb25maWcpIHtcbiAge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgJ2tleScpKSB7XG4gICAgICB2YXIgZ2V0dGVyID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihjb25maWcsICdrZXknKS5nZXQ7XG5cbiAgICAgIGlmIChnZXR0ZXIgJiYgZ2V0dGVyLmlzUmVhY3RXYXJuaW5nKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gY29uZmlnLmtleSAhPT0gdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiB3YXJuSWZTdHJpbmdSZWZDYW5ub3RCZUF1dG9Db252ZXJ0ZWQoY29uZmlnLCBzZWxmKSB7XG4gIHtcbiAgICBpZiAodHlwZW9mIGNvbmZpZy5yZWYgPT09ICdzdHJpbmcnICYmIFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQgJiYgc2VsZiAmJiBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50LnN0YXRlTm9kZSAhPT0gc2VsZikge1xuICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoUmVhY3RDdXJyZW50T3duZXIuY3VycmVudC50eXBlKTtcblxuICAgICAgaWYgKCFkaWRXYXJuQWJvdXRTdHJpbmdSZWZzW2NvbXBvbmVudE5hbWVdKSB7XG4gICAgICAgIGVycm9yKCdDb21wb25lbnQgXCIlc1wiIGNvbnRhaW5zIHRoZSBzdHJpbmcgcmVmIFwiJXNcIi4gJyArICdTdXBwb3J0IGZvciBzdHJpbmcgcmVmcyB3aWxsIGJlIHJlbW92ZWQgaW4gYSBmdXR1cmUgbWFqb3IgcmVsZWFzZS4gJyArICdUaGlzIGNhc2UgY2Fubm90IGJlIGF1dG9tYXRpY2FsbHkgY29udmVydGVkIHRvIGFuIGFycm93IGZ1bmN0aW9uLiAnICsgJ1dlIGFzayB5b3UgdG8gbWFudWFsbHkgZml4IHRoaXMgY2FzZSBieSB1c2luZyB1c2VSZWYoKSBvciBjcmVhdGVSZWYoKSBpbnN0ZWFkLiAnICsgJ0xlYXJuIG1vcmUgYWJvdXQgdXNpbmcgcmVmcyBzYWZlbHkgaGVyZTogJyArICdodHRwczovL3JlYWN0anMub3JnL2xpbmsvc3RyaWN0LW1vZGUtc3RyaW5nLXJlZicsIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50LnR5cGUpLCBjb25maWcucmVmKTtcblxuICAgICAgICBkaWRXYXJuQWJvdXRTdHJpbmdSZWZzW2NvbXBvbmVudE5hbWVdID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZGVmaW5lS2V5UHJvcFdhcm5pbmdHZXR0ZXIocHJvcHMsIGRpc3BsYXlOYW1lKSB7XG4gIHtcbiAgICB2YXIgd2FybkFib3V0QWNjZXNzaW5nS2V5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCFzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93bikge1xuICAgICAgICBzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93biA9IHRydWU7XG5cbiAgICAgICAgZXJyb3IoJyVzOiBga2V5YCBpcyBub3QgYSBwcm9wLiBUcnlpbmcgdG8gYWNjZXNzIGl0IHdpbGwgcmVzdWx0ICcgKyAnaW4gYHVuZGVmaW5lZGAgYmVpbmcgcmV0dXJuZWQuIElmIHlvdSBuZWVkIHRvIGFjY2VzcyB0aGUgc2FtZSAnICsgJ3ZhbHVlIHdpdGhpbiB0aGUgY2hpbGQgY29tcG9uZW50LCB5b3Ugc2hvdWxkIHBhc3MgaXQgYXMgYSBkaWZmZXJlbnQgJyArICdwcm9wLiAoaHR0cHM6Ly9yZWFjdGpzLm9yZy9saW5rL3NwZWNpYWwtcHJvcHMpJywgZGlzcGxheU5hbWUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB3YXJuQWJvdXRBY2Nlc3NpbmdLZXkuaXNSZWFjdFdhcm5pbmcgPSB0cnVlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9wcywgJ2tleScsIHtcbiAgICAgIGdldDogd2FybkFib3V0QWNjZXNzaW5nS2V5LFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZGVmaW5lUmVmUHJvcFdhcm5pbmdHZXR0ZXIocHJvcHMsIGRpc3BsYXlOYW1lKSB7XG4gIHtcbiAgICB7XG4gICAgICB2YXIgd2FybkFib3V0QWNjZXNzaW5nUmVmID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXNwZWNpYWxQcm9wUmVmV2FybmluZ1Nob3duKSB7XG4gICAgICAgICAgc3BlY2lhbFByb3BSZWZXYXJuaW5nU2hvd24gPSB0cnVlO1xuXG4gICAgICAgICAgZXJyb3IoJyVzOiBgcmVmYCBpcyBub3QgYSBwcm9wLiBUcnlpbmcgdG8gYWNjZXNzIGl0IHdpbGwgcmVzdWx0ICcgKyAnaW4gYHVuZGVmaW5lZGAgYmVpbmcgcmV0dXJuZWQuIElmIHlvdSBuZWVkIHRvIGFjY2VzcyB0aGUgc2FtZSAnICsgJ3ZhbHVlIHdpdGhpbiB0aGUgY2hpbGQgY29tcG9uZW50LCB5b3Ugc2hvdWxkIHBhc3MgaXQgYXMgYSBkaWZmZXJlbnQgJyArICdwcm9wLiAoaHR0cHM6Ly9yZWFjdGpzLm9yZy9saW5rL3NwZWNpYWwtcHJvcHMpJywgZGlzcGxheU5hbWUpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB3YXJuQWJvdXRBY2Nlc3NpbmdSZWYuaXNSZWFjdFdhcm5pbmcgPSB0cnVlO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3BzLCAncmVmJywge1xuICAgICAgICBnZXQ6IHdhcm5BYm91dEFjY2Vzc2luZ1JlZixcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1cbi8qKlxuICogRmFjdG9yeSBtZXRob2QgdG8gY3JlYXRlIGEgbmV3IFJlYWN0IGVsZW1lbnQuIFRoaXMgbm8gbG9uZ2VyIGFkaGVyZXMgdG9cbiAqIHRoZSBjbGFzcyBwYXR0ZXJuLCBzbyBkbyBub3QgdXNlIG5ldyB0byBjYWxsIGl0LiBBbHNvLCBpbnN0YW5jZW9mIGNoZWNrXG4gKiB3aWxsIG5vdCB3b3JrLiBJbnN0ZWFkIHRlc3QgJCR0eXBlb2YgZmllbGQgYWdhaW5zdCBTeW1ib2wuZm9yKCdyZWFjdC5lbGVtZW50JykgdG8gY2hlY2tcbiAqIGlmIHNvbWV0aGluZyBpcyBhIFJlYWN0IEVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHsqfSB0eXBlXG4gKiBAcGFyYW0geyp9IHByb3BzXG4gKiBAcGFyYW0geyp9IGtleVxuICogQHBhcmFtIHtzdHJpbmd8b2JqZWN0fSByZWZcbiAqIEBwYXJhbSB7Kn0gb3duZXJcbiAqIEBwYXJhbSB7Kn0gc2VsZiBBICp0ZW1wb3JhcnkqIGhlbHBlciB0byBkZXRlY3QgcGxhY2VzIHdoZXJlIGB0aGlzYCBpc1xuICogZGlmZmVyZW50IGZyb20gdGhlIGBvd25lcmAgd2hlbiBSZWFjdC5jcmVhdGVFbGVtZW50IGlzIGNhbGxlZCwgc28gdGhhdCB3ZVxuICogY2FuIHdhcm4uIFdlIHdhbnQgdG8gZ2V0IHJpZCBvZiBvd25lciBhbmQgcmVwbGFjZSBzdHJpbmcgYHJlZmBzIHdpdGggYXJyb3dcbiAqIGZ1bmN0aW9ucywgYW5kIGFzIGxvbmcgYXMgYHRoaXNgIGFuZCBvd25lciBhcmUgdGhlIHNhbWUsIHRoZXJlIHdpbGwgYmUgbm9cbiAqIGNoYW5nZSBpbiBiZWhhdmlvci5cbiAqIEBwYXJhbSB7Kn0gc291cmNlIEFuIGFubm90YXRpb24gb2JqZWN0IChhZGRlZCBieSBhIHRyYW5zcGlsZXIgb3Igb3RoZXJ3aXNlKVxuICogaW5kaWNhdGluZyBmaWxlbmFtZSwgbGluZSBudW1iZXIsIGFuZC9vciBvdGhlciBpbmZvcm1hdGlvbi5cbiAqIEBpbnRlcm5hbFxuICovXG5cblxuZnVuY3Rpb24gUmVhY3RFbGVtZW50KHR5cGUsIGtleSwgX3JlZiwgc2VsZiwgc291cmNlLCBvd25lciwgcHJvcHMpIHtcbiAgdmFyIHJlZjtcblxuICB7XG4gICAgcmVmID0gX3JlZjtcbiAgfVxuXG4gIHZhciBlbGVtZW50O1xuXG4gIHtcbiAgICAvLyBJbiBwcm9kLCBgcmVmYCBpcyBhIHJlZ3VsYXIgcHJvcGVydHkuIEl0IHdpbGwgYmUgcmVtb3ZlZCBpbiBhXG4gICAgLy8gZnV0dXJlIHJlbGVhc2UuXG4gICAgZWxlbWVudCA9IHtcbiAgICAgIC8vIFRoaXMgdGFnIGFsbG93cyB1cyB0byB1bmlxdWVseSBpZGVudGlmeSB0aGlzIGFzIGEgUmVhY3QgRWxlbWVudFxuICAgICAgJCR0eXBlb2Y6IFJFQUNUX0VMRU1FTlRfVFlQRSxcbiAgICAgIC8vIEJ1aWx0LWluIHByb3BlcnRpZXMgdGhhdCBiZWxvbmcgb24gdGhlIGVsZW1lbnRcbiAgICAgIHR5cGU6IHR5cGUsXG4gICAgICBrZXk6IGtleSxcbiAgICAgIHJlZjogcmVmLFxuICAgICAgcHJvcHM6IHByb3BzLFxuICAgICAgLy8gUmVjb3JkIHRoZSBjb21wb25lbnQgcmVzcG9uc2libGUgZm9yIGNyZWF0aW5nIHRoaXMgZWxlbWVudC5cbiAgICAgIF9vd25lcjogb3duZXJcbiAgICB9O1xuICB9XG5cbiAge1xuICAgIC8vIFRoZSB2YWxpZGF0aW9uIGZsYWcgaXMgY3VycmVudGx5IG11dGF0aXZlLiBXZSBwdXQgaXQgb25cbiAgICAvLyBhbiBleHRlcm5hbCBiYWNraW5nIHN0b3JlIHNvIHRoYXQgd2UgY2FuIGZyZWV6ZSB0aGUgd2hvbGUgb2JqZWN0LlxuICAgIC8vIFRoaXMgY2FuIGJlIHJlcGxhY2VkIHdpdGggYSBXZWFrTWFwIG9uY2UgdGhleSBhcmUgaW1wbGVtZW50ZWQgaW5cbiAgICAvLyBjb21tb25seSB1c2VkIGRldmVsb3BtZW50IGVudmlyb25tZW50cy5cbiAgICBlbGVtZW50Ll9zdG9yZSA9IHt9OyAvLyBUbyBtYWtlIGNvbXBhcmluZyBSZWFjdEVsZW1lbnRzIGVhc2llciBmb3IgdGVzdGluZyBwdXJwb3Nlcywgd2UgbWFrZVxuICAgIC8vIHRoZSB2YWxpZGF0aW9uIGZsYWcgbm9uLWVudW1lcmFibGUgKHdoZXJlIHBvc3NpYmxlLCB3aGljaCBzaG91bGRcbiAgICAvLyBpbmNsdWRlIGV2ZXJ5IGVudmlyb25tZW50IHdlIHJ1biB0ZXN0cyBpbiksIHNvIHRoZSB0ZXN0IGZyYW1ld29ya1xuICAgIC8vIGlnbm9yZXMgaXQuXG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZWxlbWVudC5fc3RvcmUsICd2YWxpZGF0ZWQnLCB7XG4gICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiBmYWxzZVxuICAgIH0pOyAvLyBkZWJ1Z0luZm8gY29udGFpbnMgU2VydmVyIENvbXBvbmVudCBkZWJ1ZyBpbmZvcm1hdGlvbi5cblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbGVtZW50LCAnX2RlYnVnSW5mbycsIHtcbiAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IG51bGxcbiAgICB9KTtcblxuICAgIGlmIChPYmplY3QuZnJlZXplKSB7XG4gICAgICBPYmplY3QuZnJlZXplKGVsZW1lbnQucHJvcHMpO1xuICAgICAgT2JqZWN0LmZyZWV6ZShlbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZWxlbWVudDtcbn1cbnZhciBkaWRXYXJuQWJvdXRLZXlTcHJlYWQgPSB7fTtcbi8qKlxuICogaHR0cHM6Ly9naXRodWIuY29tL3JlYWN0anMvcmZjcy9wdWxsLzEwN1xuICogQHBhcmFtIHsqfSB0eXBlXG4gKiBAcGFyYW0ge29iamVjdH0gcHJvcHNcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAqL1xuXG5mdW5jdGlvbiBqc3hERVYkMSh0eXBlLCBjb25maWcsIG1heWJlS2V5LCBpc1N0YXRpY0NoaWxkcmVuLCBzb3VyY2UsIHNlbGYpIHtcbiAge1xuICAgIGlmICghaXNWYWxpZEVsZW1lbnRUeXBlKHR5cGUpKSB7XG4gICAgICAvLyBUaGlzIGlzIGFuIGludmFsaWQgZWxlbWVudCB0eXBlLlxuICAgICAgLy9cbiAgICAgIC8vIFdlIHdhcm4gaW4gdGhpcyBjYXNlIGJ1dCBkb24ndCB0aHJvdy4gV2UgZXhwZWN0IHRoZSBlbGVtZW50IGNyZWF0aW9uIHRvXG4gICAgICAvLyBzdWNjZWVkIGFuZCB0aGVyZSB3aWxsIGxpa2VseSBiZSBlcnJvcnMgaW4gcmVuZGVyLlxuICAgICAgdmFyIGluZm8gPSAnJztcblxuICAgICAgaWYgKHR5cGUgPT09IHVuZGVmaW5lZCB8fCB0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcgJiYgdHlwZSAhPT0gbnVsbCAmJiBPYmplY3Qua2V5cyh0eXBlKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgaW5mbyArPSAnIFlvdSBsaWtlbHkgZm9yZ290IHRvIGV4cG9ydCB5b3VyIGNvbXBvbmVudCBmcm9tIHRoZSBmaWxlICcgKyBcIml0J3MgZGVmaW5lZCBpbiwgb3IgeW91IG1pZ2h0IGhhdmUgbWl4ZWQgdXAgZGVmYXVsdCBhbmQgbmFtZWQgaW1wb3J0cy5cIjtcbiAgICAgIH1cblxuICAgICAgdmFyIHR5cGVTdHJpbmc7XG5cbiAgICAgIGlmICh0eXBlID09PSBudWxsKSB7XG4gICAgICAgIHR5cGVTdHJpbmcgPSAnbnVsbCc7XG4gICAgICB9IGVsc2UgaWYgKGlzQXJyYXkodHlwZSkpIHtcbiAgICAgICAgdHlwZVN0cmluZyA9ICdhcnJheSc7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgIT09IHVuZGVmaW5lZCAmJiB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9FTEVNRU5UX1RZUEUpIHtcbiAgICAgICAgdHlwZVN0cmluZyA9IFwiPFwiICsgKGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlLnR5cGUpIHx8ICdVbmtub3duJykgKyBcIiAvPlwiO1xuICAgICAgICBpbmZvID0gJyBEaWQgeW91IGFjY2lkZW50YWxseSBleHBvcnQgYSBKU1ggbGl0ZXJhbCBpbnN0ZWFkIG9mIGEgY29tcG9uZW50Pyc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0eXBlU3RyaW5nID0gdHlwZW9mIHR5cGU7XG4gICAgICB9XG5cbiAgICAgIGVycm9yKCdSZWFjdC5qc3g6IHR5cGUgaXMgaW52YWxpZCAtLSBleHBlY3RlZCBhIHN0cmluZyAoZm9yICcgKyAnYnVpbHQtaW4gY29tcG9uZW50cykgb3IgYSBjbGFzcy9mdW5jdGlvbiAoZm9yIGNvbXBvc2l0ZSAnICsgJ2NvbXBvbmVudHMpIGJ1dCBnb3Q6ICVzLiVzJywgdHlwZVN0cmluZywgaW5mbyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFRoaXMgaXMgYSB2YWxpZCBlbGVtZW50IHR5cGUuXG4gICAgICAvLyBTa2lwIGtleSB3YXJuaW5nIGlmIHRoZSB0eXBlIGlzbid0IHZhbGlkIHNpbmNlIG91ciBrZXkgdmFsaWRhdGlvbiBsb2dpY1xuICAgICAgLy8gZG9lc24ndCBleHBlY3QgYSBub24tc3RyaW5nL2Z1bmN0aW9uIHR5cGUgYW5kIGNhbiB0aHJvdyBjb25mdXNpbmdcbiAgICAgIC8vIGVycm9ycy4gV2UgZG9uJ3Qgd2FudCBleGNlcHRpb24gYmVoYXZpb3IgdG8gZGlmZmVyIGJldHdlZW4gZGV2IGFuZFxuICAgICAgLy8gcHJvZC4gKFJlbmRlcmluZyB3aWxsIHRocm93IHdpdGggYSBoZWxwZnVsIG1lc3NhZ2UgYW5kIGFzIHNvb24gYXMgdGhlXG4gICAgICAvLyB0eXBlIGlzIGZpeGVkLCB0aGUga2V5IHdhcm5pbmdzIHdpbGwgYXBwZWFyLilcbiAgICAgIHZhciBjaGlsZHJlbiA9IGNvbmZpZy5jaGlsZHJlbjtcblxuICAgICAgaWYgKGNoaWxkcmVuICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKGlzU3RhdGljQ2hpbGRyZW4pIHtcbiAgICAgICAgICBpZiAoaXNBcnJheShjaGlsZHJlbikpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgdmFsaWRhdGVDaGlsZEtleXMoY2hpbGRyZW5baV0sIHR5cGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoT2JqZWN0LmZyZWV6ZSkge1xuICAgICAgICAgICAgICBPYmplY3QuZnJlZXplKGNoaWxkcmVuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZXJyb3IoJ1JlYWN0LmpzeDogU3RhdGljIGNoaWxkcmVuIHNob3VsZCBhbHdheXMgYmUgYW4gYXJyYXkuICcgKyAnWW91IGFyZSBsaWtlbHkgZXhwbGljaXRseSBjYWxsaW5nIFJlYWN0LmpzeHMgb3IgUmVhY3QuanN4REVWLiAnICsgJ1VzZSB0aGUgQmFiZWwgdHJhbnNmb3JtIGluc3RlYWQuJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhbGlkYXRlQ2hpbGRLZXlzKGNoaWxkcmVuLCB0eXBlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gLy8gV2FybiBhYm91dCBrZXkgc3ByZWFkIHJlZ2FyZGxlc3Mgb2Ygd2hldGhlciB0aGUgdHlwZSBpcyB2YWxpZC5cblxuXG4gICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoY29uZmlnLCAna2V5JykpIHtcbiAgICAgIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUpO1xuICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhjb25maWcpLmZpbHRlcihmdW5jdGlvbiAoaykge1xuICAgICAgICByZXR1cm4gayAhPT0gJ2tleSc7XG4gICAgICB9KTtcbiAgICAgIHZhciBiZWZvcmVFeGFtcGxlID0ga2V5cy5sZW5ndGggPiAwID8gJ3trZXk6IHNvbWVLZXksICcgKyBrZXlzLmpvaW4oJzogLi4uLCAnKSArICc6IC4uLn0nIDogJ3trZXk6IHNvbWVLZXl9JztcblxuICAgICAgaWYgKCFkaWRXYXJuQWJvdXRLZXlTcHJlYWRbY29tcG9uZW50TmFtZSArIGJlZm9yZUV4YW1wbGVdKSB7XG4gICAgICAgIHZhciBhZnRlckV4YW1wbGUgPSBrZXlzLmxlbmd0aCA+IDAgPyAneycgKyBrZXlzLmpvaW4oJzogLi4uLCAnKSArICc6IC4uLn0nIDogJ3t9JztcblxuICAgICAgICBlcnJvcignQSBwcm9wcyBvYmplY3QgY29udGFpbmluZyBhIFwia2V5XCIgcHJvcCBpcyBiZWluZyBzcHJlYWQgaW50byBKU1g6XFxuJyArICcgIGxldCBwcm9wcyA9ICVzO1xcbicgKyAnICA8JXMgey4uLnByb3BzfSAvPlxcbicgKyAnUmVhY3Qga2V5cyBtdXN0IGJlIHBhc3NlZCBkaXJlY3RseSB0byBKU1ggd2l0aG91dCB1c2luZyBzcHJlYWQ6XFxuJyArICcgIGxldCBwcm9wcyA9ICVzO1xcbicgKyAnICA8JXMga2V5PXtzb21lS2V5fSB7Li4ucHJvcHN9IC8+JywgYmVmb3JlRXhhbXBsZSwgY29tcG9uZW50TmFtZSwgYWZ0ZXJFeGFtcGxlLCBjb21wb25lbnROYW1lKTtcblxuICAgICAgICBkaWRXYXJuQWJvdXRLZXlTcHJlYWRbY29tcG9uZW50TmFtZSArIGJlZm9yZUV4YW1wbGVdID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgcHJvcE5hbWU7IC8vIFJlc2VydmVkIG5hbWVzIGFyZSBleHRyYWN0ZWRcblxuICAgIHZhciBwcm9wcyA9IHt9O1xuICAgIHZhciBrZXkgPSBudWxsO1xuICAgIHZhciByZWYgPSBudWxsOyAvLyBDdXJyZW50bHksIGtleSBjYW4gYmUgc3ByZWFkIGluIGFzIGEgcHJvcC4gVGhpcyBjYXVzZXMgYSBwb3RlbnRpYWxcbiAgICAvLyBpc3N1ZSBpZiBrZXkgaXMgYWxzbyBleHBsaWNpdGx5IGRlY2xhcmVkIChpZS4gPGRpdiB7Li4ucHJvcHN9IGtleT1cIkhpXCIgLz5cbiAgICAvLyBvciA8ZGl2IGtleT1cIkhpXCIgey4uLnByb3BzfSAvPiApLiBXZSB3YW50IHRvIGRlcHJlY2F0ZSBrZXkgc3ByZWFkLFxuICAgIC8vIGJ1dCBhcyBhbiBpbnRlcm1lZGlhcnkgc3RlcCwgd2Ugd2lsbCB1c2UganN4REVWIGZvciBldmVyeXRoaW5nIGV4Y2VwdFxuICAgIC8vIDxkaXYgey4uLnByb3BzfSBrZXk9XCJIaVwiIC8+LCBiZWNhdXNlIHdlIGFyZW4ndCBjdXJyZW50bHkgYWJsZSB0byB0ZWxsIGlmXG4gICAgLy8ga2V5IGlzIGV4cGxpY2l0bHkgZGVjbGFyZWQgdG8gYmUgdW5kZWZpbmVkIG9yIG5vdC5cblxuICAgIGlmIChtYXliZUtleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB7XG4gICAgICAgIGNoZWNrS2V5U3RyaW5nQ29lcmNpb24obWF5YmVLZXkpO1xuICAgICAgfVxuXG4gICAgICBrZXkgPSAnJyArIG1heWJlS2V5O1xuICAgIH1cblxuICAgIGlmIChoYXNWYWxpZEtleShjb25maWcpKSB7XG4gICAgICB7XG4gICAgICAgIGNoZWNrS2V5U3RyaW5nQ29lcmNpb24oY29uZmlnLmtleSk7XG4gICAgICB9XG5cbiAgICAgIGtleSA9ICcnICsgY29uZmlnLmtleTtcbiAgICB9XG5cbiAgICBpZiAoaGFzVmFsaWRSZWYoY29uZmlnKSkge1xuICAgICAge1xuICAgICAgICByZWYgPSBjb25maWcucmVmO1xuICAgICAgfVxuXG4gICAgICB3YXJuSWZTdHJpbmdSZWZDYW5ub3RCZUF1dG9Db252ZXJ0ZWQoY29uZmlnLCBzZWxmKTtcbiAgICB9IC8vIFJlbWFpbmluZyBwcm9wZXJ0aWVzIGFyZSBhZGRlZCB0byBhIG5ldyBwcm9wcyBvYmplY3RcblxuXG4gICAgZm9yIChwcm9wTmFtZSBpbiBjb25maWcpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgcHJvcE5hbWUpICYmIC8vIFNraXAgb3ZlciByZXNlcnZlZCBwcm9wIG5hbWVzXG4gICAgICBwcm9wTmFtZSAhPT0gJ2tleScgJiYgKHByb3BOYW1lICE9PSAncmVmJykpIHtcbiAgICAgICAgcHJvcHNbcHJvcE5hbWVdID0gY29uZmlnW3Byb3BOYW1lXTtcbiAgICAgIH1cbiAgICB9IC8vIFJlc29sdmUgZGVmYXVsdCBwcm9wc1xuXG5cbiAgICBpZiAodHlwZSAmJiB0eXBlLmRlZmF1bHRQcm9wcykge1xuICAgICAgdmFyIGRlZmF1bHRQcm9wcyA9IHR5cGUuZGVmYXVsdFByb3BzO1xuXG4gICAgICBmb3IgKHByb3BOYW1lIGluIGRlZmF1bHRQcm9wcykge1xuICAgICAgICBpZiAocHJvcHNbcHJvcE5hbWVdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBwcm9wc1twcm9wTmFtZV0gPSBkZWZhdWx0UHJvcHNbcHJvcE5hbWVdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGtleSB8fCByZWYpIHtcbiAgICAgIHZhciBkaXNwbGF5TmFtZSA9IHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nID8gdHlwZS5kaXNwbGF5TmFtZSB8fCB0eXBlLm5hbWUgfHwgJ1Vua25vd24nIDogdHlwZTtcblxuICAgICAgaWYgKGtleSkge1xuICAgICAgICBkZWZpbmVLZXlQcm9wV2FybmluZ0dldHRlcihwcm9wcywgZGlzcGxheU5hbWUpO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVmKSB7XG4gICAgICAgIGRlZmluZVJlZlByb3BXYXJuaW5nR2V0dGVyKHByb3BzLCBkaXNwbGF5TmFtZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGVsZW1lbnQgPSBSZWFjdEVsZW1lbnQodHlwZSwga2V5LCByZWYsIHNlbGYsIHNvdXJjZSwgUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCwgcHJvcHMpO1xuXG4gICAgaWYgKHR5cGUgPT09IFJFQUNUX0ZSQUdNRU5UX1RZUEUpIHtcbiAgICAgIHZhbGlkYXRlRnJhZ21lbnRQcm9wcyhlbGVtZW50KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0oKSB7XG4gIHtcbiAgICBpZiAoUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCkge1xuICAgICAgdmFyIG5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoUmVhY3RDdXJyZW50T3duZXIuY3VycmVudC50eXBlKTtcblxuICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuICdcXG5cXG5DaGVjayB0aGUgcmVuZGVyIG1ldGhvZCBvZiBgJyArIG5hbWUgKyAnYC4nO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiAnJztcbiAgfVxufVxuLyoqXG4gKiBFbnN1cmUgdGhhdCBldmVyeSBlbGVtZW50IGVpdGhlciBpcyBwYXNzZWQgaW4gYSBzdGF0aWMgbG9jYXRpb24sIGluIGFuXG4gKiBhcnJheSB3aXRoIGFuIGV4cGxpY2l0IGtleXMgcHJvcGVydHkgZGVmaW5lZCwgb3IgaW4gYW4gb2JqZWN0IGxpdGVyYWxcbiAqIHdpdGggdmFsaWQga2V5IHByb3BlcnR5LlxuICpcbiAqIEBpbnRlcm5hbFxuICogQHBhcmFtIHtSZWFjdE5vZGV9IG5vZGUgU3RhdGljYWxseSBwYXNzZWQgY2hpbGQgb2YgYW55IHR5cGUuXG4gKiBAcGFyYW0geyp9IHBhcmVudFR5cGUgbm9kZSdzIHBhcmVudCdzIHR5cGUuXG4gKi9cblxuXG5mdW5jdGlvbiB2YWxpZGF0ZUNoaWxkS2V5cyhub2RlLCBwYXJlbnRUeXBlKSB7XG4gIHtcbiAgICBpZiAodHlwZW9mIG5vZGUgIT09ICdvYmplY3QnIHx8ICFub2RlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKG5vZGUuJCR0eXBlb2YgPT09IFJFQUNUX0NMSUVOVF9SRUZFUkVOQ0UpIDsgZWxzZSBpZiAoaXNBcnJheShub2RlKSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBjaGlsZCA9IG5vZGVbaV07XG5cbiAgICAgICAgaWYgKGlzVmFsaWRFbGVtZW50KGNoaWxkKSkge1xuICAgICAgICAgIHZhbGlkYXRlRXhwbGljaXRLZXkoY2hpbGQsIHBhcmVudFR5cGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc1ZhbGlkRWxlbWVudChub2RlKSkge1xuICAgICAgLy8gVGhpcyBlbGVtZW50IHdhcyBwYXNzZWQgaW4gYSB2YWxpZCBsb2NhdGlvbi5cbiAgICAgIGlmIChub2RlLl9zdG9yZSkge1xuICAgICAgICBub2RlLl9zdG9yZS52YWxpZGF0ZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4obm9kZSk7XG5cbiAgICAgIGlmICh0eXBlb2YgaXRlcmF0b3JGbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBFbnRyeSBpdGVyYXRvcnMgdXNlZCB0byBwcm92aWRlIGltcGxpY2l0IGtleXMsXG4gICAgICAgIC8vIGJ1dCBub3cgd2UgcHJpbnQgYSBzZXBhcmF0ZSB3YXJuaW5nIGZvciB0aGVtIGxhdGVyLlxuICAgICAgICBpZiAoaXRlcmF0b3JGbiAhPT0gbm9kZS5lbnRyaWVzKSB7XG4gICAgICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0b3JGbi5jYWxsKG5vZGUpO1xuICAgICAgICAgIHZhciBzdGVwO1xuXG4gICAgICAgICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgICAgICAgaWYgKGlzVmFsaWRFbGVtZW50KHN0ZXAudmFsdWUpKSB7XG4gICAgICAgICAgICAgIHZhbGlkYXRlRXhwbGljaXRLZXkoc3RlcC52YWx1ZSwgcGFyZW50VHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4vKipcbiAqIFZlcmlmaWVzIHRoZSBvYmplY3QgaXMgYSBSZWFjdEVsZW1lbnQuXG4gKiBTZWUgaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL3JlYWN0LWFwaS5odG1sI2lzdmFsaWRlbGVtZW50XG4gKiBAcGFyYW0gez9vYmplY3R9IG9iamVjdFxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBgb2JqZWN0YCBpcyBhIFJlYWN0RWxlbWVudC5cbiAqIEBmaW5hbFxuICovXG5cblxuZnVuY3Rpb24gaXNWYWxpZEVsZW1lbnQob2JqZWN0KSB7XG4gIHJldHVybiB0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0JyAmJiBvYmplY3QgIT09IG51bGwgJiYgb2JqZWN0LiQkdHlwZW9mID09PSBSRUFDVF9FTEVNRU5UX1RZUEU7XG59XG52YXIgb3duZXJIYXNLZXlVc2VXYXJuaW5nID0ge307XG4vKipcbiAqIFdhcm4gaWYgdGhlIGVsZW1lbnQgZG9lc24ndCBoYXZlIGFuIGV4cGxpY2l0IGtleSBhc3NpZ25lZCB0byBpdC5cbiAqIFRoaXMgZWxlbWVudCBpcyBpbiBhbiBhcnJheS4gVGhlIGFycmF5IGNvdWxkIGdyb3cgYW5kIHNocmluayBvciBiZVxuICogcmVvcmRlcmVkLiBBbGwgY2hpbGRyZW4gdGhhdCBoYXZlbid0IGFscmVhZHkgYmVlbiB2YWxpZGF0ZWQgYXJlIHJlcXVpcmVkIHRvXG4gKiBoYXZlIGEgXCJrZXlcIiBwcm9wZXJ0eSBhc3NpZ25lZCB0byBpdC4gRXJyb3Igc3RhdHVzZXMgYXJlIGNhY2hlZCBzbyBhIHdhcm5pbmdcbiAqIHdpbGwgb25seSBiZSBzaG93biBvbmNlLlxuICpcbiAqIEBpbnRlcm5hbFxuICogQHBhcmFtIHtSZWFjdEVsZW1lbnR9IGVsZW1lbnQgRWxlbWVudCB0aGF0IHJlcXVpcmVzIGEga2V5LlxuICogQHBhcmFtIHsqfSBwYXJlbnRUeXBlIGVsZW1lbnQncyBwYXJlbnQncyB0eXBlLlxuICovXG5cbmZ1bmN0aW9uIHZhbGlkYXRlRXhwbGljaXRLZXkoZWxlbWVudCwgcGFyZW50VHlwZSkge1xuICB7XG4gICAgaWYgKCFlbGVtZW50Ll9zdG9yZSB8fCBlbGVtZW50Ll9zdG9yZS52YWxpZGF0ZWQgfHwgZWxlbWVudC5rZXkgIT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGVsZW1lbnQuX3N0b3JlLnZhbGlkYXRlZCA9IHRydWU7XG4gICAgdmFyIGN1cnJlbnRDb21wb25lbnRFcnJvckluZm8gPSBnZXRDdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvKHBhcmVudFR5cGUpO1xuXG4gICAgaWYgKG93bmVySGFzS2V5VXNlV2FybmluZ1tjdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvXSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG93bmVySGFzS2V5VXNlV2FybmluZ1tjdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvXSA9IHRydWU7IC8vIFVzdWFsbHkgdGhlIGN1cnJlbnQgb3duZXIgaXMgdGhlIG9mZmVuZGVyLCBidXQgaWYgaXQgYWNjZXB0cyBjaGlsZHJlbiBhcyBhXG4gICAgLy8gcHJvcGVydHksIGl0IG1heSBiZSB0aGUgY3JlYXRvciBvZiB0aGUgY2hpbGQgdGhhdCdzIHJlc3BvbnNpYmxlIGZvclxuICAgIC8vIGFzc2lnbmluZyBpdCBhIGtleS5cblxuICAgIHZhciBjaGlsZE93bmVyID0gJyc7XG5cbiAgICBpZiAoZWxlbWVudCAmJiBlbGVtZW50Ll9vd25lciAmJiBlbGVtZW50Ll9vd25lciAhPT0gUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCkge1xuICAgICAgLy8gR2l2ZSB0aGUgY29tcG9uZW50IHRoYXQgb3JpZ2luYWxseSBjcmVhdGVkIHRoaXMgY2hpbGQuXG4gICAgICBjaGlsZE93bmVyID0gXCIgSXQgd2FzIHBhc3NlZCBhIGNoaWxkIGZyb20gXCIgKyBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoZWxlbWVudC5fb3duZXIudHlwZSkgKyBcIi5cIjtcbiAgICB9XG5cbiAgICBzZXRDdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudChlbGVtZW50KTtcblxuICAgIGVycm9yKCdFYWNoIGNoaWxkIGluIGEgbGlzdCBzaG91bGQgaGF2ZSBhIHVuaXF1ZSBcImtleVwiIHByb3AuJyArICclcyVzIFNlZSBodHRwczovL3JlYWN0anMub3JnL2xpbmsvd2FybmluZy1rZXlzIGZvciBtb3JlIGluZm9ybWF0aW9uLicsIGN1cnJlbnRDb21wb25lbnRFcnJvckluZm8sIGNoaWxkT3duZXIpO1xuXG4gICAgc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQobnVsbCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQoZWxlbWVudCkge1xuICB7XG4gICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgIHZhciBvd25lciA9IGVsZW1lbnQuX293bmVyO1xuICAgICAgdmFyIHN0YWNrID0gZGVzY3JpYmVVbmtub3duRWxlbWVudFR5cGVGcmFtZUluREVWKGVsZW1lbnQudHlwZSwgb3duZXIgPyBvd25lci50eXBlIDogbnVsbCk7XG4gICAgICBSZWFjdERlYnVnQ3VycmVudEZyYW1lLnNldEV4dHJhU3RhY2tGcmFtZShzdGFjayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIFJlYWN0RGVidWdDdXJyZW50RnJhbWUuc2V0RXh0cmFTdGFja0ZyYW1lKG51bGwpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRDdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvKHBhcmVudFR5cGUpIHtcbiAge1xuICAgIHZhciBpbmZvID0gZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKCk7XG5cbiAgICBpZiAoIWluZm8pIHtcbiAgICAgIHZhciBwYXJlbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHBhcmVudFR5cGUpO1xuXG4gICAgICBpZiAocGFyZW50TmFtZSkge1xuICAgICAgICBpbmZvID0gXCJcXG5cXG5DaGVjayB0aGUgdG9wLWxldmVsIHJlbmRlciBjYWxsIHVzaW5nIDxcIiArIHBhcmVudE5hbWUgKyBcIj4uXCI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGluZm87XG4gIH1cbn1cbi8qKlxuICogR2l2ZW4gYSBmcmFnbWVudCwgdmFsaWRhdGUgdGhhdCBpdCBjYW4gb25seSBiZSBwcm92aWRlZCB3aXRoIGZyYWdtZW50IHByb3BzXG4gKiBAcGFyYW0ge1JlYWN0RWxlbWVudH0gZnJhZ21lbnRcbiAqL1xuXG5cbmZ1bmN0aW9uIHZhbGlkYXRlRnJhZ21lbnRQcm9wcyhmcmFnbWVudCkge1xuICAvLyBUT0RPOiBNb3ZlIHRoaXMgdG8gcmVuZGVyIHBoYXNlIGluc3RlYWQgb2YgYXQgZWxlbWVudCBjcmVhdGlvbi5cbiAge1xuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoZnJhZ21lbnQucHJvcHMpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIga2V5ID0ga2V5c1tpXTtcblxuICAgICAgaWYgKGtleSAhPT0gJ2NoaWxkcmVuJyAmJiBrZXkgIT09ICdrZXknKSB7XG4gICAgICAgIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50KGZyYWdtZW50KTtcblxuICAgICAgICBlcnJvcignSW52YWxpZCBwcm9wIGAlc2Agc3VwcGxpZWQgdG8gYFJlYWN0LkZyYWdtZW50YC4gJyArICdSZWFjdC5GcmFnbWVudCBjYW4gb25seSBoYXZlIGBrZXlgIGFuZCBgY2hpbGRyZW5gIHByb3BzLicsIGtleSk7XG5cbiAgICAgICAgc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQobnVsbCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChmcmFnbWVudC5yZWYgIT09IG51bGwpIHtcbiAgICAgIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50KGZyYWdtZW50KTtcblxuICAgICAgZXJyb3IoJ0ludmFsaWQgYXR0cmlidXRlIGByZWZgIHN1cHBsaWVkIHRvIGBSZWFjdC5GcmFnbWVudGAuJyk7XG5cbiAgICAgIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50KG51bGwpO1xuICAgIH1cbiAgfVxufVxuXG52YXIganN4REVWID0ganN4REVWJDEgO1xuXG5leHBvcnRzLkZyYWdtZW50ID0gUkVBQ1RfRlJBR01FTlRfVFlQRTtcbmV4cG9ydHMuanN4REVWID0ganN4REVWO1xuICB9KSgpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js":
/*!******************************************************************!*\
  !*** ./node_modules/next/dist/compiled/react/jsx-dev-runtime.js ***!
  \******************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\n\nif (false) {} else {\n  module.exports = __webpack_require__(/*! ./cjs/react-jsx-dev-runtime.development.js */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/cjs/react-jsx-dev-runtime.development.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvY29tcGlsZWQvcmVhY3QvanN4LWRldi1ydW50aW1lLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLElBQUksS0FBcUMsRUFBRSxFQUUxQyxDQUFDO0FBQ0YsRUFBRSw4TEFBc0U7QUFDeEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jb21waWxlZC9yZWFjdC9qc3gtZGV2LXJ1bnRpbWUuanM/ZjM1NyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtanN4LWRldi1ydW50aW1lLnByb2R1Y3Rpb24ubWluLmpzJyk7XG59IGVsc2Uge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3JlYWN0LWpzeC1kZXYtcnVudGltZS5kZXZlbG9wbWVudC5qcycpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\n"));

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }
/******/ __webpack_require__.O(0, ["main-app"], function() { return __webpack_exec__("(app-pages-browser)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?modules=%7B%22request%22%3A%22%2FUsers%2Fwju99%2Fappdo%2Finterview%2Freprally%2Fapp%2Fglobals.css%22%2C%22ids%22%3A%5B%5D%7D&modules=%7B%22request%22%3A%22%2FUsers%2Fwju99%2Fappdo%2Finterview%2Freprally%2Fcomponents%2Fproviders%2FPostHogClientProvider.tsx%22%2C%22ids%22%3A%5B%22PostHogClientProvider%22%5D%7D&server=false!"); });
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ _N_E = __webpack_exports__;
/******/ }
]);